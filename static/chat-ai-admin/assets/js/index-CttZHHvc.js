import{b as k,d as h,dF as E}from"../../index-cxyImiCC.js";import{a3 as v,b as D,d as I,N as b,O as d,j as l,U as f,F as q,a1 as B,S as g,Z as $,_ as S,u as w,a7 as u,k as r,e as O,X as a}from"./vue-chunks-BRsu9_To.js";import{_ as A,M as L}from"./index-a5CRcGn1.js";import{U as N}from"./UserOutlined-CiuqQcv0.js";import{u as R}from"./database-D7EIbk2c.js";import{_ as F,A as K}from"./add-data-sheet-CjXPZeNS.js";import{E as U}from"./EditOutlined-BNhDlWA9.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-D4VoL-rm.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-BIg0O54V.js";import"./index-C1v761o8.js";import"./index-BOWsK1hB.js";import"./colors-Bqf3aqGo.js";import"./index-Da8Pue-E.js";import"./index-CCDGpMly.js";import"./isPlainObject-DrXJvb2e.js";import"./responsiveObserve-B6KSku6j.js";import"./QuestionCircleOutlined-D8I4E84A.js";import"./FormItemContext-DxcOuH88.js";import"./index-CAqTjfbp.js";import"./Input-QJtsuZ9z.js";import"./index-RaQogq10.js";import"./inputProps-CagQqpwA.js";import"./Search-DAvLSsyP.js";import"./SearchOutlined-CgcM1Nba.js";import"./TextArea-BJCvjKgG.js";import"./Password-ChWVeqFJ.js";const V={class:"left-menu-box"},j={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:s}){const o=s,t=v(),c=t.query,n=D(()=>[t.path.split("/")[3]]),p=I([{key:"field-manage",id:"field-manage",icon:()=>r("span",{},[r(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>r("span",{},[r(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"},{key:"role-permission",id:"role-permission",icon:()=>r("span",{},[r(N)]),label:"权限管理",title:"权限管理",path:"/database/details/role-permission"}]),_=({item:m})=>{n.value.includes(m.id)||o("changeMenu",m)};return(m,y)=>{const x=A,M=u("router-link"),C=L;return d(),b("div",V,[l(C,{class:"left-menu",selectedKeys:n.value,onClick:_},{default:f(()=>[(d(!0),b(q,null,B(p.value,i=>(d(),g(M,{class:"default-color",to:{path:i.path,query:w(c)},key:i.key},{default:f(()=>[(d(),g(x,{icon:i.icon,path:i.path,key:i.key},{default:f(()=>[$(S(i.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},P=k(j,[["__scopeId","data-v-45f9757a"]]),T=O({components:{LeftMenus:P,AddDataSheet:K,EditOutlined:U},async beforeRouteEnter(e,s,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=R(),o=v().query,t=D(()=>e.databaseInfo),c=()=>{e.getDatabaseInfo({id:o.form_id})};c();const n=I(null);return{dataBaseInfo:t,getInfo:c,toEdit:()=>{n.value.show({...e.databaseInfo})},addDataSheetRef:n}}}),X={class:"details-library-page"},Z={class:"between-content-box"},z={class:"layout-left"},G={class:"library-name-box"},H={class:"name"},J={class:"left-menu-box"},Q={class:"right-content-box"};function W(e,s,o,t,c,n){const p=h,_=u("LeftMenus"),m=u("router-view"),y=u("AddDataSheet");return d(),b("div",X,[a("div",Z,[a("div",z,[a("div",G,[s[0]||(s[0]=a("img",{class:"avatar",src:F,alt:""},null,-1)),a("div",H,S(e.dataBaseInfo.name),1),l(p,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",J,[l(_)])]),a("div",Q,[l(m)])]),l(y,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const we=k(T,[["render",W],["__scopeId","data-v-5c3af201"]]);export{we as default};
