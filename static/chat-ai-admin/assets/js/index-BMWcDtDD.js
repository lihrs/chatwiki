var Nn=Object.defineProperty;var Ln=(a,r,i)=>r in a?Nn(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i;var nt=(a,r,i)=>Ln(a,typeof r!="symbol"?r+"":r,i);import{j as C,d as X,N as tt,O as Q,B as sn,X as m,a6 as Ct,V as $t,_ as at,U as R,q as xn,a3 as Un,a8 as Rt,w as mt,z as kt,u as ot,Z as G,W as Ee,S as St,G as Et,b as gt,a2 as Dn,F as Ae,a1 as Fn,a5 as Vt,p as qn,a9 as On}from"./vue-chunks-BRsu9_To.js";import{u as Tt}from"./robot-BYhfC7bx.js";import{I as Vn,b as st,aB as Hn,d as he,as as jn,B as It,M as Be,k as ct,E as zn,bu as an}from"../../index-cxyImiCC.js";import{M as Kn}from"./index-a5CRcGn1.js";import{n as Jn,o as Yn,p as Wn,u as Qn,q as Gn,t as ln}from"./index-wira7xGQ.js";import{u as cn}from"./index-DMYuJVS1.js";import{C as un}from"./cu-upload-D0h17YxN.js";import"./index-CAqTjfbp.js";import{I as Mt}from"./Input-QJtsuZ9z.js";import{i as Xn}from"./validate-8MtiUsxW.js";import{d as Zn}from"./vuedraggable.umd-CIIT_a56.js";import{F as At,_ as ge}from"./index-CCDGpMly.js";import{E as to}from"./EditOutlined-BNhDlWA9.js";import{Q as dn}from"./QuestionCircleOutlined-D8I4E84A.js";import"./index-BSe19Kds.js";import{_ as pn,R as fn}from"./RadioButton--sba9w9Z.js";import{_ as hn}from"./index-C8xX3B7h.js";import{_ as eo}from"./index-DUw-mQ04.js";import{_ as gn}from"./TextArea-BJCvjKgG.js";import{S as me,a as ve}from"./index-CMui0cQS.js";import{_ as no}from"./index-BOWsK1hB.js";import{R as oo}from"./RightOutlined-Cudbm4ZU.js";import{P as ro}from"./PlusOutlined-BDVmv0Jd.js";import{_ as io}from"./index-bnAoox08.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-D4VoL-rm.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-BIg0O54V.js";import"./index-C1v761o8.js";import"./FormItemContext-DxcOuH88.js";import"./index-RaQogq10.js";import"./Search-DAvLSsyP.js";import"./SearchOutlined-CgcM1Nba.js";import"./isPlainObject-DrXJvb2e.js";import"./inputProps-CagQqpwA.js";import"./Password-ChWVeqFJ.js";import"./responsiveObserve-B6KSku6j.js";import"./Checkbox-IGl1kIcw.js";import"./colors-Bqf3aqGo.js";import"./CheckOutlined-BrEoPWP_.js";import"./DownOutlined-C777h06g.js";import"./move-C9aWeHI-.js";import"./UpOutlined-COOL_6kI.js";var so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"};function $e(a){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(e){ao(a,e,i[e])})}return a}function ao(a,r,i){return r in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i,a}var _e=function(r,i){var n=$e({},r,i.attrs);return C(Vn,$e({},n,{icon:so}),null)};_e.displayName="MessageOutlined";_e.inheritAttrs=!1;const lo={class:"top-menu-box"},co={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(a,{emit:r}){const i=r,e=X([a.value]),t=X([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"}]),s=({item:u})=>{e.value.includes(u.id)||(i("update:value",u.id),i("change",u))};return(u,l)=>{const b=Kn;return Q(),tt("div",lo,[C(b,{class:"top-menu",items:t.value,selectedKeys:e.value,"onUpdate:selectedKeys":l[0]||(l[0]=A=>e.value=A),mode:"horizontal",onClick:s},null,8,["items","selectedKeys"])])}}},uo=st(co,[["__scopeId","data-v-4ee5ac98"]]);var ht={},Ht,Pe;function po(){return Pe||(Pe=1,Ht=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ht}var jt={},lt={},Re;function ut(){if(Re)return lt;Re=1;let a;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return lt.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},lt.getSymbolTotalCodewords=function(n){return r[n]},lt.getBCHDigit=function(i){let n=0;for(;i!==0;)n++,i>>>=1;return n},lt.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');a=n},lt.isKanjiModeEnabled=function(){return typeof a<"u"},lt.toSJIS=function(n){return a(n)},lt}var zt={},Te;function ye(){return Te||(Te=1,function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+i)}}a.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},a.from=function(n,e){if(a.isValid(n))return n;try{return r(n)}catch{return e}}}(zt)),zt}var Kt,Ie;function fo(){if(Ie)return Kt;Ie=1;function a(){this.buffer=[],this.length=0}return a.prototype={get:function(r){const i=Math.floor(r/8);return(this.buffer[i]>>>7-r%8&1)===1},put:function(r,i){for(let n=0;n<i;n++)this.putBit((r>>>i-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),r&&(this.buffer[i]|=128>>>this.length%8),this.length++}},Kt=a,Kt}var Jt,Me;function ho(){if(Me)return Jt;Me=1;function a(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}return a.prototype.set=function(r,i,n,e){const t=r*this.size+i;this.data[t]=n,e&&(this.reservedBit[t]=!0)},a.prototype.get=function(r,i){return this.data[r*this.size+i]},a.prototype.xor=function(r,i,n){this.data[r*this.size+i]^=n},a.prototype.isReserved=function(r,i){return this.reservedBit[r*this.size+i]},Jt=a,Jt}var Yt={},Ne;function go(){return Ne||(Ne=1,function(a){const r=ut().getSymbolSize;a.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=r(n),s=t===145?26:Math.ceil((t-13)/(2*e-2))*2,u=[t-7];for(let l=1;l<e-1;l++)u[l]=u[l-1]-s;return u.push(6),u.reverse()},a.getPositions=function(n){const e=[],t=a.getRowColCoords(n),s=t.length;for(let u=0;u<s;u++)for(let l=0;l<s;l++)u===0&&l===0||u===0&&l===s-1||u===s-1&&l===0||e.push([t[u],t[l]]);return e}}(Yt)),Yt}var Wt={},Le;function mo(){if(Le)return Wt;Le=1;const a=ut().getSymbolSize,r=7;return Wt.getPositions=function(n){const e=a(n);return[[0,0],[e-r,0],[0,e-r]]},Wt}var Qt={},xe;function vo(){return xe||(xe=1,function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};a.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},a.from=function(e){return a.isValid(e)?parseInt(e,10):void 0},a.getPenaltyN1=function(e){const t=e.size;let s=0,u=0,l=0,b=null,A=null;for(let v=0;v<t;v++){u=l=0,b=A=null;for(let E=0;E<t;E++){let k=e.get(v,E);k===b?u++:(u>=5&&(s+=r.N1+(u-5)),b=k,u=1),k=e.get(E,v),k===A?l++:(l>=5&&(s+=r.N1+(l-5)),A=k,l=1)}u>=5&&(s+=r.N1+(u-5)),l>=5&&(s+=r.N1+(l-5))}return s},a.getPenaltyN2=function(e){const t=e.size;let s=0;for(let u=0;u<t-1;u++)for(let l=0;l<t-1;l++){const b=e.get(u,l)+e.get(u,l+1)+e.get(u+1,l)+e.get(u+1,l+1);(b===4||b===0)&&s++}return s*r.N2},a.getPenaltyN3=function(e){const t=e.size;let s=0,u=0,l=0;for(let b=0;b<t;b++){u=l=0;for(let A=0;A<t;A++)u=u<<1&2047|e.get(b,A),A>=10&&(u===1488||u===93)&&s++,l=l<<1&2047|e.get(A,b),A>=10&&(l===1488||l===93)&&s++}return s*r.N3},a.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let l=0;l<s;l++)t+=e.data[l];return Math.abs(Math.ceil(t*100/s/5)-10)*r.N4};function i(n,e,t){switch(n){case a.Patterns.PATTERN000:return(e+t)%2===0;case a.Patterns.PATTERN001:return e%2===0;case a.Patterns.PATTERN010:return t%3===0;case a.Patterns.PATTERN011:return(e+t)%3===0;case a.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case a.Patterns.PATTERN101:return e*t%2+e*t%3===0;case a.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case a.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}a.applyMask=function(e,t){const s=t.size;for(let u=0;u<s;u++)for(let l=0;l<s;l++)t.isReserved(l,u)||t.xor(l,u,i(e,l,u))},a.getBestMask=function(e,t){const s=Object.keys(a.Patterns).length;let u=0,l=1/0;for(let b=0;b<s;b++){t(b),a.applyMask(b,e);const A=a.getPenaltyN1(e)+a.getPenaltyN2(e)+a.getPenaltyN3(e)+a.getPenaltyN4(e);a.applyMask(b,e),A<l&&(l=A,u=b)}return u}}(Qt)),Qt}var Pt={},Ue;function mn(){if(Ue)return Pt;Ue=1;const a=ye(),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pt.getBlocksCount=function(e,t){switch(t){case a.L:return r[(e-1)*4+0];case a.M:return r[(e-1)*4+1];case a.Q:return r[(e-1)*4+2];case a.H:return r[(e-1)*4+3];default:return}},Pt.getTotalCodewordsCount=function(e,t){switch(t){case a.L:return i[(e-1)*4+0];case a.M:return i[(e-1)*4+1];case a.Q:return i[(e-1)*4+2];case a.H:return i[(e-1)*4+3];default:return}},Pt}var Gt={},wt={},De;function _o(){if(De)return wt;De=1;const a=new Uint8Array(512),r=new Uint8Array(256);return function(){let n=1;for(let e=0;e<255;e++)a[e]=n,r[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)a[e]=a[e-255]}(),wt.log=function(n){if(n<1)throw new Error("log("+n+")");return r[n]},wt.exp=function(n){return a[n]},wt.mul=function(n,e){return n===0||e===0?0:a[r[n]+r[e]]},wt}var Fe;function yo(){return Fe||(Fe=1,function(a){const r=_o();a.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let s=0;s<n.length;s++)for(let u=0;u<e.length;u++)t[s+u]^=r.mul(n[s],e[u]);return t},a.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const s=t[0];for(let l=0;l<e.length;l++)t[l]^=r.mul(e[l],s);let u=0;for(;u<t.length&&t[u]===0;)u++;t=t.slice(u)}return t},a.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=a.mul(e,new Uint8Array([1,r.exp(t)]));return e}}(Gt)),Gt}var Xt,qe;function bo(){if(qe)return Xt;qe=1;const a=yo();function r(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return r.prototype.initialize=function(n){this.degree=n,this.genPoly=a.generateECPolynomial(this.degree)},r.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=a.mod(e,this.genPoly),s=this.degree-t.length;if(s>0){const u=new Uint8Array(this.degree);return u.set(t,s),u}return t},Xt=r,Xt}var Zt={},te={},ee={},Oe;function vn(){return Oe||(Oe=1,ee.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}),ee}var it={},Ve;function _n(){if(Ve)return it;Ve=1;const a="[0-9]+",r="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;it.KANJI=new RegExp(i,"g"),it.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),it.BYTE=new RegExp(n,"g"),it.NUMERIC=new RegExp(a,"g"),it.ALPHANUMERIC=new RegExp(r,"g");const e=new RegExp("^"+i+"$"),t=new RegExp("^"+a+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return it.testKanji=function(l){return e.test(l)},it.testNumeric=function(l){return t.test(l)},it.testAlphanumeric=function(l){return s.test(l)},it}var He;function dt(){return He||(He=1,function(a){const r=vn(),i=_n();a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(t,s){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?t.ccBits[0]:s<27?t.ccBits[1]:t.ccBits[2]},a.getBestModeForData=function(t){return i.testNumeric(t)?a.NUMERIC:i.testAlphanumeric(t)?a.ALPHANUMERIC:i.testKanji(t)?a.KANJI:a.BYTE},a.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},a.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+e)}}a.from=function(t,s){if(a.isValid(t))return t;try{return n(t)}catch{return s}}}(te)),te}var je;function wo(){return je||(je=1,function(a){const r=ut(),i=mn(),n=ye(),e=dt(),t=vn(),s=7973,u=r.getBCHDigit(s);function l(E,k,B){for(let V=1;V<=40;V++)if(k<=a.getCapacity(V,B,E))return V}function b(E,k){return e.getCharCountIndicator(E,k)+4}function A(E,k){let B=0;return E.forEach(function(V){const T=b(V.mode,k);B+=T+V.getBitsLength()}),B}function v(E,k){for(let B=1;B<=40;B++)if(A(E,B)<=a.getCapacity(B,k,e.MIXED))return B}a.from=function(k,B){return t.isValid(k)?parseInt(k,10):B},a.getCapacity=function(k,B,V){if(!t.isValid(k))throw new Error("Invalid QR Code version");typeof V>"u"&&(V=e.BYTE);const T=r.getSymbolTotalCodewords(k),$=i.getTotalCodewordsCount(k,B),j=(T-$)*8;if(V===e.MIXED)return j;const U=j-b(V,k);switch(V){case e.NUMERIC:return Math.floor(U/10*3);case e.ALPHANUMERIC:return Math.floor(U/11*2);case e.KANJI:return Math.floor(U/13);case e.BYTE:default:return Math.floor(U/8)}},a.getBestVersionForData=function(k,B){let V;const T=n.from(B,n.M);if(Array.isArray(k)){if(k.length>1)return v(k,T);if(k.length===0)return 1;V=k[0]}else V=k;return l(V.mode,V.getLength(),T)},a.getEncodedBits=function(k){if(!t.isValid(k)||k<7)throw new Error("Invalid QR Code version");let B=k<<12;for(;r.getBCHDigit(B)-u>=0;)B^=s<<r.getBCHDigit(B)-u;return k<<12|B}}(Zt)),Zt}var ne={},ze;function Co(){if(ze)return ne;ze=1;const a=ut(),r=1335,i=21522,n=a.getBCHDigit(r);return ne.getEncodedBits=function(t,s){const u=t.bit<<3|s;let l=u<<10;for(;a.getBCHDigit(l)-n>=0;)l^=r<<a.getBCHDigit(l)-n;return(u<<10|l)^i},ne}var oe={},re,Ke;function ko(){if(Ke)return re;Ke=1;const a=dt();function r(i){this.mode=a.NUMERIC,this.data=i.toString()}return r.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let e,t,s;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),s=parseInt(t,10),n.put(s,10);const u=this.data.length-e;u>0&&(t=this.data.substr(e),s=parseInt(t,10),n.put(s,u*3+1))},re=r,re}var ie,Je;function So(){if(Je)return ie;Je=1;const a=dt(),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(n){this.mode=a.ALPHANUMERIC,this.data=n}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=r.indexOf(this.data[t])*45;s+=r.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},ie=i,ie}var se,Ye;function Eo(){if(Ye)return se;Ye=1;const a=dt();function r(i){this.mode=a.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return r.getBitsLength=function(n){return n*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){for(let n=0,e=this.data.length;n<e;n++)i.put(this.data[n],8)},se=r,se}var ae,We;function Ao(){if(We)return ae;We=1;const a=dt(),r=ut();function i(n){this.mode=a.KANJI,this.data=n}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=r.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},ae=i,ae}var le={exports:{}},Qe;function Bo(){return Qe||(Qe=1,function(a){var r={single_source_shortest_paths:function(i,n,e){var t={},s={};s[n]=0;var u=r.PriorityQueue.make();u.push(n,0);for(var l,b,A,v,E,k,B,V,T;!u.empty();){l=u.pop(),b=l.value,v=l.cost,E=i[b]||{};for(A in E)E.hasOwnProperty(A)&&(k=E[A],B=v+k,V=s[A],T=typeof s[A]>"u",(T||V>B)&&(s[A]=B,u.push(A,B),t[A]=b))}if(typeof e<"u"&&typeof s[e]>"u"){var $=["Could not find a path from ",n," to ",e,"."].join("");throw new Error($)}return t},extract_shortest_path_from_predecessor_list:function(i,n){for(var e=[],t=n;t;)e.push(t),i[t],t=i[t];return e.reverse(),e},find_path:function(i,n,e){var t=r.single_source_shortest_paths(i,n,e);return r.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(i){var n=r.PriorityQueue,e={},t;i=i||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=i.sorter||n.default_sorter,e},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var e={value:i,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};a.exports=r}(le)),le.exports}var Ge;function $o(){return Ge||(Ge=1,function(a){const r=dt(),i=ko(),n=So(),e=Eo(),t=Ao(),s=_n(),u=ut(),l=Bo();function b($){return unescape(encodeURIComponent($)).length}function A($,j,U){const F=[];let Y;for(;(Y=$.exec(U))!==null;)F.push({data:Y[0],index:Y.index,mode:j,length:Y[0].length});return F}function v($){const j=A(s.NUMERIC,r.NUMERIC,$),U=A(s.ALPHANUMERIC,r.ALPHANUMERIC,$);let F,Y;return u.isKanjiModeEnabled()?(F=A(s.BYTE,r.BYTE,$),Y=A(s.KANJI,r.KANJI,$)):(F=A(s.BYTE_KANJI,r.BYTE,$),Y=[]),j.concat(U,F,Y).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function E($,j){switch(j){case r.NUMERIC:return i.getBitsLength($);case r.ALPHANUMERIC:return n.getBitsLength($);case r.KANJI:return t.getBitsLength($);case r.BYTE:return e.getBitsLength($)}}function k($){return $.reduce(function(j,U){const F=j.length-1>=0?j[j.length-1]:null;return F&&F.mode===U.mode?(j[j.length-1].data+=U.data,j):(j.push(U),j)},[])}function B($){const j=[];for(let U=0;U<$.length;U++){const F=$[U];switch(F.mode){case r.NUMERIC:j.push([F,{data:F.data,mode:r.ALPHANUMERIC,length:F.length},{data:F.data,mode:r.BYTE,length:F.length}]);break;case r.ALPHANUMERIC:j.push([F,{data:F.data,mode:r.BYTE,length:F.length}]);break;case r.KANJI:j.push([F,{data:F.data,mode:r.BYTE,length:b(F.data)}]);break;case r.BYTE:j.push([{data:F.data,mode:r.BYTE,length:b(F.data)}])}}return j}function V($,j){const U={},F={start:{}};let Y=["start"];for(let M=0;M<$.length;M++){const D=$[M],L=[];for(let P=0;P<D.length;P++){const w=D[P],p=""+M+P;L.push(p),U[p]={node:w,lastCount:0},F[p]={};for(let x=0;x<Y.length;x++){const I=Y[x];U[I]&&U[I].node.mode===w.mode?(F[I][p]=E(U[I].lastCount+w.length,w.mode)-E(U[I].lastCount,w.mode),U[I].lastCount+=w.length):(U[I]&&(U[I].lastCount=w.length),F[I][p]=E(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,j))}}Y=L}for(let M=0;M<Y.length;M++)F[Y[M]].end=0;return{map:F,table:U}}function T($,j){let U;const F=r.getBestModeForData($);if(U=r.from(j,F),U!==r.BYTE&&U.bit<F.bit)throw new Error('"'+$+'" cannot be encoded with mode '+r.toString(U)+`.
 Suggested mode is: `+r.toString(F));switch(U===r.KANJI&&!u.isKanjiModeEnabled()&&(U=r.BYTE),U){case r.NUMERIC:return new i($);case r.ALPHANUMERIC:return new n($);case r.KANJI:return new t($);case r.BYTE:return new e($)}}a.fromArray=function(j){return j.reduce(function(U,F){return typeof F=="string"?U.push(T(F,null)):F.data&&U.push(T(F.data,F.mode)),U},[])},a.fromString=function(j,U){const F=v(j,u.isKanjiModeEnabled()),Y=B(F),M=V(Y,U),D=l.find_path(M.map,"start","end"),L=[];for(let P=1;P<D.length-1;P++)L.push(M.table[D[P]].node);return a.fromArray(k(L))},a.rawSplit=function(j){return a.fromArray(v(j,u.isKanjiModeEnabled()))}}(oe)),oe}var Xe;function Po(){if(Xe)return jt;Xe=1;const a=ut(),r=ye(),i=fo(),n=ho(),e=go(),t=mo(),s=vo(),u=mn(),l=bo(),b=wo(),A=Co(),v=dt(),E=$o();function k(M,D){const L=M.size,P=t.getPositions(D);for(let w=0;w<P.length;w++){const p=P[w][0],x=P[w][1];for(let I=-1;I<=7;I++)if(!(p+I<=-1||L<=p+I))for(let H=-1;H<=7;H++)x+H<=-1||L<=x+H||(I>=0&&I<=6&&(H===0||H===6)||H>=0&&H<=6&&(I===0||I===6)||I>=2&&I<=4&&H>=2&&H<=4?M.set(p+I,x+H,!0,!0):M.set(p+I,x+H,!1,!0))}}function B(M){const D=M.size;for(let L=8;L<D-8;L++){const P=L%2===0;M.set(L,6,P,!0),M.set(6,L,P,!0)}}function V(M,D){const L=e.getPositions(D);for(let P=0;P<L.length;P++){const w=L[P][0],p=L[P][1];for(let x=-2;x<=2;x++)for(let I=-2;I<=2;I++)x===-2||x===2||I===-2||I===2||x===0&&I===0?M.set(w+x,p+I,!0,!0):M.set(w+x,p+I,!1,!0)}}function T(M,D){const L=M.size,P=b.getEncodedBits(D);let w,p,x;for(let I=0;I<18;I++)w=Math.floor(I/3),p=I%3+L-8-3,x=(P>>I&1)===1,M.set(w,p,x,!0),M.set(p,w,x,!0)}function $(M,D,L){const P=M.size,w=A.getEncodedBits(D,L);let p,x;for(p=0;p<15;p++)x=(w>>p&1)===1,p<6?M.set(p,8,x,!0):p<8?M.set(p+1,8,x,!0):M.set(P-15+p,8,x,!0),p<8?M.set(8,P-p-1,x,!0):p<9?M.set(8,15-p-1+1,x,!0):M.set(8,15-p-1,x,!0);M.set(P-8,8,1,!0)}function j(M,D){const L=M.size;let P=-1,w=L-1,p=7,x=0;for(let I=L-1;I>0;I-=2)for(I===6&&I--;;){for(let H=0;H<2;H++)if(!M.isReserved(w,I-H)){let W=!1;x<D.length&&(W=(D[x]>>>p&1)===1),M.set(w,I-H,W),p--,p===-1&&(x++,p=7)}if(w+=P,w<0||L<=w){w-=P,P=-P;break}}}function U(M,D,L){const P=new i;L.forEach(function(H){P.put(H.mode.bit,4),P.put(H.getLength(),v.getCharCountIndicator(H.mode,M)),H.write(P)});const w=a.getSymbolTotalCodewords(M),p=u.getTotalCodewordsCount(M,D),x=(w-p)*8;for(P.getLengthInBits()+4<=x&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const I=(x-P.getLengthInBits())/8;for(let H=0;H<I;H++)P.put(H%2?17:236,8);return F(P,M,D)}function F(M,D,L){const P=a.getSymbolTotalCodewords(D),w=u.getTotalCodewordsCount(D,L),p=P-w,x=u.getBlocksCount(D,L),I=P%x,H=x-I,W=Math.floor(P/x),S=Math.floor(p/x),o=S+1,d=W-S,f=new l(d);let _=0;const c=new Array(x),h=new Array(x);let g=0;const y=new Uint8Array(M.buffer);for(let K=0;K<x;K++){const J=K<H?S:o;c[K]=y.slice(_,_+J),h[K]=f.encode(c[K]),_+=J,g=Math.max(g,J)}const N=new Uint8Array(P);let q=0,O,z;for(O=0;O<g;O++)for(z=0;z<x;z++)O<c[z].length&&(N[q++]=c[z][O]);for(O=0;O<d;O++)for(z=0;z<x;z++)N[q++]=h[z][O];return N}function Y(M,D,L,P){let w;if(Array.isArray(M))w=E.fromArray(M);else if(typeof M=="string"){let W=D;if(!W){const S=E.rawSplit(M);W=b.getBestVersionForData(S,L)}w=E.fromString(M,W||40)}else throw new Error("Invalid data");const p=b.getBestVersionForData(w,L);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=p;else if(D<p)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+p+`.
`);const x=U(D,L,w),I=a.getSymbolSize(D),H=new n(I);return k(H,D),B(H),V(H,D),$(H,L,0),D>=7&&T(H,D),j(H,x),isNaN(P)&&(P=s.getBestMask(H,$.bind(null,H,L))),s.applyMask(P,H),$(H,L,P),{modules:H,version:D,errorCorrectionLevel:L,maskPattern:P,segments:w}}return jt.create=function(D,L){if(typeof D>"u"||D==="")throw new Error("No input text");let P=r.M,w,p;return typeof L<"u"&&(P=r.from(L.errorCorrectionLevel,r.M),w=b.from(L.version),p=s.from(L.maskPattern),L.toSJISFunc&&a.setToSJISFunction(L.toSJISFunc)),Y(D,w,P,p)},jt}var ce={},ue={},Ze;function yn(){return Ze||(Ze=1,function(a){function r(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}a.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:t,scale:t?4:s,margin:e,color:{dark:r(n.color.dark||"#000000ff"),light:r(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},a.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},a.getImageWidth=function(n,e){const t=a.getScale(n,e);return Math.floor((n+e.margin*2)*t)},a.qrToImageData=function(n,e,t){const s=e.modules.size,u=e.modules.data,l=a.getScale(s,t),b=Math.floor((s+t.margin*2)*l),A=t.margin*l,v=[t.color.light,t.color.dark];for(let E=0;E<b;E++)for(let k=0;k<b;k++){let B=(E*b+k)*4,V=t.color.light;if(E>=A&&k>=A&&E<b-A&&k<b-A){const T=Math.floor((E-A)/l),$=Math.floor((k-A)/l);V=v[u[T*s+$]?1:0]}n[B++]=V.r,n[B++]=V.g,n[B++]=V.b,n[B]=V.a}}}(ue)),ue}var tn;function Ro(){return tn||(tn=1,function(a){const r=yn();function i(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(t,s,u){let l=u,b=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(b=n()),l=r.getOptions(l);const A=r.getImageWidth(t.modules.size,l),v=b.getContext("2d"),E=v.createImageData(A,A);return r.qrToImageData(E.data,t,l),i(v,b,A),v.putImageData(E,0,0),b},a.renderToDataURL=function(t,s,u){let l=u;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const b=a.render(t,s,l),A=l.type||"image/png",v=l.rendererOpts||{};return b.toDataURL(A,v.quality)}}(ce)),ce}var de={},en;function To(){if(en)return de;en=1;const a=yn();function r(e,t){const s=e.a/255,u=t+'="'+e.hex+'"';return s<1?u+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':u}function i(e,t,s){let u=e+t;return typeof s<"u"&&(u+=" "+s),u}function n(e,t,s){let u="",l=0,b=!1,A=0;for(let v=0;v<e.length;v++){const E=Math.floor(v%t),k=Math.floor(v/t);!E&&!b&&(b=!0),e[v]?(A++,v>0&&E>0&&e[v-1]||(u+=b?i("M",E+s,.5+k+s):i("m",l,0),l=0,b=!1),E+1<t&&e[v+1]||(u+=i("h",A),A=0)):l++}return u}return de.render=function(t,s,u){const l=a.getOptions(s),b=t.modules.size,A=t.modules.data,v=b+l.margin*2,E=l.color.light.a?"<path "+r(l.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",k="<path "+r(l.color.dark,"stroke")+' d="'+n(A,b,l.margin)+'"/>',B='viewBox="0 0 '+v+" "+v+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+B+' shape-rendering="crispEdges">'+E+k+`</svg>
`;return typeof u=="function"&&u(null,T),T},de}var nn;function Io(){if(nn)return ht;nn=1;const a=po(),r=Po(),i=Ro(),n=To();function e(t,s,u,l,b){const A=[].slice.call(arguments,1),v=A.length,E=typeof A[v-1]=="function";if(!E&&!a())throw new Error("Callback required as last argument");if(E){if(v<2)throw new Error("Too few arguments provided");v===2?(b=u,u=s,s=l=void 0):v===3&&(s.getContext&&typeof b>"u"?(b=l,l=void 0):(b=l,l=u,u=s,s=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(u=s,s=l=void 0):v===2&&!s.getContext&&(l=u,u=s,s=void 0),new Promise(function(k,B){try{const V=r.create(u,l);k(t(V,s,l))}catch(V){B(V)}})}try{const k=r.create(u,l);b(null,t(k,s,l))}catch(k){b(k)}}return ht.create=r.create,ht.toCanvas=e.bind(null,i.render),ht.toDataURL=e.bind(null,i.renderToDataURL),ht.toString=e.bind(null,function(t,s,u){return n.render(t,u)}),ht}var Mo=Io();const on=sn(Mo),No={class:"card-box"},Lo={class:"card-box-header"},xo={class:"card-title"},Uo={key:0,class:"card-icon"},Do={class:"title-text"},Fo={class:"title-text"},qo={class:"action"},Oo={class:"card-box-body"},Vo={__name:"card-box",props:{title:{type:String,default:""}},setup(a){const r=a;return(i,n)=>(Q(),tt("div",No,[m("div",Lo,[m("div",xo,[i.$slots.icon?(Q(),tt("span",Uo,[$t(i.$slots,"icon",{},void 0,!0)])):Ct("",!0),m("span",Do,at(r.title),1),m("span",Fo,[$t(i.$slots,"title",{},void 0,!0)])]),m("div",qo,[$t(i.$slots,"action",{},void 0,!0)])]),m("div",Oo,[$t(i.$slots,"default",{},void 0,!0)])]))}},vt=st(Vo,[["__scopeId","data-v-13417dcd"]]),Ho={class:"page-title-input"},jo={class:"upload-logo"},zo=["src"],Ko={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(a,{emit:r}){const i=r,n=a,e=s=>{i("update:value",s.srcElement.value)},t=s=>{let u={file:s[0],category:"icon"};n.autoUpload&&cn(u).then(l=>{i("update:avatar",l.data.link)}),Hn(s[0]).then(l=>{i("changeAvatar",{file:s[0],url:l})})};return(s,u)=>{const l=Mt;return Q(),tt("div",Ho,[m("div",jo,[C(un,{onChange:t},{default:R(()=>[m("img",{class:"avatar",src:n.avatar},null,8,zo)]),_:1})]),C(l,{size:"large",value:n.value,placeholder:a.placeholder,onInput:e},null,8,["value","placeholder"])])}}},bn=st(Ko,[["__scopeId","data-v-1a1bdb06"]]);var pe={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var rn;function Jo(){return rn||(rn=1,function(a,r){(function(i,n){a.exports=n()})(self,()=>(()=>{var i={d:(S,o)=>{for(var d in o)i.o(o,d)&&!i.o(S,d)&&Object.defineProperty(S,d,{enumerable:!0,get:o[d]})},o:(S,o)=>Object.prototype.hasOwnProperty.call(S,o),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},n={};i.d(n,{default:()=>H});var e={};function t(S,o,d,f,_={}){o instanceof HTMLCollection||o instanceof NodeList?o=Array.from(o):Array.isArray(o)||(o=[o]),Array.isArray(d)||(d=[d]);for(const c of o)for(const h of d)c[S](h,f,{capture:!1,..._});return Array.prototype.slice.call(arguments,1)}i.r(e),i.d(e,{adjustableInputNumbers:()=>E,createElementFromString:()=>l,createFromTemplate:()=>b,eventPath:()=>A,off:()=>u,on:()=>s,resolveElement:()=>v});const s=t.bind(null,"addEventListener"),u=t.bind(null,"removeEventListener");function l(S){const o=document.createElement("div");return o.innerHTML=S.trim(),o.firstElementChild}function b(S){const o=(f,_)=>{const c=f.getAttribute(_);return f.removeAttribute(_),c},d=(f,_={})=>{const c=o(f,":obj"),h=o(f,":ref"),g=c?_[c]={}:_;h&&(_[h]=f);for(const y of Array.from(f.children)){const N=o(y,":arr"),q=d(y,N?{}:g);N&&(g[N]||(g[N]=[])).push(Object.keys(q).length?q:y)}return _};return d(l(S))}function A(S){let o=S.path||S.composedPath&&S.composedPath();if(o)return o;let d=S.target.parentElement;for(o=[S.target,d];d=d.parentElement;)o.push(d);return o.push(document,window),o}function v(S){return S instanceof Element?S:typeof S=="string"?S.split(/>>/g).reduce((o,d,f,_)=>(o=o.querySelector(d),f<_.length-1?o.shadowRoot:o),document):null}function E(S,o=d=>d){function d(f){const _=[.001,.01,.1][Number(f.shiftKey||2*f.ctrlKey)]*(f.deltaY<0?1:-1);let c=0,h=S.selectionStart;S.value=S.value.replace(/[\d.]+/g,(g,y)=>y<=h&&y+g.length>=h?(h=y,o(Number(g),_,c)):(c++,g)),S.focus(),S.setSelectionRange(h,h),f.preventDefault(),S.dispatchEvent(new Event("input"))}s(S,"focus",()=>s(window,"wheel",d,{passive:!1})),s(S,"blur",()=>u(window,"wheel",d))}const{min:k,max:B,floor:V,round:T}=Math;function $(S,o,d){o/=100,d/=100;const f=V(S=S/360*6),_=S-f,c=d*(1-o),h=d*(1-_*o),g=d*(1-(1-_)*o),y=f%6;return[255*[d,h,c,c,g,d][y],255*[g,d,d,h,c,c][y],255*[c,c,g,d,d,h][y]]}function j(S,o,d){const f=(2-(o/=100))*(d/=100)/2;return f!==0&&(o=f===1?0:f<.5?o*d/(2*f):o*d/(2-2*f)),[S,100*o,100*f]}function U(S,o,d){const f=k(S/=255,o/=255,d/=255),_=B(S,o,d),c=_-f;let h,g;if(c===0)h=g=0;else{g=c/_;const y=((_-S)/6+c/2)/c,N=((_-o)/6+c/2)/c,q=((_-d)/6+c/2)/c;S===_?h=q-N:o===_?h=1/3+y-q:d===_&&(h=2/3+N-y),h<0?h+=1:h>1&&(h-=1)}return[360*h,100*g,100*_]}function F(S,o,d,f){return o/=100,d/=100,[...U(255*(1-k(1,(S/=100)*(1-(f/=100))+f)),255*(1-k(1,o*(1-f)+f)),255*(1-k(1,d*(1-f)+f)))]}function Y(S,o,d){o/=100;const f=2*(o*=(d/=100)<.5?d:1-d)/(d+o)*100,_=100*(d+o);return[S,isNaN(f)?0:f,_]}function M(S){return U(...S.match(/.{2}/g).map(o=>parseInt(o,16)))}function D(S){S=S.match(/^[a-zA-Z]+$/)?function(_){if(_.toLowerCase()==="black")return"#000";const c=document.createElement("canvas").getContext("2d");return c.fillStyle=_,c.fillStyle==="#000"?null:c.fillStyle}(S):S;const o={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},d=_=>_.map(c=>/^(|\d+)\.\d+|\d+$/.test(c)?Number(c):void 0);let f;t:for(const _ in o)if(f=o[_].exec(S))switch(_){case"cmyk":{const[,c,h,g,y]=d(f);if(c>100||h>100||g>100||y>100)break t;return{values:F(c,h,g,y),type:_}}case"rgba":{let[,c,,h,,g,,,y]=d(f);if(c=f[2]==="%"?c/100*255:c,h=f[4]==="%"?h/100*255:h,g=f[6]==="%"?g/100*255:g,y=f[9]==="%"?y/100:y,c>255||h>255||g>255||y<0||y>1)break t;return{values:[...U(c,h,g),y],a:y,type:_}}case"hexa":{let[,c]=f;c.length!==4&&c.length!==3||(c=c.split("").map(y=>y+y).join(""));const h=c.substring(0,6);let g=c.substring(6);return g=g?parseInt(g,16)/255:void 0,{values:[...M(h),g],a:g,type:_}}case"hsla":{let[,c,h,g,,y]=d(f);if(y=f[6]==="%"?y/100:y,c>360||h>100||g>100||y<0||y>1)break t;return{values:[...Y(c,h,g),y],a:y,type:_}}case"hsva":{let[,c,h,g,,y]=d(f);if(y=f[6]==="%"?y/100:y,c>360||h>100||g>100||y<0||y>1)break t;return{values:[c,h,g,y],a:y,type:_}}}return{values:null,type:null}}function L(S=0,o=0,d=0,f=1){const _=(h,g)=>(y=-1)=>g(~y?h.map(N=>Number(N.toFixed(y))):h),c={h:S,s:o,v:d,a:f,toHSVA(){const h=[c.h,c.s,c.v,c.a];return h.toString=_(h,g=>`hsva(${g[0]}, ${g[1]}%, ${g[2]}%, ${c.a})`),h},toHSLA(){const h=[...j(c.h,c.s,c.v),c.a];return h.toString=_(h,g=>`hsla(${g[0]}, ${g[1]}%, ${g[2]}%, ${c.a})`),h},toRGBA(){const h=[...$(c.h,c.s,c.v),c.a];return h.toString=_(h,g=>`rgba(${g[0]}, ${g[1]}, ${g[2]}, ${c.a})`),h},toCMYK(){const h=function(g,y,N){const q=$(g,y,N),O=q[0]/255,z=q[1]/255,K=q[2]/255,J=k(1-O,1-z,1-K);return[100*(J===1?0:(1-O-J)/(1-J)),100*(J===1?0:(1-z-J)/(1-J)),100*(J===1?0:(1-K-J)/(1-J)),100*J]}(c.h,c.s,c.v);return h.toString=_(h,g=>`cmyk(${g[0]}%, ${g[1]}%, ${g[2]}%, ${g[3]}%)`),h},toHEXA(){const h=function(y,N,q){return $(y,N,q).map(O=>T(O).toString(16).padStart(2,"0"))}(c.h,c.s,c.v),g=c.a>=1?"":Number((255*c.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return g&&h.push(g),h.toString=()=>`#${h.join("").toUpperCase()}`,h},clone:()=>L(c.h,c.s,c.v,c.a)};return c}const P=S=>Math.max(Math.min(S,1),0);function w(S){const o={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},S),_keyboard(c){const{options:h}=o,{type:g,key:y}=c;if(document.activeElement===h.wrapper){const{lock:N}=o.options,q=y==="ArrowUp",O=y==="ArrowRight",z=y==="ArrowDown",K=y==="ArrowLeft";if(g==="keydown"&&(q||O||z||K)){let J=0,Z=0;N==="v"?J=q||O?1:-1:N==="h"?J=q||O?-1:1:(Z=q?-1:z?1:0,J=K?-1:O?1:0),o.update(P(o.cache.x+.01*J),P(o.cache.y+.01*Z)),c.preventDefault()}else y.startsWith("Arrow")&&(o.options.onstop(),c.preventDefault())}},_tapstart(c){s(document,["mouseup","touchend","touchcancel"],o._tapstop),s(document,["mousemove","touchmove"],o._tapmove),c.cancelable&&c.preventDefault(),o._tapmove(c)},_tapmove(c){const{options:h,cache:g}=o,{lock:y,element:N,wrapper:q}=h,O=q.getBoundingClientRect();let z=0,K=0;if(c){const pt=c&&c.touches&&c.touches[0];z=c?(pt||c).clientX:0,K=c?(pt||c).clientY:0,z<O.left?z=O.left:z>O.left+O.width&&(z=O.left+O.width),K<O.top?K=O.top:K>O.top+O.height&&(K=O.top+O.height),z-=O.left,K-=O.top}else g&&(z=g.x*O.width,K=g.y*O.height);y!=="h"&&(N.style.left=`calc(${z/O.width*100}% - ${N.offsetWidth/2}px)`),y!=="v"&&(N.style.top=`calc(${K/O.height*100}% - ${N.offsetHeight/2}px)`),o.cache={x:z/O.width,y:K/O.height};const J=P(z/O.width),Z=P(K/O.height);switch(y){case"v":return h.onchange(J);case"h":return h.onchange(Z);default:return h.onchange(J,Z)}},_tapstop(){o.options.onstop(),u(document,["mouseup","touchend","touchcancel"],o._tapstop),u(document,["mousemove","touchmove"],o._tapmove)},trigger(){o._tapmove()},update(c=0,h=0){const{left:g,top:y,width:N,height:q}=o.options.wrapper.getBoundingClientRect();o.options.lock==="h"&&(h=c),o._tapmove({clientX:g+N*c,clientY:y+q*h})},destroy(){const{options:c,_tapstart:h,_keyboard:g}=o;u(document,["keydown","keyup"],g),u([c.wrapper,c.element],"mousedown",h),u([c.wrapper,c.element],"touchstart",h,{passive:!1})}},{options:d,_tapstart:f,_keyboard:_}=o;return s([d.wrapper,d.element],"mousedown",f),s([d.wrapper,d.element],"touchstart",f,{passive:!1}),s(document,["keydown","keyup"],_),o}function p(S={}){S=Object.assign({onchange:()=>0,className:"",elements:[]},S);const o=s(S.elements,"click",d=>{S.elements.forEach(f=>f.classList[d.target===f?"add":"remove"](S.className)),S.onchange(d),d.stopPropagation()});return{destroy:()=>u(...o)}}const x={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},I=(S,o,d)=>{const f=typeof S!="object"||S instanceof HTMLElement?{reference:S,popper:o,...d}:S;return{update(_=f){const{reference:c,popper:h}=Object.assign(f,_);if(!h||!c)throw new Error("Popper- or reference-element missing.");return((g,y,N)=>{const{container:q,arrow:O,margin:z,padding:K,position:J,variantFlipOrder:Z,positionFlipOrder:pt}={container:document.documentElement.getBoundingClientRect(),...x,...N},{left:Nt,top:Lt}=y.style;y.style.left="0",y.style.top="0";const et=g.getBoundingClientRect(),rt=y.getBoundingClientRect(),Cn={t:et.top-rt.height-z,b:et.bottom+z,r:et.right+z,l:et.left-rt.width-z},kn={vs:et.left,vm:et.left+et.width/2-rt.width/2,ve:et.left+et.width-rt.width,hs:et.top,hm:et.bottom-et.height/2-rt.height/2,he:et.bottom-rt.height},[Sn,En="middle"]=J.split("-"),An=pt[Sn],Bn=Z[En],{top:be,left:we,bottom:Ce,right:ke}=q;for(const _t of An){const ft=_t==="t"||_t==="b";let yt=Cn[_t];const[xt,Ut]=ft?["top","left"]:["left","top"],[Dt,Ft]=ft?[rt.height,rt.width]:[rt.width,rt.height],[$n,Pn]=ft?[Ce,ke]:[ke,Ce],[Rn,Tn]=ft?[be,we]:[we,be];if(!(yt<Rn||yt+Dt+K>$n))for(const qt of Bn){let bt=kn[(ft?"v":"h")+qt];if(!(bt<Tn||bt+Ft+K>Pn)){if(bt-=rt[Ut],yt-=rt[xt],y.style[Ut]=`${bt}px`,y.style[xt]=`${yt}px`,O){const Ot=ft?et.width/2:et.height/2,Bt=Ft/2,Se=Ot>Bt,In=bt+{s:Se?Bt:Ot,m:Bt,e:Se?Bt:Ft-Ot}[qt],Mn=yt+{t:Dt,b:0,r:0,l:Dt}[_t];O.style[Ut]=`${In}px`,O.style[xt]=`${Mn}px`}return _t+qt}}}return y.style.left=Nt,y.style.top=Lt,null})(c,h,f)}}},W=class W{constructor(o){nt(this,"_initializingActive",!0);nt(this,"_recalc",!0);nt(this,"_nanopop",null);nt(this,"_root",null);nt(this,"_color",L());nt(this,"_lastColor",L());nt(this,"_swatchColors",[]);nt(this,"_setupAnimationFrame",null);nt(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=o=Object.assign({...W.DEFAULT_OPTIONS},o);const{swatches:d,components:f,theme:_,sliders:c,lockOpacity:h,padding:g}=o;["nano","monolith"].includes(_)&&!c&&(o.sliders="h"),f.interaction||(f.interaction={});const{preview:y,opacity:N,hue:q,palette:O}=f;f.opacity=!h&&N,f.palette=O||y||N||q,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),d&&d.length&&d.forEach(Z=>this.addSwatch(Z));const{button:z,app:K}=this._root;this._nanopop=I(z,K,{margin:g}),z.setAttribute("role","button"),z.setAttribute("aria-label",this._t("btn:toggle"));const J=this;this._setupAnimationFrame=requestAnimationFrame(function Z(){if(!K.offsetWidth)return requestAnimationFrame(Z);J.setColor(o.default),J._rePositioningPicker(),o.defaultRepresentation&&(J._representation=o.defaultRepresentation,J.setColorRepresentation(J._representation)),o.showAlways&&J.show(),J._initializingActive=!1,J._emit("init")})}_preBuild(){const{options:o}=this;for(const d of["el","container"])o[d]=v(o[d]);this._root=(d=>{const{components:f,useAsButton:_,inline:c,appClass:h,theme:g,lockOpacity:y}=d.options,N=K=>K?"":'style="display:none" hidden',q=K=>d._t(K),O=b(`
      <div :ref="root" class="pickr">

        ${_?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${h||""}" data-theme="${g}" ${c?'style="position: unset"':""} aria-label="${q("ui:dialog")}" role="window">
          <div class="pcr-selection" ${N(f.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${N(f.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${q("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${q("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${N(f.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${q("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${N(f.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${q("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${f.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${N(Object.keys(f.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${N(f.interaction.input)} aria-label="${q("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${y?"HEX":"HEXA"}" type="button" ${N(f.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${y?"RGB":"RGBA"}" type="button" ${N(f.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${y?"HSL":"HSLA"}" type="button" ${N(f.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${y?"HSV":"HSVA"}" type="button" ${N(f.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${N(f.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${q("btn:save")}" type="button" ${N(f.interaction.save)} aria-label="${q("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${q("btn:cancel")}" type="button" ${N(f.interaction.cancel)} aria-label="${q("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${q("btn:clear")}" type="button" ${N(f.interaction.clear)} aria-label="${q("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),z=O.interaction;return z.options.find(K=>!K.hidden&&!K.classList.add("active")),z.type=()=>z.options.find(K=>K.classList.contains("active")),O})(this),o.useAsButton&&(this._root.button=o.el),o.container.appendChild(this._root.root)}_finalBuild(){const o=this.options,d=this._root;if(o.container.removeChild(d.root),o.inline){const f=o.el.parentElement;o.el.nextSibling?f.insertBefore(d.app,o.el.nextSibling):f.appendChild(d.app)}else o.container.appendChild(d.app);o.useAsButton?o.inline&&o.el.remove():o.el.parentNode.replaceChild(d.root,o.el),o.disabled&&this.disable(),o.comparison||(d.button.style.transition="none",o.useAsButton||(d.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const o=this,d=this.options.components,f=(o.options.sliders||"v").repeat(2),[_,c]=f.match(/^[vh]+$/g)?f:[],h=()=>this._color||(this._color=this._lastColor.clone()),g={palette:w({element:o._root.palette.picker,wrapper:o._root.palette.palette,onstop:()=>o._emit("changestop","slider",o),onchange(y,N){if(!d.palette)return;const q=h(),{_root:O,options:z}=o,{lastColor:K,currentColor:J}=O.preview;o._recalc&&(q.s=100*y,q.v=100-100*N,q.v<0&&(q.v=0),o._updateOutput("slider"));const Z=q.toRGBA().toString(0);this.element.style.background=Z,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${q.a}), transparent),
                        linear-gradient(to left, hsla(${q.h}, 100%, 50%, ${q.a}), rgba(255, 255, 255, ${q.a}))
                    `,z.comparison?z.useAsButton||o._lastColor||K.style.setProperty("--pcr-color",Z):(O.button.style.setProperty("--pcr-color",Z),O.button.classList.remove("clear"));const pt=q.toHEXA().toString();for(const{el:Nt,color:Lt}of o._swatchColors)Nt.classList[pt===Lt.toHEXA().toString()?"add":"remove"]("pcr-active");J.style.setProperty("--pcr-color",Z)}}),hue:w({lock:c==="v"?"h":"v",element:o._root.hue.picker,wrapper:o._root.hue.slider,onstop:()=>o._emit("changestop","slider",o),onchange(y){if(!d.hue||!d.palette)return;const N=h();o._recalc&&(N.h=360*y),this.element.style.backgroundColor=`hsl(${N.h}, 100%, 50%)`,g.palette.trigger()}}),opacity:w({lock:_==="v"?"h":"v",element:o._root.opacity.picker,wrapper:o._root.opacity.slider,onstop:()=>o._emit("changestop","slider",o),onchange(y){if(!d.opacity||!d.palette)return;const N=h();o._recalc&&(N.a=Math.round(100*y)/100),this.element.style.background=`rgba(0, 0, 0, ${N.a})`,g.palette.trigger()}}),selectable:p({elements:o._root.interaction.options,className:"active",onchange(y){o._representation=y.target.getAttribute("data-type").toUpperCase(),o._recalc&&o._updateOutput("swatch")}})};this._components=g}_bindEvents(){const{_root:o,options:d}=this,f=[s(o.interaction.clear,"click",()=>this._clearColor()),s([o.interaction.cancel,o.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),s(o.interaction.save,"click",()=>{!this.applyColor()&&!d.showAlways&&this.hide()}),s(o.interaction.result,["keyup","input"],_=>{this.setColor(_.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),_.stopImmediatePropagation()}),s(o.interaction.result,["focus","blur"],_=>{this._recalc=_.type==="blur",this._recalc&&this._updateOutput(null)}),s([o.palette.palette,o.palette.picker,o.hue.slider,o.hue.picker,o.opacity.slider,o.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!d.showAlways){const _=d.closeWithKey;f.push(s(o.button,"click",()=>this.isOpen()?this.hide():this.show()),s(document,"keyup",c=>this.isOpen()&&(c.key===_||c.code===_)&&this.hide()),s(document,["touchstart","mousedown"],c=>{this.isOpen()&&!A(c).some(h=>h===o.app||h===o.button)&&this.hide()},{capture:!0}))}if(d.adjustableNumbers){const _={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};E(o.interaction.result,(c,h,g)=>{const y=_[this.getColorRepresentation().toLowerCase()];if(y){const N=y[g],q=c+(N>=100?1e3*h:h);return q<=0?0:Number((q<N?q:N).toPrecision(3))}return c})}if(d.autoReposition&&!d.inline){let _=null;const c=this;f.push(s(window,["scroll","resize"],()=>{c.isOpen()&&(d.closeOnScroll&&c.hide(),_===null?(_=setTimeout(()=>_=null,100),requestAnimationFrame(function h(){c._rePositioningPicker(),_!==null&&requestAnimationFrame(h)})):(clearTimeout(_),_=setTimeout(()=>_=null,100)))},{capture:!0}))}this._eventBindings=f}_rePositioningPicker(){const{options:o}=this;if(!o.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:o.position})){const d=this._root.app,f=d.getBoundingClientRect();d.style.top=(window.innerHeight-f.height)/2+"px",d.style.left=(window.innerWidth-f.width)/2+"px"}}_updateOutput(o){const{_root:d,_color:f,options:_}=this;if(d.interaction.type()){const c=`to${d.interaction.type().getAttribute("data-type")}`;d.interaction.result.value=typeof f[c]=="function"?f[c]().toString(_.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",f,o,this)}_clearColor(o=!1){const{_root:d,options:f}=this;f.useAsButton||d.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),d.button.classList.add("clear"),f.showAlways||this.hide(),this._lastColor=null,this._initializingActive||o||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(o){const{values:d,type:f,a:_}=D(o),{lockOpacity:c}=this.options,h=_!==void 0&&_!==1;return d&&d.length===3&&(d[3]=void 0),{values:!d||c&&h?null:d,type:f}}_t(o){return this.options.i18n[o]||W.I18N_DEFAULTS[o]}_emit(o,...d){this._eventListener[o].forEach(f=>f(...d,this))}on(o,d){return this._eventListener[o].push(d),this}off(o,d){const f=this._eventListener[o]||[],_=f.indexOf(d);return~_&&f.splice(_,1),this}addSwatch(o){const{values:d}=this._parseLocalColor(o);if(d){const{_swatchColors:f,_root:_}=this,c=L(...d),h=l(`<button type="button" style="--pcr-color: ${c.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return _.swatches.appendChild(h),f.push({el:h,color:c}),this._eventBindings.push(s(h,"click",()=>{this.setHSVA(...c.toHSVA(),!0),this._emit("swatchselect",c),this._emit("change",c,"swatch",this)})),!0}return!1}removeSwatch(o){const d=this._swatchColors[o];if(d){const{el:f}=d;return this._root.swatches.removeChild(f),this._swatchColors.splice(o,1),!0}return!1}applyColor(o=!1){const{preview:d,button:f}=this._root,_=this._color.toRGBA().toString(0);return d.lastColor.style.setProperty("--pcr-color",_),this.options.useAsButton||f.style.setProperty("--pcr-color",_),f.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||o||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(o=>u(...o)),Object.keys(this._components).forEach(o=>this._components[o].destroy())}destroyAndRemove(){this.destroy();const{root:o,app:d}=this._root;o.parentElement&&o.parentElement.removeChild(o),d.parentElement.removeChild(d),Object.keys(this).forEach(f=>this[f]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(o=360,d=0,f=0,_=1,c=!1){const h=this._recalc;if(this._recalc=!1,o<0||o>360||d<0||d>100||f<0||f>100||_<0||_>1)return!1;this._color=L(o,d,f,_);const{hue:g,opacity:y,palette:N}=this._components;return g.update(o/360),y.update(_),N.update(d/100,1-f/100),c||this.applyColor(),h&&this._updateOutput(),this._recalc=h,!0}setColor(o,d=!1){if(o===null)return this._clearColor(d),!0;const{values:f,type:_}=this._parseLocalColor(o);if(f){const c=_.toUpperCase(),{options:h}=this._root.interaction,g=h.find(y=>y.getAttribute("data-type")===c);if(g&&!g.hidden)for(const y of h)y.classList[y===g?"add":"remove"]("active");return!!this.setHSVA(...f,d)&&this.setColorRepresentation(c)}return!1}setColorRepresentation(o){return o=o.toUpperCase(),!!this._root.interaction.options.find(d=>d.getAttribute("data-type").startsWith(o)&&!d.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};nt(W,"utils",e),nt(W,"version","1.9.1"),nt(W,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),nt(W,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),nt(W,"create",o=>new W(o));let H=W;return n=n.default})())}(pe)),pe.exports}var Yo=Jo();const Wo=sn(Yo),Qo={class:"color-picker-wrapper"},Go={class:"color-picker-action"},Xo={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(a,{emit:r}){const i=r,n=a,e=X(null);return xn(()=>{const t=Wo.create({el:e.value,container:"body",theme:"nano",default:n.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});t.on("save",(s,u)=>{let l=s.toHEXA().toString();i("update:value",l),i("change",l),u.hide()}),t.on("show",()=>{const s=document.querySelectorAll(".pcr-save");s&&s.length&&s.forEach(function(u){u.tagName.toLowerCase()==="input"&&(u.value="保存")})})}),(t,s)=>{const u=Mt;return Q(),tt("div",Qo,[C(u,{value:n.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),m("span",Go,[m("span",{ref_key:"colorPicker",ref:e},null,512)])])}}},fe=st(Xo,[["__scopeId","data-v-f2a9e7d0"]]),Zo="/assets/img/quick-help-BZ3Cu-IE.png",tr={class:"quick-instructions-box"},er={class:"quick-action-right"},nr={class:"quick-list-box"},or={class:"list-box-wrap"},rr={class:"drag-btn"},ir={class:"left-box"},sr={class:"title"},ar={class:"content"},lr={class:"opration-box"},cr={class:"form-box"},ur={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(a,{emit:r}){const i=a,n=r,e=Un(),t=Tt(),{robotInfo:s}=Rt(t),{getRobot:u}=t,l=X([]),b=X(parseInt(i.type==-1?s.value.fast_command_switch:s.value.yunpc_fast_command_switch)||0);mt(l,w=>{n("updata",{comand_list:w,fast_command_switch:b.value})});const A=()=>{Jn({robot_key:s.value.robot_key,app_id:i.type}).then(w=>{l.value=w.data||[],t.setQuickCommand(w.data)})};A();const v=At.useForm,E=X(!1),k=X("添加快捷指令"),B=kt({robot_id:e.query.id,app_id:i.type,title:"",typ:1,content:"",id:""}),V=w=>{const{id:p}=s.value;Qn({robot_key:s.value.robot_key,app_id:i.type}).then(x=>{b.value=w,n("updata",{comand_list:l.value,fast_command_switch:b.value}),u(p),ct.success("修改成功")}).catch(x=>{b.value=!b.value})},T=()=>{B.content="",Y(["content"])},$=w=>{E.value=!0,U(),k.value=w.id?"编辑快捷指令":"添加快捷指令",B.title=w.title||"",B.content=w.content||"",B.id=w.id||"",B.typ=+w.typ||1},j=kt({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(w,p)=>p==""?Promise.reject(new Error(`请输入${B.typ==1?"内容":"网址"}`)):B.typ==1||Xn(p)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:U,validate:F,clearValidate:Y,validateInfos:M}=v(B,j),D=()=>{F().then(()=>{Gn({...Et(B)}).then(w=>{ct.success("修改成功"),E.value=!1,A()})})},L=w=>{Be.confirm({title:"提醒",icon:C(zn),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){Wn({id:w}).then(p=>{ct.success("删除成功"),A()})},onCancel(){}})},P=w=>{let p=l.value.map((x,I)=>({id:+x.id,sort:I+1}));Yn({data:p}).then(x=>{ct.success("保存成功"),A()})};return(w,p)=>{const x=eo,I=he,H=hn,W=It,S=Mt,o=ge,d=fn,f=pn,_=gn,c=At,h=Be;return Q(),tt("div",tr,[C(vt,null,{title:R(()=>[p[9]||(p[9]=G(" 快捷指令设置 ")),C(x,{placement:"top"},{content:R(()=>p[8]||(p[8]=[m("div",{class:"help-box"},[m("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),m("img",{src:Zo,alt:""})],-1)])),default:R(()=>[C(ot(dn),{class:"help-icon"})]),_:1})]),icon:R(()=>[C(I,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:R(()=>[m("div",er,[C(H,{onChange:V,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:b.value,"onUpdate:checked":p[0]||(p[0]=g=>b.value=g),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),C(W,{onClick:$,size:"small",type:"primary"},{default:R(()=>p[10]||(p[10]=[G("添加")])),_:1,__:[10]})])]),default:R(()=>[m("div",nr,[C(ot(Zn),{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=g=>l.value=g),"item-key":"id",onEnd:p[2]||(p[2]=g=>P(g)),handle:".drag-btn"},{item:R(({element:g,index:y})=>[m("div",or,[(Q(),tt("div",{class:"list-item",key:g.id},[m("div",rr,[C(I,{name:"drag"})]),m("div",ir,[m("div",sr,at(g.title),1),m("div",ar,at(g.content),1)]),m("div",lr,[C(ot(to),{onClick:N=>$(g)},null,8,["onClick"]),C(ot(jn),{onClick:N=>L(g.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),C(h,{open:E.value,"onUpdate:open":p[7]||(p[7]=g=>E.value=g),title:k.value,onOk:D,width:"576px"},{default:R(()=>[m("div",cr,[C(c,{layout:"vertical"},{default:R(()=>[C(o,Ee({label:"指令标题"},ot(M).title),{default:R(()=>[C(S,{placeholder:"请输入指令标题",maxLength:20,value:B.title,"onUpdate:value":p[3]||(p[3]=g=>B.title=g)},null,8,["value"])]),_:1},16),C(o,{label:"指令类型",required:""},{default:R(()=>[C(f,{value:B.typ,"onUpdate:value":p[4]||(p[4]=g=>B.typ=g),onChange:T},{default:R(()=>[C(d,{value:1},{default:R(()=>p[11]||(p[11]=[G("输入内容")])),_:1,__:[11]}),C(d,{value:2},{default:R(()=>p[12]||(p[12]=[G("跳转网页")])),_:1,__:[12]})]),_:1},8,["value"])]),_:1}),C(o,Ee({label:B.typ==1?"指令内容":"网页链接",required:""},ot(M).content),{default:R(()=>[B.typ==1?(Q(),St(_,{key:0,style:{height:"100px"},value:B.content,"onUpdate:value":p[5]||(p[5]=g=>B.content=g),placeholder:"请输入指令内容"},null,8,["value"])):(Q(),St(S,{key:1,placeholder:"请输入网页链接",value:B.content,"onUpdate:value":p[6]||(p[6]=g=>B.content=g)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},wn=st(ur,[["__scopeId","data-v-9444f65b"]]),dr={class:"web-app-box"},pr={class:"box-left"},fr={class:"box-wrapper"},hr={class:"web-app-info"},gr={class:"web-app-link"},mr=["href"],vr={class:"link-action"},_r=["src"],yr={class:"card-title"},br={class:"web-app-link"},wr=["href"],Cr={class:"link-action"},kr=["src"],Sr={class:"access-restrictions form-box"},Er={class:"form-item"},Ar={class:"form-item-body"},Br={class:"box-wrapper"},$r={class:"web-app-style form-box"},Pr={class:"box-wrapper"},Rr={class:"box-right"},Tr={class:"demo-box"},Ir=["src"],Mr={__name:"web-app",setup(a){const r=Dn(),i=Tt(),{robotInfo:n,external_config_h5:e}=Rt(i),{h5_website:t,h5_domain:s,robot_key:u}=n.value,{getRobot:l}=i,b=X(""),A=X(""),v=X(),E=kt({logo:e.value.logo,pageTitle:e.value.pageTitle,navbarShow:e.value.navbarShow,lang:e.value.lang,pageStyle:e.value.pageStyle}),k=gt(()=>`${s}/#/chat/pc?robot_key=${u}`),B=gt(()=>`${s}/#/chat/h5?robot_key=${u}`),V=gt(()=>t);mt(E,w=>{$(w)});const T=w=>{$(w,"updataQuickComand")},$=(w,p)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:p||"onPreview",data:JSON.parse(JSON.stringify(w))},"*")},j={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>E.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},U=X(e.value.accessRestrictionsType||1),F=()=>{let w={...Et(e.value)};w.accessRestrictionsType=U.value,Y(w)},Y=w=>{const{id:p}=n.value;ln({id:p,external_config_h5:JSON.stringify(w)}).then(()=>{l(p),ct.success("保存成功"),r.go(0)})},M=()=>{v.value.validate().then(()=>{let w={...Et(E)};w.accessRestrictionsType=U.value,Y(w)}).catch(w=>{})},D=w=>{window.open(w)},L=w=>{an(w),ct.success("复制成功")},P=async()=>{try{b.value=await on.toDataURL(k.value),A.value=await on.toDataURL(B.value)}catch(w){console.error(w)}};return setTimeout(()=>{P()},300),(w,p)=>{const x=he,I=It,H=no,W=fn,S=pn,o=ge,d=ve,f=me,_=At;return Q(),tt("div",dr,[m("div",pr,[m("div",fr,[C(vt,{title:"H5链接"},{icon:R(()=>[C(x,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),default:R(()=>[m("div",hr,[m("div",gr,[m("a",{href:B.value,target:"_blank"},at(B.value),9,mr)]),m("div",vr,[C(I,{class:"action-btn",type:"primary",ghost:"",onClick:p[0]||(p[0]=c=>L(B.value))},{default:R(()=>p[10]||(p[10]=[G("复 制")])),_:1,__:[10]}),C(I,{class:"action-btn",onClick:p[1]||(p[1]=c=>D(B.value))},{default:R(()=>p[11]||(p[11]=[G("预 览")])),_:1,__:[11]}),C(H,{color:"#fff",placement:"top"},{title:R(()=>[m("img",{style:{width:"180px"},src:A.value,alt:""},null,8,_r)]),default:R(()=>[C(I,{class:"action-btn"},{default:R(()=>p[12]||(p[12]=[G("二维码")])),_:1,__:[12]})]),_:1})]),m("div",yr,[C(x,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}}),p[13]||(p[13]=m("div",{class:"title-text"},"pc网页链接",-1))]),m("div",br,[m("a",{href:k.value,target:"_blank"},at(k.value),9,wr)]),m("div",Cr,[C(I,{class:"action-btn",type:"primary",ghost:"",onClick:p[2]||(p[2]=c=>L(k.value))},{default:R(()=>p[14]||(p[14]=[G("复 制")])),_:1,__:[14]}),C(I,{class:"action-btn",onClick:p[3]||(p[3]=c=>D(k.value))},{default:R(()=>p[15]||(p[15]=[G("预 览")])),_:1,__:[15]}),C(H,{color:"#fff",placement:"top"},{title:R(()=>[m("img",{style:{width:"180px"},src:b.value,alt:""},null,8,kr)]),default:R(()=>[C(I,{class:"action-btn"},{default:R(()=>p[16]||(p[16]=[G("二维码")])),_:1,__:[16]})]),_:1})]),m("div",Sr,[m("div",Er,[p[20]||(p[20]=m("div",{class:"form-item-label"},"访问限制",-1)),m("div",Ar,[C(S,{value:U.value,"onUpdate:value":p[4]||(p[4]=c=>U.value=c),onChange:F},{default:R(()=>[C(W,{value:1},{default:R(()=>p[17]||(p[17]=[m("span",{class:"default-text-color"},"无限制",-1)])),_:1,__:[17]}),C(W,{value:2},{default:R(()=>p[18]||(p[18]=[m("span",{class:"default-text-color"},"登录后才可访问",-1)])),_:1,__:[18]}),C(W,{value:3},{default:R(()=>[p[19]||(p[19]=m("span",{class:"default-text-color"},"有权限的账号登录后才可访问",-1)),C(H,{title:"可在基础配置→ 权限管理处添加协作者。"},{default:R(()=>[C(ot(dn),{class:"ml4"})]),_:1})]),_:1,__:[19]})]),_:1},8,["value"])])])])])]),_:1})]),m("div",Br,[C(vt,{title:"样式设置"},{icon:R(()=>[C(x,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:R(()=>[C(I,{onClick:M,size:"small",type:"primary"},{default:R(()=>p[21]||(p[21]=[G("保存")])),_:1,__:[21]})]),default:R(()=>[m("div",$r,[C(_,{ref_key:"formRef",ref:v,layout:"vertical",model:E,rules:j},{default:R(()=>[C(o,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:R(()=>[C(S,{value:E.navbarShow,"onUpdate:value":p[5]||(p[5]=c=>E.navbarShow=c),name:"navbarShow"},{default:R(()=>[C(W,{value:1},{default:R(()=>p[22]||(p[22]=[G("显示")])),_:1,__:[22]}),C(W,{value:2},{default:R(()=>p[23]||(p[23]=[G("不显示")])),_:1,__:[23]})]),_:1},8,["value"])]),_:1}),C(o,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:R(()=>[C(bn,{avatar:E.logo,"onUpdate:avatar":p[6]||(p[6]=c=>E.logo=c),value:E.pageTitle,"onUpdate:value":p[7]||(p[7]=c=>E.pageTitle=c)},null,8,["avatar","value"])]),_:1}),C(o,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:R(()=>[C(fe,{value:E.pageStyle.navbarBackgroundColor,"onUpdate:value":p[8]||(p[8]=c=>E.pageStyle.navbarBackgroundColor=c)},null,8,["value"])]),_:1}),C(o,{class:"form-item",label:"语言",name:"lang"},{default:R(()=>[C(f,{style:{width:"180px"},value:E.lang,"onUpdate:value":p[9]||(p[9]=c=>E.lang=c),placeholder:"请选择语言"},{default:R(()=>[C(d,{value:"zh-CN"},{default:R(()=>p[24]||(p[24]=[G("简体中文")])),_:1,__:[24]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),m("div",Pr,[C(wn,{type:ot(n).app_id,onUpdata:T},null,8,["type"])])]),m("div",Rr,[m("div",Tr,[m("iframe",{id:"mobile-preview",src:V.value,frameborder:"0"},null,8,Ir)])])])}}},Nr=st(Mr,[["__scopeId","data-v-54eb69de"]]);function Lr({pc_domain:a,robot_key:r}){var i=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${r}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${a}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return i}const xr={class:"gradient-color-picker"},Ur={class:"color-picker-box"},Dr={class:"gradient-type-select"},Fr={class:"color-item"},qr={class:"right-arrow"},Or={class:"color-item"},Vr={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(a,{emit:r}){const i=r,n=a,e=At.useInjectFormItemContext(),t=X([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),s=X("linear-gradient"),u=X("to right"),l=X("#2435E7"),b=X("#01A0FB"),A=gt(()=>s.value=="color"?l.value:`${s.value}(${u.value}, ${l.value}, ${b.value})`);mt(()=>A.value,()=>{let E=[s.value,u.value,l.value,b.value].join(",");i("update:value",E),e.onFieldChange()}),mt(()=>n.value,()=>{const E=n.value.split(","),[k,B,V,T]=E;s.value=k,u.value=B,l.value=V,b.value=T},{immediate:!0});const v=(E,k)=>{s.value=k.type,u.value=E,e.onFieldChange()};return(E,k)=>{const B=ve,V=me;return Q(),tt("div",xr,[m("div",Ur,[m("div",Dr,[C(V,{value:u.value,style:{width:"180px"},onChange:v},{default:R(()=>[(Q(!0),tt(Ae,null,Fn(t.value,T=>(Q(),St(B,{value:T.value,type:T.type,key:T.key},{default:R(()=>[G(at(T.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),m("div",Fr,[C(fe,{value:l.value,"onUpdate:value":k[0]||(k[0]=T=>l.value=T)},null,8,["value"])]),s.value!="color"?(Q(),tt(Ae,{key:0},[m("div",qr,[C(ot(oo))]),m("div",Or,[C(fe,{value:b.value,"onUpdate:value":k[1]||(k[1]=T=>b.value=T)},null,8,["value"])])],64)):Ct("",!0)])])}}},Hr=st(Vr,[["__scopeId","data-v-dfea777d"]]),jr="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",zr="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Kr={class:"float-icon-setting"},Jr={class:"form-box"},Yr={class:"form-item"},Wr={class:"form-content"},Qr={class:"display-types"},Gr={class:"type-icon"},Xr=["src"],Zr={key:1,class:"display-type"},ti={class:"type-icon"},ei={class:"type-name"},ni={key:0,class:"form-item"},oi={class:"form-content"},ri={class:"form-item"},ii={class:"form-content"},si={class:"number-input"},ai={class:"form-item"},li={class:"form-content"},ci={class:"number-input"},ui={class:"form-item"},di={class:"form-content"},pi={class:"form-item"},fi={class:"form-content"},hi={class:"form-item"},gi={class:"form-content"},mi={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(a,{expose:r,emit:i}){const n=a,e=i,t=kt({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),s=A=>{t.displayType=A},u=gt(()=>t.buttonIcon?t.displayType==3:!0),l=A=>{let v=A[0];s(3),cn({file:v,category:"icon"}).then(E=>{t.buttonIcon=E.data.link})},b=()=>{t.rightMargin,(t.rightMargin==""||t.rightMargin==null)&&(t.rightMargin=0),(t.bottomMargin==""||t.rightMargin==null)&&(t.bottomMargin=0),e("save",Et(t))};return mt(()=>n.form,A=>{Object.assign(t,A.floatBtn)},{immediate:!0}),r({handleSubmit:b}),(A,v)=>{const E=Mt,k=io,B=hn,V=It;return Q(),St(vt,{title:"悬浮图标设置"},{icon:R(()=>[C(ot(_e),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:R(()=>[m("div",Kr,[G(at(n.title)+" ",1),m("div",Jr,[m("div",Yr,[v[11]||(v[11]=m("div",{class:"form-item-label"},"展示形式：",-1)),m("div",Wr,[m("div",Qr,[m("div",{class:Vt(["display-type",{"is-checked":t.displayType==1}]),onClick:v[0]||(v[0]=T=>s(1))},v[8]||(v[8]=[m("div",{class:"type-icon"},[m("img",{src:jr,alt:""})],-1),m("div",{class:"type-name"},"简洁",-1)]),2),m("div",{class:Vt(["display-type",{"is-checked":t.displayType==2}]),onClick:v[1]||(v[1]=T=>s(2))},v[9]||(v[9]=[m("div",{class:"type-icon"},[m("img",{src:zr,alt:""})],-1),m("div",{class:"type-name"},"加文案",-1)]),2),t.buttonIcon?(Q(),tt("div",{key:0,class:Vt(["display-type",{"is-checked":t.displayType==3}]),onClick:v[2]||(v[2]=T=>s(3))},[m("div",Gr,[m("img",{src:t.buttonIcon,alt:"",title:""},null,8,Xr)]),v[10]||(v[10]=m("div",{class:"type-name"},"自定义",-1))],2)):Ct("",!0),u.value?(Q(),tt("div",Zr,[C(un,{onChange:l},{default:R(()=>[m("div",ti,[C(ot(ro),{style:{"font-size":"20px"}})])]),_:1}),m("div",ei,at(t.buttonIcon?"上传图片":"自定义"),1)])):Ct("",!0)])])]),t.displayType==2?(Q(),tt("div",ni,[v[12]||(v[12]=m("div",{class:"form-item-label"},"按钮文案：",-1)),m("div",oi,[C(E,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:t.buttonText,"onUpdate:value":v[3]||(v[3]=T=>t.buttonText=T)},null,8,["value"])])])):Ct("",!0),m("div",ri,[v[14]||(v[14]=m("div",{class:"form-item-label"},"底边距：",-1)),m("div",ii,[m("div",si,[C(k,{class:"input",value:t.bottomMargin,"onUpdate:value":v[4]||(v[4]=T=>t.bottomMargin=T)},null,8,["value"]),v[13]||(v[13]=m("span",{class:"unit"},"PX",-1))])])]),m("div",ai,[v[16]||(v[16]=m("div",{class:"form-item-label"},"右边距：",-1)),m("div",li,[m("div",ci,[C(k,{class:"input",value:t.rightMargin,"onUpdate:value":v[5]||(v[5]=T=>t.rightMargin=T)},null,8,["value"]),v[15]||(v[15]=m("span",{class:"unit"},"PX",-1))])])]),m("div",ui,[v[17]||(v[17]=m("div",{class:"form-item-label"},"显示未读消息数：",-1)),m("div",di,[C(B,{checked:t.showUnreadCount,"onUpdate:checked":v[6]||(v[6]=T=>t.showUnreadCount=T),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),m("div",pi,[v[18]||(v[18]=m("div",{class:"form-item-label"},"显示新消息提示：",-1)),m("div",fi,[C(B,{checked:t.showNewMessageTip,"onUpdate:checked":v[7]||(v[7]=T=>t.showNewMessageTip=T),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),m("div",hi,[v[20]||(v[20]=m("div",{class:"form-item-label"},null,-1)),m("div",gi,[C(V,{type:"primary",loading:n.saveLoading,onClick:b},{default:R(()=>v[19]||(v[19]=[G("保存")])),_:1,__:[19]},8,["loading"])])])])])]),_:1})}}},vi=st(mi,[["__scopeId","data-v-a4615484"]]),_i={class:"web-app-box"},yi={class:"box-left"},bi={class:"box-wrapper"},wi={class:"web-app-style form-box"},Ci={class:"box-wrapper"},ki={class:"sdk-code"},Si={class:"box-wrapper"},Ei={class:"box-wrapper"},Ai={class:"box-right"},Bi={class:"demo-box"},$i=["src"],Pi={__name:"embed-website",setup(a){const r=Tt(),{robotInfo:i,external_config_pc:n}=Rt(r),{getRobot:e}=r,t=Lr(i.value),s=()=>{an(t),ct.success("复制成功")},u=X(),l=kt({headTitle:n.value.headTitle,headSubTitle:n.value.headSubTitle,headImage:n.value.headImage,lang:n.value.lang,pageStyle:n.value.pageStyle,floatBtn:n.value.floatBtn}),b=gt(()=>{let{pc_domain:T,robot_key:$}=i.value;return`${T}/web/#/chat?robot_key=${$}&language=zh-CN`});mt(l,T=>{v(T)});const A=T=>{v(T,"updataQuickComand")},v=(T,$)=>{document.getElementById("web-preview").contentWindow.postMessage({type:$||"onPreview",data:JSON.parse(JSON.stringify(T))},"*")},E={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},k=()=>{const{id:T}=i.value;let $={...Et(l)};ln({id:T,external_config_pc:JSON.stringify($)}).then(()=>{e(T),ct.success("保存成功")})},B=()=>{u.value.validate().then(()=>{k()}).catch(T=>{})},V=T=>{l.floatBtn={...T},B()};return(T,$)=>{const j=he,U=It,F=ge,Y=gn,M=ve,D=me,L=At;return Q(),tt("div",_i,[m("div",yi,[m("div",bi,[C(vt,{title:"样式设置"},{icon:R(()=>[C(j,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:R(()=>[C(U,{onClick:B,size:"small",type:"primary"},{default:R(()=>$[5]||($[5]=[G("保存")])),_:1,__:[5]})]),default:R(()=>[m("div",wi,[C(L,{ref_key:"formRef",ref:u,layout:"vertical",model:l,rules:E},{default:R(()=>[C(F,{class:"form-item",label:"页面标题",name:"headTitle"},{default:R(()=>[C(bn,{avatar:l.headImage,"onUpdate:avatar":$[0]||($[0]=P=>l.headImage=P),value:l.headTitle,"onUpdate:value":$[1]||($[1]=P=>l.headTitle=P)},null,8,["avatar","value"])]),_:1}),C(F,{class:"form-item",label:"简介",name:"headSubTitle"},{default:R(()=>[C(Y,{value:l.headSubTitle,"onUpdate:value":$[2]||($[2]=P=>l.headSubTitle=P),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),C(F,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:R(()=>[C(Hr,{value:l.pageStyle.headBackgroundColor,"onUpdate:value":$[3]||($[3]=P=>l.pageStyle.headBackgroundColor=P)},null,8,["value"])]),_:1}),C(F,{class:"form-item",label:"语言",name:"lang"},{default:R(()=>[C(D,{style:{width:"180px"},value:l.lang,"onUpdate:value":$[4]||($[4]=P=>l.lang=P),placeholder:"请选择语言"},{default:R(()=>[C(M,{value:"zh-CN"},{default:R(()=>$[6]||($[6]=[G("简体中文")])),_:1,__:[6]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),m("div",Ci,[C(vt,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:R(()=>[C(j,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:R(()=>[C(U,{onClick:s,size:"small"},{default:R(()=>$[7]||($[7]=[G("复制")])),_:1,__:[7]})]),default:R(()=>[m("div",ki,[m("pre",null,[m("code",null,at(ot(t)),1)])])]),_:1})]),m("div",Si,[C(wn,{type:ot(i).app_id_embed,onUpdata:A},null,8,["type"])]),m("div",Ei,[C(vi,{form:l,onSave:V},null,8,["form"])])]),m("div",Ai,[m("div",Bi,[m("iframe",{id:"web-preview",src:b.value,frameborder:"0"},null,8,$i)])])])}}},Ri=st(Pi,[["__scopeId","data-v-e8e93411"]]),Ti={class:"external-services-page"},Ii={class:"page-header"},Mi={class:"page-body"},Ni={class:"scroll-box"},Li={__name:"index",setup(a){const r=Tt(),{robotInfo:i}=Rt(r),{getRobot:n}=r,e={WebAPP:Nr,EmbedWebsite:Ri},t=X("WebAPP"),s=u=>{t.value=u.id};return qn("robotInfo",{robotInfo:i.value,getRobot:n}),(u,l)=>(Q(),tt("div",Ti,[m("div",Ii,[C(uo,{onChange:s,value:t.value,"onUpdate:value":l[0]||(l[0]=b=>t.value=b)},null,8,["value"])]),m("div",Mi,[m("div",Ni,[(Q(),St(On(e[t.value])))])])]))}},Ts=st(Li,[["__scopeId","data-v-52e761d5"]]);export{Ts as default};
