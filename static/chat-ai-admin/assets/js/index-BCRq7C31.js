var Sn=Object.defineProperty;var $n=(e,t,o)=>t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var et=(e,t,o)=>($n(e,typeof t!="symbol"?t+"":t,o),o);import{k as v,e as W,M as J,N as Z,W as g,U as Lt,a7 as At,Z as lt,S as A,a as An,x as En,a5 as Bn,a9 as Ot,w as mt,B as Bt,Y,u as it,V as Ie,Q as Tt,aa as Pt,a1 as fe,a2 as ge,a4 as Tn,b as gt,F as Me,$ as Pn,a6 as oe,p as In,ab as Mn}from"./vue-chunks-BjMuQ6KD.js";import{u as Ht}from"./robot-Buya70Kq.js";import{A as Nn,b as rt,az as Rn,ar as Ln,k as ut,M as Ne,E as xn,d as me,B as Vt,bt as Fe}from"../../index-CfxQ5aRu.js";import{M as Un}from"./index-Bx_z5H0C.js";import{l as Fn,u as Dn,m as On,n as Hn,o as Vn,p as De}from"./index-W8wCYhw3.js";import{u as Oe}from"./index-BLNMWHkL.js";import{C as He}from"./cu-upload-ClnFwtpn.js";import"./index-DcUUFn-g.js";import{I as zt}from"./Input-C5WaaE9Z.js";import{i as zn}from"./validate-8MtiUsxW.js";import{d as jn}from"./vuedraggable.umd-D6lXKDzo.js";import{F as It,_ as _e}from"./index-xqeVJHPz.js";import"./index-DPiF7UEG.js";import{R as Ve,_ as ze}from"./RadioButton-_iRIgmgW.js";import{Q as Kn}from"./QuestionCircleOutlined-Deh272L3.js";import{E as qn}from"./EditOutlined-COZMcG4o.js";import{_ as Jn}from"./index-C-uK-k7U.js";import{_ as je}from"./index-BCGkuM1J.js";import{_ as Ke}from"./TextArea-CN_AI7y7.js";import{_ as Yn}from"./index-D1MiuDW_.js";import{S as ve,_ as ye}from"./index-BuS_bfCI.js";import{R as Wn}from"./RightOutlined-BHf0iqSq.js";import{P as Qn}from"./PlusOutlined-xiVHYVI8.js";import{_ as Gn}from"./index-QsoU6-T8.js";import"./axios-Cm0UX6qg.js";import"./qs-DjdPq-RR.js";import"./crypto-js-BemCeW_6.js";import"./dayjs-DK4rpucX.js";import"./shallowequal-B6gQS78g.js";import"./Trigger-Dy6Dc2CN.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-BH6Vz7El.js";import"./slide-BYYxYcj9.js";import"./index-CXSrVsd0.js";import"./FormItemContext-DQ1b1ToO.js";import"./index-D6-G2N0k.js";import"./Search-DozVr2pE.js";import"./SearchOutlined-B7dGgS_P.js";import"./isPlainObject-xAKL-sfk.js";import"./inputProps-D7qr__m5.js";import"./Password-BCnVcrNJ.js";import"./responsiveObserve-X1b6Czsg.js";import"./Checkbox-DQe8ZxR1.js";import"./colors-C9XVGyX_.js";import"./CheckOutlined-BLsT0eZM.js";import"./DownOutlined-Gk0UBxct.js";import"./move-BjmscfYf.js";import"./UpOutlined-CY9GinGn.js";var Xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"};const Zn=Xn;function Re(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable}))),i.forEach(function(s){to(e,s,o[s])})}return e}function to(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var be=function(t,o){var i=Re({},t,o.attrs);return v(Nn,Re({},i,{icon:Zn}),null)};be.displayName="MessageOutlined";be.inheritAttrs=!1;const eo=be,no={class:"top-menu-box"},oo={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(e,{emit:t}){const o=t,s=W([e.value]),n=W([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"}]),a=({item:c})=>{s.value.includes(c.id)||(o("update:value",c.id),o("change",c))};return(c,l)=>{const y=Un;return J(),Z("div",no,[v(y,{class:"top-menu",items:n.value,selectedKeys:s.value,"onUpdate:selectedKeys":l[0]||(l[0]=w=>s.value=w),mode:"horizontal",onClick:a},null,8,["items","selectedKeys"])])}}},so=rt(oo,[["__scopeId","data-v-6af29b18"]]);var _t={},io=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qe={},ot={};let we;const ro=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ot.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ot.getSymbolTotalCodewords=function(t){return ro[t]};ot.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ot.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');we=t};ot.isKanjiModeEnabled=function(){return typeof we<"u"};ot.toSJIS=function(t){return we(t)};var jt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+o)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,s){if(e.isValid(i))return i;try{return t(i)}catch{return s}}})(jt);function Je(){this.buffer=[],this.length=0}Je.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let o=0;o<t;o++)this.putBit((e>>>t-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ao=Je;function Nt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Nt.prototype.set=function(e,t,o,i){const s=e*this.size+t;this.data[s]=o,i&&(this.reservedBit[s]=!0)};Nt.prototype.get=function(e,t){return this.data[e*this.size+t]};Nt.prototype.xor=function(e,t,o){this.data[e*this.size+t]^=o};Nt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var lo=Nt,Ye={};(function(e){const t=ot.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,n=t(i),a=n===145?26:Math.ceil((n-13)/(2*s-2))*2,c=[n-7];for(let l=1;l<s-1;l++)c[l]=c[l-1]-a;return c.push(6),c.reverse()},e.getPositions=function(i){const s=[],n=e.getRowColCoords(i),a=n.length;for(let c=0;c<a;c++)for(let l=0;l<a;l++)c===0&&l===0||c===0&&l===a-1||c===a-1&&l===0||s.push([n[c],n[l]]);return s}})(Ye);var We={};const co=ot.getSymbolSize,Le=7;We.getPositions=function(t){const o=co(t);return[[0,0],[o-Le,0],[0,o-Le]]};var Qe={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const n=s.size;let a=0,c=0,l=0,y=null,w=null;for(let N=0;N<n;N++){c=l=0,y=w=null;for(let C=0;C<n;C++){let k=s.get(N,C);k===y?c++:(c>=5&&(a+=t.N1+(c-5)),y=k,c=1),k=s.get(C,N),k===w?l++:(l>=5&&(a+=t.N1+(l-5)),w=k,l=1)}c>=5&&(a+=t.N1+(c-5)),l>=5&&(a+=t.N1+(l-5))}return a},e.getPenaltyN2=function(s){const n=s.size;let a=0;for(let c=0;c<n-1;c++)for(let l=0;l<n-1;l++){const y=s.get(c,l)+s.get(c,l+1)+s.get(c+1,l)+s.get(c+1,l+1);(y===4||y===0)&&a++}return a*t.N2},e.getPenaltyN3=function(s){const n=s.size;let a=0,c=0,l=0;for(let y=0;y<n;y++){c=l=0;for(let w=0;w<n;w++)c=c<<1&2047|s.get(y,w),w>=10&&(c===1488||c===93)&&a++,l=l<<1&2047|s.get(w,y),w>=10&&(l===1488||l===93)&&a++}return a*t.N3},e.getPenaltyN4=function(s){let n=0;const a=s.data.length;for(let l=0;l<a;l++)n+=s.data[l];return Math.abs(Math.ceil(n*100/a/5)-10)*t.N4};function o(i,s,n){switch(i){case e.Patterns.PATTERN000:return(s+n)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(s+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return s*n%2+s*n%3===0;case e.Patterns.PATTERN110:return(s*n%2+s*n%3)%2===0;case e.Patterns.PATTERN111:return(s*n%3+(s+n)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(s,n){const a=n.size;for(let c=0;c<a;c++)for(let l=0;l<a;l++)n.isReserved(l,c)||n.xor(l,c,o(s,l,c))},e.getBestMask=function(s,n){const a=Object.keys(e.Patterns).length;let c=0,l=1/0;for(let y=0;y<a;y++){n(y),e.applyMask(y,s);const w=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(y,s),w<l&&(l=w,c=y)}return c}})(Qe);var Kt={};const dt=jt,xt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ut=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Kt.getBlocksCount=function(t,o){switch(o){case dt.L:return xt[(t-1)*4+0];case dt.M:return xt[(t-1)*4+1];case dt.Q:return xt[(t-1)*4+2];case dt.H:return xt[(t-1)*4+3];default:return}};Kt.getTotalCodewordsCount=function(t,o){switch(o){case dt.L:return Ut[(t-1)*4+0];case dt.M:return Ut[(t-1)*4+1];case dt.Q:return Ut[(t-1)*4+2];case dt.H:return Ut[(t-1)*4+3];default:return}};var Ge={},qt={};const Et=new Uint8Array(512),Ft=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)Et[o]=t,Ft[t]=o,t<<=1,t&256&&(t^=285);for(let o=255;o<512;o++)Et[o]=Et[o-255]})();qt.log=function(t){if(t<1)throw new Error("log("+t+")");return Ft[t]};qt.exp=function(t){return Et[t]};qt.mul=function(t,o){return t===0||o===0?0:Et[Ft[t]+Ft[o]]};(function(e){const t=qt;e.mul=function(i,s){const n=new Uint8Array(i.length+s.length-1);for(let a=0;a<i.length;a++)for(let c=0;c<s.length;c++)n[a+c]^=t.mul(i[a],s[c]);return n},e.mod=function(i,s){let n=new Uint8Array(i);for(;n.length-s.length>=0;){const a=n[0];for(let l=0;l<s.length;l++)n[l]^=t.mul(s[l],a);let c=0;for(;c<n.length&&n[c]===0;)c++;n=n.slice(c)}return n},e.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let n=0;n<i;n++)s=e.mul(s,new Uint8Array([1,t.exp(n)]));return s}})(Ge);const Xe=Ge;function Ce(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ce.prototype.initialize=function(t){this.degree=t,this.genPoly=Xe.generateECPolynomial(this.degree)};Ce.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(t.length+this.degree);o.set(t);const i=Xe.mod(o,this.genPoly),s=this.degree-i.length;if(s>0){const n=new Uint8Array(this.degree);return n.set(i,s),n}return i};var uo=Ce,Ze={},pt={},ke={};ke.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var at={};const tn="[0-9]+",po="[A-Z $%*+\\-./:]+";let Mt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mt=Mt.replace(/u/g,"\\u");const ho="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mt+`)(?:.|[\r
]))+`;at.KANJI=new RegExp(Mt,"g");at.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");at.BYTE=new RegExp(ho,"g");at.NUMERIC=new RegExp(tn,"g");at.ALPHANUMERIC=new RegExp(po,"g");const fo=new RegExp("^"+Mt+"$"),go=new RegExp("^"+tn+"$"),mo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");at.testKanji=function(t){return fo.test(t)};at.testNumeric=function(t){return go.test(t)};at.testAlphanumeric=function(t){return mo.test(t)};(function(e){const t=ke,o=at;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(n,a){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?n.ccBits[0]:a<27?n.ccBits[1]:n.ccBits[2]},e.getBestModeForData=function(n){return o.testNumeric(n)?e.NUMERIC:o.testAlphanumeric(n)?e.ALPHANUMERIC:o.testKanji(n)?e.KANJI:e.BYTE},e.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},e.isValid=function(n){return n&&n.bit&&n.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(n,a){if(e.isValid(n))return n;try{return i(n)}catch{return a}}})(pt);(function(e){const t=ot,o=Kt,i=jt,s=pt,n=ke,a=7973,c=t.getBCHDigit(a);function l(C,k,S){for(let L=1;L<=40;L++)if(k<=e.getCapacity(L,S,C))return L}function y(C,k){return s.getCharCountIndicator(C,k)+4}function w(C,k){let S=0;return C.forEach(function(L){const E=y(L.mode,k);S+=E+L.getBitsLength()}),S}function N(C,k){for(let S=1;S<=40;S++)if(w(C,S)<=e.getCapacity(S,k,s.MIXED))return S}e.from=function(k,S){return n.isValid(k)?parseInt(k,10):S},e.getCapacity=function(k,S,L){if(!n.isValid(k))throw new Error("Invalid QR Code version");typeof L>"u"&&(L=s.BYTE);const E=t.getSymbolTotalCodewords(k),$=o.getTotalCodewordsCount(k,S),x=(E-$)*8;if(L===s.MIXED)return x;const T=x-y(L,k);switch(L){case s.NUMERIC:return Math.floor(T/10*3);case s.ALPHANUMERIC:return Math.floor(T/11*2);case s.KANJI:return Math.floor(T/13);case s.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(k,S){let L;const E=i.from(S,i.M);if(Array.isArray(k)){if(k.length>1)return N(k,E);if(k.length===0)return 1;L=k[0]}else L=k;return l(L.mode,L.getLength(),E)},e.getEncodedBits=function(k){if(!n.isValid(k)||k<7)throw new Error("Invalid QR Code version");let S=k<<12;for(;t.getBCHDigit(S)-c>=0;)S^=a<<t.getBCHDigit(S)-c;return k<<12|S}})(Ze);var en={};const ce=ot,nn=1335,_o=21522,xe=ce.getBCHDigit(nn);en.getEncodedBits=function(t,o){const i=t.bit<<3|o;let s=i<<10;for(;ce.getBCHDigit(s)-xe>=0;)s^=nn<<ce.getBCHDigit(s)-xe;return(i<<10|s)^_o};var on={};const vo=pt;function vt(e){this.mode=vo.NUMERIC,this.data=e.toString()}vt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};vt.prototype.getLength=function(){return this.data.length};vt.prototype.getBitsLength=function(){return vt.getBitsLength(this.data.length)};vt.prototype.write=function(t){let o,i,s;for(o=0;o+3<=this.data.length;o+=3)i=this.data.substr(o,3),s=parseInt(i,10),t.put(s,10);const n=this.data.length-o;n>0&&(i=this.data.substr(o),s=parseInt(i,10),t.put(s,n*3+1))};var yo=vt;const bo=pt,se=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function yt(e){this.mode=bo.ALPHANUMERIC,this.data=e}yt.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};yt.prototype.getLength=function(){return this.data.length};yt.prototype.getBitsLength=function(){return yt.getBitsLength(this.data.length)};yt.prototype.write=function(t){let o;for(o=0;o+2<=this.data.length;o+=2){let i=se.indexOf(this.data[o])*45;i+=se.indexOf(this.data[o+1]),t.put(i,11)}this.data.length%2&&t.put(se.indexOf(this.data[o]),6)};var wo=yt,Co=function(t){for(var o=[],i=t.length,s=0;s<i;s++){var n=t.charCodeAt(s);if(n>=55296&&n<=56319&&i>s+1){var a=t.charCodeAt(s+1);a>=56320&&a<=57343&&(n=(n-55296)*1024+a-56320+65536,s+=1)}if(n<128){o.push(n);continue}if(n<2048){o.push(n>>6|192),o.push(n&63|128);continue}if(n<55296||n>=57344&&n<65536){o.push(n>>12|224),o.push(n>>6&63|128),o.push(n&63|128);continue}if(n>=65536&&n<=1114111){o.push(n>>18|240),o.push(n>>12&63|128),o.push(n>>6&63|128),o.push(n&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const ko=Co,So=pt;function bt(e){this.mode=So.BYTE,typeof e=="string"&&(e=ko(e)),this.data=new Uint8Array(e)}bt.getBitsLength=function(t){return t*8};bt.prototype.getLength=function(){return this.data.length};bt.prototype.getBitsLength=function(){return bt.getBitsLength(this.data.length)};bt.prototype.write=function(e){for(let t=0,o=this.data.length;t<o;t++)e.put(this.data[t],8)};var $o=bt;const Ao=pt,Eo=ot;function wt(e){this.mode=Ao.KANJI,this.data=e}wt.getBitsLength=function(t){return t*13};wt.prototype.getLength=function(){return this.data.length};wt.prototype.getBitsLength=function(){return wt.getBitsLength(this.data.length)};wt.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let o=Eo.toSJIS(this.data[t]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),e.put(o,13)}};var Bo=wt,sn={exports:{}};(function(e){var t={single_source_shortest_paths:function(o,i,s){var n={},a={};a[i]=0;var c=t.PriorityQueue.make();c.push(i,0);for(var l,y,w,N,C,k,S,L,E;!c.empty();){l=c.pop(),y=l.value,N=l.cost,C=o[y]||{};for(w in C)C.hasOwnProperty(w)&&(k=C[w],S=N+k,L=a[w],E=typeof a[w]>"u",(E||L>S)&&(a[w]=S,c.push(w,S),n[w]=y))}if(typeof s<"u"&&typeof a[s]>"u"){var $=["Could not find a path from ",i," to ",s,"."].join("");throw new Error($)}return n},extract_shortest_path_from_predecessor_list:function(o,i){for(var s=[],n=i;n;)s.push(n),o[n],n=o[n];return s.reverse(),s},find_path:function(o,i,s){var n=t.single_source_shortest_paths(o,i,s);return t.extract_shortest_path_from_predecessor_list(n,s)},PriorityQueue:{make:function(o){var i=t.PriorityQueue,s={},n;o=o||{};for(n in i)i.hasOwnProperty(n)&&(s[n]=i[n]);return s.queue=[],s.sorter=o.sorter||i.default_sorter,s},default_sorter:function(o,i){return o.cost-i.cost},push:function(o,i){var s={value:o,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(sn);var To=sn.exports;(function(e){const t=pt,o=yo,i=wo,s=$o,n=Bo,a=at,c=ot,l=To;function y($){return unescape(encodeURIComponent($)).length}function w($,x,T){const I=[];let F;for(;(F=$.exec(T))!==null;)I.push({data:F[0],index:F.index,mode:x,length:F[0].length});return I}function N($){const x=w(a.NUMERIC,t.NUMERIC,$),T=w(a.ALPHANUMERIC,t.ALPHANUMERIC,$);let I,F;return c.isKanjiModeEnabled()?(I=w(a.BYTE,t.BYTE,$),F=w(a.KANJI,t.KANJI,$)):(I=w(a.BYTE_KANJI,t.BYTE,$),F=[]),x.concat(T,I,F).sort(function(z,K){return z.index-K.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function C($,x){switch(x){case t.NUMERIC:return o.getBitsLength($);case t.ALPHANUMERIC:return i.getBitsLength($);case t.KANJI:return n.getBitsLength($);case t.BYTE:return s.getBitsLength($)}}function k($){return $.reduce(function(x,T){const I=x.length-1>=0?x[x.length-1]:null;return I&&I.mode===T.mode?(x[x.length-1].data+=T.data,x):(x.push(T),x)},[])}function S($){const x=[];for(let T=0;T<$.length;T++){const I=$[T];switch(I.mode){case t.NUMERIC:x.push([I,{data:I.data,mode:t.ALPHANUMERIC,length:I.length},{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.ALPHANUMERIC:x.push([I,{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.KANJI:x.push([I,{data:I.data,mode:t.BYTE,length:y(I.data)}]);break;case t.BYTE:x.push([{data:I.data,mode:t.BYTE,length:y(I.data)}])}}return x}function L($,x){const T={},I={start:{}};let F=["start"];for(let H=0;H<$.length;H++){const z=$[H],K=[];for(let j=0;j<z.length;j++){const M=z[j],P=""+H+j;K.push(P),T[P]={node:M,lastCount:0},I[P]={};for(let Q=0;Q<F.length;Q++){const q=F[Q];T[q]&&T[q].node.mode===M.mode?(I[q][P]=C(T[q].lastCount+M.length,M.mode)-C(T[q].lastCount,M.mode),T[q].lastCount+=M.length):(T[q]&&(T[q].lastCount=M.length),I[q][P]=C(M.length,M.mode)+4+t.getCharCountIndicator(M.mode,x))}}F=K}for(let H=0;H<F.length;H++)I[F[H]].end=0;return{map:I,table:T}}function E($,x){let T;const I=t.getBestModeForData($);if(T=t.from(x,I),T!==t.BYTE&&T.bit<I.bit)throw new Error('"'+$+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(I));switch(T===t.KANJI&&!c.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new o($);case t.ALPHANUMERIC:return new i($);case t.KANJI:return new n($);case t.BYTE:return new s($)}}e.fromArray=function(x){return x.reduce(function(T,I){return typeof I=="string"?T.push(E(I,null)):I.data&&T.push(E(I.data,I.mode)),T},[])},e.fromString=function(x,T){const I=N(x,c.isKanjiModeEnabled()),F=S(I),H=L(F,T),z=l.find_path(H.map,"start","end"),K=[];for(let j=1;j<z.length-1;j++)K.push(H.table[z[j]].node);return e.fromArray(k(K))},e.rawSplit=function(x){return e.fromArray(N(x,c.isKanjiModeEnabled()))}})(on);const Jt=ot,ie=jt,Po=ao,Io=lo,Mo=Ye,No=We,ue=Qe,de=Kt,Ro=uo,Dt=Ze,Lo=en,xo=pt,re=on;function Uo(e,t){const o=e.size,i=No.getPositions(t);for(let s=0;s<i.length;s++){const n=i[s][0],a=i[s][1];for(let c=-1;c<=7;c++)if(!(n+c<=-1||o<=n+c))for(let l=-1;l<=7;l++)a+l<=-1||o<=a+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?e.set(n+c,a+l,!0,!0):e.set(n+c,a+l,!1,!0))}}function Fo(e){const t=e.size;for(let o=8;o<t-8;o++){const i=o%2===0;e.set(o,6,i,!0),e.set(6,o,i,!0)}}function Do(e,t){const o=Mo.getPositions(t);for(let i=0;i<o.length;i++){const s=o[i][0],n=o[i][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?e.set(s+a,n+c,!0,!0):e.set(s+a,n+c,!1,!0)}}function Oo(e,t){const o=e.size,i=Dt.getEncodedBits(t);let s,n,a;for(let c=0;c<18;c++)s=Math.floor(c/3),n=c%3+o-8-3,a=(i>>c&1)===1,e.set(s,n,a,!0),e.set(n,s,a,!0)}function ae(e,t,o){const i=e.size,s=Lo.getEncodedBits(t,o);let n,a;for(n=0;n<15;n++)a=(s>>n&1)===1,n<6?e.set(n,8,a,!0):n<8?e.set(n+1,8,a,!0):e.set(i-15+n,8,a,!0),n<8?e.set(8,i-n-1,a,!0):n<9?e.set(8,15-n-1+1,a,!0):e.set(8,15-n-1,a,!0);e.set(i-8,8,1,!0)}function Ho(e,t){const o=e.size;let i=-1,s=o-1,n=7,a=0;for(let c=o-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!e.isReserved(s,c-l)){let y=!1;a<t.length&&(y=(t[a]>>>n&1)===1),e.set(s,c-l,y),n--,n===-1&&(a++,n=7)}if(s+=i,s<0||o<=s){s-=i,i=-i;break}}}function Vo(e,t,o){const i=new Po;o.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),xo.getCharCountIndicator(l.mode,e)),l.write(i)});const s=Jt.getSymbolTotalCodewords(e),n=de.getTotalCodewordsCount(e,t),a=(s-n)*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const c=(a-i.getLengthInBits())/8;for(let l=0;l<c;l++)i.put(l%2?17:236,8);return zo(i,e,t)}function zo(e,t,o){const i=Jt.getSymbolTotalCodewords(t),s=de.getTotalCodewordsCount(t,o),n=i-s,a=de.getBlocksCount(t,o),c=i%a,l=a-c,y=Math.floor(i/a),w=Math.floor(n/a),N=w+1,C=y-w,k=new Ro(C);let S=0;const L=new Array(a),E=new Array(a);let $=0;const x=new Uint8Array(e.buffer);for(let z=0;z<a;z++){const K=z<l?w:N;L[z]=x.slice(S,S+K),E[z]=k.encode(L[z]),S+=K,$=Math.max($,K)}const T=new Uint8Array(i);let I=0,F,H;for(F=0;F<$;F++)for(H=0;H<a;H++)F<L[H].length&&(T[I++]=L[H][F]);for(F=0;F<C;F++)for(H=0;H<a;H++)T[I++]=E[H][F];return T}function jo(e,t,o,i){let s;if(Array.isArray(e))s=re.fromArray(e);else if(typeof e=="string"){let y=t;if(!y){const w=re.rawSplit(e);y=Dt.getBestVersionForData(w,o)}s=re.fromString(e,y||40)}else throw new Error("Invalid data");const n=Dt.getBestVersionForData(s,o);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=n;else if(t<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const a=Vo(t,o,s),c=Jt.getSymbolSize(t),l=new Io(c);return Uo(l,t),Fo(l),Do(l,t),ae(l,o,0),t>=7&&Oo(l,t),Ho(l,a),isNaN(i)&&(i=ue.getBestMask(l,ae.bind(null,l,o))),ue.applyMask(i,l),ae(l,o,i),{modules:l,version:t,errorCorrectionLevel:o,maskPattern:i,segments:s}}qe.create=function(t,o){if(typeof t>"u"||t==="")throw new Error("No input text");let i=ie.M,s,n;return typeof o<"u"&&(i=ie.from(o.errorCorrectionLevel,ie.M),s=Dt.from(o.version),n=ue.from(o.maskPattern),o.toSJISFunc&&Jt.setToSJISFunction(o.toSJISFunc)),jo(t,s,i,n)};var rn={},Se={};(function(e){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let i=o.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+o);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(n){return[n,n]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,n=i.width&&i.width>=21?i.width:void 0,a=i.scale||4;return{width:n,scale:n?4:a,margin:s,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},e.getImageWidth=function(i,s){const n=e.getScale(i,s);return Math.floor((i+s.margin*2)*n)},e.qrToImageData=function(i,s,n){const a=s.modules.size,c=s.modules.data,l=e.getScale(a,n),y=Math.floor((a+n.margin*2)*l),w=n.margin*l,N=[n.color.light,n.color.dark];for(let C=0;C<y;C++)for(let k=0;k<y;k++){let S=(C*y+k)*4,L=n.color.light;if(C>=w&&k>=w&&C<y-w&&k<y-w){const E=Math.floor((C-w)/l),$=Math.floor((k-w)/l);L=N[c[E*a+$]?1:0]}i[S++]=L.r,i[S++]=L.g,i[S++]=L.b,i[S]=L.a}}})(Se);(function(e){const t=Se;function o(s,n,a){s.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=a,n.width=a,n.style.height=a+"px",n.style.width=a+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(n,a,c){let l=c,y=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(y=i()),l=t.getOptions(l);const w=t.getImageWidth(n.modules.size,l),N=y.getContext("2d"),C=N.createImageData(w,w);return t.qrToImageData(C.data,n,l),o(N,y,w),N.putImageData(C,0,0),y},e.renderToDataURL=function(n,a,c){let l=c;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const y=e.render(n,a,l),w=l.type||"image/png",N=l.rendererOpts||{};return y.toDataURL(w,N.quality)}})(rn);var an={};const Ko=Se;function Ue(e,t){const o=e.a/255,i=t+'="'+e.hex+'"';return o<1?i+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':i}function le(e,t,o){let i=e+t;return typeof o<"u"&&(i+=" "+o),i}function qo(e,t,o){let i="",s=0,n=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),y=Math.floor(c/t);!l&&!n&&(n=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(i+=n?le("M",l+o,.5+y+o):le("m",s,0),s=0,n=!1),l+1<t&&e[c+1]||(i+=le("h",a),a=0)):s++}return i}an.render=function(t,o,i){const s=Ko.getOptions(o),n=t.modules.size,a=t.modules.data,c=n+s.margin*2,l=s.color.light.a?"<path "+Ue(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",y="<path "+Ue(s.color.dark,"stroke")+' d="'+qo(a,n,s.margin)+'"/>',w='viewBox="0 0 '+c+" "+c+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+w+' shape-rendering="crispEdges">'+l+y+`</svg>
`;return typeof i=="function"&&i(null,C),C};const Jo=io,pe=qe,ln=rn,Yo=an;function $e(e,t,o,i,s){const n=[].slice.call(arguments,1),a=n.length,c=typeof n[a-1]=="function";if(!c&&!Jo())throw new Error("Callback required as last argument");if(c){if(a<2)throw new Error("Too few arguments provided");a===2?(s=o,o=t,t=i=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=o,o=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(o=t,t=i=void 0):a===2&&!t.getContext&&(i=o,o=t,t=void 0),new Promise(function(l,y){try{const w=pe.create(o,i);l(e(w,t,i))}catch(w){y(w)}})}try{const l=pe.create(o,i);s(null,e(l,t,i))}catch(l){s(l)}}_t.create=pe.create;_t.toCanvas=$e.bind(null,ln.render);_t.toDataURL=$e.bind(null,ln.renderToDataURL);_t.toString=$e.bind(null,function(e,t,o){return Yo.render(e,o)});const Wo={class:"card-box"},Qo={class:"card-box-header"},Go={class:"card-title"},Xo={key:0,class:"card-icon"},Zo={class:"title-text"},ts={class:"title-text"},es={class:"action"},ns={class:"card-box-body"},os={__name:"card-box",props:{title:{type:String,default:""}},setup(e){const t=e;return(o,i)=>(J(),Z("div",Wo,[g("div",Qo,[g("div",Go,[o.$slots.icon?(J(),Z("span",Xo,[Lt(o.$slots,"icon",{},void 0,!0)])):At("",!0),g("span",Zo,lt(t.title),1),g("span",ts,[Lt(o.$slots,"title",{},void 0,!0)])]),g("div",es,[Lt(o.$slots,"action",{},void 0,!0)])]),g("div",ns,[Lt(o.$slots,"default",{},void 0,!0)])]))}},Ct=rt(os,[["__scopeId","data-v-3163046b"]]),ss={class:"page-title-input"},is={class:"upload-logo"},rs=["src"],as={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(e,{emit:t}){const o=t,i=e,s=a=>{o("update:value",a.srcElement.value)},n=a=>{let c={file:a[0],category:"icon"};i.autoUpload&&Oe(c).then(l=>{o("update:avatar",l.data.link)}),Rn(a[0]).then(l=>{o("changeAvatar",{file:a[0],url:l})})};return(a,c)=>{const l=zt;return J(),Z("div",ss,[g("div",is,[v(He,{onChange:n},{default:A(()=>[g("img",{class:"avatar",src:i.avatar},null,8,rs)]),_:1})]),v(l,{size:"large",value:i.value,placeholder:e.placeholder,onInput:s},null,8,["value","placeholder"])])}}},cn=rt(as,[["__scopeId","data-v-33c7eb3d"]]);var un={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */(function(e,t){(function(o,i){e.exports=i()})(self,()=>(()=>{var o={d:(b,r)=>{for(var d in r)o.o(r,d)&&!o.o(b,d)&&Object.defineProperty(b,d,{enumerable:!0,get:r[d]})},o:(b,r)=>Object.prototype.hasOwnProperty.call(b,r),r:b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}},i={};o.d(i,{default:()=>ct});var s={};function n(b,r,d,p,m={}){r instanceof HTMLCollection||r instanceof NodeList?r=Array.from(r):Array.isArray(r)||(r=[r]),Array.isArray(d)||(d=[d]);for(const u of r)for(const h of d)u[b](h,p,{capture:!1,...m});return Array.prototype.slice.call(arguments,1)}o.r(s),o.d(s,{adjustableInputNumbers:()=>C,createElementFromString:()=>l,createFromTemplate:()=>y,eventPath:()=>w,off:()=>c,on:()=>a,resolveElement:()=>N});const a=n.bind(null,"addEventListener"),c=n.bind(null,"removeEventListener");function l(b){const r=document.createElement("div");return r.innerHTML=b.trim(),r.firstElementChild}function y(b){const r=(p,m)=>{const u=p.getAttribute(m);return p.removeAttribute(m),u},d=(p,m={})=>{const u=r(p,":obj"),h=r(p,":ref"),f=u?m[u]={}:m;h&&(m[h]=p);for(const _ of Array.from(p.children)){const B=r(_,":arr"),R=d(_,B?{}:f);B&&(f[B]||(f[B]=[])).push(Object.keys(R).length?R:_)}return m};return d(l(b))}function w(b){let r=b.path||b.composedPath&&b.composedPath();if(r)return r;let d=b.target.parentElement;for(r=[b.target,d];d=d.parentElement;)r.push(d);return r.push(document,window),r}function N(b){return b instanceof Element?b:typeof b=="string"?b.split(/>>/g).reduce((r,d,p,m)=>(r=r.querySelector(d),p<m.length-1?r.shadowRoot:r),document):null}function C(b,r=d=>d){function d(p){const m=[.001,.01,.1][Number(p.shiftKey||2*p.ctrlKey)]*(p.deltaY<0?1:-1);let u=0,h=b.selectionStart;b.value=b.value.replace(/[\d.]+/g,(f,_)=>_<=h&&_+f.length>=h?(h=_,r(Number(f),m,u)):(u++,f)),b.focus(),b.setSelectionRange(h,h),p.preventDefault(),b.dispatchEvent(new Event("input"))}a(b,"focus",()=>a(window,"wheel",d,{passive:!1})),a(b,"blur",()=>c(window,"wheel",d))}const{min:k,max:S,floor:L,round:E}=Math;function $(b,r,d){r/=100,d/=100;const p=L(b=b/360*6),m=b-p,u=d*(1-r),h=d*(1-m*r),f=d*(1-(1-m)*r),_=p%6;return[255*[d,h,u,u,f,d][_],255*[f,d,d,h,u,u][_],255*[u,u,f,d,d,h][_]]}function x(b,r,d){const p=(2-(r/=100))*(d/=100)/2;return p!==0&&(r=p===1?0:p<.5?r*d/(2*p):r*d/(2-2*p)),[b,100*r,100*p]}function T(b,r,d){const p=k(b/=255,r/=255,d/=255),m=S(b,r,d),u=m-p;let h,f;if(u===0)h=f=0;else{f=u/m;const _=((m-b)/6+u/2)/u,B=((m-r)/6+u/2)/u,R=((m-d)/6+u/2)/u;b===m?h=R-B:r===m?h=1/3+_-R:d===m&&(h=2/3+B-_),h<0?h+=1:h>1&&(h-=1)}return[360*h,100*f,100*m]}function I(b,r,d,p){return r/=100,d/=100,[...T(255*(1-k(1,(b/=100)*(1-(p/=100))+p)),255*(1-k(1,r*(1-p)+p)),255*(1-k(1,d*(1-p)+p)))]}function F(b,r,d){r/=100;const p=2*(r*=(d/=100)<.5?d:1-d)/(d+r)*100,m=100*(d+r);return[b,isNaN(p)?0:p,m]}function H(b){return T(...b.match(/.{2}/g).map(r=>parseInt(r,16)))}function z(b){b=b.match(/^[a-zA-Z]+$/)?function(m){if(m.toLowerCase()==="black")return"#000";const u=document.createElement("canvas").getContext("2d");return u.fillStyle=m,u.fillStyle==="#000"?null:u.fillStyle}(b):b;const r={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},d=m=>m.map(u=>/^(|\d+)\.\d+|\d+$/.test(u)?Number(u):void 0);let p;t:for(const m in r)if(p=r[m].exec(b))switch(m){case"cmyk":{const[,u,h,f,_]=d(p);if(u>100||h>100||f>100||_>100)break t;return{values:I(u,h,f,_),type:m}}case"rgba":{let[,u,,h,,f,,,_]=d(p);if(u=p[2]==="%"?u/100*255:u,h=p[4]==="%"?h/100*255:h,f=p[6]==="%"?f/100*255:f,_=p[9]==="%"?_/100:_,u>255||h>255||f>255||_<0||_>1)break t;return{values:[...T(u,h,f),_],a:_,type:m}}case"hexa":{let[,u]=p;u.length!==4&&u.length!==3||(u=u.split("").map(_=>_+_).join(""));const h=u.substring(0,6);let f=u.substring(6);return f=f?parseInt(f,16)/255:void 0,{values:[...H(h),f],a:f,type:m}}case"hsla":{let[,u,h,f,,_]=d(p);if(_=p[6]==="%"?_/100:_,u>360||h>100||f>100||_<0||_>1)break t;return{values:[...F(u,h,f),_],a:_,type:m}}case"hsva":{let[,u,h,f,,_]=d(p);if(_=p[6]==="%"?_/100:_,u>360||h>100||f>100||_<0||_>1)break t;return{values:[u,h,f,_],a:_,type:m}}}return{values:null,type:null}}function K(b=0,r=0,d=0,p=1){const m=(h,f)=>(_=-1)=>f(~_?h.map(B=>Number(B.toFixed(_))):h),u={h:b,s:r,v:d,a:p,toHSVA(){const h=[u.h,u.s,u.v,u.a];return h.toString=m(h,f=>`hsva(${f[0]}, ${f[1]}%, ${f[2]}%, ${u.a})`),h},toHSLA(){const h=[...x(u.h,u.s,u.v),u.a];return h.toString=m(h,f=>`hsla(${f[0]}, ${f[1]}%, ${f[2]}%, ${u.a})`),h},toRGBA(){const h=[...$(u.h,u.s,u.v),u.a];return h.toString=m(h,f=>`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${u.a})`),h},toCMYK(){const h=function(f,_,B){const R=$(f,_,B),U=R[0]/255,O=R[1]/255,D=R[2]/255,V=k(1-U,1-O,1-D);return[100*(V===1?0:(1-U-V)/(1-V)),100*(V===1?0:(1-O-V)/(1-V)),100*(V===1?0:(1-D-V)/(1-V)),100*V]}(u.h,u.s,u.v);return h.toString=m(h,f=>`cmyk(${f[0]}%, ${f[1]}%, ${f[2]}%, ${f[3]}%)`),h},toHEXA(){const h=function(_,B,R){return $(_,B,R).map(U=>E(U).toString(16).padStart(2,"0"))}(u.h,u.s,u.v),f=u.a>=1?"":Number((255*u.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return f&&h.push(f),h.toString=()=>`#${h.join("").toUpperCase()}`,h},clone:()=>K(u.h,u.s,u.v,u.a)};return u}const j=b=>Math.max(Math.min(b,1),0);function M(b){const r={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},b),_keyboard(u){const{options:h}=r,{type:f,key:_}=u;if(document.activeElement===h.wrapper){const{lock:B}=r.options,R=_==="ArrowUp",U=_==="ArrowRight",O=_==="ArrowDown",D=_==="ArrowLeft";if(f==="keydown"&&(R||U||O||D)){let V=0,X=0;B==="v"?V=R||U?1:-1:B==="h"?V=R||U?-1:1:(X=R?-1:O?1:0,V=D?-1:U?1:0),r.update(j(r.cache.x+.01*V),j(r.cache.y+.01*X)),u.preventDefault()}else _.startsWith("Arrow")&&(r.options.onstop(),u.preventDefault())}},_tapstart(u){a(document,["mouseup","touchend","touchcancel"],r._tapstop),a(document,["mousemove","touchmove"],r._tapmove),u.cancelable&&u.preventDefault(),r._tapmove(u)},_tapmove(u){const{options:h,cache:f}=r,{lock:_,element:B,wrapper:R}=h,U=R.getBoundingClientRect();let O=0,D=0;if(u){const ht=u&&u.touches&&u.touches[0];O=u?(ht||u).clientX:0,D=u?(ht||u).clientY:0,O<U.left?O=U.left:O>U.left+U.width&&(O=U.left+U.width),D<U.top?D=U.top:D>U.top+U.height&&(D=U.top+U.height),O-=U.left,D-=U.top}else f&&(O=f.x*U.width,D=f.y*U.height);_!=="h"&&(B.style.left=`calc(${O/U.width*100}% - ${B.offsetWidth/2}px)`),_!=="v"&&(B.style.top=`calc(${D/U.height*100}% - ${B.offsetHeight/2}px)`),r.cache={x:O/U.width,y:D/U.height};const V=j(O/U.width),X=j(D/U.height);switch(_){case"v":return h.onchange(V);case"h":return h.onchange(X);default:return h.onchange(V,X)}},_tapstop(){r.options.onstop(),c(document,["mouseup","touchend","touchcancel"],r._tapstop),c(document,["mousemove","touchmove"],r._tapmove)},trigger(){r._tapmove()},update(u=0,h=0){const{left:f,top:_,width:B,height:R}=r.options.wrapper.getBoundingClientRect();r.options.lock==="h"&&(h=u),r._tapmove({clientX:f+B*u,clientY:_+R*h})},destroy(){const{options:u,_tapstart:h,_keyboard:f}=r;c(document,["keydown","keyup"],f),c([u.wrapper,u.element],"mousedown",h),c([u.wrapper,u.element],"touchstart",h,{passive:!1})}},{options:d,_tapstart:p,_keyboard:m}=r;return a([d.wrapper,d.element],"mousedown",p),a([d.wrapper,d.element],"touchstart",p,{passive:!1}),a(document,["keydown","keyup"],m),r}function P(b={}){b=Object.assign({onchange:()=>0,className:"",elements:[]},b);const r=a(b.elements,"click",d=>{b.elements.forEach(p=>p.classList[d.target===p?"add":"remove"](b.className)),b.onchange(d),d.stopPropagation()});return{destroy:()=>c(...r)}}const Q={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},q=(b,r,d)=>{const p=typeof b!="object"||b instanceof HTMLElement?{reference:b,popper:r,...d}:b;return{update(m=p){const{reference:u,popper:h}=Object.assign(p,m);if(!h||!u)throw new Error("Popper- or reference-element missing.");return((f,_,B)=>{const{container:R,arrow:U,margin:O,padding:D,position:V,variantFlipOrder:X,positionFlipOrder:ht}={container:document.documentElement.getBoundingClientRect(),...Q,...B},{left:Wt,top:Qt}=_.style;_.style.left="0",_.style.top="0";const tt=f.getBoundingClientRect(),st=_.getBoundingClientRect(),pn={t:tt.top-st.height-O,b:tt.bottom+O,r:tt.right+O,l:tt.left-st.width-O},hn={vs:tt.left,vm:tt.left+tt.width/2-st.width/2,ve:tt.left+tt.width-st.width,hs:tt.top,hm:tt.bottom-tt.height/2-st.height/2,he:tt.bottom-st.height},[fn,gn="middle"]=V.split("-"),mn=ht[fn],_n=X[gn],{top:Ae,left:Ee,bottom:Be,right:Te}=R;for(const kt of mn){const ft=kt==="t"||kt==="b";let St=pn[kt];const[Gt,Xt]=ft?["top","left"]:["left","top"],[Zt,te]=ft?[st.height,st.width]:[st.width,st.height],[vn,yn]=ft?[Be,Te]:[Te,Be],[bn,wn]=ft?[Ae,Ee]:[Ee,Ae];if(!(St<bn||St+Zt+D>vn))for(const ee of _n){let $t=hn[(ft?"v":"h")+ee];if(!($t<wn||$t+te+D>yn)){if($t-=st[Xt],St-=st[Gt],_.style[Xt]=`${$t}px`,_.style[Gt]=`${St}px`,U){const ne=ft?tt.width/2:tt.height/2,Rt=te/2,Pe=ne>Rt,Cn=$t+{s:Pe?Rt:ne,m:Rt,e:Pe?Rt:te-ne}[ee],kn=St+{t:Zt,b:0,r:0,l:Zt}[kt];U.style[Xt]=`${Cn}px`,U.style[Gt]=`${kn}px`}return kt+ee}}}return _.style.left=Wt,_.style.top=Qt,null})(u,h,p)}}},G=class G{constructor(r){et(this,"_initializingActive",!0);et(this,"_recalc",!0);et(this,"_nanopop",null);et(this,"_root",null);et(this,"_color",K());et(this,"_lastColor",K());et(this,"_swatchColors",[]);et(this,"_setupAnimationFrame",null);et(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=r=Object.assign({...G.DEFAULT_OPTIONS},r);const{swatches:d,components:p,theme:m,sliders:u,lockOpacity:h,padding:f}=r;["nano","monolith"].includes(m)&&!u&&(r.sliders="h"),p.interaction||(p.interaction={});const{preview:_,opacity:B,hue:R,palette:U}=p;p.opacity=!h&&B,p.palette=U||_||B||R,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),d&&d.length&&d.forEach(X=>this.addSwatch(X));const{button:O,app:D}=this._root;this._nanopop=q(O,D,{margin:f}),O.setAttribute("role","button"),O.setAttribute("aria-label",this._t("btn:toggle"));const V=this;this._setupAnimationFrame=requestAnimationFrame(function X(){if(!D.offsetWidth)return requestAnimationFrame(X);V.setColor(r.default),V._rePositioningPicker(),r.defaultRepresentation&&(V._representation=r.defaultRepresentation,V.setColorRepresentation(V._representation)),r.showAlways&&V.show(),V._initializingActive=!1,V._emit("init")})}_preBuild(){const{options:r}=this;for(const d of["el","container"])r[d]=N(r[d]);this._root=(d=>{const{components:p,useAsButton:m,inline:u,appClass:h,theme:f,lockOpacity:_}=d.options,B=D=>D?"":'style="display:none" hidden',R=D=>d._t(D),U=y(`
      <div :ref="root" class="pickr">

        ${m?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${h||""}" data-theme="${f}" ${u?'style="position: unset"':""} aria-label="${R("ui:dialog")}" role="window">
          <div class="pcr-selection" ${B(p.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${B(p.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${R("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${R("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${B(p.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${R("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${B(p.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${R("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${p.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${B(Object.keys(p.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${B(p.interaction.input)} aria-label="${R("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${_?"HEX":"HEXA"}" type="button" ${B(p.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${_?"RGB":"RGBA"}" type="button" ${B(p.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${_?"HSL":"HSLA"}" type="button" ${B(p.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${_?"HSV":"HSVA"}" type="button" ${B(p.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${B(p.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${R("btn:save")}" type="button" ${B(p.interaction.save)} aria-label="${R("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${R("btn:cancel")}" type="button" ${B(p.interaction.cancel)} aria-label="${R("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${R("btn:clear")}" type="button" ${B(p.interaction.clear)} aria-label="${R("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),O=U.interaction;return O.options.find(D=>!D.hidden&&!D.classList.add("active")),O.type=()=>O.options.find(D=>D.classList.contains("active")),U})(this),r.useAsButton&&(this._root.button=r.el),r.container.appendChild(this._root.root)}_finalBuild(){const r=this.options,d=this._root;if(r.container.removeChild(d.root),r.inline){const p=r.el.parentElement;r.el.nextSibling?p.insertBefore(d.app,r.el.nextSibling):p.appendChild(d.app)}else r.container.appendChild(d.app);r.useAsButton?r.inline&&r.el.remove():r.el.parentNode.replaceChild(d.root,r.el),r.disabled&&this.disable(),r.comparison||(d.button.style.transition="none",r.useAsButton||(d.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const r=this,d=this.options.components,p=(r.options.sliders||"v").repeat(2),[m,u]=p.match(/^[vh]+$/g)?p:[],h=()=>this._color||(this._color=this._lastColor.clone()),f={palette:M({element:r._root.palette.picker,wrapper:r._root.palette.palette,onstop:()=>r._emit("changestop","slider",r),onchange(_,B){if(!d.palette)return;const R=h(),{_root:U,options:O}=r,{lastColor:D,currentColor:V}=U.preview;r._recalc&&(R.s=100*_,R.v=100-100*B,R.v<0&&(R.v=0),r._updateOutput("slider"));const X=R.toRGBA().toString(0);this.element.style.background=X,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${R.a}), transparent),
                        linear-gradient(to left, hsla(${R.h}, 100%, 50%, ${R.a}), rgba(255, 255, 255, ${R.a}))
                    `,O.comparison?O.useAsButton||r._lastColor||D.style.setProperty("--pcr-color",X):(U.button.style.setProperty("--pcr-color",X),U.button.classList.remove("clear"));const ht=R.toHEXA().toString();for(const{el:Wt,color:Qt}of r._swatchColors)Wt.classList[ht===Qt.toHEXA().toString()?"add":"remove"]("pcr-active");V.style.setProperty("--pcr-color",X)}}),hue:M({lock:u==="v"?"h":"v",element:r._root.hue.picker,wrapper:r._root.hue.slider,onstop:()=>r._emit("changestop","slider",r),onchange(_){if(!d.hue||!d.palette)return;const B=h();r._recalc&&(B.h=360*_),this.element.style.backgroundColor=`hsl(${B.h}, 100%, 50%)`,f.palette.trigger()}}),opacity:M({lock:m==="v"?"h":"v",element:r._root.opacity.picker,wrapper:r._root.opacity.slider,onstop:()=>r._emit("changestop","slider",r),onchange(_){if(!d.opacity||!d.palette)return;const B=h();r._recalc&&(B.a=Math.round(100*_)/100),this.element.style.background=`rgba(0, 0, 0, ${B.a})`,f.palette.trigger()}}),selectable:P({elements:r._root.interaction.options,className:"active",onchange(_){r._representation=_.target.getAttribute("data-type").toUpperCase(),r._recalc&&r._updateOutput("swatch")}})};this._components=f}_bindEvents(){const{_root:r,options:d}=this,p=[a(r.interaction.clear,"click",()=>this._clearColor()),a([r.interaction.cancel,r.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),a(r.interaction.save,"click",()=>{!this.applyColor()&&!d.showAlways&&this.hide()}),a(r.interaction.result,["keyup","input"],m=>{this.setColor(m.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),m.stopImmediatePropagation()}),a(r.interaction.result,["focus","blur"],m=>{this._recalc=m.type==="blur",this._recalc&&this._updateOutput(null)}),a([r.palette.palette,r.palette.picker,r.hue.slider,r.hue.picker,r.opacity.slider,r.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!d.showAlways){const m=d.closeWithKey;p.push(a(r.button,"click",()=>this.isOpen()?this.hide():this.show()),a(document,"keyup",u=>this.isOpen()&&(u.key===m||u.code===m)&&this.hide()),a(document,["touchstart","mousedown"],u=>{this.isOpen()&&!w(u).some(h=>h===r.app||h===r.button)&&this.hide()},{capture:!0}))}if(d.adjustableNumbers){const m={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};C(r.interaction.result,(u,h,f)=>{const _=m[this.getColorRepresentation().toLowerCase()];if(_){const B=_[f],R=u+(B>=100?1e3*h:h);return R<=0?0:Number((R<B?R:B).toPrecision(3))}return u})}if(d.autoReposition&&!d.inline){let m=null;const u=this;p.push(a(window,["scroll","resize"],()=>{u.isOpen()&&(d.closeOnScroll&&u.hide(),m===null?(m=setTimeout(()=>m=null,100),requestAnimationFrame(function h(){u._rePositioningPicker(),m!==null&&requestAnimationFrame(h)})):(clearTimeout(m),m=setTimeout(()=>m=null,100)))},{capture:!0}))}this._eventBindings=p}_rePositioningPicker(){const{options:r}=this;if(!r.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:r.position})){const d=this._root.app,p=d.getBoundingClientRect();d.style.top=(window.innerHeight-p.height)/2+"px",d.style.left=(window.innerWidth-p.width)/2+"px"}}_updateOutput(r){const{_root:d,_color:p,options:m}=this;if(d.interaction.type()){const u=`to${d.interaction.type().getAttribute("data-type")}`;d.interaction.result.value=typeof p[u]=="function"?p[u]().toString(m.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",p,r,this)}_clearColor(r=!1){const{_root:d,options:p}=this;p.useAsButton||d.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),d.button.classList.add("clear"),p.showAlways||this.hide(),this._lastColor=null,this._initializingActive||r||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(r){const{values:d,type:p,a:m}=z(r),{lockOpacity:u}=this.options,h=m!==void 0&&m!==1;return d&&d.length===3&&(d[3]=void 0),{values:!d||u&&h?null:d,type:p}}_t(r){return this.options.i18n[r]||G.I18N_DEFAULTS[r]}_emit(r,...d){this._eventListener[r].forEach(p=>p(...d,this))}on(r,d){return this._eventListener[r].push(d),this}off(r,d){const p=this._eventListener[r]||[],m=p.indexOf(d);return~m&&p.splice(m,1),this}addSwatch(r){const{values:d}=this._parseLocalColor(r);if(d){const{_swatchColors:p,_root:m}=this,u=K(...d),h=l(`<button type="button" style="--pcr-color: ${u.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return m.swatches.appendChild(h),p.push({el:h,color:u}),this._eventBindings.push(a(h,"click",()=>{this.setHSVA(...u.toHSVA(),!0),this._emit("swatchselect",u),this._emit("change",u,"swatch",this)})),!0}return!1}removeSwatch(r){const d=this._swatchColors[r];if(d){const{el:p}=d;return this._root.swatches.removeChild(p),this._swatchColors.splice(r,1),!0}return!1}applyColor(r=!1){const{preview:d,button:p}=this._root,m=this._color.toRGBA().toString(0);return d.lastColor.style.setProperty("--pcr-color",m),this.options.useAsButton||p.style.setProperty("--pcr-color",m),p.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||r||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(r=>c(...r)),Object.keys(this._components).forEach(r=>this._components[r].destroy())}destroyAndRemove(){this.destroy();const{root:r,app:d}=this._root;r.parentElement&&r.parentElement.removeChild(r),d.parentElement.removeChild(d),Object.keys(this).forEach(p=>this[p]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(r=360,d=0,p=0,m=1,u=!1){const h=this._recalc;if(this._recalc=!1,r<0||r>360||d<0||d>100||p<0||p>100||m<0||m>1)return!1;this._color=K(r,d,p,m);const{hue:f,opacity:_,palette:B}=this._components;return f.update(r/360),_.update(m),B.update(d/100,1-p/100),u||this.applyColor(),h&&this._updateOutput(),this._recalc=h,!0}setColor(r,d=!1){if(r===null)return this._clearColor(d),!0;const{values:p,type:m}=this._parseLocalColor(r);if(p){const u=m.toUpperCase(),{options:h}=this._root.interaction,f=h.find(_=>_.getAttribute("data-type")===u);if(f&&!f.hidden)for(const _ of h)_.classList[_===f?"add":"remove"]("active");return!!this.setHSVA(...p,d)&&this.setColorRepresentation(u)}return!1}setColorRepresentation(r){return r=r.toUpperCase(),!!this._root.interaction.options.find(d=>d.getAttribute("data-type").startsWith(r)&&!d.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};et(G,"utils",s),et(G,"version","1.9.1"),et(G,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),et(G,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),et(G,"create",r=>new G(r));let ct=G;return i=i.default})())})(un);var ls=un.exports;const cs=An(ls),us={class:"color-picker-wrapper"},ds={class:"color-picker-action"},ps={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(e,{emit:t}){const o=t,i=e,s=W(null);return En(()=>{const n=cs.create({el:s.value,container:"body",theme:"nano",default:i.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});n.on("save",(a,c)=>{let l=a.toHEXA().toString();o("update:value",l),o("change",l),c.hide()}),n.on("show",()=>{const a=document.querySelectorAll(".pcr-save");a&&a.length&&a.forEach(function(c){c.tagName.toLowerCase()==="input"&&(c.value="保存")})})}),(n,a)=>{const c=zt;return J(),Z("div",us,[v(c,{value:i.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),g("span",ds,[g("span",{ref_key:"colorPicker",ref:s},null,512)])])}}},he=rt(ps,[["__scopeId","data-v-ad5f6f69"]]),hs="/assets/img/quick-help-BZ3Cu-IE.png",fs=e=>(fe("data-v-78636562"),e=e(),ge(),e),gs={class:"quick-instructions-box"},ms=fs(()=>g("div",{class:"help-box"},[g("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),g("img",{src:hs,alt:""})],-1)),_s={class:"quick-action-right"},vs={class:"quick-list-box"},ys={class:"list-box-wrap"},bs={class:"drag-btn"},ws={class:"left-box"},Cs={class:"title"},ks={class:"content"},Ss={class:"opration-box"},$s={class:"form-box"},As={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(e,{emit:t}){const o=e,i=t,s=Bn(),n=Ht(),{robotInfo:a}=Ot(n),{getRobot:c}=n,l=W([]),y=W(parseInt(o.type==-1?a.value.fast_command_switch:a.value.yunpc_fast_command_switch)||0);mt(l,M=>{i("updata",{comand_list:M,fast_command_switch:y.value})});const w=()=>{Fn({robot_key:a.value.robot_key,app_id:o.type}).then(M=>{l.value=M.data||[],n.setQuickCommand(M.data)})};w();const N=It.useForm,C=W(!1),k=W("添加快捷指令"),S=Bt({robot_id:s.query.id,app_id:o.type,title:"",typ:1,content:"",id:""}),L=M=>{const{id:P}=a.value;Dn({robot_key:a.value.robot_key,app_id:o.type}).then(Q=>{y.value=M,i("updata",{comand_list:l.value,fast_command_switch:y.value}),c(P),ut.success("修改成功")}).catch(Q=>{y.value=!y.value})},E=()=>{S.content="",F(["content"])},$=M=>{C.value=!0,T(),k.value=M.id?"编辑快捷指令":"添加快捷指令",S.title=M.title||"",S.content=M.content||"",S.id=M.id||"",S.typ=+M.typ||1},x=Bt({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(M,P)=>P==""?Promise.reject(new Error(`请输入${S.typ==1?"内容":"网址"}`)):S.typ==1||zn(P)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:T,validate:I,clearValidate:F,validateInfos:H}=N(S,x),z=()=>{I().then(()=>{On({...Pt(S)}).then(M=>{ut.success("修改成功"),C.value=!1,w()})})},K=M=>{Ne.confirm({title:"提醒",icon:v(xn),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){Hn({id:M}).then(P=>{ut.success("删除成功"),w()})},onCancel(){}})},j=M=>{let P=l.value.map((Q,q)=>({id:+Q.id,sort:q+1}));Vn({data:P}).then(Q=>{ut.success("保存成功"),w()})};return(M,P)=>{const Q=Jn,q=me,ct=je,G=Vt,b=zt,r=_e,d=Ve,p=ze,m=Ke,u=It,h=Ne;return J(),Z("div",gs,[v(Ct,null,{title:A(()=>[Y(" 快捷指令设置 "),v(Q,{placement:"top"},{content:A(()=>[ms]),default:A(()=>[v(it(Kn),{class:"help-icon"})]),_:1})]),icon:A(()=>[v(q,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:A(()=>[g("div",_s,[v(ct,{onChange:L,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:y.value,"onUpdate:checked":P[0]||(P[0]=f=>y.value=f),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),v(G,{onClick:$,size:"small",type:"primary"},{default:A(()=>[Y("添加")]),_:1})])]),default:A(()=>[g("div",vs,[v(it(jn),{modelValue:l.value,"onUpdate:modelValue":P[1]||(P[1]=f=>l.value=f),"item-key":"id",onEnd:P[2]||(P[2]=f=>j(f)),handle:".drag-btn"},{item:A(({element:f,index:_})=>[g("div",ys,[(J(),Z("div",{class:"list-item",key:f.id},[g("div",bs,[v(q,{name:"drag"})]),g("div",ws,[g("div",Cs,lt(f.title),1),g("div",ks,lt(f.content),1)]),g("div",Ss,[v(it(qn),{onClick:B=>$(f)},null,8,["onClick"]),v(it(Ln),{onClick:B=>K(f.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),v(h,{open:C.value,"onUpdate:open":P[7]||(P[7]=f=>C.value=f),title:k.value,onOk:z,width:"576px"},{default:A(()=>[g("div",$s,[v(u,{layout:"vertical"},{default:A(()=>[v(r,Ie({label:"指令标题"},it(H).title),{default:A(()=>[v(b,{placeholder:"请输入指令标题",maxLength:20,value:S.title,"onUpdate:value":P[3]||(P[3]=f=>S.title=f)},null,8,["value"])]),_:1},16),v(r,{label:"指令类型",required:""},{default:A(()=>[v(p,{value:S.typ,"onUpdate:value":P[4]||(P[4]=f=>S.typ=f),onChange:E},{default:A(()=>[v(d,{value:1},{default:A(()=>[Y("输入内容")]),_:1}),v(d,{value:2},{default:A(()=>[Y("跳转网页")]),_:1})]),_:1},8,["value"])]),_:1}),v(r,Ie({label:S.typ==1?"指令内容":"网页链接",required:""},it(H).content),{default:A(()=>[S.typ==1?(J(),Tt(m,{key:0,style:{height:"100px"},value:S.content,"onUpdate:value":P[5]||(P[5]=f=>S.content=f),placeholder:"请输入指令内容"},null,8,["value"])):(J(),Tt(b,{key:1,placeholder:"请输入网页链接",value:S.content,"onUpdate:value":P[6]||(P[6]=f=>S.content=f)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},dn=rt(As,[["__scopeId","data-v-78636562"]]),Yt=e=>(fe("data-v-f266c961"),e=e(),ge(),e),Es={class:"web-app-box"},Bs={class:"box-left"},Ts={class:"box-wrapper"},Ps={class:"web-app-info"},Is={class:"web-app-link"},Ms=["href"],Ns={class:"link-action"},Rs=["src"],Ls={class:"card-title"},xs=Yt(()=>g("div",{class:"title-text"},"pc网页链接",-1)),Us={class:"web-app-link"},Fs=["href"],Ds={class:"link-action"},Os=["src"],Hs={class:"access-restrictions form-box"},Vs={class:"form-item"},zs=Yt(()=>g("div",{class:"form-item-label"},"访问限制",-1)),js={class:"form-item-body"},Ks=Yt(()=>g("span",{class:"default-text-color"},"无限制",-1)),qs=Yt(()=>g("span",{class:"default-text-color"},"登录后才可访问",-1)),Js={class:"box-wrapper"},Ys={class:"web-app-style form-box"},Ws={class:"box-wrapper"},Qs={class:"box-right"},Gs={class:"demo-box"},Xs=["src"],Zs={__name:"web-app",setup(e){const t=Tn(),o=Ht(),{robotInfo:i,external_config_h5:s}=Ot(o),{h5_website:n,h5_domain:a,robot_key:c}=i.value,{getRobot:l}=o,y=W(""),w=W(""),N=W(),C=Bt({logo:s.value.logo,pageTitle:s.value.pageTitle,navbarShow:s.value.navbarShow,lang:s.value.lang,pageStyle:s.value.pageStyle}),k=gt(()=>`${a}/#/chat/pc?robot_key=${c}`),S=gt(()=>`${a}/#/chat/h5?robot_key=${c}`),L=gt(()=>n);mt(C,M=>{$(M)});const E=M=>{$(M,"updataQuickComand")},$=(M,P)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:P||"onPreview",data:JSON.parse(JSON.stringify(M))},"*")},x={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>C.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},T=W(s.value.accessRestrictionsType||1),I=()=>{let M={...Pt(s.value)};M.accessRestrictionsType=T.value,F(M)},F=M=>{const{id:P}=i.value;De({id:P,external_config_h5:JSON.stringify(M)}).then(()=>{l(P),ut.success("保存成功"),t.go(0)})},H=()=>{N.value.validate().then(()=>{let M={...Pt(C)};M.accessRestrictionsType=T.value,F(M)}).catch(M=>{})},z=M=>{window.open(M)},K=M=>{Fe(M),ut.success("复制成功")},j=async()=>{try{y.value=await _t.toDataURL(k.value),w.value=await _t.toDataURL(S.value)}catch(M){console.error(M)}};return setTimeout(()=>{j()},300),(M,P)=>{const Q=me,q=Vt,ct=Yn,G=Ve,b=ze,r=_e,d=ve,p=ye,m=It;return J(),Z("div",Es,[g("div",Bs,[g("div",Ts,[v(Ct,{title:"H5链接"},{icon:A(()=>[v(Q,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),default:A(()=>[g("div",Ps,[g("div",Is,[g("a",{href:S.value,target:"_blank"},lt(S.value),9,Ms)]),g("div",Ns,[v(q,{class:"action-btn",type:"primary",ghost:"",onClick:P[0]||(P[0]=u=>K(S.value))},{default:A(()=>[Y("复 制")]),_:1}),v(q,{class:"action-btn",onClick:P[1]||(P[1]=u=>z(S.value))},{default:A(()=>[Y("预 览")]),_:1}),v(ct,{color:"#fff",placement:"top"},{title:A(()=>[g("img",{style:{width:"180px"},src:w.value,alt:""},null,8,Rs)]),default:A(()=>[v(q,{class:"action-btn"},{default:A(()=>[Y("二维码")]),_:1})]),_:1})]),g("div",Ls,[v(Q,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}}),xs]),g("div",Us,[g("a",{href:k.value,target:"_blank"},lt(k.value),9,Fs)]),g("div",Ds,[v(q,{class:"action-btn",type:"primary",ghost:"",onClick:P[2]||(P[2]=u=>K(k.value))},{default:A(()=>[Y("复 制")]),_:1}),v(q,{class:"action-btn",onClick:P[3]||(P[3]=u=>z(k.value))},{default:A(()=>[Y("预 览")]),_:1}),v(ct,{color:"#fff",placement:"top"},{title:A(()=>[g("img",{style:{width:"180px"},src:y.value,alt:""},null,8,Os)]),default:A(()=>[v(q,{class:"action-btn"},{default:A(()=>[Y("二维码")]),_:1})]),_:1})]),g("div",Hs,[g("div",Vs,[zs,g("div",js,[v(b,{value:T.value,"onUpdate:value":P[4]||(P[4]=u=>T.value=u),onChange:I},{default:A(()=>[v(G,{value:1},{default:A(()=>[Ks]),_:1}),v(G,{value:2},{default:A(()=>[qs]),_:1})]),_:1},8,["value"])])])])])]),_:1})]),g("div",Js,[v(Ct,{title:"样式设置"},{icon:A(()=>[v(Q,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:A(()=>[v(q,{onClick:H,size:"small",type:"primary"},{default:A(()=>[Y("保存")]),_:1})]),default:A(()=>[g("div",Ys,[v(m,{ref_key:"formRef",ref:N,layout:"vertical",model:C,rules:x},{default:A(()=>[v(r,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:A(()=>[v(b,{value:C.navbarShow,"onUpdate:value":P[5]||(P[5]=u=>C.navbarShow=u),name:"navbarShow"},{default:A(()=>[v(G,{value:1},{default:A(()=>[Y("显示")]),_:1}),v(G,{value:2},{default:A(()=>[Y("不显示")]),_:1})]),_:1},8,["value"])]),_:1}),v(r,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:A(()=>[v(cn,{avatar:C.logo,"onUpdate:avatar":P[6]||(P[6]=u=>C.logo=u),value:C.pageTitle,"onUpdate:value":P[7]||(P[7]=u=>C.pageTitle=u)},null,8,["avatar","value"])]),_:1}),v(r,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:A(()=>[v(he,{value:C.pageStyle.navbarBackgroundColor,"onUpdate:value":P[8]||(P[8]=u=>C.pageStyle.navbarBackgroundColor=u)},null,8,["value"])]),_:1}),v(r,{class:"form-item",label:"语言",name:"lang"},{default:A(()=>[v(p,{style:{width:"180px"},value:C.lang,"onUpdate:value":P[9]||(P[9]=u=>C.lang=u),placeholder:"请选择语言"},{default:A(()=>[v(d,{value:"zh-CN"},{default:A(()=>[Y("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),g("div",Ws,[v(dn,{type:it(i).app_id,onUpdata:E},null,8,["type"])])]),g("div",Qs,[g("div",Gs,[g("iframe",{id:"mobile-preview",src:L.value,frameborder:"0"},null,8,Xs)])])])}}},ti=rt(Zs,[["__scopeId","data-v-f266c961"]]);function ei({pc_domain:e,robot_key:t}){var o=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${t}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${e}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return o}const ni={class:"gradient-color-picker"},oi={class:"color-picker-box"},si={class:"gradient-type-select"},ii={class:"color-item"},ri={class:"right-arrow"},ai={class:"color-item"},li={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(e,{emit:t}){const o=t,i=e,s=It.useInjectFormItemContext(),n=W([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),a=W("linear-gradient"),c=W("to right"),l=W("#2435E7"),y=W("#01A0FB"),w=gt(()=>a.value=="color"?l.value:`${a.value}(${c.value}, ${l.value}, ${y.value})`);mt(()=>w.value,()=>{let C=[a.value,c.value,l.value,y.value].join(",");o("update:value",C),s.onFieldChange()}),mt(()=>i.value,()=>{const C=i.value.split(","),[k,S,L,E]=C;a.value=k,c.value=S,l.value=L,y.value=E},{immediate:!0});const N=(C,k)=>{a.value=k.type,c.value=C,s.onFieldChange()};return(C,k)=>{const S=ve,L=ye;return J(),Z("div",ni,[g("div",oi,[g("div",si,[v(L,{value:c.value,style:{width:"180px"},onChange:N},{default:A(()=>[(J(!0),Z(Me,null,Pn(n.value,E=>(J(),Tt(S,{value:E.value,type:E.type,key:E.key},{default:A(()=>[Y(lt(E.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),g("div",ii,[v(he,{value:l.value,"onUpdate:value":k[0]||(k[0]=E=>l.value=E)},null,8,["value"])]),a.value!="color"?(J(),Z(Me,{key:0},[g("div",ri,[v(it(Wn))]),g("div",ai,[v(he,{value:y.value,"onUpdate:value":k[1]||(k[1]=E=>y.value=E)},null,8,["value"])])],64)):At("",!0)])])}}},ci=rt(li,[["__scopeId","data-v-1666f400"]]),ui="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",di="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nt=e=>(fe("data-v-0b0f6a28"),e=e(),ge(),e),pi={class:"float-icon-setting"},hi={class:"form-box"},fi={class:"form-item"},gi=nt(()=>g("div",{class:"form-item-label"},"展示形式：",-1)),mi={class:"form-content"},_i={class:"display-types"},vi=nt(()=>g("div",{class:"type-icon"},[g("img",{src:ui,alt:""})],-1)),yi=nt(()=>g("div",{class:"type-name"},"简洁",-1)),bi=[vi,yi],wi=nt(()=>g("div",{class:"type-icon"},[g("img",{src:di,alt:""})],-1)),Ci=nt(()=>g("div",{class:"type-name"},"加文案",-1)),ki=[wi,Ci],Si={class:"type-icon"},$i=["src"],Ai=nt(()=>g("div",{class:"type-name"},"自定义",-1)),Ei={key:1,class:"display-type"},Bi={class:"type-icon"},Ti={class:"type-name"},Pi={key:0,class:"form-item"},Ii=nt(()=>g("div",{class:"form-item-label"},"按钮文案：",-1)),Mi={class:"form-content"},Ni={class:"form-item"},Ri=nt(()=>g("div",{class:"form-item-label"},"底边距：",-1)),Li={class:"form-content"},xi={class:"number-input"},Ui=nt(()=>g("span",{class:"unit"},"PX",-1)),Fi={class:"form-item"},Di=nt(()=>g("div",{class:"form-item-label"},"右边距：",-1)),Oi={class:"form-content"},Hi={class:"number-input"},Vi=nt(()=>g("span",{class:"unit"},"PX",-1)),zi={class:"form-item"},ji=nt(()=>g("div",{class:"form-item-label"},"显示未读消息数：",-1)),Ki={class:"form-content"},qi={class:"form-item"},Ji=nt(()=>g("div",{class:"form-item-label"},"显示新消息提示：",-1)),Yi={class:"form-content"},Wi={class:"form-item"},Qi=nt(()=>g("div",{class:"form-item-label"},null,-1)),Gi={class:"form-content"},Xi={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(e,{expose:t,emit:o}){const i=e,s=o,n=Bt({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),a=w=>{n.displayType=w},c=gt(()=>n.buttonIcon?n.displayType==3:!0),l=w=>{let N=w[0];a(3),Oe({file:N,category:"icon"}).then(C=>{n.buttonIcon=C.data.link})},y=()=>{n.rightMargin,(n.rightMargin==""||n.rightMargin==null)&&(n.rightMargin=0),(n.bottomMargin==""||n.rightMargin==null)&&(n.bottomMargin=0),s("save",Pt(n))};return mt(()=>i.form,w=>{Object.assign(n,w.floatBtn)},{immediate:!0}),t({handleSubmit:y}),(w,N)=>{const C=zt,k=Gn,S=je,L=Vt;return J(),Tt(Ct,{title:"悬浮图标设置"},{icon:A(()=>[v(it(eo),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:A(()=>[g("div",pi,[Y(lt(i.title)+" ",1),g("div",hi,[g("div",fi,[gi,g("div",mi,[g("div",_i,[g("div",{class:oe(["display-type",{"is-checked":n.displayType==1}]),onClick:N[0]||(N[0]=E=>a(1))},bi,2),g("div",{class:oe(["display-type",{"is-checked":n.displayType==2}]),onClick:N[1]||(N[1]=E=>a(2))},ki,2),n.buttonIcon?(J(),Z("div",{key:0,class:oe(["display-type",{"is-checked":n.displayType==3}]),onClick:N[2]||(N[2]=E=>a(3))},[g("div",Si,[g("img",{src:n.buttonIcon,alt:"",title:""},null,8,$i)]),Ai],2)):At("",!0),c.value?(J(),Z("div",Ei,[v(He,{onChange:l},{default:A(()=>[g("div",Bi,[v(it(Qn),{style:{"font-size":"20px"}})])]),_:1}),g("div",Ti,lt(n.buttonIcon?"上传图片":"自定义"),1)])):At("",!0)])])]),n.displayType==2?(J(),Z("div",Pi,[Ii,g("div",Mi,[v(C,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:n.buttonText,"onUpdate:value":N[3]||(N[3]=E=>n.buttonText=E)},null,8,["value"])])])):At("",!0),g("div",Ni,[Ri,g("div",Li,[g("div",xi,[v(k,{class:"input",value:n.bottomMargin,"onUpdate:value":N[4]||(N[4]=E=>n.bottomMargin=E)},null,8,["value"]),Ui])])]),g("div",Fi,[Di,g("div",Oi,[g("div",Hi,[v(k,{class:"input",value:n.rightMargin,"onUpdate:value":N[5]||(N[5]=E=>n.rightMargin=E)},null,8,["value"]),Vi])])]),g("div",zi,[ji,g("div",Ki,[v(S,{checked:n.showUnreadCount,"onUpdate:checked":N[6]||(N[6]=E=>n.showUnreadCount=E),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),g("div",qi,[Ji,g("div",Yi,[v(S,{checked:n.showNewMessageTip,"onUpdate:checked":N[7]||(N[7]=E=>n.showNewMessageTip=E),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),g("div",Wi,[Qi,g("div",Gi,[v(L,{type:"primary",loading:i.saveLoading,onClick:y},{default:A(()=>[Y("保存")]),_:1},8,["loading"])])])])])]),_:1})}}},Zi=rt(Xi,[["__scopeId","data-v-0b0f6a28"]]),tr={class:"web-app-box"},er={class:"box-left"},nr={class:"box-wrapper"},or={class:"web-app-style form-box"},sr={class:"box-wrapper"},ir={class:"sdk-code"},rr={class:"box-wrapper"},ar={class:"box-wrapper"},lr={class:"box-right"},cr={class:"demo-box"},ur=["src"],dr={__name:"embed-website",setup(e){const t=Ht(),{robotInfo:o,external_config_pc:i}=Ot(t),{getRobot:s}=t,n=ei(o.value),a=()=>{Fe(n),ut.success("复制成功")},c=W(),l=Bt({headTitle:i.value.headTitle,headSubTitle:i.value.headSubTitle,headImage:i.value.headImage,lang:i.value.lang,pageStyle:i.value.pageStyle,floatBtn:i.value.floatBtn}),y=gt(()=>{let{pc_domain:E,robot_key:$}=o.value;return`${E}/web/#/chat?robot_key=${$}&language=zh-CN`});mt(l,E=>{N(E)});const w=E=>{N(E,"updataQuickComand")},N=(E,$)=>{document.getElementById("web-preview").contentWindow.postMessage({type:$||"onPreview",data:JSON.parse(JSON.stringify(E))},"*")},C={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},k=()=>{const{id:E}=o.value;let $={...Pt(l)};De({id:E,external_config_pc:JSON.stringify($)}).then(()=>{s(E),ut.success("保存成功")})},S=()=>{c.value.validate().then(()=>{k()}).catch(E=>{})},L=E=>{l.floatBtn={...E},S()};return(E,$)=>{const x=me,T=Vt,I=_e,F=Ke,H=ve,z=ye,K=It;return J(),Z("div",tr,[g("div",er,[g("div",nr,[v(Ct,{title:"样式设置"},{icon:A(()=>[v(x,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:A(()=>[v(T,{onClick:S,size:"small",type:"primary"},{default:A(()=>[Y("保存")]),_:1})]),default:A(()=>[g("div",or,[v(K,{ref_key:"formRef",ref:c,layout:"vertical",model:l,rules:C},{default:A(()=>[v(I,{class:"form-item",label:"页面标题",name:"headTitle"},{default:A(()=>[v(cn,{avatar:l.headImage,"onUpdate:avatar":$[0]||($[0]=j=>l.headImage=j),value:l.headTitle,"onUpdate:value":$[1]||($[1]=j=>l.headTitle=j)},null,8,["avatar","value"])]),_:1}),v(I,{class:"form-item",label:"简介",name:"headSubTitle"},{default:A(()=>[v(F,{value:l.headSubTitle,"onUpdate:value":$[2]||($[2]=j=>l.headSubTitle=j),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),v(I,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:A(()=>[v(ci,{value:l.pageStyle.headBackgroundColor,"onUpdate:value":$[3]||($[3]=j=>l.pageStyle.headBackgroundColor=j)},null,8,["value"])]),_:1}),v(I,{class:"form-item",label:"语言",name:"lang"},{default:A(()=>[v(z,{style:{width:"180px"},value:l.lang,"onUpdate:value":$[4]||($[4]=j=>l.lang=j),placeholder:"请选择语言"},{default:A(()=>[v(H,{value:"zh-CN"},{default:A(()=>[Y("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),g("div",sr,[v(Ct,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:A(()=>[v(x,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:A(()=>[v(T,{onClick:a,size:"small"},{default:A(()=>[Y("复制")]),_:1})]),default:A(()=>[g("div",ir,[g("pre",null,[g("code",null,lt(it(n)),1)])])]),_:1})]),g("div",rr,[v(dn,{type:it(o).app_id_embed,onUpdata:w},null,8,["type"])]),g("div",ar,[v(Zi,{form:l,onSave:L},null,8,["form"])])]),g("div",lr,[g("div",cr,[g("iframe",{id:"web-preview",src:y.value,frameborder:"0"},null,8,ur)])])])}}},pr=rt(dr,[["__scopeId","data-v-fa01a60c"]]),hr={class:"external-services-page"},fr={class:"page-header"},gr={class:"page-body"},mr={class:"scroll-box"},_r={__name:"index",setup(e){const t=Ht(),{robotInfo:o}=Ot(t),{getRobot:i}=t,s={WebAPP:ti,EmbedWebsite:pr},n=W("WebAPP"),a=c=>{n.value=c.id};return In("robotInfo",{robotInfo:o.value,getRobot:i}),(c,l)=>(J(),Z("div",hr,[g("div",fr,[v(so,{onChange:a,value:n.value,"onUpdate:value":l[0]||(l[0]=y=>n.value=y)},null,8,["value"])]),g("div",gr,[g("div",mr,[(J(),Tt(Mn(s[n.value])))])])]))}},ha=rt(_r,[["__scopeId","data-v-33ea389a"]]);export{ha as default};
