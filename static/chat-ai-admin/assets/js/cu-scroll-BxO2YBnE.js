function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/auto-track-DEFzND1Q.js","assets/js/vue-chunks-BjMuQ6KD.js","assets/js/crypto-js-BemCeW_6.js","index-CfxQ5aRu.js","assets/js/axios-Cm0UX6qg.js","assets/js/qs-DjdPq-RR.js","assets/js/dayjs-DK4rpucX.js","assets/css/index-luv4-B_l.css","assets/js/pull-up.esm-JZ91zQ8P.js","assets/js/observe-dom.esm-DPKTicVt.js","assets/js/index-DOj_FlGy.js","assets/js/index-Dg0Ej7Qv.js","assets/js/is-plan-event-enabled-DS1Agtkw.js","assets/js/index-BAOOREd3.js","assets/js/index-fPue-R-J.js","assets/js/index-D_r2w807.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var iD=Object.defineProperty;var oD=(r,e,t)=>e in r?iD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var An=(r,e,t)=>(oD(r,typeof e!="symbol"?e+"":e,t),t);import{c as cn,a as F0,g as aD,M as By,N as Uy,W as kd,Z as cS,G as sD,H as uD,F as lD,$ as cD,a1 as fD,a2 as hD,b as dD,k as t_,e as vD,x as pD,z as gD,v as yD,U as mD}from"./vue-chunks-BjMuQ6KD.js";import{c as bD}from"./crypto-js-BemCeW_6.js";import{a as uc,b as zO,d as _D}from"../../index-CfxQ5aRu.js";import{B as og,M as wD,S as ED,P as OD}from"./pull-up.esm-JZ91zQ8P.js";import{O as xD}from"./observe-dom.esm-DPKTicVt.js";function Fo(r){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(r)}function qO(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fS(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function GO(r,e,t){return e&&fS(r.prototype,e),t&&fS(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function YA(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ac(r,e){return SD(r)||TD(r,e)||$A(r,e)||CD()}function SD(r){if(Array.isArray(r))return r}function TD(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,s;try{for(t=t.call(r);!(i=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw s}}return n}}function $A(r,e){if(r){if(typeof r=="string")return hS(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hS(r,e)}}function hS(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function CD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PD(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=$A(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}var Lo=typeof window>"u"?null:window,dS=Lo?Lo.navigator:null;Lo&&Lo.document;var AD=Fo(""),XA=Fo({}),ID=Fo(function(){}),RD=typeof HTMLElement>"u"?"undefined":Fo(HTMLElement),nm=function(e){return e&&e.instanceString&&Vi(e.instanceString)?e.instanceString():null},hr=function(e){return e!=null&&Fo(e)==AD},Vi=function(e){return e!=null&&Fo(e)===ID},vi=function(e){return!Pu(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},bn=function(e){return e!=null&&Fo(e)===XA&&!vi(e)&&e.constructor===Object},kD=function(e){return e!=null&&Fo(e)===XA},Gt=function(e){return e!=null&&Fo(e)===Fo(1)&&!isNaN(e)},MD=function(e){return Gt(e)&&Math.floor(e)===e},m0=function(e){if(RD!=="undefined")return e!=null&&e instanceof HTMLElement},Pu=function(e){return im(e)||KA(e)},im=function(e){return nm(e)==="collection"&&e._private.single},KA=function(e){return nm(e)==="collection"&&!e._private.single},VO=function(e){return nm(e)==="core"},ZA=function(e){return nm(e)==="stylesheet"},DD=function(e){return nm(e)==="event"},Nd=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},LD=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},ND=function(e){return bn(e)&&Gt(e.x1)&&Gt(e.x2)&&Gt(e.y1)&&Gt(e.y2)},jD=function(e){return kD(e)&&Vi(e.then)},FD=function(){return dS&&dS.userAgent.match(/msie|trident|edge/i)},Vy=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function i(){var a=this,o=arguments,s,u=t.apply(a,o),l=i.cache;return(s=l[u])||(s=l[u]=e.apply(a,o)),s};return n.cache={},n},WO=Vy(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),B0=Vy(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),QA=Vy(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),vS=function(e){return Nd(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},No="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",BD="rgb[a]?\\(("+No+"[%]?)\\s*,\\s*("+No+"[%]?)\\s*,\\s*("+No+"[%]?)(?:\\s*,\\s*("+No+"))?\\)",UD="rgb[a]?\\((?:"+No+"[%]?)\\s*,\\s*(?:"+No+"[%]?)\\s*,\\s*(?:"+No+"[%]?)(?:\\s*,\\s*(?:"+No+"))?\\)",zD="hsl[a]?\\(("+No+")\\s*,\\s*("+No+"[%])\\s*,\\s*("+No+"[%])(?:\\s*,\\s*("+No+"))?\\)",qD="hsl[a]?\\((?:"+No+")\\s*,\\s*(?:"+No+"[%])\\s*,\\s*(?:"+No+"[%])(?:\\s*,\\s*(?:"+No+"))?\\)",GD="\\#[0-9a-fA-F]{3}",VD="\\#[0-9a-fA-F]{6}",JA=function(e,t){return e<t?-1:e>t?1:0},WD=function(e,t){return-1*JA(e,t)},br=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];r[o]=n[o]}}return r},HD=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,i,a,o=16;return t?(n=parseInt(e[1]+e[1],o),i=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),i=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[n,i,a]}},YD=function(e){var t,n,i,a,o,s,u,l;function c(v,y,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?v+(y-v)*6*w:w<1/2?y:w<2/3?v+(y-v)*(2/3-w)*6:v}var f=new RegExp("^"+zD+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,o=f[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=u=l=Math.round(a*255);else{var h=a<.5?a*(1+i):a+i-a*i,d=2*a-h;s=Math.round(255*c(d,h,n+1/3)),u=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}t=[s,u,l,o]}return t},$D=function(e){var t,n=new RegExp("^"+BD+"$").exec(e);if(n){t=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;t.push(l)}}return t},XD=function(e){return ZD[e.toLowerCase()]},KD=function(e){return(vi(e)?e:null)||XD(e)||HD(e)||$D(e)||YD(e)},ZD={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},eI=function(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(bn(o))throw Error("Tried to set map with object key");a<n.length-1?(t[o]==null&&(t[o]={}),t=t[o]):t[o]=e.value}},tI=function(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(bn(o))throw Error("Tried to get map with object key");if(t=t[o],t==null)return t}return t};function QD(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var ep=QD,Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JD(r,e){return e={exports:{}},r(e,e.exports),e.exports}var eL=typeof Py=="object"&&Py&&Py.Object===Object&&Py,tL=eL,rL=typeof self=="object"&&self&&self.Object===Object&&self,nL=tL||rL||Function("return this")(),U0=nL,iL=function(){return U0.Date.now()},r_=iL,oL=/\s/;function aL(r){for(var e=r.length;e--&&oL.test(r.charAt(e)););return e}var sL=aL,uL=/^\s+/;function lL(r){return r&&r.slice(0,sL(r)+1).replace(uL,"")}var cL=lL,fL=U0.Symbol,Pg=fL,rI=Object.prototype,hL=rI.hasOwnProperty,dL=rI.toString,wy=Pg?Pg.toStringTag:void 0;function vL(r){var e=hL.call(r,wy),t=r[wy];try{r[wy]=void 0;var n=!0}catch{}var i=dL.call(r);return n&&(e?r[wy]=t:delete r[wy]),i}var pL=vL,gL=Object.prototype,yL=gL.toString;function mL(r){return yL.call(r)}var bL=mL,_L="[object Null]",wL="[object Undefined]",pS=Pg?Pg.toStringTag:void 0;function EL(r){return r==null?r===void 0?wL:_L:pS&&pS in Object(r)?pL(r):bL(r)}var nI=EL;function OL(r){return r!=null&&typeof r=="object"}var xL=OL,SL="[object Symbol]";function TL(r){return typeof r=="symbol"||xL(r)&&nI(r)==SL}var om=TL,gS=NaN,CL=/^[-+]0x[0-9a-f]+$/i,PL=/^0b[01]+$/i,AL=/^0o[0-7]+$/i,IL=parseInt;function RL(r){if(typeof r=="number")return r;if(om(r))return gS;if(ep(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=ep(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=cL(r);var t=PL.test(r);return t||AL.test(r)?IL(r.slice(2),t?2:8):CL.test(r)?gS:+r}var yS=RL,kL="Expected a function",ML=Math.max,DL=Math.min;function LL(r,e,t){var n,i,a,o,s,u,l=0,c=!1,f=!1,h=!0;if(typeof r!="function")throw new TypeError(kL);e=yS(e)||0,ep(t)&&(c=!!t.leading,f="maxWait"in t,a=f?ML(yS(t.maxWait)||0,e):a,h="trailing"in t?!!t.trailing:h);function d(I){var T=n,A=i;return n=i=void 0,l=I,o=r.apply(A,T),o}function v(I){return l=I,s=setTimeout(b,e),c?d(I):o}function y(I){var T=I-u,A=I-l,D=e-T;return f?DL(D,a-A):D}function w(I){var T=I-u,A=I-l;return u===void 0||T>=e||T<0||f&&A>=a}function b(){var I=r_();if(w(I))return g(I);s=setTimeout(b,y(I))}function g(I){return s=void 0,h&&n?d(I):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function x(){return s===void 0?o:g(r_())}function P(){var I=r_(),T=w(I);if(n=arguments,i=this,u=I,T){if(s===void 0)return v(u);if(f)return clearTimeout(s),s=setTimeout(b,e),d(u)}return s===void 0&&(s=setTimeout(b,e)),o}return P.cancel=_,P.flush=x,P}var z0=LL,n_=Lo?Lo.performance:null,iI=n_&&n_.now?function(){return n_.now()}:function(){return Date.now()},NL=function(){if(Lo){if(Lo.requestAnimationFrame)return function(r){Lo.requestAnimationFrame(r)};if(Lo.mozRequestAnimationFrame)return function(r){Lo.mozRequestAnimationFrame(r)};if(Lo.webkitRequestAnimationFrame)return function(r){Lo.webkitRequestAnimationFrame(r)};if(Lo.msRequestAnimationFrame)return function(r){Lo.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(iI())},1e3/60)}}(),b0=function(e){return NL(e)},Oh=iI,gg=9261,oI=65599,Ay=5381,aI=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gg,n=t,i;i=e.next(),!i.done;)n=n*oI+i.value|0;return n},Wy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gg;return t*oI+e|0},Hy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ay;return(t<<5)+t+e|0},jL=function(e,t){return e*2097152+t},Od=function(e){return e[0]*2097152+e[1]},Bm=function(e,t){return[Wy(e[0],t[0]),Hy(e[1],t[1])]},FL=function(e,t){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return aI(o,t)},tp=function(e,t){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return aI(o,t)},sI=function(){return BL(arguments)},BL=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];n===0?t=tp(i):t=tp(i,t)}return t},mS=!0,UL=console.warn!=null,zL=console.trace!=null,HO=Number.MAX_SAFE_INTEGER||9007199254740991,uI=function(){return!0},_0=function(){return!1},bS=function(){return 0},YO=function(){},Ji=function(e){throw new Error(e)},lI=function(e){if(e!==void 0)mS=!!e;else return mS},Bn=function(e){lI()&&(UL?console.warn(e):zL&&console.trace())},qL=function(e){return br({},e)},sf=function(e){return e==null?e:vi(e)?e.slice():bn(e)?qL(e):e},GL=function(e){return e.slice()},cI=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},VL={},fI=function(){return VL},Ca=function(e){var t=Object.keys(e);return function(n){for(var i={},a=0;a<t.length;a++){var o=t[a],s=n==null?void 0:n[o];i[o]=s===void 0?e[o]:s}return i}},jd=function(e,t,n){for(var i=e.length-1;i>=0&&!(e[i]===t&&(e.splice(i,1),n));i--);},$O=function(e){e.splice(0,e.length)},WL=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}},lc=function(e,t,n){return n&&(t=QA(n,t)),e[t]},Ad=function(e,t,n,i){n&&(t=QA(n,t)),e[t]=i},HL=function(){function r(){qO(this,r),this._obj={}}return GO(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),r}(),uf=typeof Map<"u"?Map:HL,YL="undefined",$L=function(){function r(e){if(qO(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return GO(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}]),r}(),Dg=(typeof Set>"u"?"undefined":Fo(Set))!==YL?Set:$L,q0=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!VO(e)){Ji("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Ji("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Dg,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),t.renderedPosition){var o=t.renderedPosition,s=e.pan(),u=e.zoom();a.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];vi(t.classes)?l=t.classes:hr(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var h=l[c];!h||h===""||a.classes.add(h)}this.createEmitter();var d=t.style||t.css;d&&(Bn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(n===void 0||n)&&this.restore()},_S=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var o;bn(n)&&!Pu(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Vi(i)?i:a,i=Vi(i)?i:function(){};for(var s=this._private.cy,u=n=hr(n)?this.filter(n):n,l=[],c=[],f={},h={},d={},v=0,y,w=this.byGroup(),b=w.nodes,g=w.edges,_=0;_<u.length;_++){var x=u[_],P=x.id();x.isNode()&&(l.unshift(x),e.bfs&&(d[P]=!0,c.push(x)),h[P]=0)}for(var I=function(){var W=e.bfs?l.shift():l.pop(),V=W.id();if(e.dfs){if(d[V])return"continue";d[V]=!0,c.push(W)}var J=h[V],ee=f[V],te=ee!=null?ee.source():null,re=ee!=null?ee.target():null,de=ee==null?void 0:W.same(te)?re[0]:te[0],pe=void 0;if(pe=i(W,ee,de,v++,J),pe===!0)return y=W,"break";if(pe===!1)return"break";for(var fe=W.connectedEdges().filter(function(je){return(!a||je.source().same(W))&&g.has(je)}),ye=0;ye<fe.length;ye++){var Me=fe[ye],Ne=Me.connectedNodes().filter(function(je){return!je.same(W)&&b.has(je)}),ke=Ne.id();Ne.length!==0&&!d[ke]&&(Ne=Ne[0],l.push(Ne),e.bfs&&(d[ke]=!0,c.push(Ne)),f[ke]=Me,h[ke]=h[V]+1)}};l.length!==0;){var T=I();if(T!=="continue"&&T==="break")break}for(var A=s.collection(),D=0;D<c.length;D++){var N=c[D],j=f[N.id()];j!=null&&A.push(j),A.push(N)}return{path:s.collection(A),found:s.collection(y)}}},Yy={breadthFirstSearch:_S({bfs:!0}),depthFirstSearch:_S({dfs:!0})};Yy.bfs=Yy.breadthFirstSearch;Yy.dfs=Yy.depthFirstSearch;var XL=JD(function(r,e){(function(){var t,n,i,a,o,s,u,l,c,f,h,d,v,y,w;i=Math.floor,f=Math.min,n=function(b,g){return b<g?-1:b>g?1:0},c=function(b,g,_,x,P){var I;if(_==null&&(_=0),P==null&&(P=n),_<0)throw new Error("lo must be non-negative");for(x==null&&(x=b.length);_<x;)I=i((_+x)/2),P(g,b[I])<0?x=I:_=I+1;return[].splice.apply(b,[_,_-_].concat(g)),g},s=function(b,g,_){return _==null&&(_=n),b.push(g),y(b,0,b.length-1,_)},o=function(b,g){var _,x;return g==null&&(g=n),_=b.pop(),b.length?(x=b[0],b[0]=_,w(b,0,g)):x=_,x},l=function(b,g,_){var x;return _==null&&(_=n),x=b[0],b[0]=g,w(b,0,_),x},u=function(b,g,_){var x;return _==null&&(_=n),b.length&&_(b[0],g)<0&&(x=[b[0],g],g=x[0],b[0]=x[1],w(b,0,_)),g},a=function(b,g){var _,x,P,I,T,A;for(g==null&&(g=n),I=(function(){A=[];for(var D=0,N=i(b.length/2);0<=N?D<N:D>N;0<=N?D++:D--)A.push(D);return A}).apply(this).reverse(),T=[],x=0,P=I.length;x<P;x++)_=I[x],T.push(w(b,_,g));return T},v=function(b,g,_){var x;if(_==null&&(_=n),x=b.indexOf(g),x!==-1)return y(b,0,x,_),w(b,x,_)},h=function(b,g,_){var x,P,I,T,A;if(_==null&&(_=n),P=b.slice(0,g),!P.length)return P;for(a(P,_),A=b.slice(g),I=0,T=A.length;I<T;I++)x=A[I],u(P,x,_);return P.sort(_).reverse()},d=function(b,g,_){var x,P,I,T,A,D,N,j,B;if(_==null&&(_=n),g*10<=b.length){if(I=b.slice(0,g).sort(_),!I.length)return I;for(P=I[I.length-1],N=b.slice(g),T=0,D=N.length;T<D;T++)x=N[T],_(x,P)<0&&(c(I,x,0,null,_),I.pop(),P=I[I.length-1]);return I}for(a(b,_),B=[],A=0,j=f(g,b.length);0<=j?A<j:A>j;0<=j?++A:--A)B.push(o(b,_));return B},y=function(b,g,_,x){var P,I,T;for(x==null&&(x=n),P=b[_];_>g;){if(T=_-1>>1,I=b[T],x(P,I)<0){b[_]=I,_=T;continue}break}return b[_]=P},w=function(b,g,_){var x,P,I,T,A;for(_==null&&(_=n),P=b.length,A=g,I=b[g],x=2*g+1;x<P;)T=x+1,T<P&&!(_(b[x],b[T])<0)&&(x=T),b[g]=b[x],g=x,x=2*g+1;return b[g]=I,y(b,A,g,_)},t=function(){b.push=s,b.pop=o,b.replace=l,b.pushpop=u,b.heapify=a,b.updateItem=v,b.nlargest=h,b.nsmallest=d;function b(g){this.cmp=g??n,this.nodes=[]}return b.prototype.push=function(g){return s(this.nodes,g,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},b.prototype.replace=function(g){return l(this.nodes,g,this.cmp)},b.prototype.pushpop=function(g){return u(this.nodes,g,this.cmp)},b.prototype.heapify=function(){return a(this.nodes,this.cmp)},b.prototype.updateItem=function(g){return v(this.nodes,g,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var g;return g=new b,g.nodes=this.nodes.slice(0),g},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,g){return r.exports=g()}(this,function(){return t})}).call(Py)}),am=XL,KL=Ca({root:null,weight:function(e){return 1},directed:!1}),ZL={dijkstra:function(e){if(!bn(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=KL(e),i=n.root,a=n.weight,o=n.directed,s=this,u=a,l=hr(i)?this.filter(i)[0]:i[0],c={},f={},h={},d=this.byGroup(),v=d.nodes,y=d.edges;y.unmergeBy(function(J){return J.isLoop()});for(var w=function(ee){return c[ee.id()]},b=function(ee,te){c[ee.id()]=te,g.updateItem(ee)},g=new am(function(J,ee){return w(J)-w(ee)}),_=0;_<v.length;_++){var x=v[_];c[x.id()]=x.same(l)?0:1/0,g.push(x)}for(var P=function(ee,te){for(var re=(o?ee.edgesTo(te):ee.edgesWith(te)).intersect(y),de=1/0,pe,fe=0;fe<re.length;fe++){var ye=re[fe],Me=u(ye);(Me<de||!pe)&&(de=Me,pe=ye)}return{edge:pe,dist:de}};g.size()>0;){var I=g.pop(),T=w(I),A=I.id();if(h[A]=T,T!==1/0)for(var D=I.neighborhood().intersect(v),N=0;N<D.length;N++){var j=D[N],B=j.id(),W=P(I,j),V=T+W.dist;V<w(j)&&(b(j,V),f[B]={node:I,edge:W.edge})}}return{distanceTo:function(ee){var te=hr(ee)?v.filter(ee)[0]:ee[0];return h[te.id()]},pathTo:function(ee){var te=hr(ee)?v.filter(ee)[0]:ee[0],re=[],de=te,pe=de.id();if(te.length>0)for(re.unshift(te);f[pe];){var fe=f[pe];re.unshift(fe.edge),re.unshift(fe.node),de=fe.node,pe=de.id()}return s.spawn(re)}}}},QL={kruskal:function(e){e=e||function(_){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,a=n.length,o=new Array(a),s=n,u=function(x){for(var P=0;P<o.length;P++){var I=o[P];if(I.has(x))return P}},l=0;l<a;l++)o[l]=this.spawn(n[l]);for(var c=i.sort(function(_,x){return e(_)-e(x)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],v=h.target()[0],y=u(d),w=u(v),b=o[y],g=o[w];y!==w&&(s.merge(h),b.merge(g),o.splice(w,1))}return s}},JL=Ca({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),eN={aStar:function(e){var t=this.cy(),n=JL(e),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,u=n.weight;i=t.collection(i)[0],a=t.collection(a)[0];var l=i.id(),c=a.id(),f={},h={},d={},v=new am(function(pe,fe){return h[pe.id()]-h[fe.id()]}),y=new Dg,w={},b={},g=function(fe,ye){v.push(fe),y.add(ye)},_,x,P=function(){_=v.pop(),x=_.id(),y.delete(x)},I=function(fe){return y.has(fe)};g(i,l),f[l]=0,h[l]=o(i);for(var T=0;v.size()>0;){if(P(),T++,x===c){for(var A=[],D=a,N=c,j=b[N];A.unshift(D),j!=null&&A.unshift(j),D=w[N],D!=null;)N=D.id(),j=b[N];return{found:!0,distance:f[x],path:this.spawn(A),steps:T}}d[x]=!0;for(var B=_._private.edges,W=0;W<B.length;W++){var V=B[W];if(this.hasElementWithId(V.id())&&!(s&&V.data("source")!==x)){var J=V.source(),ee=V.target(),te=J.id()!==x?J:ee,re=te.id();if(this.hasElementWithId(re)&&!d[re]){var de=f[x]+u(V);if(!I(re)){f[re]=de,h[re]=de+o(te),g(te,re),w[re]=_,b[re]=V;continue}de<f[re]&&(f[re]=de,h[re]=de+o(te),w[re]=_,b[re]=V)}}}}return{found:!1,distance:void 0,path:void 0,steps:T}}},tN=Ca({weight:function(e){return 1},directed:!1}),rN={floydWarshall:function(e){for(var t=this.cy(),n=tN(e),i=n.weight,a=n.directed,o=i,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,f=c*c,h=function(Me){return u.indexOf(Me)},d=function(Me){return u[Me]},v=new Array(f),y=0;y<f;y++){var w=y%c,b=(y-w)/c;b===w?v[y]=0:v[y]=1/0}for(var g=new Array(f),_=new Array(f),x=0;x<l.length;x++){var P=l[x],I=P.source()[0],T=P.target()[0];if(I!==T){var A=h(I),D=h(T),N=A*c+D,j=o(P);if(v[N]>j&&(v[N]=j,g[N]=D,_[N]=P),!a){var B=D*c+A;!a&&v[B]>j&&(v[B]=j,g[B]=A,_[B]=P)}}}for(var W=0;W<c;W++)for(var V=0;V<c;V++)for(var J=V*c+W,ee=0;ee<c;ee++){var te=V*c+ee,re=W*c+ee;v[J]+v[re]<v[te]&&(v[te]=v[J]+v[re],g[te]=g[J])}var de=function(Me){return(hr(Me)?t.filter(Me):Me)[0]},pe=function(Me){return h(de(Me))},fe={distance:function(Me,Ne){var ke=pe(Me),je=pe(Ne);return v[ke*c+je]},path:function(Me,Ne){var ke=pe(Me),je=pe(Ne),xe=d(ke);if(ke===je)return xe.collection();if(g[ke*c+je]==null)return t.collection();var Se=t.collection(),Re=ke,Oe;for(Se.merge(xe);ke!==je;)Re=ke,ke=g[ke*c+je],Oe=_[Re*c+ke],Se.merge(Oe),Se.merge(d(ke));return Se}};return fe}},nN=Ca({weight:function(e){return 1},directed:!1,root:null}),iN={bellmanFord:function(e){var t=this,n=nN(e),i=n.weight,a=n.directed,o=n.root,s=i,u=this,l=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,v=new uf,y=!1,w=[];o=l.collection(o)[0],f.unmergeBy(function(Ze){return Ze.isLoop()});for(var b=f.length,g=function(H){var K=v.get(H.id());return K||(K={},v.set(H.id(),K)),K},_=function(H){return(hr(H)?l.$(H):H)[0]},x=function(H){return g(_(H)).dist},P=function(H){for(var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ne=_(H),Ce=[],Ae=ne;;){if(Ae==null)return t.spawn();var ze=g(Ae),Le=ze.edge,le=ze.pred;if(Ce.unshift(Ae[0]),Ae.same(K)&&Ce.length>0)break;Le!=null&&Ce.unshift(Le),Ae=le}return u.spawn(Ce)},I=0;I<d;I++){var T=h[I],A=g(T);T.same(o)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var D=!1,N=function(H,K,ne,Ce,Ae,ze){var Le=Ce.dist+ze;Le<Ae.dist&&!ne.same(Ce.edge)&&(Ae.dist=Le,Ae.pred=H,Ae.edge=ne,D=!0)},j=1;j<d;j++){D=!1;for(var B=0;B<b;B++){var W=f[B],V=W.source(),J=W.target(),ee=s(W),te=g(V),re=g(J);N(V,J,W,te,re,ee),a||N(J,V,W,re,te,ee)}if(!D)break}if(D)for(var de=[],pe=0;pe<b;pe++){var fe=f[pe],ye=fe.source(),Me=fe.target(),Ne=s(fe),ke=g(ye).dist,je=g(Me).dist;if(ke+Ne<je||!a&&je+Ne<ke)if(y||(Bn("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var xe=[];ke+Ne<je&&xe.push(ye),!a&&je+Ne<ke&&xe.push(Me);for(var Se=xe.length,Re=0;Re<Se;Re++){var Oe=xe[Re],Pe=[Oe];Pe.push(g(Oe).edge);for(var Ue=g(Oe).pred;Pe.indexOf(Ue)===-1;)Pe.push(Ue),Pe.push(g(Ue).edge),Ue=g(Ue).pred;Pe=Pe.slice(Pe.indexOf(Ue));for(var ot=Pe[0].id(),$e=0,rt=2;rt<Pe.length;rt+=2)Pe[rt].id()<ot&&(ot=Pe[rt].id(),$e=rt);Pe=Pe.slice($e).concat(Pe.slice(0,$e)),Pe.push(Pe[0]);var ht=Pe.map(function(Ze){return Ze.id()}).join(",");de.indexOf(ht)===-1&&(w.push(u.spawn(Pe)),de.push(ht))}}else break}return{distanceTo:x,pathTo:P,hasNegativeWeightCycle:y,negativeWeightCycles:w}}},oN=Math.sqrt(2),aN=function(e,t,n){n.length===0&&Ji("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],o=i[2],s=t[a],u=t[o],l=n,c=l.length-1;c>=0;c--){var f=l[c],h=f[1],d=f[2];(t[h]===s&&t[d]===u||t[h]===u&&t[d]===s)&&l.splice(c,1)}for(var v=0;v<l.length;v++){var y=l[v];y[1]===u?(l[v]=y.slice(),l[v][1]=s):y[2]===u&&(l[v]=y.slice(),l[v][2]=s)}for(var w=0;w<t.length;w++)t[w]===u&&(t[w]=s);return l},i_=function(e,t,n,i){for(;n>i;){var a=Math.floor(Math.random()*t.length);t=aN(a,e,t),n--}return t},sN={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy(function(re){return re.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),u=Math.floor(a/oN);if(a<2){Ji("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<o;c++){var f=i[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,d=[],v=new Array(a),y=new Array(a),w=new Array(a),b=function(de,pe){for(var fe=0;fe<a;fe++)pe[fe]=de[fe]},g=0;g<=s;g++){for(var _=0;_<a;_++)y[_]=_;var x=i_(y,l.slice(),a,u),P=x.slice();b(y,w);var I=i_(y,x,u,2),T=i_(w,P,u,2);I.length<=T.length&&I.length<h?(h=I.length,d=I,b(y,v)):T.length<=I.length&&T.length<h&&(h=T.length,d=T,b(w,v))}for(var A=this.spawn(d.map(function(re){return i[re[0]]})),D=this.spawn(),N=this.spawn(),j=v[0],B=0;B<v.length;B++){var W=v[B],V=n[B];W===j?D.merge(V):N.merge(V)}var J=function(de){var pe=e.spawn();return de.forEach(function(fe){pe.merge(fe),fe.connectedEdges().forEach(function(ye){e.contains(ye)&&!A.contains(ye)&&pe.merge(ye)})}),pe},ee=[J(D),J(N)],te={cut:A,components:ee,partition1:D,partition2:N};return te}},uN=function(e){return{x:e.x,y:e.y}},G0=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},hI=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},yg=function(e){return{x:e[0],y:e[1]}},lN=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.min(o,i))}return i},cN=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.max(o,i))}return i},fN=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,o=t;o<n;o++){var s=e[o];isFinite(s)&&(i+=s,a++)}return i/a},hN=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];o?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}a&&e.sort(function(h,d){return h-d});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+s]:(e[f-1+s]+e[f+s])/2},dN=function(e){return Math.PI*e/180},Um=function(e,t){return Math.atan2(t,e)-Math.PI/2},XO=Math.log2||function(r){return Math.log(r)/Math.log(2)},dI=function(e){return e>0?1:e<0?-1:0},rp=function(e,t){return Math.sqrt(Wv(e,t))},Wv=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},vN=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var a=0;a<t;a++)e[a]=e[a]/n;return e},na=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},wg=function(e,t,n,i){return{x:na(e.x,t.x,n.x,i),y:na(e.y,t.y,n.y,i)}},pN=function(e,t,n,i){var a={x:t.x-e.x,y:t.y-e.y},o=rp(e,t),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:e.x+s.x*i,y:e.y+s.y*i}},$y=function(e,t,n){return Math.max(e,Math.min(n,t))},Vs=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},gN=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},yN=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},mN=function(e,t,n){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},vI=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},bN=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},a0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},s0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(t.length===1)n=i=a=o=t[0];else if(t.length===2)n=a=t[0],o=i=t[1];else if(t.length===4){var s=ac(t,4);n=s[0],i=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},wS=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},KO=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Ag=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},_N=function(e,t){return Ag(e,t.x,t.y)},pI=function(e,t){return Ag(e,t.x1,t.y1)&&Ag(e,t.x2,t.y2)},gI=function(e,t,n,i,a,o,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?np(a,o):u,c=a/2,f=o/2;l=Math.min(l,c,f);var h=l!==c,d=l!==f,v;if(h){var y=n-c+l-s,w=i-f-s,b=n+c-l+s,g=w;if(v=Rd(e,t,n,i,y,w,b,g,!1),v.length>0)return v}if(d){var _=n+c+s,x=i-f+l-s,P=_,I=i+f-l+s;if(v=Rd(e,t,n,i,_,x,P,I,!1),v.length>0)return v}if(h){var T=n-c+l-s,A=i+f+s,D=n+c-l+s,N=A;if(v=Rd(e,t,n,i,T,A,D,N,!1),v.length>0)return v}if(d){var j=n-c-s,B=i-f+l-s,W=j,V=i+f-l+s;if(v=Rd(e,t,n,i,j,B,W,V,!1),v.length>0)return v}var J;{var ee=n-c+l,te=i-f+l;if(J=Iy(e,t,n,i,ee,te,l+s),J.length>0&&J[0]<=ee&&J[1]<=te)return[J[0],J[1]]}{var re=n+c-l,de=i-f+l;if(J=Iy(e,t,n,i,re,de,l+s),J.length>0&&J[0]>=re&&J[1]<=de)return[J[0],J[1]]}{var pe=n+c-l,fe=i+f-l;if(J=Iy(e,t,n,i,pe,fe,l+s),J.length>0&&J[0]>=pe&&J[1]>=fe)return[J[0],J[1]]}{var ye=n-c+l,Me=i+f-l;if(J=Iy(e,t,n,i,ye,Me,l+s),J.length>0&&J[0]<=ye&&J[1]>=Me)return[J[0],J[1]]}return[]},wN=function(e,t,n,i,a,o,s){var u=s,l=Math.min(n,a),c=Math.max(n,a),f=Math.min(i,o),h=Math.max(i,o);return l-u<=e&&e<=c+u&&f-u<=t&&t<=h+u},EN=function(e,t,n,i,a,o,s,u,l){var c={x1:Math.min(n,s,a)-l,x2:Math.max(n,s,a)+l,y1:Math.min(i,u,o)-l,y2:Math.max(i,u,o)+l};return!(e<c.x1||e>c.x2||t<c.y1||t>c.y2)},ON=function(e,t,n,i){n-=i;var a=t*t-4*e*n;if(a<0)return[];var o=Math.sqrt(a),s=2*e,u=(-t+o)/s,l=(-t-o)/s;return[u,l]},xN=function(e,t,n,i,a){var o=1e-5;e===0&&(e=o),t/=e,n/=e,i/=e;var s,u,l,c,f,h,d,v;if(u=(3*n-t*t)/9,l=-(27*i)+t*(9*n-2*(t*t)),l/=54,s=u*u*u+l*l,a[1]=0,d=t/3,s>0){f=l+Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=l-Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),a[0]=-d+f+h,d+=(f+h)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-h+f)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,s===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),a[0]=-d+2*v,a[4]=a[2]=-(v+d);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),v=2*Math.sqrt(u),a[0]=-d+v*Math.cos(c/3),a[2]=-d+v*Math.cos((c+2*Math.PI)/3),a[4]=-d+v*Math.cos((c+4*Math.PI)/3)},SN=function(e,t,n,i,a,o,s,u){var l=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*u+4*o*o-4*o*u+u*u,c=1*9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*u-6*o*o+3*o*u,f=1*3*n*n-6*n*a+n*s-n*e+2*a*a+2*a*e-s*e+3*i*i-6*i*o+i*u-i*t+2*o*o+2*o*t-u*t,h=1*n*a-n*n+n*e-a*e+i*o-i*i+i*t-o*t,d=[];xN(l,c,f,h,d);for(var v=1e-7,y=[],w=0;w<6;w+=2)Math.abs(d[w+1])<v&&d[w]>=0&&d[w]<=1&&y.push(d[w]);y.push(1),y.push(0);for(var b=-1,g,_,x,P=0;P<y.length;P++)g=Math.pow(1-y[P],2)*n+2*(1-y[P])*y[P]*a+y[P]*y[P]*s,_=Math.pow(1-y[P],2)*i+2*(1-y[P])*y[P]*o+y[P]*y[P]*u,x=Math.pow(g-e,2)+Math.pow(_-t,2),b>=0?x<b&&(b=x):b=x;return b},TN=function(e,t,n,i,a,o){var s=[e-n,t-i],u=[a-n,o-i],l=u[0]*u[0]+u[1]*u[1],c=s[0]*s[0]+s[1]*s[1],f=s[0]*u[0]+s[1]*u[1],h=f*f/l;return f<0?c:h>l?(e-a)*(e-a)+(t-o)*(t-o):c-h},qs=function(e,t,n){for(var i,a,o,s,u,l=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==e&&o==e))if(i>=e&&e>=o||i<=e&&e<=o)u=(e-i)/(o-i)*(s-a)+a,u>t&&l++;else continue;return l%2!==0},xh=function(e,t,n,i,a,o,s,u,l){var c=new Array(n.length),f;u[0]!=null?(f=Math.atan(u[1]/u[0]),u[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=u;for(var h=Math.cos(-f),d=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*h-n[v*2+1]*d),c[v*2+1]=s/2*(n[v*2+1]*h+n[v*2]*d),c[v*2]+=i,c[v*2+1]+=a;var y;if(l>0){var w=E0(c,-l);y=w0(w)}else y=c;return qs(e,t,y)},CN=function(e,t,n,i,a,o,s,u){for(var l=new Array(n.length*2),c=0;c<u.length;c++){var f=u[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var h=Math.pow(f.cx-e,2)+Math.pow(f.cy-t,2);if(h<=Math.pow(f.radius,2))return!0}return qs(e,t,l)},w0=function(e){for(var t=new Array(e.length/2),n,i,a,o,s,u,l,c,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],o=e[f*4+3],f<e.length/4-1?(s=e[(f+1)*4],u=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(s=e[0],u=e[1],l=e[2],c=e[3]);var h=Rd(n,i,a,o,s,u,l,c,!0);t[f*2]=h[0],t[f*2+1]=h[1]}return t},E0=function(e,t){for(var n=new Array(e.length*2),i,a,o,s,u=0;u<e.length/2;u++){i=e[u*2],a=e[u*2+1],u<e.length/2-1?(o=e[(u+1)*2],s=e[(u+1)*2+1]):(o=e[0],s=e[1]);var l=s-a,c=-(o-i),f=Math.sqrt(l*l+c*c),h=l/f,d=c/f;n[u*4]=i+h*t,n[u*4+1]=a+d*t,n[u*4+2]=o+h*t,n[u*4+3]=s+d*t}return n},PN=function(e,t,n,i,a,o){var s=n-e,u=i-t;s/=a,u/=o;var l=Math.sqrt(s*s+u*u),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(i-t)*f+t]},Xv=function(e,t,n,i,a,o,s){return e-=a,t-=o,e/=n/2+s,t/=i/2+s,e*e+t*t<=1},Iy=function(e,t,n,i,a,o,s){var u=[n-e,i-t],l=[e-a,t-o],c=u[0]*u[0]+u[1]*u[1],f=2*(l[0]*u[0]+l[1]*u[1]),h=l[0]*l[0]+l[1]*l[1]-s*s,d=f*f-4*c*h;if(d<0)return[];var v=(-f+Math.sqrt(d))/(2*c),y=(-f-Math.sqrt(d))/(2*c),w=Math.min(v,y),b=Math.max(v,y),g=[];if(w>=0&&w<=1&&g.push(w),b>=0&&b<=1&&g.push(b),g.length===0)return[];var _=g[0]*u[0]+e,x=g[0]*u[1]+t;if(g.length>1){if(g[0]==g[1])return[_,x];var P=g[1]*u[0]+e,I=g[1]*u[1]+t;return[_,x,P,I]}else return[_,x]},o_=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Rd=function(e,t,n,i,a,o,s,u,l){var c=e-a,f=n-e,h=s-a,d=t-o,v=i-t,y=u-o,w=h*d-y*c,b=f*d-v*c,g=y*f-h*v;if(g!==0){var _=w/g,x=b/g,P=.001,I=0-P,T=1+P;return I<=_&&_<=T&&I<=x&&x<=T?[e+_*f,t+_*v]:l?[e+_*f,t+_*v]:[]}else return w===0||b===0?o_(e,n,s)===s?[s,u]:o_(e,n,a)===a?[a,o]:o_(a,s,n)===n?[n,i]:[]:[]},Xy=function(e,t,n,i,a,o,s,u){var l=[],c,f=new Array(n.length),h=!0;o==null&&(h=!1);var d;if(h){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*o+i,f[v*2+1]=n[v*2+1]*s+a;if(u>0){var y=E0(f,-u);d=w0(y)}else d=f}else d=n;for(var w,b,g,_,x=0;x<d.length/2;x++)w=d[x*2],b=d[x*2+1],x<d.length/2-1?(g=d[(x+1)*2],_=d[(x+1)*2+1]):(g=d[0],_=d[1]),c=Rd(e,t,i,a,w,b,g,_),c.length!==0&&l.push(c[0],c[1]);return l},AN=function(e,t,n,i,a,o,s,u,l){var c=[],f,h=new Array(n.length*2);l.forEach(function(g,_){_===0?(h[h.length-2]=g.startX,h[h.length-1]=g.startY):(h[_*4-2]=g.startX,h[_*4-1]=g.startY),h[_*4]=g.stopX,h[_*4+1]=g.stopY,f=Iy(e,t,i,a,g.cx,g.cy,g.radius),f.length!==0&&c.push(f[0],f[1])});for(var d=0;d<h.length/4;d++)f=Rd(e,t,i,a,h[d*4],h[d*4+1],h[d*4+2],h[d*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-e,2)+Math.pow(v[1]-t,2),w=1;w<c.length/2;w++){var b=Math.pow(c[w*2]-e,2)+Math.pow(c[w*2+1]-t,2);b<=y&&(v[0]=c[w*2],v[1]=c[w*2+1],y=b)}return v}return c},zm=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[t[0]+o*i[0],t[1]+o*i[1]]},Es=function(e,t){var n=cO(e,t);return n=yI(n),n},yI=function(e){for(var t,n,i=e.length/2,a=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],a=Math.min(a,t),s=Math.max(s,t),o=Math.min(o,n),u=Math.max(u,n);for(var c=2/(s-a),f=2/(u-o),h=0;h<i;h++)t=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,a=Math.min(a,t),s=Math.max(s,t),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var d=0;d<i;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},cO=function(e,t){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},np=function(e,t){return Math.min(e/4,t/4,8)},mI=function(e,t){return Math.min(e/10,t/10,8)},ZO=function(){return 8},IN=function(e,t,n){return[e-2*t+n,2*(t-e),e]},fO=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},RN=Ca({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),kN={pageRank:function(e){for(var t=RN(e),n=t.dampingFactor,i=t.precision,a=t.iterations,o=t.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,f=l.length,h=f*f,d=c.length,v=new Array(h),y=new Array(f),w=(1-n)/f,b=0;b<f;b++){for(var g=0;g<f;g++){var _=b*f+g;v[_]=0}y[b]=0}for(var x=0;x<d;x++){var P=c[x],I=P.data("source"),T=P.data("target");if(I!==T){var A=l.indexOfId(I),D=l.indexOfId(T),N=o(P),j=D*f+A;v[j]+=N,y[A]+=N}}for(var B=1/f+w,W=0;W<f;W++)if(y[W]===0)for(var V=0;V<f;V++){var J=V*f+W;v[J]=B}else for(var ee=0;ee<f;ee++){var te=ee*f+W;v[te]=v[te]/y[W]+w}for(var re=new Array(f),de=new Array(f),pe,fe=0;fe<f;fe++)re[fe]=1;for(var ye=0;ye<a;ye++){for(var Me=0;Me<f;Me++)de[Me]=0;for(var Ne=0;Ne<f;Ne++)for(var ke=0;ke<f;ke++){var je=Ne*f+ke;de[Ne]+=v[je]*re[ke]}vN(de),pe=re,re=de,de=pe;for(var xe=0,Se=0;Se<f;Se++){var Re=pe[Se]-re[Se];xe+=Re*Re}if(xe<i)break}var Oe={rank:function(Ue){return Ue=s.collection(Ue)[0],re[l.indexOf(Ue)]}};return Oe}},ES=Ca({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Eg={degreeCentralityNormalized:function(e){e=ES(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},f={},h=0,d=0,v=0;v<i;v++){var y=n[v],w=y.id();e.root=y;var b=this.degreeCentrality(e);h<b.indegree&&(h=b.indegree),d<b.outdegree&&(d=b.outdegree),c[w]=b.indegree,f[w]=b.outdegree}return{indegree:function(_){return h==0?0:(hr(_)&&(_=t.filter(_)),c[_.id()]/h)},outdegree:function(_){return d===0?0:(hr(_)&&(_=t.filter(_)),f[_.id()]/d)}}}else{for(var a={},o=0,s=0;s<i;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);o<l.degree&&(o=l.degree),a[u.id()]=l.degree}return{degree:function(_){return o===0?0:(hr(_)&&(_=t.filter(_)),a[_.id()]/o)}}}},degreeCentrality:function(e){e=ES(e);var t=this.cy(),n=this,i=e,a=i.root,o=i.weight,s=i.directed,u=i.alpha;if(a=t.collection(a)[0],s){for(var d=a.connectedEdges(),v=d.filter(function(I){return I.target().same(a)&&n.has(I)}),y=d.filter(function(I){return I.source().same(a)&&n.has(I)}),w=v.length,b=y.length,g=0,_=0,x=0;x<v.length;x++)g+=o(v[x]);for(var P=0;P<y.length;P++)_+=o(y[P]);return{indegree:Math.pow(w,1-u)*Math.pow(g,u),outdegree:Math.pow(b,1-u)*Math.pow(_,u)}}else{for(var l=a.connectedEdges().intersection(n),c=l.length,f=0,h=0;h<l.length;h++)f+=o(l[h]);return{degree:Math.pow(c,1-u)*Math.pow(f,u)}}}};Eg.dc=Eg.degreeCentrality;Eg.dcn=Eg.degreeCentralityNormalised=Eg.degreeCentralityNormalized;var OS=Ca({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Og={closenessCentralityNormalized:function(e){for(var t=OS(e),n=t.harmonic,i=t.weight,a=t.directed,o=this.cy(),s={},u=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),f=0;f<l.length;f++){for(var h=0,d=l[f],v=0;v<l.length;v++)if(f!==v){var y=c.distance(d,l[v]);n?h+=1/y:h+=y}n||(h=1/h),u<h&&(u=h),s[d.id()]=h}return{closeness:function(b){return u==0?0:(hr(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var t=OS(e),n=t.root,i=t.weight,a=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),u=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var h=s.distanceTo(f);o?u+=1/h:u+=h}}return o?u:1/u}};Og.cc=Og.closenessCentrality;Og.ccn=Og.closenessCentralityNormalised=Og.closenessCentralityNormalized;var MN=Ca({weight:null,directed:!1}),hO={betweennessCentrality:function(e){for(var t=MN(e),n=t.directed,i=t.weight,a=i!=null,o=this.cy(),s=this.nodes(),u={},l={},c=0,f={set:function(_,x){l[_]=x,x>c&&(c=x)},get:function(_){return l[_]}},h=0;h<s.length;h++){var d=s[h],v=d.id();n?u[v]=d.outgoers().nodes():u[v]=d.openNeighborhood().nodes(),f.set(v,0)}for(var y=function(_){for(var x=s[_].id(),P=[],I={},T={},A={},D=new am(function(ke,je){return A[ke]-A[je]}),N=0;N<s.length;N++){var j=s[N].id();I[j]=[],T[j]=0,A[j]=1/0}for(T[x]=1,A[x]=0,D.push(x);!D.empty();){var B=D.pop();if(P.push(B),a)for(var W=0;W<u[B].length;W++){var V=u[B][W],J=o.getElementById(B),ee=void 0;J.edgesTo(V).length>0?ee=J.edgesTo(V)[0]:ee=V.edgesTo(J)[0];var te=i(ee);V=V.id(),A[V]>A[B]+te&&(A[V]=A[B]+te,D.nodes.indexOf(V)<0?D.push(V):D.updateItem(V),T[V]=0,I[V]=[]),A[V]==A[B]+te&&(T[V]=T[V]+T[B],I[V].push(B))}else for(var re=0;re<u[B].length;re++){var de=u[B][re].id();A[de]==1/0&&(D.push(de),A[de]=A[B]+1),A[de]==A[B]+1&&(T[de]=T[de]+T[B],I[de].push(B))}}for(var pe={},fe=0;fe<s.length;fe++)pe[s[fe].id()]=0;for(;P.length>0;){for(var ye=P.pop(),Me=0;Me<I[ye].length;Me++){var Ne=I[ye][Me];pe[Ne]=pe[Ne]+T[Ne]/T[ye]*(1+pe[ye])}ye!=s[_].id()&&f.set(ye,f.get(ye)+pe[ye])}},w=0;w<s.length;w++)y(w);var b={betweenness:function(_){var x=o.collection(_).id();return f.get(x)},betweennessNormalized:function(_){if(c==0)return 0;var x=o.collection(_).id();return f.get(x)/c}};return b.betweennessNormalised=b.betweennessNormalized,b}};hO.bc=hO.betweennessCentrality;var DN=Ca({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),LN=function(e){return DN(e)},NN=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},jN=function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n},bI=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var a=0;a<t;a++)n+=e[a*t+i];for(var o=0;o<t;o++)e[o*t+i]=e[o*t+i]/n}},FN=function(e,t,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)i[a*n+u]+=e[a*n+s]*t[s*n+u]}return i},BN=function(e,t,n){for(var i=e.slice(0),a=1;a<n;a++)e=FN(e,i,t);return e},UN=function(e,t,n){for(var i=new Array(t*t),a=0;a<t*t;a++)i[a]=Math.pow(e[a],n);return bI(i,t),i},zN=function(e,t,n,i){for(var a=0;a<n;a++){var o=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},qN=function(e,t,n,i){for(var a=[],o=0;o<t;o++){for(var s=[],u=0;u<t;u++)Math.round(e[o*t+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&a.push(i.collection(s))}return a},GN=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},VN=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&GN(e[t],e[n])&&e.splice(n,1);return e},xS=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),a=LN(e),o={},s=0;s<t.length;s++)o[t[s].id()]=s;for(var u=t.length,l=u*u,c=new Array(l),f,h=0;h<l;h++)c[h]=0;for(var d=0;d<n.length;d++){var v=n[d],y=o[v.source().id()],w=o[v.target().id()],b=NN(v,a.attributes);c[y*u+w]+=b,c[w*u+y]+=b}jN(c,u,a.multFactor),bI(c,u);for(var g=!0,_=0;g&&_<a.maxIterations;)g=!1,f=BN(c,u,a.expandFactor),c=UN(f,u,a.inflateFactor),zN(c,f,l,4)||(g=!0),_++;var x=qN(c,u,t,i);return x=VN(x),x},WN={markovClustering:xS,mcl:xS},HN=function(e){return e},_I=function(e,t){return Math.abs(t-e)},SS=function(e,t,n){return e+_I(t,n)},TS=function(e,t,n){return e+Math.pow(n-t,2)},YN=function(e){return Math.sqrt(e)},$N=function(e,t,n){return Math.max(e,_I(t,n))},Ey=function(e,t,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:HN,s=i,u,l,c=0;c<e;c++)u=t(c),l=n(c),s=a(s,u,l);return o(s)},Ig={euclidean:function(e,t,n){return e>=2?Ey(e,t,n,0,TS,YN):Ey(e,t,n,0,SS)},squaredEuclidean:function(e,t,n){return Ey(e,t,n,0,TS)},manhattan:function(e,t,n){return Ey(e,t,n,0,SS)},max:function(e,t,n){return Ey(e,t,n,-1/0,$N)}};Ig["squared-euclidean"]=Ig.squaredEuclidean;Ig.squaredeuclidean=Ig.squaredEuclidean;function V0(r,e,t,n,i,a){var o;return Vi(r)?o=r:o=Ig[r]||Ig.euclidean,e===0&&Vi(r)?o(i,a):o(e,t,n,i,a)}var XN=Ca({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),QO=function(e){return XN(e)},O0=function(e,t,n,i,a){var o=a!=="kMedoids",s=o?function(f){return n[f]}:function(f){return i[f](n)},u=function(h){return i[h](t)},l=n,c=t;return V0(e,i.length,s,u,l,c)},a_=function(e,t,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(t),u=null,l=0;l<i;l++)a[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var c=0;c<t;c++){u=[];for(var f=0;f<i;f++)u[f]=Math.random()*(o[f]-a[f])+a[f];s[c]=u}return s},wI=function(e,t,n,i,a){for(var o=1/0,s=0,u=0;u<t.length;u++){var l=O0(n,e,t[u],i,a);l<o&&(o=l,s=u)}return s},EI=function(e,t,n){for(var i=[],a=null,o=0;o<t.length;o++)a=t[o],n[a.id()]===e&&i.push(a);return i},KN=function(e,t,n){return Math.abs(t-e)<=n},ZN=function(e,t,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var o=Math.abs(e[i][a]-t[i][a]);if(o>n)return!1}return!0},QN=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},CS=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var a=e[Math.floor(Math.random()*e.length)];QN(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},PS=function(e,t,n){for(var i=0,a=0;a<t.length;a++)i+=O0("manhattan",t[a],e,n,"kMedoids");return i},JN=function(e){var t=this.cy(),n=this.nodes(),i=null,a=QO(e),o=new Array(a.k),s={},u;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,u=a_(n,a.k,a.attributes)):Fo(a.testCentroids)==="object"?u=a.testCentroids:u=a_(n,a.k,a.attributes):u=a_(n,a.k,a.attributes);for(var l=!0,c=0;l&&c<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],s[i.id()]=wI(i,u,a.distance,a.attributes,"kMeans");l=!1;for(var h=0;h<a.k;h++){var d=EI(h,n,s);if(d.length!==0){for(var v=a.attributes.length,y=u[h],w=new Array(v),b=new Array(v),g=0;g<v;g++){b[g]=0;for(var _=0;_<d.length;_++)i=d[_],b[g]+=a.attributes[g](i);w[g]=b[g]/d.length,KN(w[g],y[g],a.sensitivityThreshold)||(l=!0)}u[h]=w,o[h]=t.collection(d)}}c++}return o},ej=function(e){var t=this.cy(),n=this.nodes(),i=null,a=QO(e),o=new Array(a.k),s,u={},l,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Fo(a.testCentroids)==="object"?s=a.testCentroids:s=CS(n,a.k)):s=CS(n,a.k);for(var f=!0,h=0;f&&h<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],u[i.id()]=wI(i,s,a.distance,a.attributes,"kMedoids");f=!1;for(var v=0;v<s.length;v++){var y=EI(v,n,u);if(y.length!==0){c[v]=PS(s[v],y,a.attributes);for(var w=0;w<y.length;w++)l=PS(y[w],y,a.attributes),l<c[v]&&(c[v]=l,s[v]=y[w],f=!0);o[v]=t.collection(y)}}h++}return o},tj=function(e,t,n,i,a){for(var o,s,u=0;u<t.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(n[u][l],a.m);for(var c=0;c<e.length;c++)for(var f=0;f<a.attributes.length;f++){o=0,s=0;for(var h=0;h<t.length;h++)o+=i[h][c]*a.attributes[f](t[h]),s+=i[h][c];e[c][f]=o/s}},rj=function(e,t,n,i,a){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var s,u,l,c=2/(a.m-1),f=0;f<n.length;f++)for(var h=0;h<i.length;h++){s=0;for(var d=0;d<n.length;d++)u=O0(a.distance,i[h],n[f],a.attributes,"cmeans"),l=O0(a.distance,i[h],n[d],a.attributes,"cmeans"),s+=Math.pow(u/l,c);e[h][f]=1/s}},nj=function(e,t,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,u,l=0;l<t.length;l++){s=-1/0,u=-1;for(var c=0;c<t[0].length;c++)t[l][c]>s&&(s=t[l][c],u=c);a[u].push(e[l])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},AS=function(e){var t=this.cy(),n=this.nodes(),i=QO(e),a,o,s,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(i.k);s=new Array(n.length);for(var f=0;f<n.length;f++)s[f]=new Array(i.k);for(var h=0;h<n.length;h++){for(var d=0,v=0;v<i.k;v++)s[h][v]=Math.random(),d+=s[h][v];for(var y=0;y<i.k;y++)s[h][y]=s[h][y]/d}o=new Array(i.k);for(var w=0;w<i.k;w++)o[w]=new Array(i.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(i.k);for(var g=!0,_=0;g&&_<i.maxIterations;)g=!1,tj(o,n,s,l,i),rj(s,u,o,n,i),ZN(s,u,i.sensitivityThreshold)||(g=!0),_++;return a=nj(n,s,i,t),{clusters:a,degreeOfMembership:s}},ij={kMeans:JN,kMedoids:ej,fuzzyCMeans:AS,fcm:AS},oj=Ca({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),aj={single:"min",complete:"max"},sj=function(e){var t=oj(e),n=aj[t.linkage];return n!=null&&(t.linkage=n),t},IS=function(e,t,n,i,a){for(var o=0,s=1/0,u,l=a.attributes,c=function(D,N){return V0(a.distance,l.length,function(j){return l[j](D)},function(j){return l[j](N)},D,N)},f=0;f<e.length;f++){var h=e[f].key,d=n[h][i[h]];d<s&&(o=h,s=d)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var v=t[o],y=t[i[o]],w;a.mode==="dendrogram"?w={left:v,right:y,key:v.key}:w={value:v.value.concat(y.value),key:v.key},e[v.index]=w,e.splice(y.index,1),t[v.key]=w;for(var b=0;b<e.length;b++){var g=e[b];v.key===g.key?u=1/0:a.linkage==="min"?(u=n[v.key][g.key],n[v.key][g.key]>n[y.key][g.key]&&(u=n[y.key][g.key])):a.linkage==="max"?(u=n[v.key][g.key],n[v.key][g.key]<n[y.key][g.key]&&(u=n[y.key][g.key])):a.linkage==="mean"?u=(n[v.key][g.key]*v.size+n[y.key][g.key]*y.size)/(v.size+y.size):a.mode==="dendrogram"?u=c(g.value,v.value):u=c(g.value[0],v.value[0]),n[v.key][g.key]=n[g.key][v.key]=u}for(var _=0;_<e.length;_++){var x=e[_].key;if(i[x]===v.key||i[x]===y.key){for(var P=x,I=0;I<e.length;I++){var T=e[I].key;n[x][T]<n[x][P]&&(P=T)}i[x]=P}e[_].index=_}return v.key=y.key=v.index=y.index=null,!0},qm=function r(e,t,n){e&&(e.value?t.push(e.value):(e.left&&r(e.left,t),e.right&&r(e.right,t)))},uj=function r(e,t){if(!e)return"";if(e.left&&e.right){var n=r(e.left,t),i=r(e.right,t),a=t.add({group:"nodes",data:{id:n+","+i}});return t.add({group:"edges",data:{source:n,target:a.id()}}),t.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},lj=function r(e,t,n){if(!e)return[];var i=[],a=[],o=[];return t===0?(e.left&&qm(e.left,i),e.right&&qm(e.right,a),o=i.concat(a),[n.collection(o)]):t===1?e.value?[n.collection(e.value)]:(e.left&&qm(e.left,i),e.right&&qm(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=r(e.left,t-1,n)),e.right&&(a=r(e.right,t-1,n)),i.concat(a))},RS=function(e){for(var t=this.cy(),n=this.nodes(),i=sj(e),a=i.attributes,o=function(_,x){return V0(i.distance,a.length,function(P){return a[P](_)},function(P){return a[P](x)},_,x)},s=[],u=[],l=[],c=[],f=0;f<n.length;f++){var h={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};s[f]=h,c[f]=h,u[f]=[],l[f]=0}for(var d=0;d<s.length;d++)for(var v=0;v<=d;v++){var y=void 0;i.mode==="dendrogram"?y=d===v?1/0:o(s[d].value,s[v].value):y=d===v?1/0:o(s[d].value[0],s[v].value[0]),u[d][v]=y,u[v][d]=y,y<u[d][l[d]]&&(l[d]=v)}for(var w=IS(s,c,u,l,i);w;)w=IS(s,c,u,l,i);var b;return i.mode==="dendrogram"?(b=lj(s[0],i.dendrogramDepth,t),i.addDendrogram&&uj(s[0],t)):(b=new Array(s.length),s.forEach(function(g,_){g.key=g.index=null,b[_]=t.collection(g.value)})),b},cj={hierarchicalClustering:RS,hca:RS},fj=Ca({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),hj=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ji("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Gt(n)||Ji("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),fj(e)},dj=function(e,t,n,i){var a=function(s,u){return i[u](s)};return-V0(e,i.length,function(o){return a(t,o)},function(o){return a(n,o)},t,n)},vj=function(e,t){var n=null;return t==="median"?n=hN(e):t==="mean"?n=fN(e):t==="min"?n=lN(e):t==="max"?n=cN(e):n=t,n},pj=function(e,t,n){for(var i=[],a=0;a<e;a++)t[a*e+a]+n[a*e+a]>0&&i.push(a);return i},kS=function(e,t,n){for(var i=[],a=0;a<e;a++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];t[a*e+l]>s&&(o=l,s=t[a*e+l])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},gj=function(e,t,n){for(var i=kS(e,t,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var u=-1,l=-1/0,c=0;c<o.length;c++){for(var f=0,h=0;h<o.length;h++)f+=t[o[h]*e+o[c]];f>l&&(u=c,l=f)}n[a]=o[u]}return i=kS(e,t,n),i},MS=function(e){for(var t=this.cy(),n=this.nodes(),i=hj(e),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,u,l,c,f,h;s=n.length,u=s*s,l=new Array(u);for(var d=0;d<u;d++)l[d]=-1/0;for(var v=0;v<s;v++)for(var y=0;y<s;y++)v!==y&&(l[v*s+y]=dj(i.distance,n[v],n[y],i.attributes));c=vj(l,i.preference);for(var w=0;w<s;w++)l[w*s+w]=c;f=new Array(u);for(var b=0;b<u;b++)f[b]=0;h=new Array(u);for(var g=0;g<u;g++)h[g]=0;for(var _=new Array(s),x=new Array(s),P=new Array(s),I=0;I<s;I++)_[I]=0,x[I]=0,P[I]=0;for(var T=new Array(s*i.minIterations),A=0;A<T.length;A++)T[A]=0;var D;for(D=0;D<i.maxIterations;D++){for(var N=0;N<s;N++){for(var j=-1/0,B=-1/0,W=-1,V=0,J=0;J<s;J++)_[J]=f[N*s+J],V=h[N*s+J]+l[N*s+J],V>=j?(B=j,j=V,W=J):V>B&&(B=V);for(var ee=0;ee<s;ee++)f[N*s+ee]=(1-i.damping)*(l[N*s+ee]-j)+i.damping*_[ee];f[N*s+W]=(1-i.damping)*(l[N*s+W]-B)+i.damping*_[W]}for(var te=0;te<s;te++){for(var re=0,de=0;de<s;de++)_[de]=h[de*s+te],x[de]=Math.max(0,f[de*s+te]),re+=x[de];re-=x[te],x[te]=f[te*s+te],re+=x[te];for(var pe=0;pe<s;pe++)h[pe*s+te]=(1-i.damping)*Math.min(0,re-x[pe])+i.damping*_[pe];h[te*s+te]=(1-i.damping)*(re-x[te])+i.damping*_[te]}for(var fe=0,ye=0;ye<s;ye++){var Me=h[ye*s+ye]+f[ye*s+ye]>0?1:0;T[D%i.minIterations*s+ye]=Me,fe+=Me}if(fe>0&&(D>=i.minIterations-1||D==i.maxIterations-1)){for(var Ne=0,ke=0;ke<s;ke++){P[ke]=0;for(var je=0;je<i.minIterations;je++)P[ke]+=T[je*s+ke];(P[ke]===0||P[ke]===i.minIterations)&&Ne++}if(Ne===s)break}}for(var xe=pj(s,f,h),Se=gj(s,l,xe),Re={},Oe=0;Oe<xe.length;Oe++)Re[xe[Oe]]=[];for(var Pe=0;Pe<n.length;Pe++){var Ue=a[n[Pe].id()],ot=Se[Ue];ot!=null&&Re[ot].push(n[Pe])}for(var $e=new Array(xe.length),rt=0;rt<xe.length;rt++)$e[rt]=t.collection(Re[xe[rt]]);return $e},yj={affinityPropagation:MS,ap:MS},mj=Ca({root:void 0,directed:!1}),bj={hierholzer:function(e){if(!bn(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=mj(e),i=n.root,a=n.directed,o=this,s=!1,u,l,c;i&&(c=hr(i)?this.filter(i)[0].id():i[0].id());var f={},h={};a?o.forEach(function(g){var _=g.id();if(g.isNode()){var x=g.indegree(!0),P=g.outdegree(!0),I=x-P,T=P-x;I==1?u?s=!0:u=_:T==1?l?s=!0:l=_:(T>1||I>1)&&(s=!0),f[_]=[],g.outgoers().forEach(function(A){A.isEdge()&&f[_].push(A.id())})}else h[_]=[void 0,g.target().id()]}):o.forEach(function(g){var _=g.id();if(g.isNode()){var x=g.degree(!0);x%2&&(u?l?s=!0:l=_:u=_),f[_]=[],g.connectedEdges().forEach(function(P){return f[_].push(P.id())})}else h[_]=[g.source().id(),g.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(l&&u)if(a){if(c&&l!=c)return d;c=l}else{if(c&&l!=c&&u!=c)return d;c||(c=l)}else c||(c=o[0].id());var v=function(_){for(var x=_,P=[_],I,T,A;f[x].length;)I=f[x].shift(),T=h[I][0],A=h[I][1],x!=A?(f[A]=f[A].filter(function(D){return D!=I}),x=A):!a&&x!=T&&(f[T]=f[T].filter(function(D){return D!=I}),x=T),P.unshift(I),P.unshift(x);return P},y=[],w=[];for(w=v(c);w.length!=1;)f[w[0]].length==0?(y.unshift(o.getElementById(w.shift())),y.unshift(o.getElementById(w.shift()))):w=v(w.shift()).concat(w);y.unshift(o.getElementById(w.shift()));for(var b in f)if(f[b].length)return d;return d.found=!0,d.trail=this.spawn(y,!0),d}},Gm=function(){var e=this,t={},n=0,i=0,a=[],o=[],s={},u=function(h,d){for(var v=o.length-1,y=[],w=e.spawn();o[v].x!=h||o[v].y!=d;)y.push(o.pop().edge),v--;y.push(o.pop().edge),y.forEach(function(b){var g=b.connectedNodes().intersection(e);w.merge(b),g.forEach(function(_){var x=_.id(),P=_.connectedEdges().intersection(e);w.merge(_),t[x].cutVertex?w.merge(P.filter(function(I){return I.isLoop()})):w.merge(P)})}),a.push(w)},l=function f(h,d,v){h===v&&(i+=1),t[d]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(d).connectedEdges().intersection(e);if(y.size()===0)a.push(e.spawn(e.getElementById(d)));else{var w,b,g,_;y.forEach(function(x){w=x.source().id(),b=x.target().id(),g=w===d?b:w,g!==v&&(_=x.id(),s[_]||(s[_]=!0,o.push({x:d,y:g,edge:x})),g in t?t[d].low=Math.min(t[d].low,t[g].id):(f(h,g,d),t[d].low=Math.min(t[d].low,t[g].low),t[d].id<=t[g].low&&(t[d].cutVertex=!0,u(d,g))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in t||(i=0,l(h,h),t[h].cutVertex=i>1)}});var c=Object.keys(t).filter(function(f){return t[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:a}},_j={hopcroftTarjanBiconnected:Gm,htbc:Gm,htb:Gm,hopcroftTarjanBiconnectedComponents:Gm},Vm=function(){var e=this,t={},n=0,i=[],a=[],o=e.spawn(e),s=function u(l){a.push(l),t[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(y){var w=y.target().id();w!==l&&(w in t||u(w),t[w].explored||(t[l].low=Math.min(t[l].low,t[w].low)))}),t[l].index===t[l].low){for(var f=e.spawn();;){var h=a.pop();if(f.merge(e.getElementById(h)),t[h].low=t[l].index,t[h].explored=!0,h===l)break}var d=f.edgesWith(f),v=f.merge(d);i.push(v),o=o.difference(v)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in t||s(l)}}),{cut:o,components:i}},wj={tarjanStronglyConnected:Vm,tsc:Vm,tscc:Vm,tarjanStronglyConnectedComponents:Vm},OI={};[Yy,ZL,QL,eN,rN,iN,sN,kN,Eg,Og,hO,WN,ij,cj,yj,bj,_j,wj].forEach(function(r){br(OI,r)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var xI=0,SI=1,TI=2,Sh=function r(e){if(!(this instanceof r))return new r(e);this.id="Thenable/1.0.7",this.state=xI,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sh.prototype={fulfill:function(e){return DS(this,SI,"fulfillValue",e)},reject:function(e){return DS(this,TI,"rejectReason",e)},then:function(e,t){var n=this,i=new Sh;return n.onFulfilled.push(NS(e,i,"fulfill")),n.onRejected.push(NS(t,i,"reject")),CI(n),i.proxy}};var DS=function(e,t,n,i){return e.state===xI&&(e.state=t,e[n]=i,CI(e)),e},CI=function(e){e.state===SI?LS(e,"onFulfilled",e.fulfillValue):e.state===TI&&LS(e,"onRejected",e.rejectReason)},LS=function(e,t,n){if(e[t].length!==0){var i=e[t];e[t]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},NS=function(e,t,n){return function(i){if(typeof e!="function")t[n].call(t,i);else{var a;try{a=e(i)}catch(o){t.reject(o);return}Ej(t,a)}}},Ej=function r(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Fo(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(t,function(a){i||(i=!0,a===t?e.reject(new TypeError("circular thenable chain")):r(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(t)};Sh.all=function(r){return new Sh(function(e,t){for(var n=new Array(r.length),i=0,a=function(u,l){n[u]=l,i++,i===r.length&&e(n)},o=0;o<r.length;o++)(function(s){var u=r[s],l=u!=null&&u.then!=null;if(l)u.then(function(f){a(s,f)},function(f){t(f)});else{var c=u;a(s,c)}})(o)})};Sh.resolve=function(r){return new Sh(function(e,t){e(r)})};Sh.reject=function(r){return new Sh(function(e,t){t(r)})};var Lg=typeof Promise<"u"?Promise:Sh,dO=function(e,t,n){var i=VO(e),a=!i,o=this._private=br({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Vi(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},ip=dO.prototype;br(ip,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),Pu(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[i]=s}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new Lg(function(i,a){n.push(function(){i()})})}});ip.complete=ip.completed;ip.run=ip.play;ip.running=ip.playing;var Oj={animated:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,u=!a,l=!u;if(!s.styleEnabled())return this;var c=s.style();t=br({},t,n);var f=Object.keys(t).length===0;if(f)return new dO(o[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(l&&(t.style=c.getPropsList(t.style||t.css),t.css=void 0),l&&t.renderedPosition!=null){var h=t.renderedPosition,d=s.pan(),v=s.zoom();t.position=hI(h,v,d)}if(u&&t.panBy!=null){var y=t.panBy,w=s.pan();t.pan={x:w.x+y.x,y:w.y+y.y}}var b=t.center||t.centre;if(u&&b!=null){var g=s.getCenterPan(b.eles,t.zoom);g!=null&&(t.pan=g)}if(u&&t.fit!=null){var _=t.fit,x=s.getFitViewport(_.eles||_.boundingBox,_.padding);x!=null&&(t.pan=x.pan,t.zoom=x.zoom)}if(u&&bn(t.zoom)){var P=s.getZoomedViewport(t.zoom);P!=null?(P.zoomed&&(t.zoom=P.zoom),P.panned&&(t.pan=P.pan)):t.zoom=null}return new dO(o[0],t)}},animate:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(t=br({},t,n));for(var u=0;u<o.length;u++){var l=o[u],c=l.animated()&&(t.queue===void 0||t.queue),f=l.animation(t,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],c=l._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],v=d._private;n&&(v.duration=0)}t&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},xj=Array.isArray,W0=xj,Sj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tj=/^\w*$/;function Cj(r,e){if(W0(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||om(r)?!0:Tj.test(r)||!Sj.test(r)||e!=null&&r in Object(e)}var Pj=Cj,Aj="[object AsyncFunction]",Ij="[object Function]",Rj="[object GeneratorFunction]",kj="[object Proxy]";function Mj(r){if(!ep(r))return!1;var e=nI(r);return e==Ij||e==Rj||e==Aj||e==kj}var Dj=Mj,Lj=U0["__core-js_shared__"],s_=Lj,jS=function(){var r=/[^.]+$/.exec(s_&&s_.keys&&s_.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Nj(r){return!!jS&&jS in r}var jj=Nj,Fj=Function.prototype,Bj=Fj.toString;function Uj(r){if(r!=null){try{return Bj.call(r)}catch{}try{return r+""}catch{}}return""}var zj=Uj,qj=/[\\^$.*+?()[\]{}|]/g,Gj=/^\[object .+?Constructor\]$/,Vj=Function.prototype,Wj=Object.prototype,Hj=Vj.toString,Yj=Wj.hasOwnProperty,$j=RegExp("^"+Hj.call(Yj).replace(qj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xj(r){if(!ep(r)||jj(r))return!1;var e=Dj(r)?$j:Gj;return e.test(zj(r))}var Kj=Xj;function Zj(r,e){return r==null?void 0:r[e]}var Qj=Zj;function Jj(r,e){var t=Qj(r,e);return Kj(t)?t:void 0}var JO=Jj,e5=JO(Object,"create"),Ky=e5;function t5(){this.__data__=Ky?Ky(null):{},this.size=0}var r5=t5;function n5(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var i5=n5,o5="__lodash_hash_undefined__",a5=Object.prototype,s5=a5.hasOwnProperty;function u5(r){var e=this.__data__;if(Ky){var t=e[r];return t===o5?void 0:t}return s5.call(e,r)?e[r]:void 0}var l5=u5,c5=Object.prototype,f5=c5.hasOwnProperty;function h5(r){var e=this.__data__;return Ky?e[r]!==void 0:f5.call(e,r)}var d5=h5,v5="__lodash_hash_undefined__";function p5(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Ky&&e===void 0?v5:e,this}var g5=p5;function Ng(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Ng.prototype.clear=r5;Ng.prototype.delete=i5;Ng.prototype.get=l5;Ng.prototype.has=d5;Ng.prototype.set=g5;var FS=Ng;function y5(){this.__data__=[],this.size=0}var m5=y5;function b5(r,e){return r===e||r!==r&&e!==e}var PI=b5;function _5(r,e){for(var t=r.length;t--;)if(PI(r[t][0],e))return t;return-1}var H0=_5,w5=Array.prototype,E5=w5.splice;function O5(r){var e=this.__data__,t=H0(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():E5.call(e,t,1),--this.size,!0}var x5=O5;function S5(r){var e=this.__data__,t=H0(e,r);return t<0?void 0:e[t][1]}var T5=S5;function C5(r){return H0(this.__data__,r)>-1}var P5=C5;function A5(r,e){var t=this.__data__,n=H0(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}var I5=A5;function jg(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}jg.prototype.clear=m5;jg.prototype.delete=x5;jg.prototype.get=T5;jg.prototype.has=P5;jg.prototype.set=I5;var R5=jg,k5=JO(U0,"Map"),M5=k5;function D5(){this.size=0,this.__data__={hash:new FS,map:new(M5||R5),string:new FS}}var L5=D5;function N5(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var j5=N5;function F5(r,e){var t=r.__data__;return j5(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Y0=F5;function B5(r){var e=Y0(this,r).delete(r);return this.size-=e?1:0,e}var U5=B5;function z5(r){return Y0(this,r).get(r)}var q5=z5;function G5(r){return Y0(this,r).has(r)}var V5=G5;function W5(r,e){var t=Y0(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}var H5=W5;function Fg(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Fg.prototype.clear=L5;Fg.prototype.delete=U5;Fg.prototype.get=q5;Fg.prototype.has=V5;Fg.prototype.set=H5;var AI=Fg,Y5="Expected a function";function ex(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(Y5);var t=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var o=r.apply(this,n);return t.cache=a.set(i,o)||a,o};return t.cache=new(ex.Cache||AI),t}ex.Cache=AI;var $5=ex,X5=500;function K5(r){var e=$5(r,function(n){return t.size===X5&&t.clear(),n}),t=e.cache;return e}var Z5=K5,Q5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J5=/\\(\\)?/g,e3=Z5(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Q5,function(t,n,i,a){e.push(i?a.replace(J5,"$1"):n||t)}),e}),II=e3;function t3(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i}var RI=t3,r3=1/0,BS=Pg?Pg.prototype:void 0,US=BS?BS.toString:void 0;function kI(r){if(typeof r=="string")return r;if(W0(r))return RI(r,kI)+"";if(om(r))return US?US.call(r):"";var e=r+"";return e=="0"&&1/r==-r3?"-0":e}var n3=kI;function i3(r){return r==null?"":n3(r)}var MI=i3;function o3(r,e){return W0(r)?r:Pj(r,e)?[r]:II(MI(r))}var DI=o3,a3=1/0;function s3(r){if(typeof r=="string"||om(r))return r;var e=r+"";return e=="0"&&1/r==-a3?"-0":e}var tx=s3;function u3(r,e){e=DI(e,r);for(var t=0,n=e.length;r!=null&&t<n;)r=r[tx(e[t++])];return t&&t==n?r:void 0}var l3=u3;function c3(r,e,t){var n=r==null?void 0:l3(r,e);return n===void 0?t:n}var f3=c3,h3=function(){try{var r=JO(Object,"defineProperty");return r({},"",{}),r}catch{}}(),zS=h3;function d3(r,e,t){e=="__proto__"&&zS?zS(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var v3=d3,p3=Object.prototype,g3=p3.hasOwnProperty;function y3(r,e,t){var n=r[e];(!(g3.call(r,e)&&PI(n,t))||t===void 0&&!(e in r))&&v3(r,e,t)}var m3=y3,b3=9007199254740991,_3=/^(?:0|[1-9]\d*)$/;function w3(r,e){var t=typeof r;return e=e??b3,!!e&&(t=="number"||t!="symbol"&&_3.test(r))&&r>-1&&r%1==0&&r<e}var E3=w3;function O3(r,e,t,n){if(!ep(r))return r;e=DI(e,r);for(var i=-1,a=e.length,o=a-1,s=r;s!=null&&++i<a;){var u=tx(e[i]),l=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return r;if(i!=o){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=ep(c)?c:E3(e[i+1])?[]:{})}m3(s,u,l),s=s[u]}return r}var x3=O3;function S3(r,e,t){return r==null?r:x3(r,e,t)}var T3=S3;function C3(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}var P3=C3;function A3(r){return W0(r)?RI(r,tx):om(r)?[r]:P3(II(MI(r)))}var I3=A3,R3={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=br({},t,e),function(i,a){var o=e,s=this,u=s.length!==void 0,l=u?s:[s],c=u?s[0]:s;if(hr(i)){var f=i.indexOf(".")!==-1,h=f&&I3(i);if(o.allowGetting&&a===void 0){var d;return c&&(o.beforeGet(c),h&&c._private[o.field][i]===void 0?d=f3(c._private[o.field],h):d=c._private[o.field][i]),d}else if(o.allowSetting&&a!==void 0){var v=!o.immutableKeys[i];if(v){var y=YA({},i,a);o.beforeSet(s,y);for(var w=0,b=l.length;w<b;w++){var g=l[w];o.canSet(g)&&(h&&c._private[o.field][i]===void 0?T3(g._private[o.field],h,a):g._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&bn(i)){var _=i,x,P,I=Object.keys(_);o.beforeSet(s,_);for(var T=0;T<I.length;T++){x=I[T],P=_[x];var A=!o.immutableKeys[x];if(A)for(var D=0;D<l.length;D++){var N=l[D];o.canSet(N)&&(N._private[o.field][x]=P)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Vi(i)){var j=i;s.on(o.bindingEvent,j)}else if(o.allowGetting&&i===void 0){var B;return c&&(o.beforeGet(c),B=c._private[o.field]),B}return s}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=br({},t,e),function(i){var a=e,o=this,s=o.length!==void 0,u=s?o:[o];if(hr(i)){for(var l=i.split(/\s+/),c=l.length,f=0;f<c;f++){var h=l[f];if(!Nd(h)){var d=!a.immutableKeys[h];if(d)for(var v=0,y=u.length;v<y;v++)u[v]._private[a.field][h]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var w=0,b=u.length;w<b;w++)for(var g=u[w]._private[a.field],_=Object.keys(g),x=0;x<_.length;x++){var P=_[x],I=!a.immutableKeys[P];I&&(g[P]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},k3={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new Lg(function(s,u){var l=function(d){a.off.apply(a,f),s(d)},c=o.concat([l]),f=c.concat([]);a.on.apply(a,c)})}}},Fn={};[Oj,R3,k3].forEach(function(r){br(Fn,r)});var M3={animate:Fn.animate(),animation:Fn.animation(),animated:Fn.animated(),clearQueue:Fn.clearQueue(),delay:Fn.delay(),delayAnimation:Fn.delayAnimation(),stop:Fn.stop()},u0={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(v){return n.push(v)}),n}else vi(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new Dg(e),o=0;o<t.length;o++){for(var s=t[o],u=s._private,l=u.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h);if(!d){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){vi(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=t===void 0,a=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h),v=!1;t||i&&!d?(l.add(h),v=!0):(!t||i&&d)&&(l.delete(h),v=!0),!c&&v&&(a.push(u),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};u0.className=u0.classNames=u0.classes;var mn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:No,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};mn.variable="(?:[\\w-.]|(?:\\\\"+mn.metaChar+"))+";mn.className="(?:[\\w-]|(?:\\\\"+mn.metaChar+"))+";mn.value=mn.string+"|"+mn.number;mn.id=mn.variable;(function(){var r,e,t;for(r=mn.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],mn.comparatorOp+="|@"+e;for(r=mn.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(mn.comparatorOp+="|\\!"+e)})();var ui=function(){return{checks:[]}},Qt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},vO=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return WD(r.selector,e.selector)}),D3=function(){for(var r={},e,t=0;t<vO.length;t++)e=vO[t],r[e.selector]=e.matches;return r}(),L3=function(e,t){return D3[e](t)},N3="("+vO.map(function(r){return r.selector}).join("|")+")",ag=function(e){return e.replace(new RegExp("\\\\("+mn.metaChar+")","g"),function(t,n){return n})},xd=function(e,t,n){e[e.length-1]=n},pO=[{name:"group",query:!0,regex:"("+mn.group+")",populate:function(e,t,n){var i=ac(n,1),a=i[0];t.checks.push({type:Qt.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:N3,populate:function(e,t,n){var i=ac(n,1),a=i[0];t.checks.push({type:Qt.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+mn.id+")",populate:function(e,t,n){var i=ac(n,1),a=i[0];t.checks.push({type:Qt.ID,value:ag(a)})}},{name:"className",query:!0,regex:"\\.("+mn.className+")",populate:function(e,t,n){var i=ac(n,1),a=i[0];t.checks.push({type:Qt.CLASS,value:ag(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*\\]",populate:function(e,t,n){var i=ac(n,1),a=i[0];t.checks.push({type:Qt.DATA_EXIST,field:ag(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*("+mn.comparatorOp+")\\s*("+mn.value+")\\s*\\]",populate:function(e,t,n){var i=ac(n,3),a=i[0],o=i[1],s=i[2],u=new RegExp("^"+mn.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:Qt.DATA_COMPARE,field:ag(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+mn.boolOp+")\\s*("+mn.variable+")\\s*\\]",populate:function(e,t,n){var i=ac(n,2),a=i[0],o=i[1];t.checks.push({type:Qt.DATA_BOOL,field:ag(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+mn.meta+")\\s*("+mn.comparatorOp+")\\s*("+mn.number+")\\s*\\]\\]",populate:function(e,t,n){var i=ac(n,3),a=i[0],o=i[1],s=i[2];t.checks.push({type:Qt.META_COMPARE,field:ag(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:mn.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=ui();return s}},{name:"directedEdge",separator:!0,regex:mn.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=ui(),i=t,a=ui();return n.checks.push({type:Qt.DIRECTED_EDGE,source:i,target:a}),xd(e,t,n),e.edgeCount++,a}else{var o=ui(),s=t,u=ui();return o.checks.push({type:Qt.NODE_SOURCE,source:s,target:u}),xd(e,t,o),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:mn.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=ui(),i=t,a=ui();return n.checks.push({type:Qt.UNDIRECTED_EDGE,nodes:[i,a]}),xd(e,t,n),e.edgeCount++,a}else{var o=ui(),s=t,u=ui();return o.checks.push({type:Qt.NODE_NEIGHBOR,node:s,neighbor:u}),xd(e,t,o),u}}},{name:"child",separator:!0,regex:mn.child,populate:function(e,t){if(e.currentSubject==null){var n=ui(),i=ui(),a=e[e.length-1];return n.checks.push({type:Qt.CHILD,parent:a,child:i}),xd(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var o=ui(),s=e[e.length-1],u=ui(),l=ui(),c=ui(),f=ui();return o.checks.push({type:Qt.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=t.checks,t.checks=[{type:Qt.TRUE}],f.checks.push({type:Qt.TRUE}),u.checks.push({type:Qt.PARENT,parent:f,child:c}),xd(e,s,o),e.currentSubject=l,e.compoundCount++,c}else{var h=ui(),d=ui(),v=[{type:Qt.PARENT,parent:h,child:d}];return h.checks=t.checks,t.checks=v,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:mn.descendant,populate:function(e,t){if(e.currentSubject==null){var n=ui(),i=ui(),a=e[e.length-1];return n.checks.push({type:Qt.DESCENDANT,ancestor:a,descendant:i}),xd(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var o=ui(),s=e[e.length-1],u=ui(),l=ui(),c=ui(),f=ui();return o.checks.push({type:Qt.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=t.checks,t.checks=[{type:Qt.TRUE}],f.checks.push({type:Qt.TRUE}),u.checks.push({type:Qt.ANCESTOR,ancestor:f,descendant:c}),xd(e,s,o),e.currentSubject=l,e.compoundCount++,c}else{var h=ui(),d=ui(),v=[{type:Qt.ANCESTOR,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=v,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:mn.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return Bn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===Qt.DIRECTED_EDGE?i.type=Qt.NODE_TARGET:a===Qt.UNDIRECTED_EDGE&&(i.type=Qt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];pO.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var j3=function(e){for(var t,n,i,a=0;a<pO.length;a++){var o=pO[a],s=o.name,u=e.match(o.regexObj);if(u!=null){n=u,t=o,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:i,remaining:e}},F3=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},B3=function(e){var t=this,n=t.inputText=e,i=t[0]=ui();for(t.length=1,n=F3(n);;){var a=j3(n);if(a.expr==null)return Bn("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(t,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var u=t[t.length-1];t.currentSubject!=null&&(u.subject=t.currentSubject),u.edgeCount=t.edgeCount,u.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return Bn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Bn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Bn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},U3=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},t=function(c){return hr(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,f){var h=c.type,d=c.value;switch(h){case Qt.GROUP:{var v=e(d);return v.substring(0,v.length-1)}case Qt.DATA_COMPARE:{var y=c.field,w=c.operator;return"["+y+n(e(w))+t(d)+"]"}case Qt.DATA_BOOL:{var b=c.operator,g=c.field;return"["+e(b)+g+"]"}case Qt.DATA_EXIST:{var _=c.field;return"["+_+"]"}case Qt.META_COMPARE:{var x=c.operator,P=c.field;return"[["+P+n(e(x))+t(d)+"]]"}case Qt.STATE:return d;case Qt.ID:return"#"+d;case Qt.CLASS:return"."+d;case Qt.PARENT:case Qt.CHILD:return a(c.parent,f)+n(">")+a(c.child,f);case Qt.ANCESTOR:case Qt.DESCENDANT:return a(c.ancestor,f)+" "+a(c.descendant,f);case Qt.COMPOUND_SPLIT:{var I=a(c.left,f),T=a(c.subject,f),A=a(c.right,f);return I+(I.length>0?" ":"")+T+A}case Qt.TRUE:return""}},a=function(c,f){return c.checks.reduce(function(h,d,v){return h+(f===c&&v===0?"$":"")+i(d,f)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=a(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},z3={parse:B3,toString:U3},LI=function(e,t,n){var i,a=hr(e),o=Gt(e),s=hr(n),u,l,c=!1,f=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),f=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(a||s||c)&&(u=!a&&!o?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),t){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!h)&&(i=!i),i},q3=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},G3=function(e){return e!==void 0},rx=function(e,t){return e.data(t)},V3=function(e,t){return e[t]()},eo=[],Ci=function(e,t){return e.checks.every(function(n){return eo[n.type](n,t)})};eo[Qt.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()};eo[Qt.STATE]=function(r,e){var t=r.value;return L3(t,e)};eo[Qt.ID]=function(r,e){var t=r.value;return e.id()===t};eo[Qt.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)};eo[Qt.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return LI(V3(e,t),n,i)};eo[Qt.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return LI(rx(e,t),n,i)};eo[Qt.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return q3(rx(e,t),n)};eo[Qt.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,G3(rx(e,t))};eo[Qt.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],i=e.source(),a=e.target();return Ci(t,i)&&Ci(n,a)||Ci(n,i)&&Ci(t,a)};eo[Qt.NODE_NEIGHBOR]=function(r,e){return Ci(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&Ci(r.neighbor,t)})};eo[Qt.DIRECTED_EDGE]=function(r,e){return Ci(r.source,e.source())&&Ci(r.target,e.target())};eo[Qt.NODE_SOURCE]=function(r,e){return Ci(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&Ci(r.target,t)})};eo[Qt.NODE_TARGET]=function(r,e){return Ci(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&Ci(r.source,t)})};eo[Qt.CHILD]=function(r,e){return Ci(r.child,e)&&Ci(r.parent,e.parent())};eo[Qt.PARENT]=function(r,e){return Ci(r.parent,e)&&e.children().some(function(t){return Ci(r.child,t)})};eo[Qt.DESCENDANT]=function(r,e){return Ci(r.descendant,e)&&e.ancestors().some(function(t){return Ci(r.ancestor,t)})};eo[Qt.ANCESTOR]=function(r,e){return Ci(r.ancestor,e)&&e.descendants().some(function(t){return Ci(r.descendant,t)})};eo[Qt.COMPOUND_SPLIT]=function(r,e){return Ci(r.subject,e)&&Ci(r.left,e)&&Ci(r.right,e)};eo[Qt.TRUE]=function(){return!0};eo[Qt.COLLECTION]=function(r,e){var t=r.value;return t.has(e)};eo[Qt.FILTER]=function(r,e){var t=r.value;return t(e)};var W3=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Qt.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(a){for(var o=0;o<t.length;o++){var s=t[o];if(Ci(s,a))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},H3=function(e){for(var t=this,n=0;n<t.length;n++){var i=t[n];if(Ci(i,e))return!0}return!1},Y3={matches:H3,filter:W3},Fd=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||hr(e)&&e.match(/^\s*$/)||(Pu(e)?this.addQuery({checks:[{type:Qt.COLLECTION,value:e.collection()}]}):Vi(e)?this.addQuery({checks:[{type:Qt.FILTER,value:e}]}):hr(e)?this.parse(e)||(this.invalid=!0):Ji("A selector must be created from a string; found "))},Bd=Fd.prototype;[z3,Y3].forEach(function(r){return br(Bd,r)});Bd.text=function(){return this.inputText};Bd.size=function(){return this.length};Bd.eq=function(r){return this[r]};Bd.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};Bd.addQuery=function(r){this[this.length++]=r};Bd.selector=Bd.toString;var Md={allAre:function(e){var t=new Fd(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new Fd(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};Md.allAreNeighbours=Md.allAreNeighbors;Md.has=Md.contains;Md.equal=Md.equals=Md.same;var ul=function(e,t){return function(i,a,o,s){var u=i,l=this,c;if(u==null?c="":Pu(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var f=l[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[t]=h[t]||[],v=tp(c),y=d[v];return y||(d[v]=e.call(l,i,a,o,s))}else return e.call(l,i,a,o,s)}},Rg={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];t.push(a)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n],a=i.parents();t=t||a,t=t.intersect(a)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:ul(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];t.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function nx(r,e,t,n){for(var i=[],a=new Dg,o=r.cy(),s=o.hasCompoundNodes(),u=0;u<r.length;u++){var l=r[u];t?i.push(l):s&&n(i,a,l)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),s&&n(i,a,c)}return r}function NI(r,e,t){if(t.isParent())for(var n=t._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||r.push(a)}}Rg.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nx(this,r,e,NI)};function jI(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}Rg.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nx(this,r,e,jI)};function $3(r,e,t){jI(r,e,t),NI(r,e,t)}Rg.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nx(this,r,e,$3)};Rg.ancestors=Rg.parents;var Zy,FI;Zy=FI={data:Fn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Fn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Fn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Fn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Fn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Zy.attr=Zy.data;Zy.removeAttr=Zy.removeData;var X3=FI,$0={};function u_(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,i=t[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(n+=r(i,s))}return n}else return}}br($0,{degree:u_(function(r,e){return e.source().same(e.target())?2:1}),indegree:u_(function(r,e){return e.target().same(r)?1:0}),outdegree:u_(function(r,e){return e.source().same(r)?1:0})});function sg(r,e){return function(t){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[r](t);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}br($0,{minDegree:sg("degree",function(r,e){return r<e}),maxDegree:sg("degree",function(r,e){return r>e}),minIndegree:sg("indegree",function(r,e){return r<e}),maxIndegree:sg("indegree",function(r,e){return r>e}),minOutdegree:sg("outdegree",function(r,e){return r<e}),maxOutdegree:sg("outdegree",function(r,e){return r>e})});br($0,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var fc,BI,UI=function(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var o=a._private.position,s={x:t.x!=null?t.x-o.x:0,y:t.y!=null?t.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},qS={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){UI(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};fc=BI={position:Fn.data(qS),silentPosition:Fn.data(br({},qS,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){UI(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(bn(e))t?this.silentPosition(e):this.position(e);else if(Vi(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(t?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(bn(e)?(i={x:Gt(e.x)?e.x:0,y:Gt(e.y)?e.y:0},n=t):hr(e)&&Gt(t)&&(i={x:0,y:0},i[e]=t),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};n?s.silentPosition(l):s.position(l)}}a.endBatch()}return this},silentShift:function(e,t){return bn(e)?this.shift(e,!0):hr(e)&&Gt(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=bn(e)?e:void 0,u=s!==void 0||t!==void 0&&hr(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];t!==void 0?c.position(e,(t-o[e])/a):s!==void 0&&c.position(hI(s,a,o))}else{var f=n.position();return s=G0(f,a,o),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),a=bn(e)?e:void 0,o=a!==void 0||t!==void 0&&hr(e),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],c=s?l.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};t!==void 0?l.position(e,t+d[e]):a!==void 0&&l.position({x:a.x+d.x,y:a.y+d.y})}else{var v=n.position(),y=s?n.parent():null,w=y&&y.length>0,b=w;w&&(y=y[0]);var g=b?y.position():{x:0,y:0};return a={x:v.x-g.x,y:v.y-g.y},e===void 0?a:a[e]}else if(!o)return;return this}};fc.modelPosition=fc.point=fc.position;fc.modelPositions=fc.points=fc.positions;fc.renderedPoint=fc.renderedPosition;fc.relativePoint=fc.relativePosition;var K3=BI,xg,Vd;xg=Vd={};Vd.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),i=t.pan(),a=e.x1*n+i.x,o=e.x2*n+i.x,s=e.y1*n+i.y,u=e.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:u,w:o-a,h:u-s}};Vd.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)};Vd.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},f=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),h=s.position;(f.w===0||f.h===0)&&(f={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(D,N,j){var B=0,W=0,V=N+j;return D>0&&V>0&&(B=N/V*D,W=j/V*D),{biasDiff:B,biasComplementDiff:W}}function v(D,N,j,B){if(j.units==="%")switch(B){case"width":return D>0?j.pfValue*D:0;case"height":return N>0?j.pfValue*N:0;case"average":return D>0&&N>0?j.pfValue*(D+N)/2:0;case"min":return D>0&&N>0?D>N?j.pfValue*N:j.pfValue*D:0;case"max":return D>0&&N>0?D>N?j.pfValue*D:j.pfValue*N:0;default:return 0}else return j.units==="px"?j.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var b=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var g=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var _=d(c.width.val-f.w,y,w),x=_.biasDiff,P=_.biasComplementDiff,I=d(c.height.val-f.h,b,g),T=I.biasDiff,A=I.biasComplementDiff;s.autoPadding=v(f.w,f.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(f.w,c.width.val),h.x=(-x+f.x1+f.x2+P)/2,s.autoHeight=Math.max(f.h,c.height.val),h.y=(-T+f.y1+f.y2+A)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||r)&&(t(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var sl=function(e){return e===1/0||e===-1/0?0:e},sc=function(e,t,n,i,a){i-t===0||a-n===0||t==null||n==null||i==null||a==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Hv=function(e,t){return t==null?e:sc(e,t.x1,t.y1,t.x2,t.y2)},Oy=function(e,t,n){return lc(e,t,n)},Wm=function(e,t,n){if(!t.cy().headless()){var i=t._private,a=i.rstyle,o=a.arrowWidth/2,s=t.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=a.srcX,l=a.srcY):n==="target"?(u=a.tgtX,l=a.tgtY):(u=a.midX,l=a.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[n]=c[n]||{};f.x1=u-o,f.y1=l-o,f.x2=u+o,f.y2=l+o,f.w=f.x2-f.x1,f.h=f.y2-f.y1,a0(f,1),sc(e,f.x1,f.y1,f.x2,f.y2)}}},l_=function(e,t,n){if(!t.cy().headless()){var i;n?i=n+"-":i="";var a=t._private,o=a.rstyle,s=t.pstyle(i+"label").strValue;if(s){var u=t.pstyle("text-halign"),l=t.pstyle("text-valign"),c=Oy(o,"labelWidth",n),f=Oy(o,"labelHeight",n),h=Oy(o,"labelX",n),d=Oy(o,"labelY",n),v=t.pstyle(i+"text-margin-x").pfValue,y=t.pstyle(i+"text-margin-y").pfValue,w=t.isEdge(),b=t.pstyle(i+"text-rotation"),g=t.pstyle("text-outline-width").pfValue,_=t.pstyle("text-border-width").pfValue,x=_/2,P=t.pstyle("text-background-padding").pfValue,I=2,T=f,A=c,D=A/2,N=T/2,j,B,W,V;if(w)j=h-D,B=h+D,W=d-N,V=d+N;else{switch(u.value){case"left":j=h-A,B=h;break;case"center":j=h-D,B=h+D;break;case"right":j=h,B=h+A;break}switch(l.value){case"top":W=d-T,V=d;break;case"center":W=d-N,V=d+N;break;case"bottom":W=d,V=d+T;break}}j+=v-Math.max(g,x)-P-I,B+=v+Math.max(g,x)+P+I,W+=y-Math.max(g,x)-P-I,V+=y+Math.max(g,x)+P+I;var J=n||"main",ee=a.labelBounds,te=ee[J]=ee[J]||{};te.x1=j,te.y1=W,te.x2=B,te.y2=V,te.w=B-j,te.h=V-W;var re=w&&b.strValue==="autorotate",de=b.pfValue!=null&&b.pfValue!==0;if(re||de){var pe=re?Oy(a.rstyle,"labelAngle",n):b.pfValue,fe=Math.cos(pe),ye=Math.sin(pe),Me=(j+B)/2,Ne=(W+V)/2;if(!w){switch(u.value){case"left":Me=B;break;case"right":Me=j;break}switch(l.value){case"top":Ne=V;break;case"bottom":Ne=W;break}}var ke=function(ot,$e){return ot=ot-Me,$e=$e-Ne,{x:ot*fe-$e*ye+Me,y:ot*ye+$e*fe+Ne}},je=ke(j,W),xe=ke(j,V),Se=ke(B,W),Re=ke(B,V);j=Math.min(je.x,xe.x,Se.x,Re.x),B=Math.max(je.x,xe.x,Se.x,Re.x),W=Math.min(je.y,xe.y,Se.y,Re.y),V=Math.max(je.y,xe.y,Se.y,Re.y)}var Oe=J+"Rot",Pe=ee[Oe]=ee[Oe]||{};Pe.x1=j,Pe.y1=W,Pe.x2=B,Pe.y2=V,Pe.w=B-j,Pe.h=V-W,sc(e,j,W,B,V),sc(a.labelBounds.all,j,W,B,V)}return e}},Z3=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value;if(n>0&&i>0){var a=t.pstyle("outline-offset").value,o=t.pstyle("shape").value,s=i+a,u=(e.w+s*2)/e.w,l=(e.h+s*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(e.w+s*2.4)/e.w,f=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(e.w+s*2.4)/e.w:o==="star"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.6)/e.h,f=-s/3.8):o==="triangle"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.4)/e.h,f=-s/1.4):o==="vee"&&(u=(e.w+s*4.4)/e.w,l=(e.h+s*3.8)/e.h,f=-s*.5);var h=e.h*l-e.h,d=e.w*u-e.w;if(s0(e,[Math.ceil(h/2),Math.ceil(d/2)]),c!=0||f!==0){var v=mN(e,c,f);vI(e,v)}}}},Q3=function(e,t){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),o=Vs(),s=e._private,u=e.isNode(),l=e.isEdge(),c,f,h,d,v,y,w=s.rstyle,b=u&&i?e.pstyle("bounds-expansion").pfValue:[0],g=function(ht){return ht.pstyle("display").value!=="none"},_=!i||g(e)&&(!l||g(e.source())&&g(e.target()));if(_){var x=0,P=0;i&&t.includeOverlays&&(x=e.pstyle("overlay-opacity").value,x!==0&&(P=e.pstyle("overlay-padding").value));var I=0,T=0;i&&t.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(T=e.pstyle("underlay-padding").value));var A=Math.max(P,T),D=0,N=0;if(i&&(D=e.pstyle("width").pfValue,N=D/2),u&&t.includeNodes){var j=e.position();v=j.x,y=j.y;var B=e.outerWidth(),W=B/2,V=e.outerHeight(),J=V/2;c=v-W,f=v+W,h=y-J,d=y+J,sc(o,c,h,f,d),i&&t.includeOutlines&&Z3(o,e)}else if(l&&t.includeEdges)if(i&&!a){var ee=e.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),f=Math.max(w.srcX,w.midX,w.tgtX),h=Math.min(w.srcY,w.midY,w.tgtY),d=Math.max(w.srcY,w.midY,w.tgtY),c-=N,f+=N,h-=N,d+=N,sc(o,c,h,f,d),ee==="haystack"){var te=w.haystackPts;if(te&&te.length===2){if(c=te[0].x,h=te[0].y,f=te[1].x,d=te[1].y,c>f){var re=c;c=f,f=re}if(h>d){var de=h;h=d,d=de}sc(o,c-N,h-N,f+N,d+N)}}else if(ee==="bezier"||ee==="unbundled-bezier"||ee.endsWith("segments")||ee.endsWith("taxi")){var pe;switch(ee){case"bezier":case"unbundled-bezier":pe=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":pe=w.linePts;break}if(pe!=null)for(var fe=0;fe<pe.length;fe++){var ye=pe[fe];c=ye.x-N,f=ye.x+N,h=ye.y-N,d=ye.y+N,sc(o,c,h,f,d)}}}else{var Me=e.source(),Ne=Me.position(),ke=e.target(),je=ke.position();if(c=Ne.x,f=je.x,h=Ne.y,d=je.y,c>f){var xe=c;c=f,f=xe}if(h>d){var Se=h;h=d,d=Se}c-=N,f+=N,h-=N,d+=N,sc(o,c,h,f,d)}if(i&&t.includeEdges&&l&&(Wm(o,e,"mid-source"),Wm(o,e,"mid-target"),Wm(o,e,"source"),Wm(o,e,"target")),i){var Re=e.pstyle("ghost").value==="yes";if(Re){var Oe=e.pstyle("ghost-offset-x").pfValue,Pe=e.pstyle("ghost-offset-y").pfValue;sc(o,o.x1+Oe,o.y1+Pe,o.x2+Oe,o.y2+Pe)}}var Ue=s.bodyBounds=s.bodyBounds||{};wS(Ue,o),s0(Ue,b),a0(Ue,1),i&&(c=o.x1,f=o.x2,h=o.y1,d=o.y2,sc(o,c-A,h-A,f+A,d+A));var ot=s.overlayBounds=s.overlayBounds||{};wS(ot,o),s0(ot,b),a0(ot,1);var $e=s.labelBounds=s.labelBounds||{};$e.all!=null?yN($e.all):$e.all=Vs(),i&&t.includeLabels&&(t.includeMainLabels&&l_(o,e,null),l&&(t.includeSourceLabels&&l_(o,e,"source"),t.includeTargetLabels&&l_(o,e,"target")))}return o.x1=sl(o.x1),o.y1=sl(o.y1),o.x2=sl(o.x2),o.y2=sl(o.y2),o.w=sl(o.x2-o.x1),o.h=sl(o.y2-o.y1),o.w>0&&o.h>0&&_&&(s0(o,b),a0(o,1)),o},zI=function(e){var t=0,n=function(o){return(o?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},qI=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),i=function(o){return Math.round(o)};return FL([i(t.x),i(t.y),i(n.x),i(n.y)])}else return 0},GS=function(e,t){var n=e._private,i,a=e.isEdge(),o=t==null?VS:zI(t),s=o===VS,u=qI(e),l=n.bbCachePosKey===u,c=t.useCache&&l,f=function(y){return y._private.bbCache==null||y._private.styleDirty},h=!c||f(e)||a&&f(e.source())||f(e.target());if(h?(l||e.recalculateRenderedStyle(c),i=Q3(e,Qy),n.bbCache=i,n.bbCachePosKey=u):i=n.bbCache,!s){var d=e.isNode();i=Vs(),(t.includeNodes&&d||t.includeEdges&&!d)&&(t.includeOverlays?Hv(i,n.overlayBounds):Hv(i,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!a||t.includeSourceLabels&&t.includeTargetLabels)?Hv(i,n.labelBounds.all):(t.includeMainLabels&&Hv(i,n.labelBounds.mainRot),t.includeSourceLabels&&Hv(i,n.labelBounds.sourceRot),t.includeTargetLabels&&Hv(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Qy={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},VS=zI(Qy),WS=Ca(Qy);Vd.boundingBox=function(r){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(r===void 0||r.useCache===void 0||r.useCache===!0))r===void 0?r=Qy:r=WS(r),e=GS(this[0],r);else{e=Vs(),r=r||Qy;var t=WS(r),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var o=0;o<n.length;o++){var s=n[o],u=s._private,l=qI(s),c=u.bbCachePosKey===l,f=t.useCache&&c&&!u.styleDirty;s.recalculateRenderedStyle(f)}this.updateCompoundBounds(!r.useCache);for(var h=0;h<n.length;h++){var d=n[h];Hv(e,GS(d,t))}}return e.x1=sl(e.x1),e.y1=sl(e.y1),e.x2=sl(e.x2),e.y2=sl(e.y2),e.w=sl(e.x2-e.x1),e.h=sl(e.y2-e.y1),e};Vd.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Vd.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),i=t.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),bn(r)){var a=r;r=function(){return a}}var o=function(c,f){return c._private.bbAtOldPos=r(c,f)},s=function(c){return c._private.bbAtOldPos};t.startBatch(),e.forEach(o).silentPositions(r),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=gN(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),u};xg.boundingbox=xg.bb=xg.boundingBox;xg.renderedBoundingbox=xg.renderedBoundingBox;var J3=Vd,Ry,sm;Ry=sm={};var GI=function(e){e.uppercaseName=vS(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=vS(e.outerName),Ry[e.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Ry["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},Ry["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Ry["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};GI({name:"width"});GI({name:"height"});sm.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};sm.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};sm.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var e4=sm,t4=function(e,t){if(e.isEdge())return t(e)},r4=function(e,t){if(e.isEdge()){var n=e.cy();return G0(t(e),n.zoom(),n.pan())}},n4=function(e,t){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return t(e).map(function(o){return G0(o,a,i)})}},i4=function(e){return e.renderer().getControlPoints(e)},o4=function(e){return e.renderer().getSegmentPoints(e)},a4=function(e){return e.renderer().getSourceEndpoint(e)},s4=function(e){return e.renderer().getTargetEndpoint(e)},u4=function(e){return e.renderer().getEdgeMidpoint(e)},HS={controlPoints:{get:i4,mult:!0},segmentPoints:{get:o4,mult:!0},sourceEndpoint:{get:a4},targetEndpoint:{get:s4},midpoint:{get:u4}},l4=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},c4=Object.keys(HS).reduce(function(r,e){var t=HS[e],n=l4(e);return r[e]=function(){return t4(this,t.get)},t.mult?r[n]=function(){return n4(this,t.get)}:r[n]=function(){return r4(this,t.get)},r},{}),f4=br({},K3,J3,e4,c4);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var VI=function(e,t){this.recycle(e,t)};function xy(){return!1}function Hm(){return!0}VI.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=xy,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Hm:xy):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Hm;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Hm;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Hm,this.stopPropagation()},isDefaultPrevented:xy,isPropagationStopped:xy,isImmediatePropagationStopped:xy};var WI=/^([^.]+)(\.(?:[^.]+))?$/,h4=".*",HI={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},YS=Object.keys(HI),d4={};function X0(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d4,e=arguments.length>1?arguments[1]:void 0,t=0;t<YS.length;t++){var n=YS[t];this[n]=r[n]||HI[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Ud=X0.prototype,YI=function(e,t,n,i,a,o,s){Vi(i)&&(a=i,i=null),s&&(o==null?o=s:o=br({},o,s));for(var u=vi(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!Nd(c)){var f=c.match(WI);if(f){var h=f[1],d=f[2]?f[2]:null,v=t(e,c,h,d,i,a,o);if(v===!1)break}}}},$S=function(e,t){return e.addEventFields(e.context,t),new VI(t.type,t)},v4=function(e,t,n){if(DD(n)){t(e,n);return}else if(bn(n)){t(e,$S(e,n));return}for(var i=vi(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!Nd(o)){var s=o.match(WI);if(s){var u=s[1],l=s[2]?s[2]:null,c=$S(e,{type:u,namespace:l,target:e.context});t(e,c)}}}};Ud.on=Ud.addListener=function(r,e,t,n,i){return YI(this,function(a,o,s,u,l,c,f){Vi(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:u,qualifier:l,conf:f})},r,e,t,n,i),this};Ud.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})};Ud.removeListener=Ud.off=function(r,e,t,n){var i=this;this.emitting!==0&&(this.listeners=GL(this.listeners));for(var a=this.listeners,o=function(l){var c=a[l];YI(i,function(f,h,d,v,y,w){if((c.type===d||r==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!w||c.callback===w))return a.splice(l,1),!1},r,e,t,n)},s=a.length-1;s>=0;s--)o(s);return this};Ud.removeAllListeners=function(){return this.removeListener("*")};Ud.emit=Ud.trigger=function(r,e,t){var n=this.listeners,i=n.length;return this.emitting++,vi(e)||(e=[e]),v4(this,function(a,o){t!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:t}],i=n.length);for(var s=function(c){var f=n[c];if(f.type===o.type&&(!f.namespace||f.namespace===o.namespace||f.namespace===h4)&&a.eventMatches(a.context,f,o)){var h=[o];e!=null&&WL(h,e),a.beforeEmit(a.context,f,o),f.conf&&f.conf.one&&(a.listeners=a.listeners.filter(function(y){return y!==f}));var d=a.callbackContext(a.context,f,o),v=f.callback.apply(d,h);a.afterEmit(a.context,f,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<i;u++)s(u);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},r),this.emitting--,this};var p4={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&im(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ym=function(e){return hr(e)?new Fd(e):e},$I={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new X0(p4,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=Ym(t),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n)}return this},removeListener:function(e,t,n){for(var i=Ym(t),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var i=Ym(t),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,i,n)}return this},once:function(e,t,n){for(var i=Ym(t),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};Fn.eventAliasesOn($I);var XI={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(hr(e)||Pu(e))return new Fd(e).filter(this);if(Vi(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){hr(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(hr(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),i=this,a=e,o=this.length<e.length,s=o?i:a,u=o?a:i,l=0;l<s.length;l++){var c=s[l];u.has(c)&&n.push(c)}return n},xor:function(e){var t=this._private.cy;hr(e)&&(e=t.$(e));var n=this.spawn(),i=this,a=e,o=function(u,l){for(var c=0;c<u.length;c++){var f=u[c],h=f._private.data.id,d=l.hasElementWithId(h);d||n.push(f)}};return o(i,a),o(a,i),n},diff:function(e){var t=this._private.cy;hr(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=e,u=function(c,f,h){for(var d=0;d<c.length;d++){var v=c[d],y=v._private.data.id,w=f.hasElementWithId(y);w?a.merge(v):h.push(v)}};return u(o,s,n),u(s,o,i),{left:n,right:i,both:a}},add:function(e){var t=this._private.cy;if(!e)return this;if(hr(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&hr(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=t.map,o=0;o<e.length;o++){var s=e[o],u=s._private.data.id,l=!a.has(u);if(l){var c=this.length++;this[c]=s,a.set(u,{ele:s,index:c})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,a.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,i=t.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&hr(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);n.push(s)}return n},reduce:function(e,t){for(var n=t,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,t){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],u=t?e.apply(t,[s,o,a]):e(s,o,a);u>n&&(n=u,i=s)}return{value:n,ele:i}},min:function(e,t){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],u=t?e.apply(t,[s,o,a]):e(s,o,a);u<n&&(n=u,i=s)}return{value:n,ele:i}}},Sn=XI;Sn.u=Sn["|"]=Sn["+"]=Sn.union=Sn.or=Sn.add;Sn["\\"]=Sn["!"]=Sn["-"]=Sn.difference=Sn.relativeComplement=Sn.subtract=Sn.not;Sn.n=Sn["&"]=Sn["."]=Sn.and=Sn.intersection=Sn.intersect;Sn["^"]=Sn["(+)"]=Sn["(-)"]=Sn.symmetricDifference=Sn.symdiff=Sn.xor;Sn.fnFilter=Sn.filterFn=Sn.stdFilter=Sn.filter;Sn.complement=Sn.abscomp=Sn.absoluteComplement;var g4={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},KI=function(e,t){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?HO:0}var o=a(e)-a(t);if(o!==0)return o;function s(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var u=s(e)-s(t);if(u!==0)return u;var l=e.pstyle("z-index").value-t.pstyle("z-index").value;return l!==0?l:e.poolIndex()-t.poolIndex()},x0={forEach:function(e,t){if(Vi(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);if(o===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var a=e;a>=0&&a<t&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Vi(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(KI)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:HO-1}else{var a=t.source,o=t.target,s=a.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};x0.each=x0.forEach;var y4=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Fo(Symbol))!=e&&Fo(Symbol.iterator)!=e;t&&(x0[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return YA({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};y4();var m4=Ca({nodeDimensionsIncludeLabels:!1}),l0={layoutDimensions:function(e){e=m4(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes().filter(function(P){return!P.isParent()}),a=this.cy(),o=t.eles,s=function(I){return I.id()},u=Vy(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(I,T,A){var D={x:T.x1+T.w/2,y:T.y1+T.h/2},N={x:(A.x-D.x)*I,y:(A.y-D.y)*I};return{x:D.x+N.x,y:D.y+N.y}},c=t.spacingFactor&&t.spacingFactor!==1,f=function(){if(!c)return null;for(var I=Vs(),T=0;T<i.length;T++){var A=i[T],D=u(A,T);bN(I,D.x,D.y)}return I},h=f(),d=Vy(function(P,I){var T=u(P,I);if(c){var A=Math.abs(t.spacingFactor);T=l(A,h,T)}return t.transform!=null&&(T=t.transform(P,T)),T},s);if(t.animate){for(var v=0;v<i.length;v++){var y=i[v],w=d(y,v),b=t.animateFilter==null||t.animateFilter(y,v);if(b){var g=y.animation({position:w,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else y.position(w)}if(t.fit){var _=a.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(_)}else if(t.zoom!==void 0&&t.pan!==void 0){var x=a.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}e.animations.forEach(function(P){return P.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Lg.all(e.animations.map(function(P){return P.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(d),t.fit&&a.fit(t.eles,t.padding),t.zoom!=null&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(br({},e,{eles:this}))}};l0.createLayout=l0.makeLayout=l0.layout;function ZI(r,e,t){var n=t._private,i=n.styleCache=n.styleCache||[],a;return(a=i[r])!=null||(a=i[r]=e(t)),a}function K0(r,e){return r=tp(r),function(n){return ZI(r,e,n)}}function Z0(r,e){r=tp(r);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return ZI(r,t,i)}}var Sa={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var i=t.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(bn(e)){var o=e;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(hr(e))if(t===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,i=t.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<a.length;u++){var l=a[u];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!t)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;a=l*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function c_(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function ix(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||c_(a,n);var u=s.source,l=s.target;return t(u)&&(!o||c_(u,t))&&(u===l||t(l)&&(!o||c_(l,t)))}}}var Bg=K0("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});Sa.takesUpSpace=Z0("takesUpSpace",ix({ok:Bg}));var b4=K0("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&Bg(r)}),_4=K0("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&Bg(r)});Sa.interactive=Z0("interactive",ix({ok:b4,parentOk:_4,edgeOkViaNode:Bg}));Sa.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var w4=K0("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&Bg(r)}),E4=Bg;Sa.visible=Z0("visible",ix({ok:w4,edgeOkViaNode:E4}));Sa.hidden=function(){var r=this[0];if(r)return!r.visible()};Sa.isBundledBezier=Z0("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Sa.bypass=Sa.css=Sa.style;Sa.renderedCss=Sa.renderedStyle;Sa.removeBypass=Sa.removeCss=Sa.removeStyle;Sa.pstyle=Sa.parsedStyle;var Dd={};function XS(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],i=e[1];this.on(r.event,n,i)}else if(e.length===1&&Vi(e[0])){var a=e[0];this.on(r.event,a)}else if(e.length===0||e.length===1&&vi(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!r.ableField||u._private[r.ableField],c=u._private[r.field]!=r.value;if(r.overrideAble){var f=r.overrideAble(u);if(f!==void 0&&(l=f,!f))return this}l&&(u._private[r.field]=r.value,c&&t.push(u))}var h=this.spawn(t);h.updateStyle(),h.emit(r.event),o&&h.emit(o)}return this}}function Ug(r){Dd[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},Dd[r.on]=XS({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),Dd[r.off]=XS({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}Ug({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ug({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ug({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ug({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Dd.deselect=Dd.unselect;Dd.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};Ug({field:"active",on:"activate",off:"unactivate"});Ug({field:"pannable",on:"panify",off:"unpanify"});Dd.inactive=function(){var r=this[0];if(r)return!r._private.active};var Ha={},KS=function(e){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),c=0;c<l.length;c++){var f=l[c],h=f.source(),d=f.target();if(e.noIncomingEdges&&d===s&&h!==s||e.noOutgoingEdges&&h===s&&d!==s){u=!0;break}}u||a.push(s)}}return this.spawn(a,!0).filter(n)}},ZS=function(e){return function(t){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),f=l.target();e.outgoing&&c===o?(i.push(l),i.push(f)):e.incoming&&f===o&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(t)}},QS=function(e){return function(t){for(var n=this,i=[],a={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],c=l.id();a[c]||(a[c]=!0,i.push(l),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(t)}};Ha.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};br(Ha,{roots:KS({noIncomingEdges:!0}),leaves:KS({noOutgoingEdges:!0}),outgoers:ul(ZS({outgoing:!0}),"outgoers"),successors:QS({outgoing:!0}),incomers:ul(ZS({incoming:!0}),"incomers"),predecessors:QS({incoming:!0})});br(Ha,{neighborhood:ul(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var i=t[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Ha.neighbourhood=Ha.neighborhood;Ha.closedNeighbourhood=Ha.closedNeighborhood;Ha.openNeighbourhood=Ha.openNeighborhood;br(Ha,{source:ul(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:ul(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:JS({attr:"source"}),targets:JS({attr:"target"})});function JS(r){return function(t){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[r.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}br(Ha,{edgesWith:ul(eT(),"edgesWith"),edgesTo:ul(eT({thisIsSrc:!0}),"edgesTo")});function eT(r){return function(t){var n=[],i=this._private.cy,a=r||{};hr(t)&&(t=i.$(t));for(var o=0;o<t.length;o++)for(var s=t[o]._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data,f=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!h)||n.push(l))}return this.spawn(n,!0)}}br(Ha,{connectedEdges:ul(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:ul(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:ul(tT(),"parallelEdges"),codirectedEdges:ul(tT({codirected:!0}),"codirectedEdges")});function tT(r){var e={codirected:!1};return r=br({},e,r),function(n){for(var i=[],a=this.edges(),o=r,s=0;s<a.length;s++)for(var u=a[s],l=u._private,c=l.source,f=c._private.data.id,h=l.data.target,d=c._private.edges,v=0;v<d.length;v++){var y=d[v],w=y._private.data,b=w.target,g=w.source,_=b===h&&g===f,x=f===b&&h===g;(o.codirected&&_||!o.codirected&&(_||x))&&i.push(y)}return this.spawn(i,!0).filter(n)}}br(Ha,{components:function(e){var t=this,n=t.cy(),i=n.collection(),a=e==null?t.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(c,f){i.merge(c),a.unmerge(c),f.merge(c)};if(a.empty())return t.spawn();var u=function(){var c=n.collection();o.push(c);var f=a[0];s(f,c),t.bfs({directed:!1,roots:f,visit:function(d){return s(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){t.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do u();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Ha.componentsOf=Ha.components;var Ta=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Ji("A collection must have a reference to the core");return}var a=new uf,o=!1;if(!t)t=[];else if(t.length>0&&bn(t[0])&&!im(t[0])){o=!0;for(var s=[],u=new Dg,l=0,c=t.length;l<c;l++){var f=t[l];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=cI();else if(e.hasElementWithId(h.id)||u.has(h.id))continue;var d=new q0(e,f,!1);s.push(d),u.add(h.id)}t=s}this.length=0;for(var v=0,y=t.length;v<y;v++){var w=t[v][0];if(w!=null){var b=w._private.data.id;(!n||!a.has(b))&&(n&&a.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(g){this.lazyMap=g},rebuildMap:function(){for(var _=this.lazyMap=new uf,x=this.eles,P=0;P<x.length;P++){var I=x[P];_.set(I.id(),{index:P,ele:I})}}},n&&(this._private.map=a),o&&!i&&this.restore()},wi=q0.prototype=Ta.prototype=Object.create(Array.prototype);wi.instanceString=function(){return"collection"};wi.spawn=function(r,e){return new Ta(this.cy(),r,e)};wi.spawnSelf=function(){return this.spawn(this)};wi.cy=function(){return this._private.cy};wi.renderer=function(){return this._private.cy.renderer()};wi.element=function(){return this[0]};wi.collection=function(){return KA(this)?this:new Ta(this._private.cy,[this])};wi.unique=function(){return new Ta(this._private.cy,this,!0)};wi.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};wi.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new Ta(e)};wi.$id=wi.getElementById;wi.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};wi.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index};wi.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};wi.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(bn(r)){if(t.startBatch(),r.data){e.data(r.data);var i=n.data;if(e.isEdge()){var a=!1,o={},s=r.data.source,u=r.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),u!=null&&u!=i.target&&(o.target=""+u,a=!0),a&&(e=e.move(o))}else{var l="parent"in r.data,c=r.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}r.position&&e.position(r.position);var f=function(y,w,b){var g=r[y];g!=null&&g!==n[y]&&(g?e[w]():e[b]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var h={data:sf(n.data),position:sf(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(v){return h.classes+=d++===0?v:" "+v}),h}}};wi.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r};wi.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],i=n.json(),a=new q0(r,i,!1);e.push(a)}return new Ta(r,e)};wi.copy=wi.clone;wi.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),i=n._private,a=[],o=[],s,u=0,l=t.length;u<l;u++){var c=t[u];e&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var f,h=function(){s.splice(f,1),f--};for(f=0;f<s.length;f++){var d=s[f],v=d._private,y=v.data;if(d.clearTraversalCache(),!(!e&&!v.removed)){if(y.id===void 0)y.id=cI();else if(Gt(y.id))y.id=""+y.id;else if(Nd(y.id)||!hr(y.id)){Ji("Can not create element with invalid string ID `"+y.id+"`"),h();continue}else if(n.hasElementWithId(y.id)){Ji("Can not create second element with ID `"+y.id+"`"),h();continue}}var w=y.id;if(d.isNode()){var b=v.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(d.isEdge()){for(var g=d,_=["source","target"],x=_.length,P=!1,I=0;I<x;I++){var T=_[I],A=y[T];Gt(A)&&(A=y[T]=""+y[T]),A==null||A===""?(Ji("Can not create edge `"+w+"` with unspecified "+T),P=!0):n.hasElementWithId(A)||(Ji("Can not create edge `"+w+"` with nonexistant "+T+" `"+A+"`"),P=!0)}if(P){h();continue}var D=n.getElementById(y.source),N=n.getElementById(y.target);D.same(N)?D._private.edges.push(g):(D._private.edges.push(g),N._private.edges.push(g)),g._private.source=D,g._private.target=N}v.map=new uf,v.map.set(w,{ele:d,index:0}),v.removed=!1,e&&n.addToPool(d)}for(var j=0;j<a.length;j++){var B=a[j],W=B._private.data;Gt(W.parent)&&(W.parent=""+W.parent);var V=W.parent,J=V!=null;if(J||B._private.parent){var ee=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(V);if(ee.empty())W.parent=void 0;else if(ee[0].removed())Bn("Node added with missing parent, reference to parent removed"),W.parent=void 0,B._private.parent=null;else{for(var te=!1,re=ee;!re.empty();){if(B.same(re)){te=!0,W.parent=void 0;break}re=re.parent()}te||(ee[0]._private.children.push(B),B._private.parent=ee[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var de=s.length===t.length?t:new Ta(n,s),pe=0;pe<de.length;pe++){var fe=de[pe];fe.isNode()||(fe.parallelEdges().clearTraversalCache(),fe.source().clearTraversalCache(),fe.target().clearTraversalCache())}var ye;i.hasCompoundNodes?ye=n.collection().merge(de).merge(de.connectedNodes()).merge(de.parent()):ye=de,ye.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?de.emitAndNotify("add"):e&&de.emit("add")}return t};wi.removed=function(){var r=this[0];return r&&r._private.removed};wi.inside=function(){var r=this[0];return r&&!r._private.removed};wi.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],i={},a=t._private.cy;function o(V){for(var J=V._private.edges,ee=0;ee<J.length;ee++)u(J[ee])}function s(V){for(var J=V._private.children,ee=0;ee<J.length;ee++)u(J[ee])}function u(V){var J=i[V.id()];e&&V.removed()||J||(i[V.id()]=!0,V.isNode()?(n.push(V),o(V),s(V)):n.unshift(V))}for(var l=0,c=t.length;l<c;l++){var f=t[l];u(f)}function h(V,J){var ee=V._private.edges;jd(ee,J),V.clearTraversalCache()}function d(V){V.clearTraversalCache()}var v=[];v.ids={};function y(V,J){J=J[0],V=V[0];var ee=V._private.children,te=V.id();jd(ee,J),J._private.parent=null,v.ids[te]||(v.ids[te]=!0,v.push(V))}t.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var g=b.source()[0],_=b.target()[0];h(g,b),h(_,b);for(var x=b.parallelEdges(),P=0;P<x.length;P++){var I=x[P];d(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var T=b.parent();T.length!==0&&y(T,b)}e&&(b._private.removed=!0)}var A=a._private.elements;a._private.hasCompoundNodes=!1;for(var D=0;D<A.length;D++){var N=A[D];if(N.isParent()){a._private.hasCompoundNodes=!0;break}}var j=new Ta(this.cy(),n);j.size()>0&&(r?j.emitAndNotify("remove"):e&&j.emit("remove"));for(var B=0;B<v.length;B++){var W=v[B];(!e||!W.removed())&&W.updateStyle()}return j};wi.move=function(r){var e=this._private.cy,t=this,n=!1,i=!1,a=function(v){return v==null?v:""+v};if(r.source!==void 0||r.target!==void 0){var o=a(r.source),s=a(r.target),u=o!=null&&e.hasElementWithId(o),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){t.remove(n,i),t.emitAndNotify("moveout");for(var d=0;d<t.length;d++){var v=t[d],y=v._private.data;v.isEdge()&&(u&&(y.source=o),l&&(y.target=s))}t.restore(n,i)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var c=a(r.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var d=t.remove(n,i);d.emitAndNotify("moveout");for(var v=0;v<t.length;v++){var y=t[v],w=y._private.data;y.isNode()&&(w.parent=h)}d.restore(n,i)}),t.emitAndNotify("move")}}return this};[OI,M3,u0,Md,Rg,X3,$0,f4,$I,XI,g4,x0,l0,Sa,Dd,Ha].forEach(function(r){br(wi,r)});var O4={add:function(e){var t,n=this;if(Pu(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}t=new Ta(n,a)}}else if(vi(e)){var u=e;t=new Ta(n,u)}else if(bn(e)&&(vi(e.nodes)||vi(e.edges))){for(var l=e,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var v=f[h],y=l[v];if(vi(y))for(var w=0,b=y.length;w<b;w++){var g=br({group:v},y[w]);c.push(g)}}t=new Ta(n,c)}else{var _=e;t=new q0(n,_).collection()}return t},remove:function(e){if(!Pu(e)){if(hr(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function x4(r,e,t,n){var i=4,a=.001,o=1e-7,s=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var h=c?new Float32Array(u):new Array(u);function d(N,j){return 1-3*j+3*N}function v(N,j){return 3*j-6*N}function y(N){return 3*N}function w(N,j,B){return((d(j,B)*N+v(j,B))*N+y(j))*N}function b(N,j,B){return 3*d(j,B)*N*N+2*v(j,B)*N+y(j)}function g(N,j){for(var B=0;B<i;++B){var W=b(j,r,t);if(W===0)return j;var V=w(j,r,t)-N;j-=V/W}return j}function _(){for(var N=0;N<u;++N)h[N]=w(N*l,r,t)}function x(N,j,B){var W,V,J=0;do V=j+(B-j)/2,W=w(V,r,t)-N,W>0?B=V:j=V;while(Math.abs(W)>o&&++J<s);return V}function P(N){for(var j=0,B=1,W=u-1;B!==W&&h[B]<=N;++B)j+=l;--B;var V=(N-h[B])/(h[B+1]-h[B]),J=j+V*l,ee=b(J,r,t);return ee>=a?g(N,J):ee===0?J:x(N,j,j+l)}var I=!1;function T(){I=!0,(r!==e||t!==n)&&_()}var A=function(j){return I||T(),r===e&&t===n?j:j===0?0:j===1?1:w(P(j),e,n)};A.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var D="generateBezier("+[r,e,t,n]+")";return A.toString=function(){return D},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var S4=function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:r(o)}}function t(n,i){var a={dx:n.v,dv:r(n)},o=e(n,i*.5,a),s=e(n,i*.5,o),u=e(n,i,s),l=1/6*(a.dx+2*(o.dx+s.dx)+u.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,f=16/1e3,h,d,v;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,h=o!==null,h?(l=n(i,a),d=l/o*f):d=f;v=t(v||s,d),u.push(1+v.x),l+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return h?function(y){return u[y*(u.length-1)|0]}:l}}(),_i=function(e,t,n,i){var a=x4(e,t,n,i);return function(o,s,u){return o+(s-o)*a(u)}},c0={linear:function(e,t,n){return e+(t-e)*n},ease:_i(.25,.1,.25,1),"ease-in":_i(.42,0,1,1),"ease-out":_i(0,0,.58,1),"ease-in-out":_i(.42,0,.58,1),"ease-in-sine":_i(.47,0,.745,.715),"ease-out-sine":_i(.39,.575,.565,1),"ease-in-out-sine":_i(.445,.05,.55,.95),"ease-in-quad":_i(.55,.085,.68,.53),"ease-out-quad":_i(.25,.46,.45,.94),"ease-in-out-quad":_i(.455,.03,.515,.955),"ease-in-cubic":_i(.55,.055,.675,.19),"ease-out-cubic":_i(.215,.61,.355,1),"ease-in-out-cubic":_i(.645,.045,.355,1),"ease-in-quart":_i(.895,.03,.685,.22),"ease-out-quart":_i(.165,.84,.44,1),"ease-in-out-quart":_i(.77,0,.175,1),"ease-in-quint":_i(.755,.05,.855,.06),"ease-out-quint":_i(.23,1,.32,1),"ease-in-out-quint":_i(.86,0,.07,1),"ease-in-expo":_i(.95,.05,.795,.035),"ease-out-expo":_i(.19,1,.22,1),"ease-in-out-expo":_i(1,0,0,1),"ease-in-circ":_i(.6,.04,.98,.335),"ease-out-circ":_i(.075,.82,.165,1),"ease-in-out-circ":_i(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return c0.linear;var i=S4(e,t,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":_i};function rT(r,e,t,n,i){if(n===1||e===t)return t;var a=i(e,t,n);return r==null||((r.roundValue||r.color)&&(a=Math.round(a)),r.min!==void 0&&(a=Math.max(a,r.min)),r.max!==void 0&&(a=Math.min(a,r.max))),a}function nT(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function ug(r,e,t,n,i){var a=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var o=nT(r,i),s=nT(e,i);if(Gt(o)&&Gt(s))return rT(a,o,s,t,n);if(vi(o)&&vi(s)){for(var u=[],l=0;l<s.length;l++){var c=o[l],f=s[l];if(c!=null&&f!=null){var h=rT(a,c,f,t,n);u.push(h)}else u.push(f)}return u}}function T4(r,e,t,n){var i=!n,a=r._private,o=e._private,s=o.easing,u=o.startTime,l=n?r:r.cy(),c=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=c0.linear;else{var f;if(hr(s)){var h=c.parse("transition-timing-function",s);f=h.value}else f=s;var d,v;hr(f)?(d=f,v=[]):(d=f[1],v=f.slice(2).map(function(de){return+de})),v.length>0?(d==="spring"&&v.push(o.duration),o.easingImpl=c0[d].apply(null,v)):o.easingImpl=c0[d]}var y=o.easingImpl,w;if(o.duration===0?w=1:w=(t-u)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,g=o.position;if(g&&i&&!r.locked()){var _={};Sy(b.x,g.x)&&(_.x=ug(b.x,g.x,w,y)),Sy(b.y,g.y)&&(_.y=ug(b.y,g.y,w,y)),r.position(_)}var x=o.startPan,P=o.pan,I=a.pan,T=P!=null&&n;T&&(Sy(x.x,P.x)&&(I.x=ug(x.x,P.x,w,y)),Sy(x.y,P.y)&&(I.y=ug(x.y,P.y,w,y)),r.emit("pan"));var A=o.startZoom,D=o.zoom,N=D!=null&&n;N&&(Sy(A,D)&&(a.zoom=$y(a.minZoom,ug(A,D,w,y),a.maxZoom)),r.emit("zoom")),(T||N)&&r.emit("viewport");var j=o.style;if(j&&j.length>0&&i){for(var B=0;B<j.length;B++){var W=j[B],V=W.name,J=W,ee=o.startStyle[V],te=c.properties[ee.name],re=ug(ee,J,w,y,te);c.overrideBypass(r,V,re)}r.emit("style")}}return o.progress=w,w}function Sy(r,e){return r==null||e==null?!1:Gt(r)&&Gt(e)?!0:!!(r&&e)}function C4(r,e,t,n){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function iT(r,e){var t=e._private.aniEles,n=[];function i(c,f){var h=c._private,d=h.animation.current,v=h.animation.queue,y=!1;if(d.length===0){var w=v.shift();w&&d.push(w)}for(var b=function(I){for(var T=I.length-1;T>=0;T--){var A=I[T];A()}I.splice(0,I.length)},g=d.length-1;g>=0;g--){var _=d[g],x=_._private;if(x.stopped){d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||C4(c,_,r),T4(c,_,r,f),x.applying&&(x.applying=!1),b(x.frames),x.step!=null&&x.step(r),_.completed()&&(d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.completes)),y=!0)}return!f&&d.length===0&&v.length===0&&n.push(c),y}for(var a=!1,o=0;o<t.length;o++){var s=t[o],u=i(s);a=a||u}var l=i(e,!0);(a||l)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var P4={animate:Fn.animate(),animation:Fn.animation(),animated:Fn.animated(),clearQueue:Fn.clearQueue(),delay:Fn.delay(),delayAnimation:Fn.delayAnimation(),stop:Fn.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&b0(function(a){iT(a,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){iT(o,e)},n.beforeRenderPriorities.animations):t()}},A4={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&im(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},$m=function(e){return hr(e)?new Fd(e):e},QI={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new X0(A4,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,$m(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,$m(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,$m(t),n),this},once:function(e,t,n){return this.emitter().one(e,$m(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Fn.eventAliasesOn(QI);var gO={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};gO.jpeg=gO.jpg;var f0={layout:function(e){var t=this;if(e==null){Ji("Layout options must be specified to make a layout");return}if(e.name==null){Ji("A `name` must be specified to make a layout");return}var n=e.name,i=t.extension("layout",n);if(i==null){Ji("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;hr(e.eles)?a=t.$(e.eles):a=e.eles!=null?e.eles:t.$();var o=new i(br({},e,{cy:t,eles:a}));return o}};f0.createLayout=f0.makeLayout=f0.layout;var I4={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a],s=t.getElementById(a);s.data(o)}})}},R4=Ca({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),yO={renderTo:function(e,t,n,i){var a=this._private.renderer;return a.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){Ji("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Bn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=R4(e);i.cy=t,t._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};yO.invalidateDimensions=yO.resize;var h0={collection:function(e,t){return hr(e)?this.$(e):Pu(e)?e.collection():vi(e)?(t||(t={}),new Ta(this,e,t.unique,t.removed)):new Ta(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};h0.elements=h0.filter=h0.$;var $a={},zy="t",k4="f";$a.apply=function(r){for(var e=this,t=e._private,n=t.cy,i=n.collection(),a=0;a<r.length;a++){var o=r[a],s=e.getContextMeta(o);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,o);o._private.appliedInitStyle?e.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&i.push(o)}}return i};$a.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},i=r+"-"+e,a=n[i];if(a)return a;for(var o=[],s={},u=0;u<t.length;u++){var l=t[u],c=r[u]===zy,f=e[u]===zy,h=c!==f,d=l.mappedProperties.length>0;if(h||f&&d){var v=void 0;h&&d||h?v=l.properties:d&&(v=l.mappedProperties);for(var y=0;y<v.length;y++){for(var w=v[y],b=w.name,g=!1,_=u+1;_<t.length;_++){var x=t[_],P=e[_]===zy;if(P&&(g=x.properties[w.name]!=null,g))break}!s[b]&&!g&&(s[b]=!0,o.push(b))}}}return n[i]=o,o};$a.getContextMeta=function(r){for(var e=this,t="",n,i=r._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(r);s?t+=zy:t+=k4}return n=e.getPropertiesDiff(i,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};$a.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<t.length;a++){var o=t[a],s=e[a]===zy;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];i[l.name]=l}}return n[e]=i,i};$a.applyContextStyle=function(r,e,t){for(var n=this,i=r.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var u=i[s],l=e[u],c=t.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,h=f.fnValue=l.value(t);if(h===f.prevFnValue)continue}var d=a[u]={prev:c};n.applyParsedProperty(t,l),d.next=t.pstyle(u),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};$a.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,i=t.propertyGroupKeys,a=function(Pe,Ue,ot){return t.getPropertiesHash(Pe,Ue,ot)},o=e.styleKey;if(r.removed())return!1;var s=e.group==="nodes",u=r._private.style;n=Object.keys(u);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[gg,Ay]}for(var f=function(Pe,Ue){return e.styleKeys[Ue][0]=Wy(Pe,e.styleKeys[Ue][0])},h=function(Pe,Ue){return e.styleKeys[Ue][1]=Hy(Pe,e.styleKeys[Ue][1])},d=function(Pe,Ue){f(Pe,Ue),h(Pe,Ue)},v=function(Pe,Ue){for(var ot=0;ot<Pe.length;ot++){var $e=Pe.charCodeAt(ot);f($e,Ue),h($e,Ue)}},y=2e9,w=function(Pe){return-128<Pe&&Pe<128&&Math.floor(Pe)!==Pe?y-(Pe*1024|0):Pe},b=0;b<n.length;b++){var g=n[b],_=u[g];if(_!=null){var x=this.properties[g],P=x.type,I=x.groupKey,T=void 0;x.hashOverride!=null?T=x.hashOverride(r,_):_.pfValue!=null&&(T=_.pfValue);var A=x.enums==null?_.value:null,D=T!=null,N=A!=null,j=D||N,B=_.units;if(P.number&&j&&!P.multiple){var W=D?T:A;d(w(W),I),!D&&B!=null&&v(B,I)}else v(_.strValue,I)}}for(var V=[gg,Ay],J=0;J<i.length;J++){var ee=i[J],te=e.styleKeys[ee];V[0]=Wy(te[0],V[0]),V[1]=Hy(te[1],V[1])}e.styleKey=jL(V[0],V[1]);var re=e.styleKeys;e.labelDimsKey=Od(re.labelDimensions);var de=a(r,["label"],re.labelDimensions);if(e.labelKey=Od(de),e.labelStyleKey=Od(Bm(re.commonLabel,de)),!s){var pe=a(r,["source-label"],re.labelDimensions);e.sourceLabelKey=Od(pe),e.sourceLabelStyleKey=Od(Bm(re.commonLabel,pe));var fe=a(r,["target-label"],re.labelDimensions);e.targetLabelKey=Od(fe),e.targetLabelStyleKey=Od(Bm(re.commonLabel,fe))}if(s){var ye=e.styleKeys,Me=ye.nodeBody,Ne=ye.nodeBorder,ke=ye.nodeOutline,je=ye.backgroundImage,xe=ye.compound,Se=ye.pie,Re=[Me,Ne,ke,je,xe,Se].filter(function(Oe){return Oe!=null}).reduce(Bm,[gg,Ay]);e.nodeKey=Od(Re),e.hasPie=Se!=null&&Se[0]!==gg&&Se[1]!==Ay}return o!==e.styleKey};$a.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};$a.applyParsedProperty=function(r,e){var t=this,n=e,i=r._private.style,a,o=t.types,s=t.properties[n.name].type,u=n.bypass,l=i[n.name],c=l&&l.bypass,f=r._private,h="mapping",d=function(Me){return Me==null?null:Me.pfValue!=null?Me.pfValue:Me.value},v=function(){var Me=d(l),Ne=d(n);t.checkTriggers(r,n.name,Me,Ne)};if(e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return i[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var y=function(){Bn("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),b=f.data,g=0;g<w.length&&b;g++){var _=w[g];b=b[_]}if(b==null)return y(),!1;var x;if(Gt(b)){var P=n.fieldMax-n.fieldMin;P===0?x=0:x=(b-n.fieldMin)/P}else return Bn("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+r.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var I=n.valueMin[0],T=n.valueMax[0],A=n.valueMin[1],D=n.valueMax[1],N=n.valueMin[2],j=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],W=n.valueMax[3]==null?1:n.valueMax[3],V=[Math.round(I+(T-I)*x),Math.round(A+(D-A)*x),Math.round(N+(j-N)*x),Math.round(B+(W-B)*x)];a={bypass:n.bypass,name:n.name,value:V,strValue:"rgb("+V[0]+", "+V[1]+", "+V[2]+")"}}else if(s.number){var J=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,J,n.bypass,h)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case o.data:{for(var ee=n.field.split("."),te=f.data,re=0;re<ee.length&&te;re++){var de=ee[re];te=te[de]}if(te!=null&&(a=this.parse(n.name,te,n.bypass,h)),!a)return y(),!1;a.mapping=n,n=a;break}case o.fn:{var pe=n.value,fe=n.fnValue!=null?n.fnValue:pe(r);if(n.prevFnValue=fe,fe==null)return Bn("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(a=this.parse(n.name,fe,n.bypass,h),!a)return Bn("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;a.mapping=sf(n),n=a;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):c?l.bypassed=n:i[n.name]=n,v(),!0};$a.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};$a.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()};$a.updateTransitions=function(r,e){var t=this,n=r._private,i=r.pstyle("transition-property").value,a=r.pstyle("transition-duration").pfValue,o=r.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},u=!1,l=0;l<i.length;l++){var c=i[l],f=r.pstyle(c),h=e[c];if(h){var d=h.prev,v=d,y=h.next!=null?h.next:f,w=!1,b=void 0,g=1e-6;v&&(Gt(v.pfValue)&&Gt(y.pfValue)?(w=y.pfValue-v.pfValue,b=v.pfValue+g*w):Gt(v.value)&&Gt(y.value)?(w=y.value-v.value,b=v.value+g*w):vi(v.value)&&vi(y.value)&&(w=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],b=v.strValue),w&&(s[c]=y.strValue,this.applyBypass(r,c,b),u=!0))}}if(!u)return;n.transitioning=!0,new Lg(function(_){o>0?r.delayAnimation(o).play().promise().then(_):_()}).then(function(){return r.animation({style:s,duration:a,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1)};$a.checkTrigger=function(r,e,t,n,i,a){var o=this.properties[e],s=i(o);s!=null&&s(t,n)&&a(o)};$a.checkZOrderTrigger=function(r,e,t,n){var i=this;this.checkTrigger(r,e,t,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",r)})};$a.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBounds},function(i){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(t==="bezier"||n==="bezier")&&r.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(t==="none"||n==="none")&&r.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};$a.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n)};var um={};um.applyBypass=function(r,e,t,n){var i=this,a=[],o=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,c=this.parse(l,t,!0);c&&a.push(c)}}else if(hr(e)){var f=this.parse(e,t,!0);f&&a.push(f)}else if(bn(e)){var h=e;n=t;for(var d=Object.keys(h),v=0;v<d.length;v++){var y=d[v],w=h[y];if(w===void 0&&(w=h[B0(y)]),w!==void 0){var b=this.parse(y,w,!0);b&&a.push(b)}}}else return!1;if(a.length===0)return!1;for(var g=!1,_=0;_<r.length;_++){for(var x=r[_],P={},I=void 0,T=0;T<a.length;T++){var A=a[T];if(n){var D=x.pstyle(A.name);I=P[A.name]={prev:D}}g=this.applyParsedProperty(x,sf(A))||g,n&&(I.next=x.pstyle(A.name))}g&&this.updateStyleHints(x),n&&this.updateTransitions(x,P,o)}return g};um.overrideBypass=function(r,e,t){e=WO(e);for(var n=0;n<r.length;n++){var i=r[n],a=i._private.style[e],o=this.properties[e].type,s=o.color,u=o.mutiple,l=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,t):(a.value=t,a.pfValue!=null&&(a.pfValue=t),s?a.strValue="rgb("+t.join(",")+")":u?a.strValue=t.join(" "):a.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,l,t)}};um.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)};um.removeBypasses=function(r,e,t){for(var n=!0,i=0;i<r.length;i++){for(var a=r[i],o={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],c=a.pstyle(l.name);if(!(!c||!c.bypass)){var f="",h=this.parse(u,f,!0),d=o[l.name]={prev:c};this.applyParsedProperty(a,h),d.next=a.pstyle(l.name)}}this.updateStyleHints(a),t&&this.updateTransitions(a,o,n)}};var ox={};ox.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};ox.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var hf={};hf.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)};hf.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},i=0;i<t.properties.length;i++){var a=t.properties[i],o=t.getStylePropertyValue(r,a.name,e);o!=null&&(n[a.name]=o,n[B0(a.name)]=o)}return n}};hf.getIndexedStyle=function(r,e,t,n){var i=r.pstyle(e)[t][n];return i??r.cy().style().getDefaultProperty(e)[t][0]};hf.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,o=r.pstyle(i.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(t&&a.number&&s!=null&&Gt(s)){var c=r.cy().zoom(),f=function(w){return w*c},h=function(w,b){return f(w)+b},d=vi(s),v=d?u.every(function(y){return y!=null}):u!=null;return v?d?s.map(function(y,w){return h(y,u[w])}).join(" "):h(s,u):d?s.map(function(y){return hr(y)?y:""+f(y)}).join(" "):""+f(s)}else if(l!=null)return l}return null}};hf.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=i.name,o=r.pstyle(a);o!==void 0&&(bn(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(t[a]=o)}return t};hf.getPropsList=function(r){var e=this,t=[],n=r,i=e.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],u=n[s],l=i[s]||i[WO(s)],c=this.parse(l.name,u);c&&t.push(c)}return t};hf.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),i,a,o,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],a=r.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Wy(s,n[0]),n[1]=Hy(s,n[1]);else for(o=a.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=Wy(s,n[0]),n[1]=Hy(s,n[1]);return n};hf.getPropertiesHash=hf.getNonDefaultPropertiesHash;var Q0={};Q0.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],i=n.selector,a=n.style||n.css,o=Object.keys(a);e.selector(i);for(var s=0;s<o.length;s++){var u=o[s],l=a[u];e.css(u,l)}}return e};Q0.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e};Q0.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,i=t.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}r.push({selector:n?n.toString():"core",style:a})}return r};var ax={};ax.appendFromString=function(r){var e=this,t=this,n=""+r,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function u(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Bn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var f=c[1];if(f!=="core"){var h=new Fd(f);if(h.invalid){Bn("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),s();continue}}var d=c[2],v=!1;a=d;for(var y=[];;){var w=a.match(/^\s*$/);if(w)break;var b=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){Bn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}o=b[0];var g=b[1],_=b[2],x=e.properties[g];if(!x){Bn("Skipping property: Invalid property name in: "+o),u();continue}var P=t.parse(g,_);if(!P){Bn("Skipping property: Invalid property definition in: "+o),u();continue}y.push({name:g,val:_}),u()}if(v){s();break}t.selector(f);for(var I=0;I<y.length;I++){var T=y[I];t.css(T.name,T.val)}s()}return t};ax.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var xa={};(function(){var r=No,e=UD,t=qD,n=GD,i=VD,a=function(Re){return"^"+Re+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(Re){var Oe=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+i;return"^"+Re+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+Oe+")\\s*\\,\\s*("+Oe+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];xa.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Re,Oe){switch(Re.length){case 2:return Oe[0]!=="deg"&&Oe[0]!=="rad"&&Oe[1]!=="deg"&&Oe[1]!=="rad";case 1:return hr(Re[0])||Oe[0]==="deg"||Oe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Re){var Oe=Re.length;return Oe===1||Oe===2||Oe===4}}};var u={zeroNonZero:function(Re,Oe){return(Re==null||Oe==null)&&Re!==Oe||Re==0&&Oe!=0?!0:Re!=0&&Oe==0},any:function(Re,Oe){return Re!=Oe},emptyNonEmpty:function(Re,Oe){var Pe=Nd(Re),Ue=Nd(Oe);return Pe&&!Ue||!Pe&&Ue}},l=xa.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],f=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],y=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],g=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],_=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],x=function(Re,Oe){return Oe.value==="label"?-Re.poolIndex():Oe.pfValue},P=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:x},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:x},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],I=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],T=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],A=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],D=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],N=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],j=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],B=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],W=[];xa.pieBackgroundN=16,W.push({name:"pie-size",type:l.sizeMaybePercent});for(var V=1;V<=xa.pieBackgroundN;V++)W.push({name:"pie-"+V+"-background-color",type:l.color}),W.push({name:"pie-"+V+"-background-size",type:l.percent}),W.push({name:"pie-"+V+"-background-opacity",type:l.zeroOneNumber});var J=[],ee=xa.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(Se){ee.forEach(function(Re){var Oe=Re+"-"+Se.name,Pe=Se.type,Ue=Se.triggersBounds;J.push({name:Oe,type:Pe,triggersBounds:Ue})})},{});var te=xa.properties=[].concat(y,_,w,b,g,j,v,d,c,f,h,P,I,T,A,W,D,N,J,B),re=xa.propertyGroups={behavior:y,transition:_,visibility:w,overlay:b,underlay:g,ghost:j,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:P,nodeBorder:I,nodeOutline:T,backgroundImage:A,pie:W,compound:D,edgeLine:N,edgeArrow:J,core:B},de=xa.propertyGroupNames={},pe=xa.propertyGroupKeys=Object.keys(re);pe.forEach(function(Se){de[Se]=re[Se].map(function(Re){return Re.name}),re[Se].forEach(function(Re){return Re.groupKey=Se})});var fe=xa.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];xa.propertyNames=te.map(function(Se){return Se.name});for(var ye=0;ye<te.length;ye++){var Me=te[ye];te[Me.name]=Me}for(var Ne=0;Ne<fe.length;Ne++){var ke=fe[Ne],je=te[ke.pointsTo],xe={name:ke.name,alias:!0,pointsTo:je};te.push(xe),te[ke.name]=xe}})();xa.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};xa.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=br({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=xa.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;u[f]=h}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return xa.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,h=l.value;u[f]=h}),u},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=e[a],s=this.parse(a,o);t[a]=s}}return r.defaultProperties=t,r.defaultProperties};xa.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var J0={};J0.parse=function(r,e,t,n){var i=this;if(Vi(e))return i.parseImplWarn(r,e,t,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=t?"t":"f",s=""+e,u=sI(r,s,o,a),l=i.propCache=i.propCache||[],c;return(c=l[u])||(c=l[u]=i.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(c=sf(c),c&&(c.value=sf(c.value))),c};J0.parseImplWarn=function(r,e,t,n){var i=this.parseImpl(r,e,t,n);return!i&&e!=null&&Bn("The style property `".concat(r,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Bn("The style value of `label` is deprecated for `"+i.name+"`"),i};J0.parseImpl=function(r,e,t,n){var i=this;r=WO(r);var a=i.properties[r],o=e,s=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,r=a.name);var u=hr(e);u&&(e=e.trim());var l=a.type;if(!l)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(Vi(e))return{name:r,value:e,strValue:"fn",mapped:s.fn,bypass:t};var c,f;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(t)return!1;var h=s.data;return{name:r,value:c,strValue:""+e,mapped:h,field:c[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(s.mapData.regex).exec(e))){if(t||l.multiple)return!1;var d=s.mapData;if(!(l.color||l.number))return!1;var v=this.parse(r,f[4]);if(!v||v.mapped)return!1;var y=this.parse(r,f[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return Bn("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+v.strValue+"`"),this.parse(r,v.strValue);if(l.color){var w=v.value,b=y.value,g=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(g)return!1}return{name:r,value:f,strValue:""+e,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:t}}}if(l.multiple&&n!=="multiple"){var _;if(u?_=e.split(/\s+/):vi(e)?_=e:_=[e],l.evenMultiple&&_.length%2!==0)return null;for(var x=[],P=[],I=[],T="",A=!1,D=0;D<_.length;D++){var N=i.parse(r,_[D],t,"multiple");A=A||hr(N.value),x.push(N.value),I.push(N.pfValue!=null?N.pfValue:N.value),P.push(N.units),T+=(D>0?" ":"")+N.strValue}return l.validate&&!l.validate(x,P)?null:l.singleEnum&&A?x.length===1&&hr(x[0])?{name:r,value:x[0],strValue:x[0],bypass:t}:null:{name:r,value:x,pfValue:I,strValue:T,bypass:t,units:P}}var j=function(){for(var Re=0;Re<l.enums.length;Re++){var Oe=l.enums[Re];if(Oe===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(l.number){var B,W="px";if(l.units&&(B=l.units),l.implicitUnits&&(W=l.implicitUnits),!l.unitless)if(u){var V="px|em"+(l.allowPercent?"|\\%":"");B&&(V=B);var J=e.match("^("+No+")("+V+")?$");J&&(e=J[1],B=J[2]||W)}else(!B||l.implicitUnits)&&(B=W);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=o,j();if(l.integer&&!MD(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var ee={name:r,value:e,strValue:""+e+(B||""),units:B,bypass:t};return l.unitless||B!=="px"&&B!=="em"?ee.pfValue=e:ee.pfValue=B==="px"||!B?e:this.getEmSizeInPixels()*e,(B==="ms"||B==="s")&&(ee.pfValue=B==="ms"?e:1e3*e),(B==="deg"||B==="rad")&&(ee.pfValue=B==="rad"?e:dN(e)),B==="%"&&(ee.pfValue=e/100),ee}else if(l.propList){var te=[],re=""+e;if(re!=="none"){for(var de=re.split(/\s*,\s*|\s+/),pe=0;pe<de.length;pe++){var fe=de[pe].trim();i.properties[fe]?te.push(fe):Bn("`"+fe+"` is not a valid property name")}if(te.length===0)return null}return{name:r,value:te,strValue:te.length===0?"none":te.join(" "),bypass:t}}else if(l.color){var ye=KD(e);return ye?{name:r,value:ye,pfValue:ye,strValue:"rgb("+ye[0]+","+ye[1]+","+ye[2]+")",bypass:t}:null}else if(l.regex||l.regexes){if(l.enums){var Me=j();if(Me)return Me}for(var Ne=l.regexes?l.regexes:[l.regex],ke=0;ke<Ne.length;ke++){var je=new RegExp(Ne[ke]),xe=je.exec(e);if(xe)return{name:r,value:l.singleRegexMatchValue?xe[1]:xe,strValue:""+e,bypass:t}}return null}else return l.string?{name:r,value:""+e,strValue:""+e,bypass:t}:l.enums?j():null};var Wa=function r(e){if(!(this instanceof r))return new r(e);if(!VO(e)){Ji("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Ya=Wa.prototype;Ya.instanceString=function(){return"style"};Ya.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Ya.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Ya.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};Ya.selector=function(r){var e=r==="core"?null:new Fd(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};Ya.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var i=r.properties[n],a=t[i.name];a===void 0&&(a=t[B0(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Ya.style=Ya.css;Ya.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[n].mappedProperties.push(t);var i=!this[n].selector;i&&(this._private.coreStyle[t.name]=t)}return this};Ya.append=function(r){return ZA(r)?r.appendToStyle(this):vi(r)?this.appendFromJson(r):hr(r)&&this.appendFromString(r),this};Wa.fromJson=function(r,e){var t=new Wa(r);return t.fromJson(e),t};Wa.fromString=function(r,e){return new Wa(r).fromString(e)};[$a,um,ox,hf,Q0,ax,xa,J0].forEach(function(r){br(Ya,r)});Wa.types=Ya.types;Wa.properties=Ya.properties;Wa.propertyGroups=Ya.propertyGroups;Wa.propertyGroupNames=Ya.propertyGroupNames;Wa.propertyGroupKeys=Ya.propertyGroupKeys;var M4={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return ZA(e)?t.style=e.generateStyle(this):vi(e)?t.style=Wa.fromJson(this,e):hr(e)?t.style=Wa.fromString(this,e):t.style=Wa(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},D4="single",op={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=D4),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,i,a,o,s;switch(e.length){case 0:return t;case 1:if(hr(e[0]))return n=e[0],t[n];if(bn(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,Gt(o)&&(t.x=o),Gt(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Gt(i)&&(t[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,i=this._private.pan,a,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:bn(e)&&(s=n[0],u=s.x,l=s.y,Gt(u)&&(i.x+=u),Gt(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:a=e,o=t,(a==="x"||a==="y")&&Gt(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Gt(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(hr(e)){var i=e;e=this.$(i)}else if(ND(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Pu(e)||(e=this.mutableElements());if(!(Pu(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),u;if(t=Gt(t)?t:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*t)/n.w,(s-2*t)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var i=e;e=i.min,t=i.max}return Gt(e)&&Gt(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Gt(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:Gt(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,i=t.zoom,a,o,s=!1;if(t.zoomingEnabled||(s=!0),Gt(e)?o=e:bn(e)&&(o=e.level,e.position!=null?a=G0(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!t.panningEnabled&&(s=!0)),o=o>t.maxZoom?t.maxZoom:o,o=o<t.minZoom?t.minZoom:o,s||!Gt(o)||o===i||a!=null&&(!Gt(a.x)||!Gt(a.y)))return null;if(a!=null){var u=n,l=i,c=o,f={x:-c/l*(a.x-u.x)+a.x,y:-c/l*(a.y-u.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(Gt(e.zoom)||(n=!1),bn(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<t.minZoom||u>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=u,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;Gt(l.x)&&(t.pan.x=l.x,s=!1),Gt(l.y)&&(t.pan.y=l.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(hr(e)){var n=e;e=this.mutableElements().filter(n)}else Pu(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),o=this.height();t=t===void 0?this._private.zoom:t;var s={x:(a-t*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var i=n.window().getComputedStyle(t),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:t.clientWidth-a("padding-left")-a("padding-right"),height:t.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};op.centre=op.center;op.autolockNodes=op.autolock;op.autoungrabifyNodes=op.autoungrabify;var Jy={data:Fn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Fn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Fn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Jy.attr=Jy.data;Jy.removeAttr=Jy.removeData;var em=function(e){var t=this;e=br({},e);var n=e.container;n&&!m0(n)&&m0(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var o=Lo!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=br({name:o?"grid":"null"},s.layout),s.renderer=br({name:o?"canvas":"null"},s.renderer);var u=function(v,y,w){return y!==void 0?y:w!==void 0?w:v},l=this._private={container:n,ready:!1,options:s,elements:new Ta(this),listeners:[],aniEles:new Ta(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Gt(s.zoom)?s.zoom:1,pan:{x:bn(s.pan)&&Gt(s.pan.x)?s.pan.x:0,y:bn(s.pan)&&Gt(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(v,y){var w=v.some(jD);if(w)return Lg.all(v).then(y);y(v)};l.styleEnabled&&t.setStyle([]);var f=br({},s,s.renderer);t.initRenderer(f);var h=function(v,y,w){t.notifications(!1);var b=t.mutableElements();b.length>0&&b.remove(),v!=null&&(bn(v)||vi(v))&&t.add(v),t.one("layoutready",function(_){t.notifications(!0),t.emit(_),t.one("load",y),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",w),t.emit("done")});var g=br({},t._private.options.layout);g.eles=t.elements(),t.layout(g).run()};c([s.style,s.elements],function(d){var v=d[0],y=d[1];l.styleEnabled&&t.style().append(v),h(y,function(){t.startAnimationLoop(),l.ready=!0,Vi(s.ready)&&t.on("ready",s.ready);for(var w=0;w<a.length;w++){var b=a[w];t.on("ready",b)}i&&(i.readies=[]),t.emit("ready")},s.done)})},S0=em.prototype;br(S0,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Lo;var t=this._private.container.ownerDocument;return t===void 0||t==null?Lo:t.defaultView||Lo},mount:function(e){if(e!=null){var t=this,n=t._private,i=n.options;return!m0(e)&&m0(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(br({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return sf(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements(),a=function(x){return t.getElementById(x.id())};if(bn(e)){if(t.startBatch(),e.elements){var o={},s=function(x,P){for(var I=[],T=[],A=0;A<x.length;A++){var D=x[A];if(!D.data.id){Bn("cy.json() cannot handle elements without an ID attribute");continue}var N=""+D.data.id,j=t.getElementById(N);o[N]=!0,j.length!==0?T.push({ele:j,json:D}):(P&&(D.group=P),I.push(D))}t.add(I);for(var B=0;B<T.length;B++){var W=T[B],V=W.ele,J=W.json;V.json(J)}};if(vi(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],f=e.elements[c];vi(f)&&s(f,c)}var h=t.collection();i.filter(function(_){return!o[_.id()]}).forEach(function(_){_.isParent()?h.merge(_):_.remove()}),h.forEach(function(_){return _.children().move({parent:null})}),h.forEach(function(_){return a(_).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var y=d[v];e[y]!=null&&t[y](e[y])}return t.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(_){return _.json()}):(b.elements={},i.forEach(function(_){var x=_.group();b.elements[x]||(b.elements[x]=[]),b.elements[x].push(_.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=sf(t.data());var g=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=sf(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=sf(g.renderer),b.hideEdgesOnViewport=g.hideEdgesOnViewport,b.textureOnViewport=g.textureOnViewport,b.wheelSensitivity=g.wheelSensitivity,b.motionBlur=g.motionBlur,b.multiClickDebounceTime=g.multiClickDebounceTime,b}}});S0.$id=S0.getElementById;[O4,P4,QI,gO,f0,I4,yO,h0,M4,op,Jy].forEach(function(r){br(S0,r)});var L4={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},N4={maximal:!1,acyclic:!1},lg=function(e){return e.scratch("breadthfirst")},oT=function(e,t){return e.scratch("breadthfirst",t)};function JI(r){this.options=br({},L4,N4,r)}JI.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=n.nodes().filter(function($e){return!$e.isParent()}),a=n,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,u=Vs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),l;if(Pu(e.roots))l=e.roots;else if(vi(e.roots)){for(var c=[],f=0;f<e.roots.length;f++){var h=e.roots[f],d=t.getElementById(h);c.push(d)}l=t.collection(c)}else if(hr(e.roots))l=t.$(e.roots);else if(o)l=i.roots();else{var v=n.components();l=t.collection();for(var y=function(rt){var ht=v[rt],Ze=ht.maxDegree(!1),H=ht.filter(function(K){return K.degree(!1)===Ze});l=l.add(H)},w=0;w<v.length;w++)y(w)}var b=[],g={},_=function(rt,ht){b[ht]==null&&(b[ht]=[]);var Ze=b[ht].length;b[ht].push(rt),oT(rt,{index:Ze,depth:ht})},x=function(rt,ht){var Ze=lg(rt),H=Ze.depth,K=Ze.index;b[H][K]=null,_(rt,ht)};a.bfs({roots:l,directed:e.directed,visit:function(rt,ht,Ze,H,K){var ne=rt[0],Ce=ne.id();_(ne,K),g[Ce]=!0}});for(var P=[],I=0;I<i.length;I++){var T=i[I];g[T.id()]||P.push(T)}var A=function(rt){for(var ht=b[rt],Ze=0;Ze<ht.length;Ze++){var H=ht[Ze];if(H==null){ht.splice(Ze,1),Ze--;continue}oT(H,{depth:rt,index:Ze})}},D=function(){for(var rt=0;rt<b.length;rt++)A(rt)},N=function(rt,ht){for(var Ze=lg(rt),H=rt.incomers().filter(function(le){return le.isNode()&&n.has(le)}),K=-1,ne=rt.id(),Ce=0;Ce<H.length;Ce++){var Ae=H[Ce],ze=lg(Ae);K=Math.max(K,ze.depth)}if(Ze.depth<=K){if(!e.acyclic&&ht[ne])return null;var Le=K+1;return x(rt,Le),ht[ne]=Le,!0}return!1};if(o&&s){var j=[],B={},W=function(rt){return j.push(rt)},V=function(){return j.shift()};for(i.forEach(function($e){return j.push($e)});j.length>0;){var J=V(),ee=N(J,B);if(ee)J.outgoers().filter(function($e){return $e.isNode()&&n.has($e)}).forEach(W);else if(ee===null){Bn("Detected double maximal shift for node `"+J.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var te=0;if(e.avoidOverlap)for(var re=0;re<i.length;re++){var de=i[re],pe=de.layoutDimensions(e),fe=pe.w,ye=pe.h;te=Math.max(te,fe,ye)}var Me={},Ne=function(rt){if(Me[rt.id()])return Me[rt.id()];for(var ht=lg(rt).depth,Ze=rt.neighborhood(),H=0,K=0,ne=0;ne<Ze.length;ne++){var Ce=Ze[ne];if(!(Ce.isEdge()||Ce.isParent()||!i.has(Ce))){var Ae=lg(Ce);if(Ae!=null){var ze=Ae.index,Le=Ae.depth;if(!(ze==null||Le==null)){var le=b[Le].length;Le<ht&&(H+=ze/le,K++)}}}}return K=Math.max(1,K),H=H/K,K===0&&(H=0),Me[rt.id()]=H,H},ke=function(rt,ht){var Ze=Ne(rt),H=Ne(ht),K=Ze-H;return K===0?JA(rt.id(),ht.id()):K};e.depthSort!==void 0&&(ke=e.depthSort);for(var je=0;je<b.length;je++)b[je].sort(ke),A(je);for(var xe=[],Se=0;Se<P.length;Se++)xe.push(P[Se]);b.unshift(xe),D();for(var Re=0,Oe=0;Oe<b.length;Oe++)Re=Math.max(b[Oe].length,Re);var Pe={x:u.x1+u.w/2,y:u.x1+u.h/2},Ue=b.reduce(function($e,rt){return Math.max($e,rt.length)},0),ot=function(rt){var ht=lg(rt),Ze=ht.depth,H=ht.index,K=b[Ze].length,ne=Math.max(u.w/((e.grid?Ue:K)+1),te),Ce=Math.max(u.h/(b.length+1),te),Ae=Math.min(u.w/2/b.length,u.h/2/b.length);if(Ae=Math.max(Ae,te),e.circle){var Le=Ae*Ze+Ae-(b.length>0&&b[0].length<=3?Ae/2:0),le=2*Math.PI/b[Ze].length*H;return Ze===0&&b[0].length===1&&(Le=1),{x:Pe.x+Le*Math.cos(le),y:Pe.y+Le*Math.sin(le)}}else{var ze={x:Pe.x+(H+1-(K+1)/2)*ne,y:(Ze+1)*Ce};return ze}};return n.nodes().layoutPositions(this,e,ot),this};var j4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function eR(r){this.options=br({},j4,r)}eR.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=Vs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,l=u/Math.max(1,a.length-1),c,f=0,h=0;h<a.length;h++){var d=a[h],v=d.layoutDimensions(e),y=v.w,w=v.h;f=Math.max(f,y,w)}if(Gt(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var b=Math.cos(l)-Math.cos(0),g=Math.sin(l)-Math.sin(0),_=Math.sqrt(f*f/(b*b+g*g));c=Math.max(_,c)}var x=function(I,T){var A=e.startAngle+T*l*(i?1:-1),D=c*Math.cos(A),N=c*Math.sin(A),j={x:s.x+D,y:s.y+N};return j};return n.nodes().layoutPositions(this,e,x),this};var F4={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function tR(r){this.options=br({},F4,r)}tR.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,i=e.eles,a=i.nodes().not(":parent"),o=Vs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,c=0;c<a.length;c++){var f=a[c],h=void 0;h=e.concentric(f),u.push({value:h,node:f}),f._private.scratch.concentric=h}a.updateStyle();for(var d=0;d<a.length;d++){var v=a[d],y=v.layoutDimensions(e);l=Math.max(l,y.w,y.h)}u.sort(function($e,rt){return rt.value-$e.value});for(var w=e.levelWidth(a),b=[[]],g=b[0],_=0;_<u.length;_++){var x=u[_];if(g.length>0){var P=Math.abs(g[0].value-x.value);P>=w&&(g=[],b.push(g))}g.push(x)}var I=l+e.minNodeSpacing;if(!e.avoidOverlap){var T=b.length>0&&b[0].length>1,A=Math.min(o.w,o.h)/2-I,D=A/(b.length+T?1:0);I=Math.min(I,D)}for(var N=0,j=0;j<b.length;j++){var B=b[j],W=e.sweep===void 0?2*Math.PI-2*Math.PI/B.length:e.sweep,V=B.dTheta=W/Math.max(1,B.length-1);if(B.length>1&&e.avoidOverlap){var J=Math.cos(V)-Math.cos(0),ee=Math.sin(V)-Math.sin(0),te=Math.sqrt(I*I/(J*J+ee*ee));N=Math.max(te,N)}B.r=N,N+=I}if(e.equidistant){for(var re=0,de=0,pe=0;pe<b.length;pe++){var fe=b[pe],ye=fe.r-de;re=Math.max(re,ye)}de=0;for(var Me=0;Me<b.length;Me++){var Ne=b[Me];Me===0&&(de=Ne.r),Ne.r=de,de+=re}}for(var ke={},je=0;je<b.length;je++)for(var xe=b[je],Se=xe.dTheta,Re=xe.r,Oe=0;Oe<xe.length;Oe++){var Pe=xe[Oe],Ue=e.startAngle+(t?1:-1)*Se*Oe,ot={x:s.x+Re*Math.cos(Ue),y:s.y+Re*Math.sin(Ue)};ke[Pe.node.id()]=ot}return i.nodes().layoutPositions(this,e,function($e){var rt=$e.id();return ke[rt]}),this};var f_,B4={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function eb(r){this.options=br({},B4,r),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=e.some(function(l){return l.data("id")===a}),u=e.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}eb.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?f_=!0:f_=!1;var n=U4(e,t,r);f_&&G4(n),r.randomize&&V4(n);var i=Oh(),a=function(){W4(n,e,r),r.fit===!0&&e.fit(r.padding)},o=function(h){return!(t.stopped||h>=r.numIter||(H4(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},s=function(){if(r.animate===!0||r.animate===!1)a(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var h=r.eles.nodes(),d=rR(n,r,h);h.layoutPositions(t,r,d)}},u=0,l=!0;if(r.animate===!0){var c=function f(){for(var h=0;l&&h<r.refresh;)l=o(u),u++,h++;if(!l)sT(n,r),s();else{var d=Oh();d-i>=r.animationThreshold&&a(),b0(f)}};c()}else{for(;l;)l=o(u),u++;sT(n,r),s()}return this};eb.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};eb.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var U4=function(e,t,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=Vs(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var f=u[c],h=0;h<f.length;h++){var d=f[h];l[d.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=a[c],y=v.layoutDimensions(n),w={};w.isLocked=v.locked(),w.id=v.data("id"),w.parentId=v.data("parent"),w.cmptId=l[v.id()],w.children=[],w.positionX=v.position("x"),w.positionY=v.position("y"),w.offsetX=0,w.offsetY=0,w.height=y.w,w.width=y.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(v.style("padding")),w.padRight=parseFloat(v.style("padding")),w.padTop=parseFloat(v.style("padding")),w.padBottom=parseFloat(v.style("padding")),w.nodeRepulsion=Vi(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=c}for(var b=[],g=0,_=-1,x=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],P=v.parentId;P!=null?s.layoutNodes[s.idToIndex[P]].children.push(v.id):(b[++_]=v.id,x.push(v.id))}for(s.graphSet.push(x);g<=_;){var I=b[g++],T=s.idToIndex[I],d=s.layoutNodes[T],A=d.children;if(A.length>0){s.graphSet.push(A);for(var c=0;c<A.length;c++)b[++_]=A[c]}}for(var c=0;c<s.graphSet.length;c++)for(var D=s.graphSet[c],h=0;h<D.length;h++){var N=s.idToIndex[D[h]];s.indexToGraph[N]=c}for(var c=0;c<s.edgeSize;c++){var j=i[c],B={};B.id=j.data("id"),B.sourceId=j.data("source"),B.targetId=j.data("target");var W=Vi(n.idealEdgeLength)?n.idealEdgeLength(j):n.idealEdgeLength,V=Vi(n.edgeElasticity)?n.edgeElasticity(j):n.edgeElasticity,J=s.idToIndex[B.sourceId],ee=s.idToIndex[B.targetId],te=s.indexToGraph[J],re=s.indexToGraph[ee];if(te!=re){for(var de=z4(B.sourceId,B.targetId,s),pe=s.graphSet[de],fe=0,w=s.layoutNodes[J];pe.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],fe++;for(w=s.layoutNodes[ee];pe.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],fe++;W*=fe*n.nestingFactor}B.idealLength=W,B.elasticity=V,s.layoutEdges.push(B)}return s},z4=function(e,t,n){var i=q4(e,t,0,n);return 2>i.count?0:i.graph},q4=function r(e,t,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(t))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var u=a[s],l=i.idToIndex[u],c=i.layoutNodes[l].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],h=r(e,t,f,i);if(h.count!==0)if(h.count===1){if(o++,o===2)break}else return h}}return{count:o,graph:n}},G4,V4=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},rR=function(e,t,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var u=e.layoutNodes[e.idToIndex[o.data("id")]];if(t.boundingBox){var l=(u.positionX-a.x1)/a.w,c=(u.positionY-a.y1)/a.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:u.positionX,y:u.positionY}}},W4=function(e,t,n){var i=n.layout,a=n.eles.nodes(),o=rR(e,n,a);a.positions(o),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},H4=function(e,t,n){Y4(e,t),K4(e),Z4(e,t),Q4(e),J4(e)},Y4=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],u=o+1;u<a;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];$4(s,l,e,t)}},aT=function(e){return-e+2*e*Math.random()},$4=function(e,t,n,i){var a=e.cmptId,o=t.cmptId;if(!(a!==o&&!n.isCompound)){var s=t.positionX-e.positionX,u=t.positionY-e.positionY,l=1;s===0&&u===0&&(s=aT(l),u=aT(l));var c=X4(e,t,s,u);if(c>0)var f=i.nodeOverlap*c,h=Math.sqrt(s*s+u*u),d=f*s/h,v=f*u/h;else var y=T0(e,s,u),w=T0(t,-1*s,-1*u),b=w.x-y.x,g=w.y-y.y,_=b*b+g*g,h=Math.sqrt(_),f=(e.nodeRepulsion+t.nodeRepulsion)/_,d=f*b/h,v=f*g/h;e.isLocked||(e.offsetX-=d,e.offsetY-=v),t.isLocked||(t.offsetX+=d,t.offsetY+=v)}},X4=function(e,t,n,i){if(n>0)var a=e.maxX-t.minX;else var a=t.maxX-e.minX;if(i>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},T0=function(e,t,n){var i=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,u=n/t,l=o/s,c={};return t===0&&0<n||t===0&&0>n?(c.x=i,c.y=a+o/2,c):0<t&&-1*l<=u&&u<=l?(c.x=i+s/2,c.y=a+s*n/2/t,c):0>t&&-1*l<=u&&u<=l?(c.x=i-s/2,c.y=a-s*n/2/t,c):0<n&&(u<=-1*l||u>=l)?(c.x=i+o*t/2/n,c.y=a+o/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=i-o*t/2/n,c.y=a-o/2),c)},K4=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-o.positionX,c=u.positionY-o.positionY;if(!(l===0&&c===0)){var f=T0(o,l,c),h=T0(u,-1*l,-1*c),d=h.x-f.x,v=h.y-f.y,y=Math.sqrt(d*d+v*v),w=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var b=w*d/y,g=w*v/y;else var b=0,g=0;o.isLocked||(o.offsetX+=b,o.offsetY+=g),u.isLocked||(u.offsetX-=b,u.offsetY-=g)}}},Z4=function(e,t){if(t.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],o=a.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],s=c.positionX,u=c.positionY;for(var f=0;f<o;f++){var h=e.layoutNodes[e.idToIndex[a[f]]];if(!h.isLocked){var d=s-h.positionX,v=u-h.positionY,y=Math.sqrt(d*d+v*v);if(y>n){var w=t.gravity*d/y,b=t.gravity*v/y;h.offsetX+=w,h.offsetY+=b}}}}},Q4=function(e,t){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var o=n[i++],s=e.idToIndex[o],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,f=u.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=f,n[++a]=l[h]}u.offsetX=0,u.offsetY=0}}},J4=function(e,t){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=eF(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,tF(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},eF=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var a={x:n*e/i,y:n*t/i};else var a={x:e,y:t};return a},tF=function r(e,t){var n=e.parentId;if(n!=null){var i=t.layoutNodes[t.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return r(i,t)}},sT=function(e,t){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,u=i[s]=i[s]||[];u.push(o)}for(var l=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(g,_){return _.w*_.h-g.w*g.h});for(var d=0,v=0,y=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=v-c.y1)}d+=c.w+t.componentSpacing,y+=c.w+t.componentSpacing,w=Math.max(w,c.h),y>b&&(v+=w+t.componentSpacing,d=0,y=0,w=0)}}},rF={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function nR(r){this.options=br({},rF,r)}nR.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=Vs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(Me){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),u=Math.round(s),l=Math.round(a.w/a.h*s),c=function(Ne){if(Ne==null)return Math.min(u,l);var ke=Math.min(u,l);ke==u?u=Ne:l=Ne},f=function(Ne){if(Ne==null)return Math.max(u,l);var ke=Math.max(u,l);ke==u?u=Ne:l=Ne},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)u=h,l=d;else if(h!=null&&d==null)u=h,l=Math.ceil(o/u);else if(h==null&&d!=null)l=d,u=Math.ceil(o/l);else if(l*u>o){var v=c(),y=f();(v-1)*y>=o?c(v-1):(y-1)*v>=o&&f(y-1)}else for(;l*u<o;){var w=c(),b=f();(b+1)*w>=o?f(b+1):c(w+1)}var g=a.w/l,_=a.h/u;if(e.condense&&(g=0,_=0),e.avoidOverlap)for(var x=0;x<i.length;x++){var P=i[x],I=P._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var T=P.layoutDimensions(e),A=e.avoidOverlapPadding,D=T.w+A,N=T.h+A;g=Math.max(g,D),_=Math.max(_,N)}for(var j={},B=function(Ne,ke){return!!j["c-"+Ne+"-"+ke]},W=function(Ne,ke){j["c-"+Ne+"-"+ke]=!0},V=0,J=0,ee=function(){J++,J>=l&&(J=0,V++)},te={},re=0;re<i.length;re++){var de=i[re],pe=e.position(de);if(pe&&(pe.row!==void 0||pe.col!==void 0)){var fe={row:pe.row,col:pe.col};if(fe.col===void 0)for(fe.col=0;B(fe.row,fe.col);)fe.col++;else if(fe.row===void 0)for(fe.row=0;B(fe.row,fe.col);)fe.row++;te[de.id()]=fe,W(fe.row,fe.col)}}var ye=function(Ne,ke){var je,xe;if(Ne.locked()||Ne.isParent())return!1;var Se=te[Ne.id()];if(Se)je=Se.col*g+g/2+a.x1,xe=Se.row*_+_/2+a.y1;else{for(;B(V,J);)ee();je=J*g+g/2+a.x1,xe=V*_+_/2+a.y1,W(V,J),ee()}return{x:je,y:xe}};i.layoutPositions(this,e,ye)}return this};var nF={ready:function(){},stop:function(){}};function sx(r){this.options=br({},nF,r)}sx.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this};sx.prototype.stop=function(){return this};var iF={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function iR(r){this.options=br({},iF,r)}iR.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=Vi(r.positions);function i(a){if(r.positions==null)return uN(a.position());if(n)return r.positions(a);var o=r.positions[a._private.data.id];return o??null}return t.layoutPositions(this,r,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var oF={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function oR(r){this.options=br({},oF,r)}oR.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=Vs(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,i),this};var aF=[{name:"breadthfirst",impl:JI},{name:"circle",impl:eR},{name:"concentric",impl:tR},{name:"cose",impl:eb},{name:"grid",impl:nR},{name:"null",impl:sx},{name:"preset",impl:iR},{name:"random",impl:oR}];function aR(r){this.options=r,this.notifications=0}var uT=function(){},lT=function(){throw new Error("A headless instance can not render images")};aR.prototype={recalculateRenderedStyle:uT,notify:function(){this.notifications++},init:uT,isHeadless:function(){return!0},png:lT,jpg:lT};var ux={};ux.arrowShapeWidth=.3;ux.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(l,c,f,h,d,v,y){var w=d.x-f/2-y,b=d.x+f/2+y,g=d.y-f/2-y,_=d.y+f/2+y,x=w<=l&&l<=b&&g<=c&&c<=_;return x},n=function(l,c,f,h,d){var v=l*Math.cos(h)-c*Math.sin(h),y=l*Math.sin(h)+c*Math.cos(h),w=v*f,b=y*f,g=w+d.x,_=b+d.y;return{x:g,y:_}},i=function(l,c,f,h){for(var d=[],v=0;v<l.length;v+=2){var y=l[v],w=l[v+1];d.push(n(y,w,c,f,h))}return d},a=function(l){for(var c=[],f=0;f<l.length;f++){var h=l[f];c.push(h.x,h.y)}return c},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,c){hr(c)&&(c=r[c]),r[l]=br({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,v,y,w,b){var g=a(i(this.points,v+2*b,y,w)),_=qs(h,d,g);return _},roughCollide:t,draw:function(h,d,v,y){var w=i(this.points,d,v,y);e.arrowShapeImpl("polygon")(h,w)},spacing:function(h){return 0},gap:o},c)};s("none",{collide:_0,roughCollide:_0,draw:YO,spacing:bS,gap:bS}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=this.controlPoint,w=n(y[0],y[1],c,f,h);e.arrowShapeImpl(this.name)(l,v,w)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,h,d,v,y){var w=a(i(this.points,f+2*y,h,d)),b=a(i(this.pointsTee,f+2*y,h,d)),g=qs(l,c,w)||qs(l,c,b);return g},draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=i(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(l,v,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,h,d,v,y){var w=d,b=Math.pow(w.x-l,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*y)*this.radius,2),g=a(i(this.points,f+2*y,h,d));return qs(l,c,g)||b},draw:function(l,c,f,h,d){var v=i(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(l,v,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),h=c/l,d=3,v=5;return f[d]=f[d]-h,f[v]=f[v]-h,f},collide:function(l,c,f,h,d,v,y){var w=a(i(this.points,f+2*y,h,d)),b=a(i(this.crossLinePts(f,v),f+2*y,h,d)),g=qs(l,c,w)||qs(l,c,b);return g},draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=i(this.crossLinePts(c,d),c,f,h);e.arrowShapeImpl(this.name)(l,v,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,c,f,h,d,v,y){var w=d,b=Math.pow(w.x-l,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return b},draw:function(l,c,f,h,d){e.arrowShapeImpl(this.name)(l,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var cp={};cp.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=t.pan(),u=t.zoom(),l=((r-i)/o-s.x)/u,c=((e-a)/o-s.y)/u;return[l,c]};cp.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(b){return parseFloat(t.getPropertyValue(b))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=r.clientWidth,s=r.clientHeight,u=i.left+i.right,l=i.top+i.bottom,c=a.left+a.right,f=e.width/(o+c),h=o-u,d=s-l,v=e.left+i.left+a.left,y=e.top+i.top+a.top;return this.containerBB=[v,y,h,d,f]};cp.invalidateContainerClientCoordsCache=function(){this.containerBB=null};cp.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]};cp.findNearestElements=function(r,e,t,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],u=a.cy.zoom(),l=a.cy.hasCompoundNodes(),c=(n?24:8)/u,f=(n?8:2)/u,h=(n?8:2)/u,d=1/0,v,y;t&&(o=o.interactive);function w(T,A){if(T.isNode()){if(y)return;y=T,s.push(T)}if(T.isEdge()&&(A==null||A<d))if(v){if(v.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value){for(var D=0;D<s.length;D++)if(s[D].isEdge()){s[D]=T,v=T,d=A??d;break}}}else s.push(T),v=T,d=A??d}function b(T){var A=T.outerWidth()+2*f,D=T.outerHeight()+2*f,N=A/2,j=D/2,B=T.position(),W=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,V=T._private.rscratch;if(B.x-N<=r&&r<=B.x+N&&B.y-j<=e&&e<=B.y+j){var J=a.nodeShapes[i.getNodeShape(T)];if(J.checkPoint(r,e,0,A,D,B.x,B.y,W,V))return w(T,0),!0}}function g(T){var A=T._private,D=A.rscratch,N=T.pstyle("width").pfValue,j=T.pstyle("arrow-scale").value,B=N/2+c,W=B*B,V=B*2,re=A.source,de=A.target,J;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var ee=D.allpts,te=0;te+3<ee.length;te+=2)if(wN(r,e,ee[te],ee[te+1],ee[te+2],ee[te+3],V)&&W>(J=TN(r,e,ee[te],ee[te+1],ee[te+2],ee[te+3])))return w(T,J),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var ee=D.allpts,te=0;te+5<D.allpts.length;te+=4)if(EN(r,e,ee[te],ee[te+1],ee[te+2],ee[te+3],ee[te+4],ee[te+5],V)&&W>(J=SN(r,e,ee[te],ee[te+1],ee[te+2],ee[te+3],ee[te+4],ee[te+5])))return w(T,J),!0}for(var re=re||A.source,de=de||A.target,pe=i.getArrowWidth(N,j),fe=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],te=0;te<fe.length;te++){var ye=fe[te],Me=a.arrowShapes[T.pstyle(ye.name+"-arrow-shape").value],Ne=T.pstyle("width").pfValue;if(Me.roughCollide(r,e,pe,ye.angle,{x:ye.x,y:ye.y},Ne,c)&&Me.collide(r,e,pe,ye.angle,{x:ye.x,y:ye.y},Ne,c))return w(T),!0}l&&s.length>0&&(b(re),b(de))}function _(T,A,D){return lc(T,A,D)}function x(T,A){var D=T._private,N=h,j;A?j=A+"-":j="",T.boundingBox();var B=D.labelBounds[A||"main"],W=T.pstyle(j+"label").value,V=T.pstyle("text-events").strValue==="yes";if(!(!V||!W)){var J=_(D.rscratch,"labelX",A),ee=_(D.rscratch,"labelY",A),te=_(D.rscratch,"labelAngle",A),re=T.pstyle(j+"text-margin-x").pfValue,de=T.pstyle(j+"text-margin-y").pfValue,pe=B.x1-N-re,fe=B.x2+N-re,ye=B.y1-N-de,Me=B.y2+N-de;if(te){var Ne=Math.cos(te),ke=Math.sin(te),je=function(ot,$e){return ot=ot-J,$e=$e-ee,{x:ot*Ne-$e*ke+J,y:ot*ke+$e*Ne+ee}},xe=je(pe,ye),Se=je(pe,Me),Re=je(fe,ye),Oe=je(fe,Me),Pe=[xe.x+re,xe.y+de,Re.x+re,Re.y+de,Oe.x+re,Oe.y+de,Se.x+re,Se.y+de];if(qs(r,e,Pe))return w(T),!0}else if(Ag(B,r,e))return w(T),!0}}for(var P=o.length-1;P>=0;P--){var I=o[P];I.isNode()?b(I)||x(I):g(I)||x(I)||x(I,"source")||x(I,"target")}return s};cp.getAllInBox=function(r,e,t,n){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(r,t),s=Math.max(r,t),u=Math.min(e,n),l=Math.max(e,n);r=o,t=s,e=u,n=l;for(var c=Vs({x1:r,y1:e,x2:t,y2:n}),f=0;f<i.length;f++){var h=i[f];if(h.isNode()){var d=h,v=d.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});KO(c,v)&&!pI(v,c)&&a.push(d)}else{var y=h,w=y._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Ag(c,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Ag(c,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var g=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,_=!0,x=0;x<g.length;x++)if(!_N(c,g[x])){_=!1;break}_&&a.push(y)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&a.push(y)}}return a};var C0={};C0.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",u,l,c,f,h,d,b,g;if(t?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),b=e.midX,g=e.midY,a)u=c-e.segpts[0],l=f-e.segpts[1];else if(i||o||s||n){var v=e.allpts,y=na(v[0],v[2],v[4],.1),w=na(v[1],v[3],v[5],.1);u=c-y,l=f-w}else u=c-b,l=f-g;e.srcArrowAngle=Um(u,l);var b=e.midX,g=e.midY;if(t&&(b=(c+h)/2,g=(f+d)/2),u=h-c,l=d-f,a){var v=e.allpts;if(v.length/2%2===0){var _=v.length/2,x=_-2;u=v[_]-v[x],l=v[_+1]-v[x+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var _=v.length/2-1,x=_-2;u=v[_]-v[x],l=v[_+1]-v[x+1]}}else if(i||o||s){var v=e.allpts,P=e.ctrlpts,I,T,A,D;if(P.length/2%2===0){var N=v.length/2-1,j=N+2,B=j+2;I=na(v[N],v[j],v[B],0),T=na(v[N+1],v[j+1],v[B+1],0),A=na(v[N],v[j],v[B],1e-4),D=na(v[N+1],v[j+1],v[B+1],1e-4)}else{var j=v.length/2-1,N=j-2,B=j+2;I=na(v[N],v[j],v[B],.4999),T=na(v[N+1],v[j+1],v[B+1],.4999),A=na(v[N],v[j],v[B],.5),D=na(v[N+1],v[j+1],v[B+1],.5)}u=A-I,l=D-T}if(e.midtgtArrowAngle=Um(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,a){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var _=v.length/2-1,W=_+2;u=-(v[W]-v[_]),l=-(v[W+1]-v[_+1])}}}if(e.midsrcArrowAngle=Um(u,l),a)u=h-e.segpts[e.segpts.length-2],l=d-e.segpts[e.segpts.length-1];else if(i||o||s||n){var v=e.allpts,V=v.length,y=na(v[V-6],v[V-4],v[V-2],.9),w=na(v[V-5],v[V-3],v[V-1],.9);u=h-y,l=d-w}else u=h-b,l=d-g;e.tgtArrowAngle=Um(u,l)};C0.getArrowWidth=C0.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var mO,bO,af={},al={},cT,fT,$v,d0,ph,Gv,Yv,nf,cg,Xm,sR,uR,_O,wO,hT,dT=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},sF=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},uF=function(e,t,n,i,a){if(e!==hT?dT(t,e,af):sF(al,af),dT(t,n,al),cT=af.nx*al.ny-af.ny*al.nx,fT=af.nx*al.nx-af.ny*-al.ny,ph=Math.asin(Math.max(-1,Math.min(1,cT))),Math.abs(ph)<1e-6){mO=t.x,bO=t.y,Yv=cg=0;return}$v=1,d0=!1,fT<0?ph<0?ph=Math.PI+ph:(ph=Math.PI-ph,$v=-1,d0=!0):ph>0&&($v=-1,d0=!0),t.radius!==void 0?cg=t.radius:cg=i,Gv=ph/2,Xm=Math.min(af.len/2,al.len/2),a?(nf=Math.abs(Math.cos(Gv)*cg/Math.sin(Gv)),nf>Xm?(nf=Xm,Yv=Math.abs(nf*Math.sin(Gv)/Math.cos(Gv))):Yv=cg):(nf=Math.min(Xm,cg),Yv=Math.abs(nf*Math.sin(Gv)/Math.cos(Gv))),_O=t.x+al.nx*nf,wO=t.y+al.ny*nf,mO=_O-al.ny*Yv*$v,bO=wO+al.nx*Yv*$v,sR=t.x+af.nx*nf,uR=t.y+af.ny*nf,hT=t};function lR(r,e){e.radius===0?r.lineTo(e.cx,e.cy):r.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function lx(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(uF(r,e,t,n,i),{cx:mO,cy:bO,radius:Yv,startX:sR,startY:uR,stopX:_O,stopY:wO,startAngle:af.ang+Math.PI/2*$v,endAngle:al.ang-Math.PI/2*$v,counterClockwise:d0})}var Xa={};Xa.findMidptPtsEtc=function(r,e){var t=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,o=r.pstyle("source-endpoint"),s=r.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(P,I,T,A){var D=A-I,N=T-P,j=Math.sqrt(N*N+D*D);return{x:-D/j,y:N/j}},c=r.pstyle("edge-distances").value;switch(c){case"node-position":a=t;break;case"intersection":a=n;break;case"endpoints":{if(u){var f=this.manualEndptToPx(r.source()[0],o),h=ac(f,2),d=h[0],v=h[1],y=this.manualEndptToPx(r.target()[0],s),w=ac(y,2),b=w[0],g=w[1],_={x1:d,y1:v,x2:b,y2:g};i=l(d,v,b,g),a=_}else Bn("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};Xa.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),c=o.width(),f=s.width(),h=o.height(),d=s.height(),v=t.pstyle("haystack-radius").value,y=v/2;i.haystackPts=i.allpts=[i.source.x*c*y+u.x,i.source.y*h*y+u.y,i.target.x*f*y+l.x,i.target.y*d*y+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Xa.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=r.pstyle("segment-weights"),i=r.pstyle("segment-distances"),a=r.pstyle("segment-radii"),o=r.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),u=a.pfValue[a.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var c=0;c<s;c++){var f=n.pfValue[c],h=i.pfValue[c],d=1-f,v=f,y=this.findMidptPtsEtc(r,e),w=y.midptPts,b=y.vectorNormInverse,g={x:w.x1*d+w.x2*v,y:w.y1*d+w.y2*v};t.segpts.push(g.x+b.x*h,g.y+b.y*h),t.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:u),t.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:l)==="arc-radius")}};Xa.findLoopPoints=function(r,e,t,n){var i=r._private.rscratch,a=e.dirCounts,o=e.srcPos,s=r.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=r.pstyle("loop-direction").pfValue,c=r.pstyle("loop-sweep").pfValue,f=r.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=t,d=f;n&&(h=0,d=u);var v=l-Math.PI/2,y=v-c/2,w=v+c/2,b=l+"_"+c;h=a[b]===void 0?a[b]=0:++a[b],i.ctrlpts=[o.x+Math.cos(y)*1.4*d*(h/3+1),o.y+Math.sin(y)*1.4*d*(h/3+1),o.x+Math.cos(w)*1.4*d*(h/3+1),o.y+Math.sin(w)*1.4*d*(h/3+1)]};Xa.findCompoundLoopPoints=function(r,e,t,n){var i=r._private.rscratch;i.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,f=r.pstyle("control-point-step-size").pfValue,h=r.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,v=t,y=f;n&&(v=0,y=d);var w=50,b={x:a.x-s/2,y:a.y-u/2},g={x:o.x-l/2,y:o.y-c/2},_={x:Math.min(b.x,g.x),y:Math.min(b.y,g.y)},x=.5,P=Math.max(x,Math.log(s*.01)),I=Math.max(x,Math.log(l*.01));i.ctrlpts=[_.x,_.y-(1+Math.pow(w,1.12)/100)*y*(v/3+1)*P,_.x-(1+Math.pow(w,1.12)/100)*y*(v/3+1)*I,_.y]};Xa.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};Xa.findBezierPoints=function(r,e,t,n,i){var a=r._private.rscratch,o=r.pstyle("control-point-step-size").pfValue,s=r.pstyle("control-point-distances"),u=r.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,c=s?s.pfValue[0]:void 0,f=u.value[0],h=n;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<l;d++){var v=(.5-e.eles.length/2+t)*o*(i?-1:1),y=void 0,w=dI(v);h&&(c=s?s.pfValue[d]:o,f=u.value[d]),n?y=c:y=c!==void 0?w*c:void 0;var b=y!==void 0?y:v,g=1-f,_=f,x=this.findMidptPtsEtc(r,e),P=x.midptPts,I=x.vectorNormInverse,T={x:P.x1*g+P.x2*_,y:P.y1*g+P.y2*_};a.ctrlpts.push(T.x+I.x*b,T.y+I.y*b)}};Xa.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",u="upward",l="auto",c=e.posPts,f=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,y=r.pstyle("edge-distances").value,w=y!=="node-position",b=r.pstyle("taxi-direction").value,g=b,_=r.pstyle("taxi-turn"),x=_.units==="%",P=_.pfValue,I=P<0,T=r.pstyle("taxi-turn-min-distance").pfValue,A=w?(f+d)/2:0,D=w?(h+v)/2:0,N=c.x2-c.x1,j=c.y2-c.y1,B=function(Ft,Yt){return Ft>0?Math.max(Ft-Yt,0):Math.min(Ft+Yt,0)},W=B(N,A),V=B(j,D),J=!1;g===l?b=Math.abs(W)>Math.abs(V)?i:n:g===u||g===s?(b=n,J=!0):(g===a||g===o)&&(b=i,J=!0);var ee=b===n,te=ee?V:W,re=ee?j:N,de=dI(re),pe=!1;!(J&&(x||I))&&(g===s&&re<0||g===u&&re>0||g===a&&re>0||g===o&&re<0)&&(de*=-1,te=de*Math.abs(te),pe=!0);var fe;if(x){var ye=P<0?1+P:P;fe=ye*te}else{var Me=P<0?te:0;fe=Me+P*de}var Ne=function(Ft){return Math.abs(Ft)<T||Math.abs(Ft)>=Math.abs(te)},ke=Ne(fe),je=Ne(Math.abs(te)-Math.abs(fe)),xe=ke||je;if(xe&&!pe)if(ee){var Se=Math.abs(re)<=h/2,Re=Math.abs(N)<=d/2;if(Se){var Oe=(c.x1+c.x2)/2,Pe=c.y1,Ue=c.y2;t.segpts=[Oe,Pe,Oe,Ue]}else if(Re){var ot=(c.y1+c.y2)/2,$e=c.x1,rt=c.x2;t.segpts=[$e,ot,rt,ot]}else t.segpts=[c.x1,c.y2]}else{var ht=Math.abs(re)<=f/2,Ze=Math.abs(j)<=v/2;if(ht){var H=(c.y1+c.y2)/2,K=c.x1,ne=c.x2;t.segpts=[K,H,ne,H]}else if(Ze){var Ce=(c.x1+c.x2)/2,Ae=c.y1,ze=c.y2;t.segpts=[Ce,Ae,Ce,ze]}else t.segpts=[c.x2,c.y1]}else if(ee){var Le=c.y1+fe+(w?h/2*de:0),le=c.x1,Ve=c.x2;t.segpts=[le,Le,Ve,Le]}else{var ut=c.x1+fe+(w?f/2*de:0),et=c.y1,nt=c.y2;t.segpts=[ut,et,ut,nt]}if(t.isRound){var Pt=r.pstyle("taxi-radius").value,dt=r.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(Pt),t.isArcRadius=new Array(t.segpts.length/2).fill(dt)}};Xa.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,h=e.tgtCornerRadius,d=e.srcRs,v=e.tgtRs,y=!Gt(t.startX)||!Gt(t.startY),w=!Gt(t.arrowStartX)||!Gt(t.arrowStartY),b=!Gt(t.endX)||!Gt(t.endY),g=!Gt(t.arrowEndX)||!Gt(t.arrowEndY),_=3,x=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,P=_*x,I=rp({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),T=I<P,A=rp({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),D=A<P,N=!1;if(y||w||T){N=!0;var j={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},B=Math.sqrt(j.x*j.x+j.y*j.y),W={x:j.x/B,y:j.y/B},V=Math.max(a,o),J={x:t.ctrlpts[0]+W.x*2*V,y:t.ctrlpts[1]+W.y*2*V},ee=l.intersectLine(n.x,n.y,a,o,J.x,J.y,0,f,d);T?(t.ctrlpts[0]=t.ctrlpts[0]+W.x*(P-I),t.ctrlpts[1]=t.ctrlpts[1]+W.y*(P-I)):(t.ctrlpts[0]=ee[0]+W.x*P,t.ctrlpts[1]=ee[1]+W.y*P)}if(b||g||D){N=!0;var te={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},re=Math.sqrt(te.x*te.x+te.y*te.y),de={x:te.x/re,y:te.y/re},pe=Math.max(a,o),fe={x:t.ctrlpts[0]+de.x*2*pe,y:t.ctrlpts[1]+de.y*2*pe},ye=c.intersectLine(i.x,i.y,s,u,fe.x,fe.y,0,h,v);D?(t.ctrlpts[0]=t.ctrlpts[0]+de.x*(P-A),t.ctrlpts[1]=t.ctrlpts[1]+de.y*(P-A)):(t.ctrlpts[0]=ye[0]+de.x*P,t.ctrlpts[1]=ye[1]+de.y*P)}N&&this.findEndpoints(r)}};Xa.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=na(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=na(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],s=e.isArcRadius[a/2-1];e.roundCorners.push(lx({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},h=e.roundCorners[c/2],d=[f.x-h.cx,f.y-h.cy],v=h.radius/Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2));d=d.map(function(y){return y*v}),e.midX=h.cx+d[0],e.midY=h.cy+d[1],e.midVector=d}}}};Xa.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||Gt(e.startX)&&Gt(e.startY)&&Gt(e.endX)&&Gt(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Bn("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Xa.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,i=n.hasCompoundNodes(),a={map:new uf,get:function(T){var A=this.map.get(T[0]);return A!=null?A.get(T[1]):null},set:function(T,A){var D=this.map.get(T[0]);D==null&&(D=new uf,this.map.set(T[0],D)),D.set(T[1],A)}},o=[],s=[],u=0;u<r.length;u++){var l=r[u],c=l._private,f=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(f==="haystack"){s.push(l);continue}var h=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),d=f==="unbundled-bezier"||f==="bezier",v=c.source,y=c.target,w=v.poolIndex(),b=y.poolIndex(),g=[w,b].sort(),_=a.get(g);_==null&&(_={eles:[]},a.set(g,_),o.push(g)),_.eles.push(l),h&&(_.hasUnbundled=!0),d&&(_.hasBezier=!0)}}for(var x=function(T){var A=o[T],D=a.get(A),N=void 0;if(!D.hasUnbundled){var j=D.eles[0].parallelEdges().filter(function(ut){return ut.isBundledBezier()});$O(D.eles),j.forEach(function(ut){return D.eles.push(ut)}),D.eles.sort(function(ut,et){return ut.poolIndex()-et.poolIndex()})}var B=D.eles[0],W=B.source(),V=B.target();if(W.poolIndex()>V.poolIndex()){var J=W;W=V,V=J}var ee=D.srcPos=W.position(),te=D.tgtPos=V.position(),re=D.srcW=W.outerWidth(),de=D.srcH=W.outerHeight(),pe=D.tgtW=V.outerWidth(),fe=D.tgtH=V.outerHeight(),ye=D.srcShape=t.nodeShapes[e.getNodeShape(W)],Me=D.tgtShape=t.nodeShapes[e.getNodeShape(V)],Ne=D.srcCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,ke=D.tgtCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,je=D.tgtRs=V._private.rscratch,xe=D.srcRs=W._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Se=0;Se<D.eles.length;Se++){var Re=D.eles[Se],Oe=Re[0]._private.rscratch,Pe=Re.pstyle("curve-style").value,Ue=Pe==="unbundled-bezier"||Pe.endsWith("segments")||Pe.endsWith("taxi"),ot=!W.same(Re.source());if(!D.calculatedIntersection&&W!==V&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var $e=ye.intersectLine(ee.x,ee.y,re,de,te.x,te.y,0,Ne,xe),rt=D.srcIntn=$e,ht=Me.intersectLine(te.x,te.y,pe,fe,ee.x,ee.y,0,ke,je),Ze=D.tgtIntn=ht,H=D.intersectionPts={x1:$e[0],x2:ht[0],y1:$e[1],y2:ht[1]},K=D.posPts={x1:ee.x,x2:te.x,y1:ee.y,y2:te.y},ne=ht[1]-$e[1],Ce=ht[0]-$e[0],Ae=Math.sqrt(Ce*Ce+ne*ne),ze=D.vector={x:Ce,y:ne},Le=D.vectorNorm={x:ze.x/Ae,y:ze.y/Ae},le={x:-Le.y,y:Le.x};D.nodesOverlap=!Gt(Ae)||Me.checkPoint($e[0],$e[1],0,pe,fe,te.x,te.y,ke,je)||ye.checkPoint(ht[0],ht[1],0,re,de,ee.x,ee.y,Ne,xe),D.vectorNormInverse=le,N={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:te,tgtPos:ee,srcW:pe,srcH:fe,tgtW:re,tgtH:de,srcIntn:Ze,tgtIntn:rt,srcShape:Me,tgtShape:ye,posPts:{x1:K.x2,y1:K.y2,x2:K.x1,y2:K.y1},intersectionPts:{x1:H.x2,y1:H.y2,x2:H.x1,y2:H.y1},vector:{x:-ze.x,y:-ze.y},vectorNorm:{x:-Le.x,y:-Le.y},vectorNormInverse:{x:-le.x,y:-le.y}}}var Ve=ot?N:D;Oe.nodesOverlap=Ve.nodesOverlap,Oe.srcIntn=Ve.srcIntn,Oe.tgtIntn=Ve.tgtIntn,Oe.isRound=Pe.startsWith("round"),i&&(W.isParent()||W.isChild()||V.isParent()||V.isChild())&&(W.parents().anySame(V)||V.parents().anySame(W)||W.same(V)&&W.isParent())?e.findCompoundLoopPoints(Re,Ve,Se,Ue):W===V?e.findLoopPoints(Re,Ve,Se,Ue):Pe.endsWith("segments")?e.findSegmentsPoints(Re,Ve):Pe.endsWith("taxi")?e.findTaxiPoints(Re,Ve):Pe==="straight"||!Ue&&D.eles.length%2===1&&Se===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(Re):e.findBezierPoints(Re,Ve,Se,Ue,ot),e.findEndpoints(Re),e.tryToCorrectInvalidPoints(Re,Ve),e.checkForInvalidEdgeWarning(Re),e.storeAllpts(Re),e.storeEdgeProjections(Re),e.calculateArrowAngles(Re),e.recalculateEdgeLabelProjections(Re),e.calculateLabelAngles(Re)}},P=0;P<o.length;P++)x(P);this.findHaystackPoints(s)}};function cR(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],i=r[t+1];e.push({x:n,y:i})}return e}}Xa.getSegmentPoints=function(r){var e=r[0]._private.rscratch,t=e.edgeType;if(t==="segments")return this.recalculateRenderedStyle(r),cR(e.segpts)};Xa.getControlPoints=function(r){var e=r[0]._private.rscratch,t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return this.recalculateRenderedStyle(r),cR(e.ctrlpts)};Xa.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var lm={};lm.manualEndptToPx=function(r,e){var t=this,n=r.position(),i=r.outerWidth(),a=r.outerHeight(),o=r._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*i),e.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=n.x,s[1]+=n.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(i,a),c=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,o)}};lm.findEndpoints=function(r){var e=this,t,n=r.source()[0],i=r.target()[0],a=n.position(),o=i.position(),s=r.pstyle("target-arrow-shape").value,u=r.pstyle("source-arrow-shape").value,l=r.pstyle("target-distance-from-node").pfValue,c=r.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,h=i._private.rscratch,d=r.pstyle("curve-style").value,v=r._private.rscratch,y=v.edgeType,w=d==="taxi",b=y==="self"||y==="compound",g=y==="bezier"||y==="multibezier"||b,_=y!=="bezier",x=y==="straight"||y==="segments",P=y==="segments",I=g||_||x,T=b||w,A=r.pstyle("source-endpoint"),D=T?"outside-to-node":A.value,N=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,j=r.pstyle("target-endpoint"),B=T?"outside-to-node":j.value,W=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;v.srcManEndpt=A,v.tgtManEndpt=j;var V,J,ee,te;if(g){var re=[v.ctrlpts[0],v.ctrlpts[1]],de=_?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:re;V=de,J=re}else if(x){var pe=P?v.segpts.slice(0,2):[o.x,o.y],fe=P?v.segpts.slice(v.segpts.length-2):[a.x,a.y];V=fe,J=pe}if(B==="inside-to-node")t=[o.x,o.y];else if(j.units)t=this.manualEndptToPx(i,j);else if(B==="outside-to-line")t=v.tgtIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?ee=V:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(ee=[a.x,a.y]),t=e.nodeShapes[this.getNodeShape(i)].intersectLine(o.x,o.y,i.outerWidth(),i.outerHeight(),ee[0],ee[1],0,W,h),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var ye=i._private.rscratch,Me=ye.labelWidth,Ne=ye.labelHeight,ke=ye.labelX,je=ye.labelY,xe=Me/2,Se=Ne/2,Re=i.pstyle("text-valign").value;Re==="top"?je-=Se:Re==="bottom"&&(je+=Se);var Oe=i.pstyle("text-halign").value;Oe==="left"?ke-=xe:Oe==="right"&&(ke+=xe);var Pe=Xy(ee[0],ee[1],[ke-xe,je-Se,ke+xe,je-Se,ke+xe,je+Se,ke-xe,je+Se],o.x,o.y);if(Pe.length>0){var Ue=a,ot=Wv(Ue,yg(t)),$e=Wv(Ue,yg(Pe)),rt=ot;if($e<ot&&(t=Pe,rt=$e),Pe.length>2){var ht=Wv(Ue,{x:Pe[2],y:Pe[3]});ht<rt&&(t=[Pe[2],Pe[3]])}}}var Ze=zm(t,V,e.arrowShapes[s].spacing(r)+l),H=zm(t,V,e.arrowShapes[s].gap(r)+l);if(v.endX=H[0],v.endY=H[1],v.arrowEndX=Ze[0],v.arrowEndY=Ze[1],D==="inside-to-node")t=[a.x,a.y];else if(A.units)t=this.manualEndptToPx(n,A);else if(D==="outside-to-line")t=v.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?te=J:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(te=[o.x,o.y]),t=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),te[0],te[1],0,N,f),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var K=n._private.rscratch,ne=K.labelWidth,Ce=K.labelHeight,Ae=K.labelX,ze=K.labelY,Le=ne/2,le=Ce/2,Ve=n.pstyle("text-valign").value;Ve==="top"?ze-=le:Ve==="bottom"&&(ze+=le);var ut=n.pstyle("text-halign").value;ut==="left"?Ae-=Le:ut==="right"&&(Ae+=Le);var et=Xy(te[0],te[1],[Ae-Le,ze-le,Ae+Le,ze-le,Ae+Le,ze+le,Ae-Le,ze+le],a.x,a.y);if(et.length>0){var nt=o,Pt=Wv(nt,yg(t)),dt=Wv(nt,yg(et)),Ct=Pt;if(dt<Pt&&(t=[et[0],et[1]],Ct=dt),et.length>2){var Ft=Wv(nt,{x:et[2],y:et[3]});Ft<Ct&&(t=[et[2],et[3]])}}}var Yt=zm(t,J,e.arrowShapes[u].spacing(r)+c),Vt=zm(t,J,e.arrowShapes[u].gap(r)+c);v.startX=Vt[0],v.startY=Vt[1],v.arrowStartX=Yt[0],v.arrowStartY=Yt[1],I&&(!Gt(v.startX)||!Gt(v.startY)||!Gt(v.endX)||!Gt(v.endY)?v.badLine=!0:v.badLine=!1)};lm.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};lm.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var cx={};function lF(r,e,t){for(var n=function(l,c,f,h){return na(l,c,f,h)},i=e._private,a=i.rstyle.bezierPts,o=0;o<r.bezierProjPcts.length;o++){var s=r.bezierProjPcts[o];a.push({x:n(t[0],t[2],t[4],s),y:n(t[1],t[3],t[5],s)})}}cx.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)lF(this,r,t.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)a.push({x:t.allpts[i],y:t.allpts[i+1]});else if(n==="haystack"){var o=t.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};cx.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var df={};df.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!Nd(e)){var t,n,i=r._private,a=r.width(),o=r.height(),s=r.padding(),u=r.position(),l=r.pstyle("text-halign").strValue,c=r.pstyle("text-valign").strValue,f=i.rscratch,h=i.rstyle;switch(l){case"left":t=u.x-a/2-s;break;case"right":t=u.x+a/2+s;break;default:t=u.x}switch(c){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}f.labelX=t,f.labelY=n,h.labelX=t,h.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var fR=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},hR=function(e,t){var n=t.x-e.x,i=t.y-e.y;return fR(n,i)},cF=function(e,t,n,i){var a=$y(0,i-.001,1),o=$y(0,i+.001,1),s=wg(e,t,n,a),u=wg(e,t,n,o);return hR(s,u)};df.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,i=this,a={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var o=function(f,h,d){Ad(t.rscratch,f,h,d),Ad(t.rstyle,f,h,d)};o("labelX",null,e.x),o("labelY",null,e.y);var s=fR(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function c(){if(c.cache)return c.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},v={x:n.allpts[h+2],y:n.allpts[h+3]},y={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:d,p1:v,p2:y,startDist:0,length:0,segments:[]})}var w=t.rstyle.bezierPts,b=i.bezierProjPcts.length;function g(T,A,D,N,j){var B=rp(A,D),W=T.segments[T.segments.length-1],V={p0:A,p1:D,t0:N,t1:j,startDist:W?W.startDist+W.length:0,length:B};T.segments.push(V),T.length+=B}for(var _=0;_<f.length;_++){var x=f[_],P=f[_-1];P&&(x.startDist=P.startDist+P.length),g(x,x.p0,w[_*b],0,i.bezierProjPcts[0]);for(var I=0;I<b-1;I++)g(x,w[_*b+I],w[_*b+I+1],i.bezierProjPcts[I],i.bezierProjPcts[I+1]);g(x,w[_*b+b-1],x.p2,i.bezierProjPcts[b-1],1)}return c.cache=f},l=function(f){var h,d=f==="source";if(a[f]){var v=r.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=u(),w,b=0,g=0,_=0;_<y.length;_++){for(var x=y[d?_:y.length-1-_],P=0;P<x.segments.length;P++){var I=x.segments[d?P:x.segments.length-1-P],T=_===y.length-1&&P===x.segments.length-1;if(b=g,g+=I.length,g>=v||T){w={cp:x,segment:I};break}}if(w)break}var A=w.cp,D=w.segment,N=(v-b)/D.length,j=D.t1-D.t0,B=d?D.t0+j*N:D.t1-j*N;B=$y(0,B,1),e=wg(A.p0,A.p1,A.p2,B),h=cF(A.p0,A.p1,A.p2,B);break}case"straight":case"segments":case"haystack":{for(var W=0,V,J,ee,te,re=n.allpts.length,de=0;de+3<re&&(d?(ee={x:n.allpts[de],y:n.allpts[de+1]},te={x:n.allpts[de+2],y:n.allpts[de+3]}):(ee={x:n.allpts[re-2-de],y:n.allpts[re-1-de]},te={x:n.allpts[re-4-de],y:n.allpts[re-3-de]}),V=rp(ee,te),J=W,W+=V,!(W>=v));de+=2);var pe=v-J,fe=pe/V;fe=$y(0,fe,1),e=pN(ee,te,fe),h=hR(ee,te);break}}o("labelX",f,e.x),o("labelY",f,e.y),o("labelAutoAngle",f,h)}};l("source"),l("target"),this.applyLabelDimensions(r)}};df.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};df.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),i=this.calculateLabelDimensions(r,n),a=r.pstyle("line-height").pfValue,o=r.pstyle("text-wrap").strValue,s=lc(t.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(s.length,1),l=i.height/u,c=l*a,f=i.width,h=i.height+(u-1)*(a-1)*l;Ad(t.rstyle,"labelWidth",e,f),Ad(t.rscratch,"labelWidth",e,f),Ad(t.rstyle,"labelHeight",e,h),Ad(t.rscratch,"labelHeight",e,h),Ad(t.rscratch,"labelLineHeight",e,c)};df.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",i=r.pstyle(n+"label").strValue,a=r.pstyle("text-transform").value,o=function(pe,fe){return fe?(Ad(t.rscratch,pe,e,fe),fe):lc(t.rscratch,pe,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=r.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="​",c=i.split(`
`),f=r.pstyle("text-max-width").pfValue,h=r.pstyle("text-overflow-wrap").value,d=h==="anywhere",v=[],y=/[\s\u200b]+/,w=d?"":" ",b=0;b<c.length;b++){var g=c[b],_=this.calculateLabelDimensions(r,g),x=_.width;if(d){var P=g.split("").join(l);g=P}if(x>f){for(var I=g.split(y),T="",A=0;A<I.length;A++){var D=I[A],N=T.length===0?D:T+w+D,j=this.calculateLabelDimensions(r,N),B=j.width;B<=f?T+=D+w:(T&&v.push(T),T=D+w)}T.match(/^[\s\u200b]+$/)||v.push(T)}else v.push(g)}o("labelWrapCachedLines",v),i=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var W=r.pstyle("text-max-width").pfValue,V="",J="…",ee=!1;if(this.calculateLabelDimensions(r,i).width<W)return i;for(var te=0;te<i.length;te++){var re=this.calculateLabelDimensions(r,V+i[te]+J).width;if(re>W)break;V+=i[te],te===i.length-1&&(ee=!0)}return ee||(V+=J),V}return i};df.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};df.calculateLabelDimensions=function(r,e){var t=this,n=tp(e,r._private.labelDimsKey),i=t.labelDimCache||(t.labelDimCache=[]),a=i[n];if(a!=null)return a;var o=0,s=r.pstyle("font-style").strValue,u=r.pstyle("font-size").pfValue,l=r.pstyle("font-family").strValue,c=r.pstyle("font-weight").strValue,f=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=document.createElement("canvas"),h=this.labelCalcCanvasContext=f.getContext("2d");var d=f.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}h.font="".concat(s," ").concat(c," ").concat(u,"px ").concat(l);for(var v=0,y=0,w=e.split(`
`),b=0;b<w.length;b++){var g=w[b],_=h.measureText(g),x=Math.ceil(_.width),P=u;v=Math.max(x,v),y+=P}return v+=o,y+=o,i[n]={width:v,height:y}};df.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,i=r.isEdge(),a=e?e+"-":"",o=r.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};df.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(r),t&&(i.sourceLabelAngle=e.calculateLabelAngle(r,"source"),i.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var dR={},vT=28,pT=!1;dR.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<vT||r.height()<vT))return pT||(Bn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),pT=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var tb={};tb.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=t.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(s)for(var f=0;f<s.length;f++){var h=s[f];h(o,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};tb.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)};tb.recalculateRenderedStyle=function(r,e){var t=function(x){return x._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<r.length;a++){var o=r[a],s=o._private,u=s.rstyle;o.isEdge()&&(!t(o.source())||!t(o.target()))&&(u.clean=!1),!(e&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),u.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],w=y._private,b=w.rstyle,g=w.rscratch;b.srcX=g.arrowStartX,b.srcY=g.arrowStartY,b.tgtX=g.arrowEndX,b.tgtY=g.arrowEndY,b.midX=g.midX,b.midY=g.midY,b.labelAngle=g.labelAngle,b.sourceLabelAngle=g.sourceLabelAngle,b.targetLabelAngle=g.targetLabelAngle}}};var rb={};rb.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}};rb.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};rb.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(KI),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var vR={};[cp,C0,Xa,lm,cx,df,dR,tb,rb].forEach(function(r){br(vR,r)});var pR={};pR.getCachedImage=function(r,e,t){var n=this,i=n.imageCache=n.imageCache||{},a=i[r];if(a)return a.image.complete||a.image.addEventListener("load",t),a.image;a=i[r]=i[r]||{};var o=a.image=new Image;o.addEventListener("load",t),o.addEventListener("error",function(){o.error=!0});var s="data:",u=r.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,o.crossOrigin=e),o.src=r,o};var zg={};zg.registerBinding=function(r,e,t,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(r);return a.on.apply(a,i)};zg.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||LD(r);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var o=function(u,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:f}),(r.addEventListener||r.on).apply(r,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};zg.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};zg.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};zg.load=function(){var r=this,e=r.cy.window(),t=function(le){return le.selected()},n=function(le,Ve,ut,et){le==null&&(le=r.cy);for(var nt=0;nt<Ve.length;nt++){var Pt=Ve[nt];le.emit({originalEvent:ut,type:Pt,position:et})}},i=function(le){return le.shiftKey||le.metaKey||le.ctrlKey},a=function(le,Ve){var ut=!0;if(r.cy.hasCompoundNodes()&&le&&le.pannable())for(var et=0;Ve&&et<Ve.length;et++){var le=Ve[et];if(le.isNode()&&le.isParent()&&!le.pannable()){ut=!1;break}}else ut=!0;return ut},o=function(le){le[0]._private.grabbed=!0},s=function(le){le[0]._private.grabbed=!1},u=function(le){le[0]._private.rscratch.inDragLayer=!0},l=function(le){le[0]._private.rscratch.inDragLayer=!1},c=function(le){le[0]._private.rscratch.isGrabTarget=!0},f=function(le){le[0]._private.rscratch.isGrabTarget=!1},h=function(le,Ve){var ut=Ve.addToList,et=ut.has(le);!et&&le.grabbable()&&!le.locked()&&(ut.merge(le),o(le))},d=function(le,Ve){if(le.cy().hasCompoundNodes()&&!(Ve.inDragLayer==null&&Ve.addToList==null)){var ut=le.descendants();Ve.inDragLayer&&(ut.forEach(u),ut.connectedEdges().forEach(u)),Ve.addToList&&h(ut,Ve)}},v=function(le,Ve){Ve=Ve||{};var ut=le.cy().hasCompoundNodes();Ve.inDragLayer&&(le.forEach(u),le.neighborhood().stdFilter(function(et){return!ut||et.isEdge()}).forEach(u)),Ve.addToList&&le.forEach(function(et){h(et,Ve)}),d(le,Ve),b(le,{inDragLayer:Ve.inDragLayer}),r.updateCachedGrabbedEles()},y=v,w=function(le){le&&(r.getCachedZSortedEles().forEach(function(Ve){s(Ve),l(Ve),f(Ve)}),r.updateCachedGrabbedEles())},b=function(le,Ve){if(!(Ve.inDragLayer==null&&Ve.addToList==null)&&le.cy().hasCompoundNodes()){var ut=le.ancestors().orphans();if(!ut.same(le)){var et=ut.descendants().spawnSelf().merge(ut).unmerge(le).unmerge(le.descendants()),nt=et.connectedEdges();Ve.inDragLayer&&(nt.forEach(u),et.forEach(u)),Ve.addToList&&et.forEach(function(Pt){h(Pt,Ve)})}}},g=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",x=typeof ResizeObserver<"u";_?(r.removeObserver=new MutationObserver(function(Le){for(var le=0;le<Le.length;le++){var Ve=Le[le],ut=Ve.removedNodes;if(ut)for(var et=0;et<ut.length;et++){var nt=ut[et];if(nt===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(Le){r.destroy()});var P=z0(function(){r.cy.resize()},100);_&&(r.styleObserver=new MutationObserver(P),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",P),x&&(r.resizeObserver=new ResizeObserver(P),r.resizeObserver.observe(r.container));var I=function(le,Ve){for(;le!=null;)Ve(le),le=le.parentNode},T=function(){r.invalidateContainerClientCoordsCache()};I(r.container,function(Le){r.registerBinding(Le,"transitionend",T),r.registerBinding(Le,"animationend",T),r.registerBinding(Le,"scroll",T)}),r.registerBinding(r.container,"contextmenu",function(Le){Le.preventDefault()});var A=function(){return r.selection[4]!==0},D=function(le){for(var Ve=r.findContainerClientCoords(),ut=Ve[0],et=Ve[1],nt=Ve[2],Pt=Ve[3],dt=le.touches?le.touches:[le],Ct=!1,Ft=0;Ft<dt.length;Ft++){var Yt=dt[Ft];if(ut<=Yt.clientX&&Yt.clientX<=ut+nt&&et<=Yt.clientY&&Yt.clientY<=et+Pt){Ct=!0;break}}if(!Ct)return!1;for(var Vt=r.container,sr=le.target,Bt=sr.parentNode,Zt=!1;Bt;){if(Bt===Vt){Zt=!0;break}Bt=Bt.parentNode}return!!Zt};r.registerBinding(r.container,"mousedown",function(le){if(D(le)){le.preventDefault(),g(),r.hoverData.capture=!0,r.hoverData.which=le.which;var Ve=r.cy,ut=[le.clientX,le.clientY],et=r.projectIntoViewport(ut[0],ut[1]),nt=r.selection,Pt=r.findNearestElements(et[0],et[1],!0,!1),dt=Pt[0],Ct=r.dragData.possibleDragElements;r.hoverData.mdownPos=et,r.hoverData.mdownGPos=ut;var Ft=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var Yr=r.hoverData.down;Yr?Yr.emit({originalEvent:le,type:"taphold",position:{x:et[0],y:et[1]}}):Ve.emit({originalEvent:le,type:"taphold",position:{x:et[0],y:et[1]}})}},r.tapholdDuration)};if(le.which==3){r.hoverData.cxtStarted=!0;var Yt={originalEvent:le,type:"cxttapstart",position:{x:et[0],y:et[1]}};dt?(dt.activate(),dt.emit(Yt),r.hoverData.down=dt):Ve.emit(Yt),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(le.which==1){dt&&dt.activate();{if(dt!=null&&r.nodeIsGrabbable(dt)){var Vt=function(Yr){return{originalEvent:le,type:Yr,position:{x:et[0],y:et[1]}}},sr=function(Yr){Yr.emit(Vt("grab"))};if(c(dt),!dt.selected())Ct=r.dragData.possibleDragElements=Ve.collection(),y(dt,{addToList:Ct}),dt.emit(Vt("grabon")).emit(Vt("grab"));else{Ct=r.dragData.possibleDragElements=Ve.collection();var Bt=Ve.$(function(Zt){return Zt.isNode()&&Zt.selected()&&r.nodeIsGrabbable(Zt)});v(Bt,{addToList:Ct}),dt.emit(Vt("grabon")),Bt.forEach(sr)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=dt,r.hoverData.downs=Pt,r.hoverData.downTime=new Date().getTime()}n(dt,["mousedown","tapstart","vmousedown"],le,{x:et[0],y:et[1]}),dt==null?(nt[4]=1,r.data.bgActivePosistion={x:et[0],y:et[1]},r.redrawHint("select",!0),r.redraw()):dt.pannable()&&(nt[4]=1),Ft()}nt[0]=nt[2]=et[0],nt[1]=nt[3]=et[1]}},!1),r.registerBinding(e,"mousemove",function(le){var Ve=r.hoverData.capture;if(!(!Ve&&!D(le))){var ut=!1,et=r.cy,nt=et.zoom(),Pt=[le.clientX,le.clientY],dt=r.projectIntoViewport(Pt[0],Pt[1]),Ct=r.hoverData.mdownPos,Ft=r.hoverData.mdownGPos,Yt=r.selection,Vt=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(Vt=r.findNearestElement(dt[0],dt[1],!0,!1));var sr=r.hoverData.last,Bt=r.hoverData.down,Zt=[dt[0]-Yt[2],dt[1]-Yt[3]],Yr=r.dragData.possibleDragElements,Gr;if(Ft){var Kn=Pt[0]-Ft[0],Rn=Kn*Kn,kn=Pt[1]-Ft[1],un=kn*kn,fn=Rn+un;r.hoverData.isOverThresholdDrag=Gr=fn>=r.desktopTapThreshold2}var Un=i(le);Gr&&(r.hoverData.tapholdCancelled=!0);var Pi=function(){var _n=r.hoverData.dragDelta=r.hoverData.dragDelta||[];_n.length===0?(_n.push(Zt[0]),_n.push(Zt[1])):(_n[0]+=Zt[0],_n[1]+=Zt[1])};ut=!0,n(Vt,["mousemove","vmousemove","tapdrag"],le,{x:dt[0],y:dt[1]});var pi=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||et.emit({originalEvent:le,type:"boxstart",position:{x:dt[0],y:dt[1]}}),Yt[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(Gr){var li={originalEvent:le,type:"cxtdrag",position:{x:dt[0],y:dt[1]}};Bt?Bt.emit(li):et.emit(li),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||Vt!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit({originalEvent:le,type:"cxtdragout",position:{x:dt[0],y:dt[1]}}),r.hoverData.cxtOver=Vt,Vt&&Vt.emit({originalEvent:le,type:"cxtdragover",position:{x:dt[0],y:dt[1]}}))}}else if(r.hoverData.dragging){if(ut=!0,et.panningEnabled()&&et.userPanningEnabled()){var to;if(r.hoverData.justStartedPan){var Wi=r.hoverData.mdownPos;to={x:(dt[0]-Wi[0])*nt,y:(dt[1]-Wi[1])*nt},r.hoverData.justStartedPan=!1}else to={x:Zt[0]*nt,y:Zt[1]*nt};et.panBy(to),et.emit("dragpan"),r.hoverData.dragged=!0}dt=r.projectIntoViewport(le.clientX,le.clientY)}else if(Yt[4]==1&&(Bt==null||Bt.pannable())){if(Gr){if(!r.hoverData.dragging&&et.boxSelectionEnabled()&&(Un||!et.panningEnabled()||!et.userPanningEnabled()))pi();else if(!r.hoverData.selecting&&et.panningEnabled()&&et.userPanningEnabled()){var Hi=a(Bt,r.hoverData.downs);Hi&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,Yt[4]=0,r.data.bgActivePosistion=yg(Ct),r.redrawHint("select",!0),r.redraw())}Bt&&Bt.pannable()&&Bt.active()&&Bt.unactivate()}}else{if(Bt&&Bt.pannable()&&Bt.active()&&Bt.unactivate(),(!Bt||!Bt.grabbed())&&Vt!=sr&&(sr&&n(sr,["mouseout","tapdragout"],le,{x:dt[0],y:dt[1]}),Vt&&n(Vt,["mouseover","tapdragover"],le,{x:dt[0],y:dt[1]}),r.hoverData.last=Vt),Bt)if(Gr){if(et.boxSelectionEnabled()&&Un)Bt&&Bt.grabbed()&&(w(Yr),Bt.emit("freeon"),Yr.emit("free"),r.dragData.didDrag&&(Bt.emit("dragfreeon"),Yr.emit("dragfree"))),pi();else if(Bt&&Bt.grabbed()&&r.nodeIsDraggable(Bt)){var hn=!r.dragData.didDrag;hn&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||v(Yr,{inDragLayer:!0});var zn={x:0,y:0};if(Gt(Zt[0])&&Gt(Zt[1])&&(zn.x+=Zt[0],zn.y+=Zt[1],hn)){var qn=r.hoverData.dragDelta;qn&&Gt(qn[0])&&Gt(qn[1])&&(zn.x+=qn[0],zn.y+=qn[1])}r.hoverData.draggingEles=!0,Yr.silentShift(zn).emit("position drag"),r.redrawHint("drag",!0),r.redraw()}}else Pi();ut=!0}if(Yt[2]=dt[0],Yt[3]=dt[1],ut)return le.stopPropagation&&le.stopPropagation(),le.preventDefault&&le.preventDefault(),!1}},!1);var N,j,B;r.registerBinding(e,"mouseup",function(le){var Ve=r.hoverData.capture;if(Ve){r.hoverData.capture=!1;var ut=r.cy,et=r.projectIntoViewport(le.clientX,le.clientY),nt=r.selection,Pt=r.findNearestElement(et[0],et[1],!0,!1),dt=r.dragData.possibleDragElements,Ct=r.hoverData.down,Ft=i(le);if(r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,Ct&&Ct.unactivate(),r.hoverData.which===3){var Yt={originalEvent:le,type:"cxttapend",position:{x:et[0],y:et[1]}};if(Ct?Ct.emit(Yt):ut.emit(Yt),!r.hoverData.cxtDragged){var Vt={originalEvent:le,type:"cxttap",position:{x:et[0],y:et[1]}};Ct?Ct.emit(Vt):ut.emit(Vt)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(n(Pt,["mouseup","tapend","vmouseup"],le,{x:et[0],y:et[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(n(Ct,["click","tap","vclick"],le,{x:et[0],y:et[1]}),j=!1,le.timeStamp-B<=ut.multiClickDebounceTime()?(N&&clearTimeout(N),j=!0,B=null,n(Ct,["dblclick","dbltap","vdblclick"],le,{x:et[0],y:et[1]})):(N=setTimeout(function(){j||n(Ct,["oneclick","onetap","voneclick"],le,{x:et[0],y:et[1]})},ut.multiClickDebounceTime()),B=le.timeStamp)),Ct==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!i(le)&&(ut.$(t).unselect(["tapunselect"]),dt.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=dt=ut.collection()),Pt==Ct&&!r.dragData.didDrag&&!r.hoverData.selecting&&Pt!=null&&Pt._private.selectable&&(r.hoverData.dragging||(ut.selectionType()==="additive"||Ft?Pt.selected()?Pt.unselect(["tapunselect"]):Pt.select(["tapselect"]):Ft||(ut.$(t).unmerge(Pt).unselect(["tapunselect"]),Pt.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var sr=ut.collection(r.getAllInBox(nt[0],nt[1],nt[2],nt[3]));r.redrawHint("select",!0),sr.length>0&&r.redrawHint("eles",!0),ut.emit({type:"boxend",originalEvent:le,position:{x:et[0],y:et[1]}});var Bt=function(Gr){return Gr.selectable()&&!Gr.selected()};ut.selectionType()==="additive"||Ft||ut.$(t).unmerge(sr).unselect(),sr.emit("box").stdFilter(Bt).select().emit("boxselect"),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!nt[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var Zt=Ct&&Ct.grabbed();w(dt),Zt&&(Ct.emit("freeon"),dt.emit("free"),r.dragData.didDrag&&(Ct.emit("dragfreeon"),dt.emit("dragfree")))}}nt[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null}},!1);var W=function(le){if(!r.scrollingPage){var Ve=r.cy,ut=Ve.zoom(),et=Ve.pan(),nt=r.projectIntoViewport(le.clientX,le.clientY),Pt=[nt[0]*ut+et.x,nt[1]*ut+et.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||A()){le.preventDefault();return}if(Ve.panningEnabled()&&Ve.userPanningEnabled()&&Ve.zoomingEnabled()&&Ve.userZoomingEnabled()){le.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var dt;le.deltaY!=null?dt=le.deltaY/-250:le.wheelDeltaY!=null?dt=le.wheelDeltaY/1e3:dt=le.wheelDelta/1e3,dt=dt*r.wheelSensitivity;var Ct=le.deltaMode===1;Ct&&(dt*=33);var Ft=Ve.zoom()*Math.pow(10,dt);le.type==="gesturechange"&&(Ft=r.gestureStartZoom*le.scale),Ve.zoom({level:Ft,renderedPosition:{x:Pt[0],y:Pt[1]}}),Ve.emit(le.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};r.registerBinding(r.container,"wheel",W,!0),r.registerBinding(e,"scroll",function(le){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(le){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||le.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(Le){r.hasTouchStarted||W(Le)},!0),r.registerBinding(r.container,"mouseout",function(le){var Ve=r.projectIntoViewport(le.clientX,le.clientY);r.cy.emit({originalEvent:le,type:"mouseout",position:{x:Ve[0],y:Ve[1]}})},!1),r.registerBinding(r.container,"mouseover",function(le){var Ve=r.projectIntoViewport(le.clientX,le.clientY);r.cy.emit({originalEvent:le,type:"mouseover",position:{x:Ve[0],y:Ve[1]}})},!1);var V,J,ee,te,re,de,pe,fe,ye,Me,Ne,ke,je,xe=function(le,Ve,ut,et){return Math.sqrt((ut-le)*(ut-le)+(et-Ve)*(et-Ve))},Se=function(le,Ve,ut,et){return(ut-le)*(ut-le)+(et-Ve)*(et-Ve)},Re;r.registerBinding(r.container,"touchstart",Re=function(le){if(r.hasTouchStarted=!0,!!D(le)){g(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var Ve=r.cy,ut=r.touchData.now,et=r.touchData.earlier;if(le.touches[0]){var nt=r.projectIntoViewport(le.touches[0].clientX,le.touches[0].clientY);ut[0]=nt[0],ut[1]=nt[1]}if(le.touches[1]){var nt=r.projectIntoViewport(le.touches[1].clientX,le.touches[1].clientY);ut[2]=nt[0],ut[3]=nt[1]}if(le.touches[2]){var nt=r.projectIntoViewport(le.touches[2].clientX,le.touches[2].clientY);ut[4]=nt[0],ut[5]=nt[1]}if(le.touches[1]){r.touchData.singleTouchMoved=!0,w(r.dragData.touchDragEles);var Pt=r.findContainerClientCoords();ye=Pt[0],Me=Pt[1],Ne=Pt[2],ke=Pt[3],V=le.touches[0].clientX-ye,J=le.touches[0].clientY-Me,ee=le.touches[1].clientX-ye,te=le.touches[1].clientY-Me,je=0<=V&&V<=Ne&&0<=ee&&ee<=Ne&&0<=J&&J<=ke&&0<=te&&te<=ke;var dt=Ve.pan(),Ct=Ve.zoom();re=xe(V,J,ee,te),de=Se(V,J,ee,te),pe=[(V+ee)/2,(J+te)/2],fe=[(pe[0]-dt.x)/Ct,(pe[1]-dt.y)/Ct];var Ft=200,Yt=Ft*Ft;if(de<Yt&&!le.touches[2]){var Vt=r.findNearestElement(ut[0],ut[1],!0,!0),sr=r.findNearestElement(ut[2],ut[3],!0,!0);Vt&&Vt.isNode()?(Vt.activate().emit({originalEvent:le,type:"cxttapstart",position:{x:ut[0],y:ut[1]}}),r.touchData.start=Vt):sr&&sr.isNode()?(sr.activate().emit({originalEvent:le,type:"cxttapstart",position:{x:ut[0],y:ut[1]}}),r.touchData.start=sr):Ve.emit({originalEvent:le,type:"cxttapstart",position:{x:ut[0],y:ut[1]}}),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(le.touches[2])Ve.boxSelectionEnabled()&&le.preventDefault();else if(!le.touches[1]){if(le.touches[0]){var Bt=r.findNearestElements(ut[0],ut[1],!0,!0),Zt=Bt[0];if(Zt!=null&&(Zt.activate(),r.touchData.start=Zt,r.touchData.starts=Bt,r.nodeIsGrabbable(Zt))){var Yr=r.dragData.touchDragEles=Ve.collection(),Gr=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),Zt.selected()?(Gr=Ve.$(function(fn){return fn.selected()&&r.nodeIsGrabbable(fn)}),v(Gr,{addToList:Yr})):y(Zt,{addToList:Yr}),c(Zt);var Kn=function(Un){return{originalEvent:le,type:Un,position:{x:ut[0],y:ut[1]}}};Zt.emit(Kn("grabon")),Gr?Gr.forEach(function(fn){fn.emit(Kn("grab"))}):Zt.emit(Kn("grab"))}n(Zt,["touchstart","tapstart","vmousedown"],le,{x:ut[0],y:ut[1]}),Zt==null&&(r.data.bgActivePosistion={x:nt[0],y:nt[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&n(r.touchData.start,["taphold"],le,{x:ut[0],y:ut[1]})},r.tapholdDuration)}}if(le.touches.length>=1){for(var Rn=r.touchData.startPosition=[null,null,null,null,null,null],kn=0;kn<ut.length;kn++)Rn[kn]=et[kn]=ut[kn];var un=le.touches[0];r.touchData.startGPosition=[un.clientX,un.clientY]}}},!1);var Oe;r.registerBinding(window,"touchmove",Oe=function(le){var Ve=r.touchData.capture;if(!(!Ve&&!D(le))){var ut=r.selection,et=r.cy,nt=r.touchData.now,Pt=r.touchData.earlier,dt=et.zoom();if(le.touches[0]){var Ct=r.projectIntoViewport(le.touches[0].clientX,le.touches[0].clientY);nt[0]=Ct[0],nt[1]=Ct[1]}if(le.touches[1]){var Ct=r.projectIntoViewport(le.touches[1].clientX,le.touches[1].clientY);nt[2]=Ct[0],nt[3]=Ct[1]}if(le.touches[2]){var Ct=r.projectIntoViewport(le.touches[2].clientX,le.touches[2].clientY);nt[4]=Ct[0],nt[5]=Ct[1]}var Ft=r.touchData.startGPosition,Yt;if(Ve&&le.touches[0]&&Ft){for(var Vt=[],sr=0;sr<nt.length;sr++)Vt[sr]=nt[sr]-Pt[sr];var Bt=le.touches[0].clientX-Ft[0],Zt=Bt*Bt,Yr=le.touches[0].clientY-Ft[1],Gr=Yr*Yr,Kn=Zt+Gr;Yt=Kn>=r.touchTapThreshold2}if(Ve&&r.touchData.cxt){le.preventDefault();var Rn=le.touches[0].clientX-ye,kn=le.touches[0].clientY-Me,un=le.touches[1].clientX-ye,fn=le.touches[1].clientY-Me,Un=Se(Rn,kn,un,fn),Pi=Un/de,pi=150,li=pi*pi,to=1.5,Wi=to*to;if(Pi>=Wi||Un>=li){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Hi={originalEvent:le,type:"cxttapend",position:{x:nt[0],y:nt[1]}};r.touchData.start?(r.touchData.start.unactivate().emit(Hi),r.touchData.start=null):et.emit(Hi)}}if(Ve&&r.touchData.cxt){var Hi={originalEvent:le,type:"cxtdrag",position:{x:nt[0],y:nt[1]}};r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(Hi):et.emit(Hi),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var hn=r.findNearestElement(nt[0],nt[1],!0,!0);(!r.touchData.cxtOver||hn!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit({originalEvent:le,type:"cxtdragout",position:{x:nt[0],y:nt[1]}}),r.touchData.cxtOver=hn,hn&&hn.emit({originalEvent:le,type:"cxtdragover",position:{x:nt[0],y:nt[1]}}))}else if(Ve&&le.touches[2]&&et.boxSelectionEnabled())le.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||et.emit({originalEvent:le,type:"boxstart",position:{x:nt[0],y:nt[1]}}),r.touchData.selecting=!0,r.touchData.didSelect=!0,ut[4]=1,!ut||ut.length===0||ut[0]===void 0?(ut[0]=(nt[0]+nt[2]+nt[4])/3,ut[1]=(nt[1]+nt[3]+nt[5])/3,ut[2]=(nt[0]+nt[2]+nt[4])/3+1,ut[3]=(nt[1]+nt[3]+nt[5])/3+1):(ut[2]=(nt[0]+nt[2]+nt[4])/3,ut[3]=(nt[1]+nt[3]+nt[5])/3),r.redrawHint("select",!0),r.redraw();else if(Ve&&le.touches[1]&&!r.touchData.didSelect&&et.zoomingEnabled()&&et.panningEnabled()&&et.userZoomingEnabled()&&et.userPanningEnabled()){le.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var zn=r.dragData.touchDragEles;if(zn){r.redrawHint("drag",!0);for(var qn=0;qn<zn.length;qn++){var jr=zn[qn]._private;jr.grabbed=!1,jr.rscratch.inDragLayer=!1}}var _n=r.touchData.start,Rn=le.touches[0].clientX-ye,kn=le.touches[0].clientY-Me,un=le.touches[1].clientX-ye,fn=le.touches[1].clientY-Me,wo=xe(Rn,kn,un,fn),Aa=wo/re;if(je){var Uo=Rn-V,$s=kn-J,co=un-ee,Ia=fn-te,Xs=(Uo+co)/2,aa=($s+Ia)/2,Ka=et.zoom(),zo=Ka*Aa,Oi=et.pan(),Ra=fe[0]*Ka+Oi.x,qo=fe[1]*Ka+Oi.y,Mn={x:-zo/Ka*(Ra-Oi.x-Xs)+Ra,y:-zo/Ka*(qo-Oi.y-aa)+qo};if(_n&&_n.active()){var zn=r.dragData.touchDragEles;w(zn),r.redrawHint("drag",!0),r.redrawHint("eles",!0),_n.unactivate().emit("freeon"),zn.emit("free"),r.dragData.didDrag&&(_n.emit("dragfreeon"),zn.emit("dragfree"))}et.viewport({zoom:zo,pan:Mn,cancelOnFailedZoom:!0}),et.emit("pinchzoom"),re=wo,V=Rn,J=kn,ee=un,te=fn,r.pinching=!0}if(le.touches[0]){var Ct=r.projectIntoViewport(le.touches[0].clientX,le.touches[0].clientY);nt[0]=Ct[0],nt[1]=Ct[1]}if(le.touches[1]){var Ct=r.projectIntoViewport(le.touches[1].clientX,le.touches[1].clientY);nt[2]=Ct[0],nt[3]=Ct[1]}if(le.touches[2]){var Ct=r.projectIntoViewport(le.touches[2].clientX,le.touches[2].clientY);nt[4]=Ct[0],nt[5]=Ct[1]}}else if(le.touches[0]&&!r.touchData.didSelect){var Jr=r.touchData.start,ur=r.touchData.last,hn;if(!r.hoverData.draggingEles&&!r.swipePanning&&(hn=r.findNearestElement(nt[0],nt[1],!0,!0)),Ve&&Jr!=null&&le.preventDefault(),Ve&&Jr!=null&&r.nodeIsDraggable(Jr))if(Yt){var zn=r.dragData.touchDragEles,Ks=!r.dragData.didDrag;Ks&&v(zn,{inDragLayer:!0}),r.dragData.didDrag=!0;var Yi={x:0,y:0};if(Gt(Vt[0])&&Gt(Vt[1])&&(Yi.x+=Vt[0],Yi.y+=Vt[1],Ks)){r.redrawHint("eles",!0);var xr=r.touchData.dragDelta;xr&&Gt(xr[0])&&Gt(xr[1])&&(Yi.x+=xr[0],Yi.y+=xr[1])}r.hoverData.draggingEles=!0,zn.silentShift(Yi).emit("position drag"),r.redrawHint("drag",!0),r.touchData.startPosition[0]==Pt[0]&&r.touchData.startPosition[1]==Pt[1]&&r.redrawHint("eles",!0),r.redraw()}else{var xr=r.touchData.dragDelta=r.touchData.dragDelta||[];xr.length===0?(xr.push(Vt[0]),xr.push(Vt[1])):(xr[0]+=Vt[0],xr[1]+=Vt[1])}if(n(Jr||hn,["touchmove","tapdrag","vmousemove"],le,{x:nt[0],y:nt[1]}),(!Jr||!Jr.grabbed())&&hn!=ur&&(ur&&ur.emit({originalEvent:le,type:"tapdragout",position:{x:nt[0],y:nt[1]}}),hn&&hn.emit({originalEvent:le,type:"tapdragover",position:{x:nt[0],y:nt[1]}})),r.touchData.last=hn,Ve)for(var qn=0;qn<nt.length;qn++)nt[qn]&&r.touchData.startPosition[qn]&&Yt&&(r.touchData.singleTouchMoved=!0);if(Ve&&(Jr==null||Jr.pannable())&&et.panningEnabled()&&et.userPanningEnabled()){var $r=a(Jr,r.touchData.starts);$r&&(le.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=yg(r.touchData.startPosition)),r.swipePanning?(et.panBy({x:Vt[0]*dt,y:Vt[1]*dt}),et.emit("dragpan")):Yt&&(r.swipePanning=!0,et.panBy({x:Bt*dt,y:Yr*dt}),et.emit("dragpan"),Jr&&(Jr.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var Ct=r.projectIntoViewport(le.touches[0].clientX,le.touches[0].clientY);nt[0]=Ct[0],nt[1]=Ct[1]}}for(var sr=0;sr<nt.length;sr++)Pt[sr]=nt[sr];Ve&&le.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Pe;r.registerBinding(e,"touchcancel",Pe=function(le){var Ve=r.touchData.start;r.touchData.capture=!1,Ve&&Ve.unactivate()});var Ue,ot,$e,rt;if(r.registerBinding(e,"touchend",Ue=function(le){var Ve=r.touchData.start,ut=r.touchData.capture;if(ut)le.touches.length===0&&(r.touchData.capture=!1),le.preventDefault();else return;var et=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var nt=r.cy,Pt=nt.zoom(),dt=r.touchData.now,Ct=r.touchData.earlier;if(le.touches[0]){var Ft=r.projectIntoViewport(le.touches[0].clientX,le.touches[0].clientY);dt[0]=Ft[0],dt[1]=Ft[1]}if(le.touches[1]){var Ft=r.projectIntoViewport(le.touches[1].clientX,le.touches[1].clientY);dt[2]=Ft[0],dt[3]=Ft[1]}if(le.touches[2]){var Ft=r.projectIntoViewport(le.touches[2].clientX,le.touches[2].clientY);dt[4]=Ft[0],dt[5]=Ft[1]}Ve&&Ve.unactivate();var Yt;if(r.touchData.cxt){if(Yt={originalEvent:le,type:"cxttapend",position:{x:dt[0],y:dt[1]}},Ve?Ve.emit(Yt):nt.emit(Yt),!r.touchData.cxtDragged){var Vt={originalEvent:le,type:"cxttap",position:{x:dt[0],y:dt[1]}};Ve?Ve.emit(Vt):nt.emit(Vt)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!le.touches[2]&&nt.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var sr=nt.collection(r.getAllInBox(et[0],et[1],et[2],et[3]));et[0]=void 0,et[1]=void 0,et[2]=void 0,et[3]=void 0,et[4]=0,r.redrawHint("select",!0),nt.emit({type:"boxend",originalEvent:le,position:{x:dt[0],y:dt[1]}});var Bt=function(li){return li.selectable()&&!li.selected()};sr.emit("box").stdFilter(Bt).select().emit("boxselect"),sr.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(Ve!=null&&Ve.unactivate(),le.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!le.touches[1]){if(!le.touches[0]){if(!le.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Zt=r.dragData.touchDragEles;if(Ve!=null){var Yr=Ve._private.grabbed;w(Zt),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Yr&&(Ve.emit("freeon"),Zt.emit("free"),r.dragData.didDrag&&(Ve.emit("dragfreeon"),Zt.emit("dragfree"))),n(Ve,["touchend","tapend","vmouseup","tapdragout"],le,{x:dt[0],y:dt[1]}),Ve.unactivate(),r.touchData.start=null}else{var Gr=r.findNearestElement(dt[0],dt[1],!0,!0);n(Gr,["touchend","tapend","vmouseup","tapdragout"],le,{x:dt[0],y:dt[1]})}var Kn=r.touchData.startPosition[0]-dt[0],Rn=Kn*Kn,kn=r.touchData.startPosition[1]-dt[1],un=kn*kn,fn=Rn+un,Un=fn*Pt*Pt;r.touchData.singleTouchMoved||(Ve||nt.$(":selected").unselect(["tapunselect"]),n(Ve,["tap","vclick"],le,{x:dt[0],y:dt[1]}),ot=!1,le.timeStamp-rt<=nt.multiClickDebounceTime()?($e&&clearTimeout($e),ot=!0,rt=null,n(Ve,["dbltap","vdblclick"],le,{x:dt[0],y:dt[1]})):($e=setTimeout(function(){ot||n(Ve,["onetap","voneclick"],le,{x:dt[0],y:dt[1]})},nt.multiClickDebounceTime()),rt=le.timeStamp)),Ve!=null&&!r.dragData.didDrag&&Ve._private.selectable&&Un<r.touchTapThreshold2&&!r.pinching&&(nt.selectionType()==="single"?(nt.$(t).unmerge(Ve).unselect(["tapunselect"]),Ve.select(["tapselect"])):Ve.selected()?Ve.unselect(["tapunselect"]):Ve.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var Pi=0;Pi<dt.length;Pi++)Ct[Pi]=dt[Pi];r.dragData.didDrag=!1,le.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),le.touches.length<2&&(le.touches.length===1&&(r.touchData.startGPosition=[le.touches[0].clientX,le.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var ht=[],Ze=function(le){return{clientX:le.clientX,clientY:le.clientY,force:1,identifier:le.pointerId,pageX:le.pageX,pageY:le.pageY,radiusX:le.width/2,radiusY:le.height/2,screenX:le.screenX,screenY:le.screenY,target:le.target}},H=function(le){return{event:le,touch:Ze(le)}},K=function(le){ht.push(H(le))},ne=function(le){for(var Ve=0;Ve<ht.length;Ve++){var ut=ht[Ve];if(ut.event.pointerId===le.pointerId){ht.splice(Ve,1);return}}},Ce=function(le){var Ve=ht.filter(function(ut){return ut.event.pointerId===le.pointerId})[0];Ve.event=le,Ve.touch=Ze(le)},Ae=function(le){le.touches=ht.map(function(Ve){return Ve.touch})},ze=function(le){return le.pointerType==="mouse"||le.pointerType===4};r.registerBinding(r.container,"pointerdown",function(Le){ze(Le)||(Le.preventDefault(),K(Le),Ae(Le),Re(Le))}),r.registerBinding(r.container,"pointerup",function(Le){ze(Le)||(ne(Le),Ae(Le),Ue(Le))}),r.registerBinding(r.container,"pointercancel",function(Le){ze(Le)||(ne(Le),Ae(Le),Pe(Le))}),r.registerBinding(r.container,"pointermove",function(Le){ze(Le)||(Le.preventDefault(),Ce(Le),Ae(Le),Oe(Le))})}};var Ch={};Ch.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,i,a,o,s,u){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,u,l,c){return Xy(s,u,this.points,n,i,a/2,o/2,l)},checkPoint:function(n,i,a,o,s,u,l,c){return xh(n,i,this.points,u,l,o,s,[0,-1],a)}}};Ch.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a)},intersectLine:function(e,t,n,i,a,o,s,u){return PN(a,o,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,i,a,o,s,u){return Xv(e,t,i,a,o,s,n)}}};Ch.generateRoundPolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,getOrCreateCorners:function(n,i,a,o,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===i)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=i;var c=a/2,f=o/2;s=s==="auto"?mI(a,o):s;for(var h=new Array(e.length/2),d=0;d<e.length/2;d++)h[d]={x:n+c*e[d*2],y:i+f*e[d*2+1]};var v,y,w,b,g=h.length;for(y=h[g-1],v=0;v<g;v++)w=h[v%g],b=h[(v+1)%g],u[l][v]=lx(y,w,b,s),y=w,w=b;return u[l]},draw:function(n,i,a,o,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,u,l,"drawCorners"))},intersectLine:function(n,i,a,o,s,u,l,c,f){return AN(s,u,this.points,n,i,a,o,l,this.getOrCreateCorners(n,i,a,o,c,f,"corners"))},checkPoint:function(n,i,a,o,s,u,l,c,f){return CN(n,i,this.points,u,l,o,s,this.getOrCreateCorners(u,l,o,s,c,f,"corners"))}}};Ch.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Es(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,this.points,o)},intersectLine:function(e,t,n,i,a,o,s,u){return gI(a,o,e,t,n,i,s,u)},checkPoint:function(e,t,n,i,a,o,s,u){var l=i/2,c=a/2;u=u==="auto"?np(i,a):u,u=Math.min(l,c,u);var f=u*2;return!!(xh(e,t,this.points,o,s,i,a-f,[0,-1],n)||xh(e,t,this.points,o,s,i-f,a,[0,-1],n)||Xv(e,t,f,f,o-l+u,s-c+u,n)||Xv(e,t,f,f,o+l-u,s-c+u,n)||Xv(e,t,f,f,o+l-u,s+c-u,n)||Xv(e,t,f,f,o-l+u,s+c-u,n))}}};Ch.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:ZO(),points:Es(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,null,o)},generateCutTrianglePts:function(e,t,n,i,a){var o=a==="auto"?this.cornerLength:a,s=t/2,u=e/2,l=n-u,c=n+u,f=i-s,h=i+s;return{topLeft:[l,f+o,l+o,f,l+o,f+o],topRight:[c-o,f,c,f+o,c-o,f+o],bottomRight:[c,h-o,c-o,h,c-o,h-o],bottomLeft:[l+o,h,l,h-o,l+o,h-o]}},intersectLine:function(e,t,n,i,a,o,s,u){var l=this.generateCutTrianglePts(n+2*s,i+2*s,e,t,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Xy(a,o,c,e,t)},checkPoint:function(e,t,n,i,a,o,s,u){var l=u==="auto"?this.cornerLength:u;if(xh(e,t,this.points,o,s,i,a-2*l,[0,-1],n)||xh(e,t,this.points,o,s,i-2*l,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return qs(e,t,c.topLeft)||qs(e,t,c.topRight)||qs(e,t,c.bottomRight)||qs(e,t,c.bottomLeft)}}};Ch.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Es(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a)},intersectLine:function(e,t,n,i,a,o,s,u){var l=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(n+2*s,i+2*s,e,t),d=function(w){var b=wg({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},l),g=wg({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),_=wg({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f);return[w[0],w[1],b.x,b.y,g.x,g.y,_.x,_.y,w[4],w[5]]},v=[].concat(d(h.topLeft),d(h.topRight),d(h.bottomRight),d(h.bottomLeft));return Xy(a,o,v,e,t)},generateBarrelBezierPts:function(e,t,n,i){var a=t/2,o=e/2,s=n-o,u=n+o,l=i-a,c=i+a,f=fO(e,t),h=f.heightOffset,d=f.widthOffset,v=f.ctrlPtOffsetPct*e,y={topLeft:[s,l+h,s+v,l,s+d,l],topRight:[u-d,l,u-v,l,u,l+h],bottomRight:[u,c-h,u-v,c,u-d,c],bottomLeft:[s+d,c,s+v,c,s,c-h]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,t,n,i,a,o,s,u){var l=fO(i,a),c=l.heightOffset,f=l.widthOffset;if(xh(e,t,this.points,o,s,i,a-2*c,[0,-1],n)||xh(e,t,this.points,o,s,i-2*f,a,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,a,o,s),d=function(A,D,N){var j=N[4],B=N[2],W=N[0],V=N[5],J=N[1],ee=Math.min(j,W),te=Math.max(j,W),re=Math.min(V,J),de=Math.max(V,J);if(ee<=A&&A<=te&&re<=D&&D<=de){var pe=IN(j,B,W),fe=ON(pe[0],pe[1],pe[2],A),ye=fe.filter(function(Me){return 0<=Me&&Me<=1});if(ye.length>0)return ye[0]}return null},v=Object.keys(h),y=0;y<v.length;y++){var w=v[y],b=h[w],g=d(e,t,b);if(g!=null){var _=b[5],x=b[3],P=b[1],I=na(_,x,P,g);if(b.isTop&&I<=t||b.isBottom&&t<=I)return!0}}return!1}}};Ch.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Es(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,this.points,o)},intersectLine:function(e,t,n,i,a,o,s,u){var l=e-(n/2+s),c=t-(i/2+s),f=c,h=e+(n/2+s),d=Rd(a,o,e,t,l,c,h,f,!1);return d.length>0?d:gI(a,o,e,t,n,i,s,u)},checkPoint:function(e,t,n,i,a,o,s,u){u=u==="auto"?np(i,a):u;var l=2*u;if(xh(e,t,this.points,o,s,i,a-l,[0,-1],n)||xh(e,t,this.points,o,s,i-l,a,[0,-1],n))return!0;var c=i/2+2*n,f=a/2+2*n,h=[o-c,s-f,o-c,s,o+c,s,o+c,s-f];return!!(qs(e,t,h)||Xv(e,t,l,l,o+i/2-u,s+a/2-u,n)||Xv(e,t,l,l,o-i/2+u,s+a/2-u,n))}}};Ch.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Es(3,0)),this.generateRoundPolygon("round-triangle",Es(3,0)),this.generatePolygon("rectangle",Es(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Es(5,0)),this.generateRoundPolygon("round-pentagon",Es(5,0)),this.generatePolygon("hexagon",Es(6,0)),this.generateRoundPolygon("round-hexagon",Es(6,0)),this.generatePolygon("heptagon",Es(7,0)),this.generateRoundPolygon("round-heptagon",Es(7,0)),this.generatePolygon("octagon",Es(8,0)),this.generateRoundPolygon("round-octagon",Es(8,0));var n=new Array(20);{var i=cO(5,0),a=cO(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=yI(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}r.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,l)}};var cm={};cm.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};cm.redraw=function(r){r=r||fI();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r};cm.beforeRender=function(r,e){if(!this.destroyed){e==null&&Ji("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,i){return i.priority-n.priority})}};var gT=function(e,t,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(t,n)};cm.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function n(i){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){gT(r,!0,i);var a=Oh();r.render(r.renderOptions);var o=r.lastDrawTime=Oh();r.averageRedrawTime===void 0&&(r.averageRedrawTime=o-a),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var s=o-a;r.redrawTotalTime+=s,r.lastRedrawTime=s,r.averageRedrawTime=r.averageRedrawTime/2+s/2,r.requestedFrame=!1}else gT(r,!1,i);r.skipFrame=!1,b0(n)}};b0(t)}};var fF=function(e){this.init(e)},gR=fF,qg=gR.prototype;qg.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];qg.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=i.getElementById(o)!=null;if(t.className.indexOf(s)<0&&(t.className=(t.className||"")+" "+s),!u){var l=i.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",a.insertBefore(l,a.children[0])}var c=n.getComputedStyle(t),f=c.getPropertyValue("position");f==="static"&&Bn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=Gt(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};qg.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};qg.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};qg.isHeadless=function(){return!1};[ux,vR,pR,zg,Ch,cm].forEach(function(r){br(qg,r)});var h_=1e3/60,yR={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=z0(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),o=function(l,c){var f=Oh(),h=i.averageRedrawTime,d=i.lastRedrawTime,v=[],y=i.cy.extent(),w=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var b=Oh(),g=b-f,_=b-c;if(d<h_){var x=h_-(l?h:0);if(_>=e.deqFastCost*x)break}else if(l){if(g>=e.deqCost*d||g>=e.deqAvgCost*h)break}else if(_>=e.deqNoDrawCost*h_)break;var P=e.deq(n,w,y);if(P.length>0)for(var I=0;I<P.length;I++)v.push(P[I]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,w,y)&&a())},s=e.priority||YO;i.beforeRender(o,s(n))}}}},hF=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_0;qO(this,r),this.idsByKey=new uf,this.keyForId=new uf,this.cachesByLvl=new uf,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return GO(r,[{key:"getIdsFor",value:function(t){t==null&&Ji("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Dg,n.set(t,i)),i}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),a=this.getKey(t);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),a=this.getKey(t);return i!==a}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,i=this.lvls,a=n.get(t);return a||(a=new uf,n.set(t,a),i.push(t)),a}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var i=this.getKey(t),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(t),a}},{key:"getForCachedKey",value:function(t,n){var i=this.keyForId.get(t.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var i=this.getKey(t);return this.hasCache(i,n)}},{key:"setCache",value:function(t,n,i){i.key=t,this.getCachesAt(n).set(t,i)}},{key:"set",value:function(t,n,i){var a=this.getKey(t);this.setCache(a,n,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var i=this.getKey(t);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(i){return n.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(t);var a=this.doesEleInvalidateKey(t);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),r}(),yT=25,Km=50,v0=-4,EO=3,dF=7.99,vF=8,pF=1024,gF=1024,yF=1024,mF=.2,bF=.8,_F=10,wF=.15,EF=.1,OF=.9,xF=.9,SF=100,TF=1,mg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},CF=Ca({getKey:null,doesEleInvalidateKey:_0,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:uI,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ky=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var i=CF(t);br(n,i),n.lookup=new hF(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Bo=ky.prototype;Bo.reasons=mg;Bo.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]};Bo.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n};Bo.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new am(function(t,n){return n.reqs-t.reqs});return e};Bo.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e};Bo.getElement=function(r,e,t,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!a.allowEdgeTxrCaching&&r.isEdge()||!a.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(XO(s*t))),n<v0)n=v0;else if(s>=dF||n>EO)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,h=o.eleTextBiggerThanMin(r,l);if(!this.isVisible(r,h))return null;var d=u.get(r,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=yT?v=yT:c<=Km?v=Km:v=Math.ceil(c/Km)*Km,c>yF||f>gF)return null;var y=a.getTextureQueue(v),w=y[y.length-2],b=function(){return a.recycleTexture(v,f)||a.addTexture(v,f)};w||(w=y[y.length-1]),w||(w=b()),w.width-w.usedWidth<f&&(w=b());for(var g=function(ee){return ee&&ee.scaledLabelShown===h},_=i&&i===mg.dequeue,x=i&&i===mg.highQuality,P=i&&i===mg.downscale,I,T=n+1;T<=EO;T++){var A=u.get(r,T);if(A){I=A;break}}var D=I&&I.level===n+1?I:null,N=function(){w.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,w.usedWidth,0,f,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,f,v),g(D))N();else if(g(I))if(x){for(var j=I.level;j>n;j--)D=a.getElement(r,e,t,j,mg.downscale);N()}else return a.queueElement(r,I.level-1),I;else{var B;if(!_&&!x&&!P)for(var W=n-1;W>=v0;W--){var V=u.get(r,W);if(V){B=V;break}}if(g(B))return a.queueElement(r,n),B;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,r,e,h,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return d={x:w.usedWidth,texture:w,level:n,scale:l,width:f,height:c,scaledLabelShown:h},w.usedWidth+=Math.ceil(f+vF),w.eleCaches.push(d),u.set(r,n,d),a.checkTextureFullness(w),d};Bo.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])};Bo.invalidateElement=function(r){var e=this,t=e.lookup,n=[],i=t.isInvalid(r);if(i){for(var a=v0;a<=EO;a++){var o=t.getForCachedKey(r,a);o&&n.push(o)}var s=t.invalidate(r);if(s)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(r)}};Bo.checkTextureUtility=function(r){r.invalidatedWidth>=mF*r.width&&this.retireTexture(r)};Bo.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>bF&&r.fullnessChecks>=_F?jd(t,r):r.fullnessChecks++};Bo.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),i=this.lookup;jd(n,r),r.retired=!0;for(var a=r.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}$O(a);var u=e.getRetiredTextureQueue(t);u.push(r)};Bo.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),i={};return n.push(i),i.eleCaches=[],i.height=r,i.width=Math.max(pF,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Bo.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),i=t.getRetiredTextureQueue(r),a=0;a<i.length;a++){var o=i[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,$O(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),jd(i,o),n.push(o),o}};Bo.queueElement=function(r,e){var t=this,n=t.getElementQueue(),i=t.getElementKeyToQueue(),a=this.getKey(r),o=i[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(r),o.reqs++,n.updateItem(o);else{var s={eles:r.spawn().merge(r),level:e,reqs:1,key:a};n.push(s),i[a]=s}};Bo.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,o=0;o<TF&&t.size()>0;o++){var s=t.pop(),u=s.key,l=s.eles[0],c=a.hasCache(l,s.level);if(n[u]=null,c)continue;i.push(s);var f=e.getBoundingBox(l);e.getElement(l,f,r,s.level,mg.dequeue)}return i};Bo.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(r),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=HO,t.updateItem(a),t.pop(),n[i]=null):a.eles.unmerge(r))};Bo.onDequeue=function(r){this.onDequeues.push(r)};Bo.offDequeue=function(r){jd(this.onDequeues,r)};Bo.setupDequeueing=yR.setupDequeueing({deqRedrawThreshold:SF,deqCost:wF,deqAvgCost:EF,deqNoDrawCost:OF,deqFastCost:xF,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(t)}},shouldRedraw:function(e,t,n,i){for(var a=0;a<t.length;a++)for(var o=t[a].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(KO(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var PF=1,qy=-4,P0=2,AF=3.99,IF=50,RF=50,kF=.15,MF=.1,DF=.9,LF=.9,NF=1,mT=250,jF=4e3*4e3,FF=!0,mR=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Oh()-2*mT,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=z0(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},RF),n.beforeRender(function(o,s){s-t.lastInvalidationTime<=mT?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,u){return u.reqs-s.reqs};t.layersQueue=new am(a),t.setupDequeueing()},Pa=mR.prototype,bT=0,BF=Math.pow(2,53)-1;Pa.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),i=Math.ceil(r.h*t),a=this.renderer.makeOffscreenCanvas(n,i),o={id:bT=++bT%BF,bb:r,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(t,t),s.translate(u,l),o};Pa.getLayers=function(r,e,t){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(XO(o*e)),t<qy)t=qy;else if(o>=AF||t>P0)return null}n.validateLayersElesOrdering(t,r);var u=n.layersByLevel,l=Math.pow(2,t),c=u[t]=u[t]||[],f,h=n.levelIsComplete(t,r),d,v=function(){var N=function(J){if(n.validateLayersElesOrdering(J,r),n.levelIsComplete(J,r))return d=u[J],!0},j=function(J){if(!d)for(var ee=t+J;qy<=ee&&ee<=P0&&!N(ee);ee+=J);};j(1),j(-1);for(var B=c.length-1;B>=0;B--){var W=c[B];W.invalid&&jd(c,W)}};if(!h)v();else return c;var y=function(){if(!f){f=Vs();for(var N=0;N<r.length;N++)vI(f,r[N].boundingBox())}return f},w=function(N){N=N||{};var j=N.after;y();var B=f.w*l*(f.h*l);if(B>jF)return null;var W=n.makeLayer(f,t);if(j!=null){var V=c.indexOf(j)+1;c.splice(V,0,W)}else(N.insert===void 0||N.insert)&&c.unshift(W);return W};if(n.skipping&&!s)return null;for(var b=null,g=r.length/PF,_=!s,x=0;x<r.length;x++){var P=r[x],I=P._private.rscratch,T=I.imgLayerCaches=I.imgLayerCaches||{},A=T[t];if(A){b=A;continue}if((!b||b.eles.length>=g||!pI(b.bb,P.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;d||_?n.queueLayer(b,P):n.drawEleInLayer(b,P,t,e),b.eles.push(P),T[t]=b}return d||(_?null:c)};Pa.getEleLevelForLayerLevel=function(r,e){return r};Pa.drawEleInLayer=function(r,e,t,n){var i=this,a=this.renderer,o=r.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,t,FF),a.setImgSmoothing(o,!0))};Pa.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===e.length};Pa.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var i=t[n],a=-1,o=0;o<e.length;o++)if(i.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==e[s+o]){this.invalidateLayer(i);break}}};Pa.updateElementsInLayers=function(r,e){for(var t=this,n=im(r[0]),i=0;i<r.length;i++)for(var a=n?null:r[i],o=n?r[i]:r[i].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=qy;l<=P0;l++){var c=u[l];c&&(a&&t.getEleLevelForLayerLevel(c.level)!==a.level||e(c,o,a))}};Pa.haveLayers=function(){for(var r=this,e=!1,t=qy;t<=P0;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e};Pa.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=Oh(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,i,a){e.invalidateLayer(n)}))};Pa.invalidateLayer=function(r){if(this.lastInvalidationTime=Oh(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];jd(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var i=0;i<t.length;i++){var a=t[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Pa.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Pa.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};Pa.queueLayer=function(r,e){var t=this,n=t.layersQueue,i=r.elesQueue,a=i.hasId=i.hasId||{};if(!r.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}};Pa.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],i=0;i<NF&&t.size()!==0;){var a=t.peek();if(a.replacement){t.pop();continue}if(a.replaces&&a!==a.replaces.replacement){t.pop();continue}if(a.invalid){t.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,r),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(t.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Pa.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=r;for(var a=0;a<r.eles.length;a++){var o=r.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[r.level]=r)}e.requestRedraw()}};Pa.requestRedraw=z0(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);Pa.setupDequeueing=yR.setupDequeueing({deqRedrawThreshold:IF,deqCost:kF,deqAvgCost:MF,deqNoDrawCost:DF,deqFastCost:LF,deq:function(e,t){return e.dequeue(t)},onDeqd:YO,shouldRedraw:uI,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var bR={},_T;function UF(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function zF(r,e,t){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),r.lineTo(a.x,a.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function wT(r,e,t){r.beginPath&&r.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];r.lineTo(a.x,a.y)}var o=t,s=t[0];r.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];r.lineTo(a.x,a.y)}r.closePath&&r.closePath()}function qF(r,e,t,n,i){r.beginPath&&r.beginPath(),r.arc(t,n,i,0,Math.PI*2,!1);var a=e,o=a[0];r.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var u=a[s];r.lineTo(u.x,u.y)}r.closePath&&r.closePath()}function GF(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}bR.arrowShapeImpl=function(r){return(_T||(_T={polygon:UF,"triangle-backcurve":zF,"triangle-tee":wT,"circle-triangle":qF,"triangle-cross":wT,circle:GF}))[r]};var vf={};vf.drawElement=function(r,e,t,n,i,a){var o=this;e.isNode()?o.drawNode(r,e,t,n,i,a):o.drawEdge(r,e,t,n,i,a)};vf.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)};vf.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)};vf.drawCachedElementPortion=function(r,e,t,n,i,a,o,s){var u=this,l=t.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=t.getElement(e,l,n,i,a);if(c!=null){var f=s(u,e);if(f===0)return;var h=o(u,e),d=l.x1,v=l.y1,y=l.w,w=l.h,b,g,_,x,P;if(h!==0){var I=t.getRotationPoint(e);_=I.x,x=I.y,r.translate(_,x),r.rotate(h),P=u.getImgSmoothing(r),P||u.setImgSmoothing(r,!0);var T=t.getRotationOffset(e);b=T.x,g=T.y}else b=d,g=v;var A;f!==1&&(A=r.globalAlpha,r.globalAlpha=A*f),r.drawImage(c.texture.canvas,c.x,0,c.width,c.height,b,g,y,w),f!==1&&(r.globalAlpha=A),h!==0&&(r.rotate(-h),r.translate(-_,-x),P||u.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var VF=function(){return 0},WF=function(e,t){return e.getTextAngle(t,null)},HF=function(e,t){return e.getTextAngle(t,"source")},YF=function(e,t){return e.getTextAngle(t,"target")},$F=function(e,t){return t.effectiveOpacity()},d_=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};vf.drawCachedElement=function(r,e,t,n,i,a){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,h=e.boundingBox(),d=a===!0?u.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||KO(h,n))){var v=e.isEdge(),y=e.element()._private.rscratch.badLine;o.drawElementUnderlay(r,e),o.drawCachedElementPortion(r,e,u,t,i,d,VF,$F),(!v||!y)&&o.drawCachedElementPortion(r,e,l,t,i,d,WF,d_),v&&!y&&(o.drawCachedElementPortion(r,e,c,t,i,d,HF,d_),o.drawCachedElementPortion(r,e,f,t,i,d,YF,d_)),o.drawElementOverlay(r,e)}};vf.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var i=e[n];t.drawElement(r,i)}};vf.drawCachedElements=function(r,e,t,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.drawCachedElement(r,o,t,n)}};vf.drawCachedNodes=function(r,e,t,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&i.drawCachedElement(r,o,t,n)}};vf.drawLayeredElements=function(r,e,t,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,t);if(a)for(var o=0;o<a.length;o++){var s=a[o],u=s.bb;u.w===0||u.h===0||r.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(r,e,t,n)};var Ph={};Ph.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;t&&(u=t,r.translate(-u.x1,-u.y1));var l=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,y=l*c,w=l*c,b=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;f==="straight-triangle"?(o.eleStrokeStyle(r,e,B),o.drawEdgeTrianglePath(e,r,s.allpts)):(r.lineWidth=d,r.lineCap=v,o.eleStrokeStyle(r,e,B),o.drawEdgePath(e,r,s.allpts,h),r.lineCap="butt")},g=function(){i&&o.drawEdgeOverlay(r,e)},_=function(){i&&o.drawEdgeUnderlay(r,e)},x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;o.drawArrowheads(r,e,B)},P=function(){o.drawElementText(r,e,null,n)};r.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var T=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,D=e.pstyle("ghost-opacity").value,N=y*D;r.translate(T,A),b(N),x(N),r.translate(-T,-A)}_(),b(),x(),g(),P(),t&&r.translate(u.x1,u.y1)}};var _R=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;t.lineWidth=l,s.edgeType==="self"&&!o?t.lineCap="butt":t.lineCap="round",a.colorStrokeStyle(t,c[0],c[1],c[2],i),a.drawEdgePath(n,t,s.allpts,"solid")}}}};Ph.drawEdgeOverlay=_R("overlay");Ph.drawEdgeUnderlay=_R("underlay");Ph.drawEdgePath=function(r,e,t,n){var i=r._private.rscratch,a=e,o,s=!1,u=this.usePaths(),l=r.pstyle("line-dash-pattern").pfValue,c=r.pstyle("line-dash-offset").pfValue;if(u){var f=t.join("$"),h=i.pathCacheKey&&i.pathCacheKey===f;h?(o=e=i.pathCache,s=!0):(o=e=new Path2D,i.pathCacheKey=f,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<t.length;d+=4)e.quadraticCurveTo(t[d],t[d+1],t[d+2],t[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<t.length;v+=2)e.lineTo(t[v],t[v+1]);break;case"segments":if(i.isRound){var y=PD(i.roundCorners),w;try{for(y.s();!(w=y.n()).done;){var b=w.value;lR(e,b)}}catch(_){y.e(_)}finally{y.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var g=2;g+1<t.length;g+=2)e.lineTo(t[g],t[g+1]);break}e=a,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Ph.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var a=[t[i+2]-t[i],t[i+3]-t[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(t[i]-u[0],t[i+1]-u[1]),e.lineTo(t[i]+u[0],t[i+1]+u[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};Ph.drawArrowheads=function(r,e,t){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),i||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};Ph.drawArrowhead=function(r,e,t,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,u=e.pstyle(t+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(t+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle(t+"-arrow-width"),d=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(d*=f);var v=e.pstyle("opacity").value;o===void 0&&(o=v);var y=r.globalCompositeOperation;(o!==1||c==="hollow")&&(r.globalCompositeOperation="destination-out",s.colorFillStyle(r,255,255,255,1),s.colorStrokeStyle(r,255,255,255,1),s.drawArrowShape(e,r,l,f,u,d,n,i,a),r.globalCompositeOperation=y);var w=e.pstyle(t+"-arrow-color").value;s.colorFillStyle(r,w[0],w[1],w[2],o),s.colorStrokeStyle(r,w[0],w[1],w[2],o),s.drawArrowShape(e,r,c,f,u,d,n,i,a)}}};Ph.drawArrowShape=function(r,e,t,n,i,a,o,s,u){var l=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,h,d=e,v={x:o,y:s},y=r.pstyle("arrow-scale").value,w=this.getArrowWidth(n,y),b=l.arrowShapes[i];if(c){var g=l.arrowPathCache=l.arrowPathCache||[],_=tp(i),x=g[_];x!=null?(h=e=x,f=!0):(h=e=new Path2D,g[_]=h)}f||(e.beginPath&&e.beginPath(),c?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,u,v,n),e.closePath&&e.closePath()),e=d,c&&(e.translate(o,s),e.rotate(u),e.scale(w,w)),(t==="filled"||t==="both")&&(c?e.fill(h):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=a/(c?w:1),e.lineJoin="miter",c?e.stroke(h):e.stroke()),c&&(e.scale(1/w,1/w),e.rotate(-u),e.translate(-o,-s))};var fx={};fx.safeDrawImage=function(r,e,t,n,i,a,o,s,u,l){if(!(i<=0||a<=0||u<=0||l<=0))try{r.drawImage(e,t,n,i,a,o,s,u,l)}catch(c){Bn(c)}};fx.drawInscribedImage=function(r,e,t,n,i){var a=this,o=t.position(),s=o.x,u=o.y,l=t.cy().style(),c=l.getIndexedStyle.bind(l),f=c(t,"background-fit","value",n),h=c(t,"background-repeat","value",n),d=t.width(),v=t.height(),y=t.padding()*2,w=d+(c(t,"background-width-relative-to","value",n)==="inner"?0:y),b=v+(c(t,"background-height-relative-to","value",n)==="inner"?0:y),g=t._private.rscratch,_=c(t,"background-clip","value",n),x=_==="node",P=c(t,"background-image-opacity","value",n)*i,I=c(t,"background-image-smoothing","value",n),T=t.pstyle("corner-radius").value;T!=="auto"&&(T=t.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,D=e.height||e.cachedH;(A==null||D==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var N=A,j=D;if(c(t,"background-width","value",n)!=="auto"&&(c(t,"background-width","units",n)==="%"?N=c(t,"background-width","pfValue",n)*w:N=c(t,"background-width","pfValue",n)),c(t,"background-height","value",n)!=="auto"&&(c(t,"background-height","units",n)==="%"?j=c(t,"background-height","pfValue",n)*b:j=c(t,"background-height","pfValue",n)),!(N===0||j===0)){if(f==="contain"){var B=Math.min(w/N,b/j);N*=B,j*=B}else if(f==="cover"){var B=Math.max(w/N,b/j);N*=B,j*=B}var W=s-w/2,V=c(t,"background-position-x","units",n),J=c(t,"background-position-x","pfValue",n);V==="%"?W+=(w-N)*J:W+=J;var ee=c(t,"background-offset-x","units",n),te=c(t,"background-offset-x","pfValue",n);ee==="%"?W+=(w-N)*te:W+=te;var re=u-b/2,de=c(t,"background-position-y","units",n),pe=c(t,"background-position-y","pfValue",n);de==="%"?re+=(b-j)*pe:re+=pe;var fe=c(t,"background-offset-y","units",n),ye=c(t,"background-offset-y","pfValue",n);fe==="%"?re+=(b-j)*ye:re+=ye,g.pathCache&&(W-=s,re-=u,s=0,u=0);var Me=r.globalAlpha;r.globalAlpha=P;var Ne=a.getImgSmoothing(r),ke=!1;if(I==="no"&&Ne?(a.setImgSmoothing(r,!1),ke=!0):I==="yes"&&!Ne&&(a.setImgSmoothing(r,!0),ke=!0),h==="no-repeat")x&&(r.save(),g.pathCache?r.clip(g.pathCache):(a.nodeShapes[a.getNodeShape(t)].draw(r,s,u,w,b,T,g),r.clip())),a.safeDrawImage(r,e,0,0,A,D,W,re,N,j),x&&r.restore();else{var je=r.createPattern(e,h);r.fillStyle=je,a.nodeShapes[a.getNodeShape(t)].draw(r,s,u,w,b,T,g),r.translate(W,re),r.fill(),r.translate(-W,-re)}r.globalAlpha=Me,ke&&a.setImgSmoothing(r,Ne)}};var fp={};fp.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(XO(t*n));e=Math.pow(2,i)}var a=r.pstyle("font-size").pfValue*e,o=r.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};fp.drawElementText=function(r,e,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(e);r.textAlign=u,r.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;r.textAlign="center",r.textBaseline="bottom"}var d=!t,v;t&&(v=t,r.translate(-v.x1,-v.y1)),i==null?(o.drawText(r,e,null,d,a),e.isEdge()&&(o.drawText(r,e,"source",d,a),o.drawText(r,e,"target",d,a))):o.drawText(r,e,i,d,a),t&&r.translate(v.x1,v.y1)};fp.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e};fp.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;r.font=n+" "+o+" "+i+" "+a,r.lineJoin="round",this.colorFillStyle(r,l[0],l[1],l[2],s),this.colorStrokeStyle(r,c[0],c[1],c[2],u)};function v_(r,e,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;r.beginPath(),r.moveTo(e+a,t),r.lineTo(e+n-a,t),r.quadraticCurveTo(e+n,t,e+n,t+a),r.lineTo(e+n,t+i-a),r.quadraticCurveTo(e+n,t+i,e+n-a,t+i),r.lineTo(e+a,t+i),r.quadraticCurveTo(e,t+i,e,t+i-a),r.lineTo(e,t+a),r.quadraticCurveTo(e,t,e+a,t),r.closePath(),o?r.stroke():r.fill()}fp.getTextAngle=function(r,e){var t,n=r._private,i=n.rscratch,a=e?e+"-":"",o=r.pstyle(a+"text-rotation"),s=lc(i,"labelAngle",e);return o.strValue==="autorotate"?t=r.isEdge()?s:0:o.strValue==="none"?t=0:t=o.pfValue,t};fp.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var u=lc(o,"labelX",t),l=lc(o,"labelY",t),c,f,h=this.getLabelText(e,t);if(h!=null&&h!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(r,e,i);var d=t?t+"-":"",v=lc(o,"labelWidth",t),y=lc(o,"labelHeight",t),w=e.pstyle(d+"text-margin-x").pfValue,b=e.pstyle(d+"text-margin-y").pfValue,g=e.isEdge(),_=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;g&&(_="center",x="center"),u+=w,l+=b;var P;switch(n?P=this.getTextAngle(e,t):P=0,P!==0&&(c=u,f=l,r.translate(c,f),r.rotate(P),u=0,l=0),x){case"top":break;case"center":l+=y/2;break;case"bottom":l+=y;break}var I=e.pstyle("text-background-opacity").value,T=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,N=e.pstyle("text-background-shape").strValue,j=N.indexOf("round")===0,B=2;if(I>0||A>0&&T>0){var W=u-D;switch(_){case"left":W-=v;break;case"center":W-=v/2;break}var V=l-y-D,J=v+2*D,ee=y+2*D;if(I>0){var te=r.fillStyle,re=e.pstyle("text-background-color").value;r.fillStyle="rgba("+re[0]+","+re[1]+","+re[2]+","+I*s+")",j?v_(r,W,V,J,ee,B):r.fillRect(W,V,J,ee),r.fillStyle=te}if(A>0&&T>0){var de=r.strokeStyle,pe=r.lineWidth,fe=e.pstyle("text-border-color").value,ye=e.pstyle("text-border-style").value;if(r.strokeStyle="rgba("+fe[0]+","+fe[1]+","+fe[2]+","+T*s+")",r.lineWidth=A,r.setLineDash)switch(ye){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=A/4,r.setLineDash([]);break;case"solid":r.setLineDash([]);break}if(j?v_(r,W,V,J,ee,B,"stroke"):r.strokeRect(W,V,J,ee),ye==="double"){var Me=A/2;j?v_(r,W+Me,V+Me,J-Me*2,ee-Me*2,B,"stroke"):r.strokeRect(W+Me,V+Me,J-Me*2,ee-Me*2)}r.setLineDash&&r.setLineDash([]),r.lineWidth=pe,r.strokeStyle=de}}var Ne=2*e.pstyle("text-outline-width").pfValue;if(Ne>0&&(r.lineWidth=Ne),e.pstyle("text-wrap").value==="wrap"){var ke=lc(o,"labelWrapCachedLines",t),je=lc(o,"labelLineHeight",t),xe=v/2,Se=this.getLabelJustification(e);switch(Se==="auto"||(_==="left"?Se==="left"?u+=-v:Se==="center"&&(u+=-xe):_==="center"?Se==="left"?u+=-xe:Se==="right"&&(u+=xe):_==="right"&&(Se==="center"?u+=xe:Se==="right"&&(u+=v))),x){case"top":l-=(ke.length-1)*je;break;case"center":case"bottom":l-=(ke.length-1)*je;break}for(var Re=0;Re<ke.length;Re++)Ne>0&&r.strokeText(ke[Re],u,l),r.fillText(ke[Re],u,l),l+=je}else Ne>0&&r.strokeText(h,u,l),r.fillText(h,u,l);P!==0&&(r.rotate(-P),r.translate(-c,-f))}}};var Gg={};Gg.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=e._private,c=l.rscratch,f=e.position();if(!(!Gt(f.x)||!Gt(f.y))&&!(a&&!e.visible())){var h=a?e.effectiveOpacity():1,d=o.usePaths(),v,y=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;t&&(b=t,r.translate(-b.x1,-b.y1));for(var g=e.pstyle("background-image"),_=g.value,x=new Array(_.length),P=new Array(_.length),I=0,T=0;T<_.length;T++){var A=_[T],D=x[T]=A!=null&&A!=="none";if(D){var N=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",T);I++,P[T]=o.getCachedImage(A,N,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var j=e.pstyle("background-blacken").value,B=e.pstyle("border-width").pfValue,W=e.pstyle("background-opacity").value*h,V=e.pstyle("border-color").value,J=e.pstyle("border-style").value,ee=e.pstyle("border-join").value,te=e.pstyle("border-cap").value,re=e.pstyle("border-position").value,de=e.pstyle("border-dash-pattern").pfValue,pe=e.pstyle("border-dash-offset").pfValue,fe=e.pstyle("border-opacity").value*h,ye=e.pstyle("outline-width").pfValue,Me=e.pstyle("outline-color").value,Ne=e.pstyle("outline-style").value,ke=e.pstyle("outline-opacity").value*h,je=e.pstyle("outline-offset").value,xe=e.pstyle("corner-radius").value;xe!=="auto"&&(xe=e.pstyle("corner-radius").pfValue);var Se=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;o.eleFillStyle(r,e,Pt)},Re=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe;o.colorStrokeStyle(r,V[0],V[1],V[2],Pt)},Oe=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke;o.colorStrokeStyle(r,Me[0],Me[1],Me[2],Pt)},Pe=function(Pt,dt,Ct,Ft){var Yt=o.nodePathCache=o.nodePathCache||[],Vt=sI(Ct==="polygon"?Ct+","+Ft.join(","):Ct,""+dt,""+Pt,""+xe),sr=Yt[Vt],Bt,Zt=!1;return sr!=null?(Bt=sr,Zt=!0,c.pathCache=Bt):(Bt=new Path2D,Yt[Vt]=c.pathCache=Bt),{path:Bt,cacheHit:Zt}},Ue=e.pstyle("shape").strValue,ot=e.pstyle("shape-polygon-points").pfValue;if(d){r.translate(f.x,f.y);var $e=Pe(s,u,Ue,ot);v=$e.path,y=$e.cacheHit}var rt=function(){if(!y){var Pt=f;d&&(Pt={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(v||r,Pt.x,Pt.y,s,u,xe,c)}d?r.fill(v):r.fill()},ht=function(){for(var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ct=l.backgrounding,Ft=0,Yt=0;Yt<P.length;Yt++){var Vt=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Yt);if(dt&&Vt==="over"||!dt&&Vt==="inside"){Ft++;continue}x[Yt]&&P[Yt].complete&&!P[Yt].error&&(Ft++,o.drawInscribedImage(r,P[Yt],e,Yt,Pt))}l.backgrounding=Ft!==I,Ct!==l.backgrounding&&e.updateStyle(!1)},Ze=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasPie(e)&&(o.drawPie(r,e,dt),Pt&&(d||o.nodeShapes[o.getNodeShape(e)].draw(r,f.x,f.y,s,u,xe,c)))},H=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,dt=(j>0?j:-j)*Pt,Ct=j>0?0:255;j!==0&&(o.colorFillStyle(r,Ct,Ct,Ct,dt),d?r.fill(v):r.fill())},K=function(){if(B>0){if(r.lineWidth=B,r.lineCap=te,r.lineJoin=ee,r.setLineDash)switch(J){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(de),r.lineDashOffset=pe;break;case"solid":case"double":r.setLineDash([]);break}if(re!=="center"){if(r.save(),r.lineWidth*=2,re==="inside")d?r.clip(v):r.clip();else{var Pt=new Path2D;Pt.rect(-s/2-B,-u/2-B,s+2*B,u+2*B),Pt.addPath(v),r.clip(Pt,"evenodd")}d?r.stroke(v):r.stroke(),r.restore()}else d?r.stroke(v):r.stroke();if(J==="double"){r.lineWidth=B/3;var dt=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",d?r.stroke(v):r.stroke(),r.globalCompositeOperation=dt}r.setLineDash&&r.setLineDash([])}},ne=function(){if(ye>0){if(r.lineWidth=ye,r.lineCap="butt",r.setLineDash)switch(Ne){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var Pt=f;d&&(Pt={x:0,y:0});var dt=o.getNodeShape(e),Ct=B;re==="inside"&&(Ct=0),re==="outside"&&(Ct*=2);var Ft=(s+Ct+(ye+je))/s,Yt=(u+Ct+(ye+je))/u,Vt=s*Ft,sr=u*Yt,Bt=o.nodeShapes[dt].points,Zt;if(d){var Yr=Pe(Vt,sr,dt,Bt);Zt=Yr.path}if(dt==="ellipse")o.drawEllipsePath(Zt||r,Pt.x,Pt.y,Vt,sr);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(dt)){var Gr=0,Kn=0,Rn=0;dt==="round-diamond"?Gr=(Ct+je+ye)*1.4:dt==="round-heptagon"?(Gr=(Ct+je+ye)*1.075,Rn=-(Ct/2+je+ye)/35):dt==="round-hexagon"?Gr=(Ct+je+ye)*1.12:dt==="round-pentagon"?(Gr=(Ct+je+ye)*1.13,Rn=-(Ct/2+je+ye)/15):dt==="round-tag"?(Gr=(Ct+je+ye)*1.12,Kn=(Ct/2+ye+je)*.07):dt==="round-triangle"&&(Gr=(Ct+je+ye)*(Math.PI/2),Rn=-(Ct+je/2+ye)/Math.PI),Gr!==0&&(Ft=(s+Gr)/s,Vt=s*Ft,["round-hexagon","round-tag"].includes(dt)||(Yt=(u+Gr)/u,sr=u*Yt)),xe=xe==="auto"?mI(Vt,sr):xe;for(var kn=Vt/2,un=sr/2,fn=xe+(Ct+ye+je)/2,Un=new Array(Bt.length/2),Pi=new Array(Bt.length/2),pi=0;pi<Bt.length/2;pi++)Un[pi]={x:Pt.x+Kn+kn*Bt[pi*2],y:Pt.y+Rn+un*Bt[pi*2+1]};var li,to,Wi,Hi,hn=Un.length;for(to=Un[hn-1],li=0;li<hn;li++)Wi=Un[li%hn],Hi=Un[(li+1)%hn],Pi[li]=lx(to,Wi,Hi,fn),to=Wi,Wi=Hi;o.drawRoundPolygonPath(Zt||r,Pt.x+Kn,Pt.y+Rn,s*Ft,u*Yt,Bt,Pi)}else if(["roundrectangle","round-rectangle"].includes(dt))xe=xe==="auto"?np(Vt,sr):xe,o.drawRoundRectanglePath(Zt||r,Pt.x,Pt.y,Vt,sr,xe+(Ct+ye+je)/2);else if(["cutrectangle","cut-rectangle"].includes(dt))xe=xe==="auto"?ZO():xe,o.drawCutRectanglePath(Zt||r,Pt.x,Pt.y,Vt,sr,null,xe+(Ct+ye+je)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(dt))xe=xe==="auto"?np(Vt,sr):xe,o.drawBottomRoundRectanglePath(Zt||r,Pt.x,Pt.y,Vt,sr,xe+(Ct+ye+je)/2);else if(dt==="barrel")o.drawBarrelPath(Zt||r,Pt.x,Pt.y,Vt,sr);else if(dt.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(dt)){var zn=(Ct+ye+je)/s;Bt=w0(E0(Bt,zn)),o.drawPolygonPath(Zt||r,Pt.x,Pt.y,s,u,Bt)}else{var qn=(Ct+ye+je)/s;Bt=w0(E0(Bt,-qn)),o.drawPolygonPath(Zt||r,Pt.x,Pt.y,s,u,Bt)}if(d?r.stroke(Zt):r.stroke(),Ne==="double"){r.lineWidth=Ct/3;var jr=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",d?r.stroke(Zt):r.stroke(),r.globalCompositeOperation=jr}r.setLineDash&&r.setLineDash([])}},Ce=function(){i&&o.drawNodeOverlay(r,e,f,s,u)},Ae=function(){i&&o.drawNodeUnderlay(r,e,f,s,u)},ze=function(){o.drawElementText(r,e,null,n)},Le=e.pstyle("ghost").value==="yes";if(Le){var le=e.pstyle("ghost-offset-x").pfValue,Ve=e.pstyle("ghost-offset-y").pfValue,ut=e.pstyle("ghost-opacity").value,et=ut*h;r.translate(le,Ve),Oe(),ne(),Se(ut*W),rt(),ht(et,!0),Re(ut*fe),K(),Ze(j!==0||B!==0),ht(et,!1),H(et),r.translate(-le,-Ve)}d&&r.translate(-f.x,-f.y),Ae(),d&&r.translate(f.x,f.y),Oe(),ne(),Se(),rt(),ht(h,!0),Re(),K(),Ze(j!==0||B!==0),ht(h,!1),H(),d&&r.translate(-f.x,-f.y),ze(),Ce(),t&&r.translate(b.x1,b.y1)}};var wR=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,i,a,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||n.position(),a==null||o==null){var d=n.padding();a=n.width()+2*d,o=n.height()+2*d}s.colorFillStyle(t,c[0],c[1],c[2],l),s.nodeShapes[f].draw(t,i.x,i.y,a+u*2,o+u*2,h),t.fill()}}}};Gg.drawNodeOverlay=wR("overlay");Gg.drawNodeUnderlay=wR("underlay");Gg.hasPie=function(r){return r=r[0],r._private.hasPie};Gg.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),o=n.x,s=n.y,u=e.width(),l=e.height(),c=Math.min(u,l)/2,f=0,h=this.usePaths();h&&(o=0,s=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var v=e.pstyle("pie-"+d+"-background-size").value,y=e.pstyle("pie-"+d+"-background-color").value,w=e.pstyle("pie-"+d+"-background-opacity").value*t,b=v/100;b+f>1&&(b=1-f);var g=1.5*Math.PI+2*Math.PI*f,_=2*Math.PI*b,x=g+_;v===0||f>=1||f+b>1||(r.beginPath(),r.moveTo(o,s),r.arc(o,s,c,g,x),r.closePath(),this.colorFillStyle(r,y[0],y[1],y[2],w),r.fill(),f+=b)}};var Au={},XF=100;Au.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};Au.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n};Au.createGradientStyleFor=function(r,e,t,n,i){var a,o=this.usePaths(),s=t.pstyle(e+"-gradient-stop-colors").value,u=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var l=t.sourceEndpoint(),c=t.targetEndpoint(),f=t.midpoint(),h=rp(l,f),d=rp(c,f);a=r.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var v=o?{x:0,y:0}:t.position(),y=t.paddedWidth(),w=t.paddedHeight();a=r.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,w))}else if(t.isEdge()){var b=t.sourceEndpoint(),g=t.targetEndpoint();a=r.createLinearGradient(b.x,b.y,g.x,g.y)}else{var _=o?{x:0,y:0}:t.position(),x=t.paddedWidth(),P=t.paddedHeight(),I=x/2,T=P/2,A=t.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":a=r.createLinearGradient(_.x,_.y-T,_.x,_.y+T);break;case"to-top":a=r.createLinearGradient(_.x,_.y+T,_.x,_.y-T);break;case"to-left":a=r.createLinearGradient(_.x+I,_.y,_.x-I,_.y);break;case"to-right":a=r.createLinearGradient(_.x-I,_.y,_.x+I,_.y);break;case"to-bottom-right":case"to-right-bottom":a=r.createLinearGradient(_.x-I,_.y-T,_.x+I,_.y+T);break;case"to-top-right":case"to-right-top":a=r.createLinearGradient(_.x-I,_.y+T,_.x+I,_.y-T);break;case"to-bottom-left":case"to-left-bottom":a=r.createLinearGradient(_.x+I,_.y-T,_.x-I,_.y+T);break;case"to-top-left":case"to-left-top":a=r.createLinearGradient(_.x+I,_.y+T,_.x-I,_.y-T);break}}if(!a)return null;for(var D=u.length===s.length,N=s.length,j=0;j<N;j++)a.addColorStop(D?u[j]:j/(N-1),"rgba("+s[j][0]+","+s[j][1]+","+s[j][2]+","+i+")");return a};Au.gradientFillStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"background",e,t,n);if(!i)return null;r.fillStyle=i};Au.colorFillStyle=function(r,e,t,n,i){r.fillStyle="rgba("+e+","+t+","+n+","+i+")"};Au.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(r,i[0],i[1],i[2],t)}};Au.gradientStrokeStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"line",e,t,n);if(!i)return null;r.strokeStyle=i};Au.colorStrokeStyle=function(r,e,t,n,i){r.strokeStyle="rgba("+e+","+t+","+n+","+i+")"};Au.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(r,i[0],i[1],i[2],t)}};Au.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=i*o,l=a*o,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=t.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=t.canvases[h],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=a+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=t.bufferCanvases[h],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,o<=1&&(c=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};Au.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};Au.render=function(r){r=r||fI();var e=r.forcedContext,t=r.drawAllLayers,n=r.drawOnlyNodeLayer,i=r.forcedZoom,a=r.forcedPan,o=this,s=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,u=o.cy,l=o.data,c=l.canvasNeedsRedraw,f=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),h=r.motionBlur!==void 0?r.motionBlur:o.motionBlur,d=o.motionBlurPxRatio,v=u.hasCompoundNodes(),y=o.hoverData.draggingEles,w=!!(o.hoverData.selecting||o.touchData.selecting);h=h&&!e&&o.motionBlurEnabled&&!w;var b=h;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),h&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!f&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var g=u.style(),_=u.zoom(),x=i!==void 0?i:_,P=u.pan(),I={x:P.x,y:P.y},T={zoom:_,pan:{x:P.x,y:P.y}},A=o.prevViewport,D=A===void 0||T.zoom!==A.zoom||T.pan.x!==A.pan.x||T.pan.y!==A.pan.y;!D&&!(y&&!v)&&(o.motionBlurPxRatio=1),a&&(I=a),x*=s,I.x*=s,I.y*=s;var N=o.getCachedZSortedEles();function j($e,rt,ht,Ze,H){var K=$e.globalCompositeOperation;$e.globalCompositeOperation="destination-out",o.colorFillStyle($e,255,255,255,o.motionBlurTransparency),$e.fillRect(rt,ht,Ze,H),$e.globalCompositeOperation=K}function B($e,rt){var ht,Ze,H,K;!o.clearingMotionBlur&&($e===l.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||$e===l.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(ht={x:P.x*d,y:P.y*d},Ze=_*d,H=o.canvasWidth*d,K=o.canvasHeight*d):(ht=I,Ze=x,H=o.canvasWidth,K=o.canvasHeight),$e.setTransform(1,0,0,1,0,0),rt==="motionBlur"?j($e,0,0,H,K):!e&&(rt===void 0||rt)&&$e.clearRect(0,0,H,K),t||($e.translate(ht.x,ht.y),$e.scale(Ze,Ze)),a&&$e.translate(a.x,a.y),i&&$e.scale(i,i)}if(f||(o.textureDrawLastFrame=!1),f){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=u.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var W=o.data.bufferContexts[o.TEXTURE_BUFFER];W.setTransform(1,0,0,1,0,0),W.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:W,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var T=o.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:o.canvasWidth,height:o.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var V=l.contexts[o.NODE],J=o.textureCache.texture,T=o.textureCache.viewport;V.setTransform(1,0,0,1,0,0),h?j(V,0,0,T.width,T.height):V.clearRect(0,0,T.width,T.height);var ee=g.core("outside-texture-bg-color").value,te=g.core("outside-texture-bg-opacity").value;o.colorFillStyle(V,ee[0],ee[1],ee[2],te),V.fillRect(0,0,T.width,T.height);var _=u.zoom();B(V,!1),V.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/s,T.height/T.zoom/s),V.drawImage(J,T.mpan.x,T.mpan.y,T.width/T.zoom/s,T.height/T.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var re=u.extent(),de=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),pe=o.hideEdgesOnViewport&&de,fe=[];if(fe[o.NODE]=!c[o.NODE]&&h&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,fe[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),fe[o.DRAG]=!c[o.DRAG]&&h&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,fe[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||t||n||fe[o.NODE]){var ye=h&&!fe[o.NODE]&&d!==1,V=e||(ye?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:l.contexts[o.NODE]),Me=h&&!ye?"motionBlur":void 0;B(V,Me),pe?o.drawCachedNodes(V,N.nondrag,s,re):o.drawLayeredElements(V,N.nondrag,s,re),o.debug&&o.drawDebugPoints(V,N.nondrag),!t&&!h&&(c[o.NODE]=!1)}if(!n&&(c[o.DRAG]||t||fe[o.DRAG])){var ye=h&&!fe[o.DRAG]&&d!==1,V=e||(ye?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:l.contexts[o.DRAG]);B(V,h&&!ye?"motionBlur":void 0),pe?o.drawCachedNodes(V,N.drag,s,re):o.drawCachedElements(V,N.drag,s,re),o.debug&&o.drawDebugPoints(V,N.drag),!t&&!h&&(c[o.DRAG]=!1)}if(o.showFps||!n&&c[o.SELECT_BOX]&&!t){var V=e||l.contexts[o.SELECT_BOX];if(B(V),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var _=o.cy.zoom(),Ne=g.core("selection-box-border-width").value/_;V.lineWidth=Ne,V.fillStyle="rgba("+g.core("selection-box-color").value[0]+","+g.core("selection-box-color").value[1]+","+g.core("selection-box-color").value[2]+","+g.core("selection-box-opacity").value+")",V.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),Ne>0&&(V.strokeStyle="rgba("+g.core("selection-box-border-color").value[0]+","+g.core("selection-box-border-color").value[1]+","+g.core("selection-box-border-color").value[2]+","+g.core("selection-box-opacity").value+")",V.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(l.bgActivePosistion&&!o.hoverData.selecting){var _=o.cy.zoom(),ke=l.bgActivePosistion;V.fillStyle="rgba("+g.core("active-bg-color").value[0]+","+g.core("active-bg-color").value[1]+","+g.core("active-bg-color").value[2]+","+g.core("active-bg-opacity").value+")",V.beginPath(),V.arc(ke.x,ke.y,g.core("active-bg-size").pfValue/_,0,2*Math.PI),V.fill()}var je=o.lastRedrawTime;if(o.showFps&&je){je=Math.round(je);var xe=Math.round(1e3/je);V.setTransform(1,0,0,1,0,0),V.fillStyle="rgba(255, 0, 0, 0.75)",V.strokeStyle="rgba(255, 0, 0, 0.75)",V.lineWidth=1,V.fillText("1 frame = "+je+" ms = "+xe+" fps",0,20);var Se=60;V.strokeRect(0,30,250,20),V.fillRect(0,30,250*Math.min(xe/Se,1),20)}t||(c[o.SELECT_BOX]=!1)}if(h&&d!==1){var Re=l.contexts[o.NODE],Oe=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],Pe=l.contexts[o.DRAG],Ue=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],ot=function(rt,ht,Ze){rt.setTransform(1,0,0,1,0,0),Ze||!b?rt.clearRect(0,0,o.canvasWidth,o.canvasHeight):j(rt,0,0,o.canvasWidth,o.canvasHeight);var H=d;rt.drawImage(ht,0,0,o.canvasWidth*H,o.canvasHeight*H,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||fe[o.NODE])&&(ot(Re,Oe,fe[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||fe[o.DRAG])&&(ot(Pe,Ue,fe[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=T,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),h&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!f,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()},XF)),e||u.emit("render")};var Wd={};Wd.drawPolygonPath=function(r,e,t,n,i,a){var o=n/2,s=i/2;r.beginPath&&r.beginPath(),r.moveTo(e+o*a[0],t+s*a[1]);for(var u=1;u<a.length/2;u++)r.lineTo(e+o*a[u*2],t+s*a[u*2+1]);r.closePath()};Wd.drawRoundPolygonPath=function(r,e,t,n,i,a,o){o.forEach(function(s){return lR(r,s)}),r.closePath()};Wd.drawRoundRectanglePath=function(r,e,t,n,i,a){var o=n/2,s=i/2,u=a==="auto"?np(n,i):Math.min(a,s,o);r.beginPath&&r.beginPath(),r.moveTo(e,t-s),r.arcTo(e+o,t-s,e+o,t,u),r.arcTo(e+o,t+s,e,t+s,u),r.arcTo(e-o,t+s,e-o,t,u),r.arcTo(e-o,t-s,e,t-s,u),r.lineTo(e,t-s),r.closePath()};Wd.drawBottomRoundRectanglePath=function(r,e,t,n,i,a){var o=n/2,s=i/2,u=a==="auto"?np(n,i):a;r.beginPath&&r.beginPath(),r.moveTo(e,t-s),r.lineTo(e+o,t-s),r.lineTo(e+o,t),r.arcTo(e+o,t+s,e,t+s,u),r.arcTo(e-o,t+s,e-o,t,u),r.lineTo(e-o,t-s),r.lineTo(e,t-s),r.closePath()};Wd.drawCutRectanglePath=function(r,e,t,n,i,a,o){var s=n/2,u=i/2,l=o==="auto"?ZO():o;r.beginPath&&r.beginPath(),r.moveTo(e-s+l,t-u),r.lineTo(e+s-l,t-u),r.lineTo(e+s,t-u+l),r.lineTo(e+s,t+u-l),r.lineTo(e+s-l,t+u),r.lineTo(e-s+l,t+u),r.lineTo(e-s,t+u-l),r.lineTo(e-s,t-u+l),r.closePath()};Wd.drawBarrelPath=function(r,e,t,n,i){var a=n/2,o=i/2,s=e-a,u=e+a,l=t-o,c=t+o,f=fO(n,i),h=f.widthOffset,d=f.heightOffset,v=f.ctrlPtOffsetPct*h;r.beginPath&&r.beginPath(),r.moveTo(s,l+d),r.lineTo(s,c-d),r.quadraticCurveTo(s+v,c,s+h,c),r.lineTo(u-h,c),r.quadraticCurveTo(u-v,c,u,c-d),r.lineTo(u,l+d),r.quadraticCurveTo(u-v,l,u-h,l),r.lineTo(s+h,l),r.quadraticCurveTo(s+v,l,s,l+d),r.closePath()};var ET=Math.sin(0),OT=Math.cos(0),OO={},xO={},ER=Math.PI/40;for(var fg=0*Math.PI;fg<2*Math.PI;fg+=ER)OO[fg]=Math.sin(fg),xO[fg]=Math.cos(fg);Wd.drawEllipsePath=function(r,e,t,n,i){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=ER)a=e-s*OO[l]*ET+s*xO[l]*OT,o=t+u*xO[l]*ET+u*OO[l]*OT,l===0?r.moveTo(a,o):r.lineTo(a,o);r.closePath()};var fm={};fm.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]};fm.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),i=this.findContainerClientCoords(),a=r.full?Math.ceil(n.w):i[2],o=r.full?Math.ceil(n.h):i[3],s=Gt(r.maxWidth)||Gt(r.maxHeight),u=this.getPixelRatio(),l=1;if(r.scale!==void 0)a*=r.scale,o*=r.scale,l=r.scale;else if(s){var c=1/0,f=1/0;Gt(r.maxWidth)&&(c=l*r.maxWidth/a),Gt(r.maxHeight)&&(f=l*r.maxHeight/o),l=Math.min(c,f),a*=l,o*=l}s||(a*=u,o*=u,l*=u);var h=document.createElement("canvas");h.width=a,h.height=o,h.style.width=a+"px",h.style.height=o+"px";var d=h.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(r.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var y=e.pan(),w={x:y.x*l,y:y.y*l};l*=e.zoom(),d.translate(w.x,w.y),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(-w.x,-w.y)}r.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=r.bg,d.rect(0,0,a,o),d.fill())}return h};function KF(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),i=new Uint8Array(n),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return new Blob([n],{type:e})}function xT(r){var e=r.indexOf(",");return r.substr(e+1)}function OR(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new Lg(function(i,a){try{e.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(o){a(o)}});case"blob":return KF(xT(n()),t);case"base64":return xT(n());case"base64uri":default:return n()}}fm.png=function(r){return OR(r,this.bufferCanvasImage(r),"image/png")};fm.jpg=function(r){return OR(r,this.bufferCanvasImage(r),"image/jpeg")};var xR={};xR.nodeShapeImpl=function(r,e,t,n,i,a,o,s){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,i,a);case"polygon":return this.drawPolygonPath(e,t,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,i,a,s);case"barrel":return this.drawBarrelPath(e,t,n,i,a)}};var ZF=SR,xn=SR.prototype;xn.CANVAS_LAYERS=3;xn.SELECT_BOX=0;xn.DRAG=1;xn.NODE=2;xn.BUFFER_COUNT=3;xn.TEXTURE_BUFFER=0;xn.MOTIONBLUR_BUFFER_NODE=1;xn.MOTIONBLUR_BUFFER_DRAG=2;function SR(r){var e=this;e.data={canvases:new Array(xn.CANVAS_LAYERS),contexts:new Array(xn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(xn.CANVAS_LAYERS),bufferCanvases:new Array(xn.BUFFER_COUNT),bufferContexts:new Array(xn.CANVAS_LAYERS)};var t="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[t]=n,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=r.cy.container();a.appendChild(e.data.canvasContainer),a.style[t]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};FD()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<xn.CANVAS_LAYERS;s++){var u=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=u.getContext("2d"),Object.keys(o).forEach(function(je){u.style[je]=o[je]}),u.style.position="absolute",u.setAttribute("data-id","layer"+s),u.style.zIndex=String(xn.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[xn.NODE].setAttribute("data-id","layer"+xn.NODE+"-node"),e.data.canvases[xn.SELECT_BOX].setAttribute("data-id","layer"+xn.SELECT_BOX+"-selectbox"),e.data.canvases[xn.DRAG].setAttribute("data-id","layer"+xn.DRAG+"-drag");for(var s=0;s<xn.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var l=Vs(),c=function(xe){return{x:(xe.x1+xe.x2)/2,y:(xe.y1+xe.y2)/2}},f=function(xe){return{x:-xe.w/2,y:-xe.h/2}},h=function(xe){var Se=xe[0]._private,Re=Se.oldBackgroundTimestamp===Se.backgroundTimestamp;return!Re},d=function(xe){return xe[0]._private.nodeKey},v=function(xe){return xe[0]._private.labelStyleKey},y=function(xe){return xe[0]._private.sourceLabelStyleKey},w=function(xe){return xe[0]._private.targetLabelStyleKey},b=function(xe,Se,Re,Oe,Pe){return e.drawElement(xe,Se,Re,!1,!1,Pe)},g=function(xe,Se,Re,Oe,Pe){return e.drawElementText(xe,Se,Re,Oe,"main",Pe)},_=function(xe,Se,Re,Oe,Pe){return e.drawElementText(xe,Se,Re,Oe,"source",Pe)},x=function(xe,Se,Re,Oe,Pe){return e.drawElementText(xe,Se,Re,Oe,"target",Pe)},P=function(xe){return xe.boundingBox(),xe[0]._private.bodyBounds},I=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.main||l},T=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.source||l},A=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.target||l},D=function(xe,Se){return Se},N=function(xe){return c(P(xe))},j=function(xe,Se,Re){var Oe=xe?xe+"-":"";return{x:Se.x+Re.pstyle(Oe+"text-margin-x").pfValue,y:Se.y+Re.pstyle(Oe+"text-margin-y").pfValue}},B=function(xe,Se,Re){var Oe=xe[0]._private.rscratch;return{x:Oe[Se],y:Oe[Re]}},W=function(xe){return j("",B(xe,"labelX","labelY"),xe)},V=function(xe){return j("source",B(xe,"sourceLabelX","sourceLabelY"),xe)},J=function(xe){return j("target",B(xe,"targetLabelX","targetLabelY"),xe)},ee=function(xe){return f(P(xe))},te=function(xe){return f(T(xe))},re=function(xe){return f(A(xe))},de=function(xe){var Se=I(xe),Re=f(I(xe));if(xe.isNode()){switch(xe.pstyle("text-halign").value){case"left":Re.x=-Se.w;break;case"right":Re.x=0;break}switch(xe.pstyle("text-valign").value){case"top":Re.y=-Se.h;break;case"bottom":Re.y=0;break}}return Re},pe=e.data.eleTxrCache=new ky(e,{getKey:d,doesEleInvalidateKey:h,drawElement:b,getBoundingBox:P,getRotationPoint:N,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),fe=e.data.lblTxrCache=new ky(e,{getKey:v,drawElement:g,getBoundingBox:I,getRotationPoint:W,getRotationOffset:de,isVisible:D}),ye=e.data.slbTxrCache=new ky(e,{getKey:y,drawElement:_,getBoundingBox:T,getRotationPoint:V,getRotationOffset:te,isVisible:D}),Me=e.data.tlbTxrCache=new ky(e,{getKey:w,drawElement:x,getBoundingBox:A,getRotationPoint:J,getRotationOffset:re,isVisible:D}),Ne=e.data.lyrTxrCache=new mR(e);e.onUpdateEleCalcs(function(xe,Se){pe.invalidateElements(Se),fe.invalidateElements(Se),ye.invalidateElements(Se),Me.invalidateElements(Se),Ne.invalidateElements(Se);for(var Re=0;Re<Se.length;Re++){var Oe=Se[Re]._private;Oe.oldBackgroundTimestamp=Oe.backgroundTimestamp}});var ke=function(xe){for(var Se=0;Se<xe.length;Se++)Ne.enqueueElementRefinement(xe[Se].ele)};pe.onDequeue(ke),fe.onDequeue(ke),ye.onDequeue(ke),Me.onDequeue(ke)}xn.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[xn.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[xn.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[xn.SELECT_BOX]=e;break}};var QF=typeof Path2D<"u";xn.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};xn.usePaths=function(){return QF&&this.pathsEnabled};xn.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)};xn.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};xn.makeOffscreenCanvas=function(r,e){var t;return(typeof OffscreenCanvas>"u"?"undefined":Fo(OffscreenCanvas))!=="undefined"?t=new OffscreenCanvas(r,e):(t=document.createElement("canvas"),t.width=r,t.height=e),t};[bR,vf,Ph,fx,fp,Gg,Au,Wd,fm,xR].forEach(function(r){br(xn,r)});var JF=[{name:"null",impl:aR},{name:"base",impl:gR},{name:"canvas",impl:ZF}],eB=[{type:"layout",extensions:aF},{type:"renderer",extensions:JF}],TR={},CR={};function PR(r,e,t){var n=t,i=function(A){Bn("Can not register `"+e+"` for `"+r+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(em.prototype[e])return i(e);em.prototype[e]=t}else if(r==="collection"){if(Ta.prototype[e])return i(e);Ta.prototype[e]=t}else if(r==="layout"){for(var a=function(A){this.options=A,t.call(this,A),bn(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(t.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=t.prototype.stop;o.stop=function(){var T=this.options;if(T&&T.animate){var A=this.animations;if(A)for(var D=0;D<A.length;D++)A[D].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var f=function(A){return A._private.cy},h={addEventFields:function(A,D){D.layout=A,D.cy=f(A),D.target=A},bubble:function(){return!0},parent:function(A){return f(A)}};br(o,{createEmitter:function(){return this._private.emitter=new X0(h,this),this},emitter:function(){return this._private.emitter},on:function(A,D){return this.emitter().on(A,D),this},one:function(A,D){return this.emitter().one(A,D),this},once:function(A,D){return this.emitter().one(A,D),this},removeListener:function(A,D){return this.emitter().removeListener(A,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,D){return this.emitter().emit(A,D),this}}),Fn.eventAliasesOn(o),n=a}else if(r==="renderer"&&e!=="null"&&e!=="base"){var d=AR("renderer","base"),v=d.prototype,y=t,w=t.prototype,b=function(){d.apply(this,arguments),y.apply(this,arguments)},g=b.prototype;for(var _ in v){var x=v[_],P=w[_]!=null;if(P)return i(_);g[_]=x}for(var I in w)g[I]=w[I];v.clientFunctions.forEach(function(T){g[T]=g[T]||function(){Ji("Renderer does not implement `renderer."+T+"()` on its prototype")}}),n=b}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Ji(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return eI({map:TR,keys:[r,e],value:n})}function AR(r,e){return tI({map:TR,keys:[r,e]})}function tB(r,e,t,n,i){return eI({map:CR,keys:[r,e,t,n],value:i})}function rB(r,e,t,n){return tI({map:CR,keys:[r,e,t,n]})}var SO=function(){if(arguments.length===2)return AR.apply(null,arguments);if(arguments.length===3)return PR.apply(null,arguments);if(arguments.length===4)return rB.apply(null,arguments);if(arguments.length===5)return tB.apply(null,arguments);Ji("Invalid extension access syntax")};em.prototype.extension=SO;eB.forEach(function(r){r.extensions.forEach(function(e){PR(r.type,e.name,e.impl)})});var IR=function r(){if(!(this instanceof r))return new r;this.length=0},ap=IR.prototype;ap.instanceString=function(){return"stylesheet"};ap.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this};ap.css=function(r,e){var t=this.length-1;if(hr(r))this[t].properties.push({name:r,value:e});else if(bn(r))for(var n=r,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var u=Wa.properties[o]||Wa.properties[B0(o)];if(u!=null){var l=u.name,c=s;this[t].properties.push({name:l,value:c})}}}return this};ap.style=ap.css;ap.generateStyle=function(r){var e=new Wa(r);return this.appendToStyle(e)};ap.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,i=t.properties;r.selector(n);for(var a=0;a<i.length;a++){var o=i[a];r.css(o.name,o.value)}}return r};var nB="3.29.2",zd=function(e){if(e===void 0&&(e={}),bn(e))return new em(e);if(hr(e))return SO.apply(SO,arguments)};zd.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(zd),r.apply(null,e),this};zd.warnings=function(r){return lI(r)};zd.version=nB;zd.stylesheet=zd.Stylesheet=IR;var RR={exports:{}},p_={exports:{}},g_={exports:{}},ST;function iB(){return ST||(ST=1,function(r,e){(function(n,i){r.exports=i()})(cn,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.i=function(a){return a},i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=26)}([function(t,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,t.exports=a},function(t,n,i){var a=i(2),o=i(8),s=i(9);function u(c,f,h){a.call(this,h),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=h,this.bendpoints=[],this.source=c,this.target=f}u.prototype=Object.create(a.prototype);for(var l in a)u[l]=a[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(c,f){for(var h=this.getOtherEnd(c),d=f.getGraphManager().getRoot();;){if(h.getOwner()==f)return h;if(h.getOwner()==d)break;h=h.getOwner().getParent()}return null},u.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=u},function(t,n,i){function a(o){this.vGraphObject=o}t.exports=a},function(t,n,i){var a=i(2),o=i(10),s=i(13),u=i(0),l=i(16),c=i(4);function f(d,v,y,w){y==null&&w==null&&(w=v),a.call(this,w),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=d,y!=null&&v!=null?this.rect=new s(v.x,v.y,y.width,y.height):this.rect=new s}f.prototype=Object.create(a.prototype);for(var h in a)f[h]=a[h];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(d){this.rect.width=d},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(d){this.rect.height=d},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(d,v){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=v.width,this.rect.height=v.height},f.prototype.setCenter=function(d,v){this.rect.x=d-this.rect.width/2,this.rect.y=v-this.rect.height/2},f.prototype.setLocation=function(d,v){this.rect.x=d,this.rect.y=v},f.prototype.moveBy=function(d,v){this.rect.x+=d,this.rect.y+=v},f.prototype.getEdgeListToNode=function(d){var v=[],y=this;return y.edges.forEach(function(w){if(w.target==d){if(w.source!=y)throw"Incorrect edge source!";v.push(w)}}),v},f.prototype.getEdgesBetween=function(d){var v=[],y=this;return y.edges.forEach(function(w){if(!(w.source==y||w.target==y))throw"Incorrect edge source and/or target";(w.target==d||w.source==d)&&v.push(w)}),v},f.prototype.getNeighborsList=function(){var d=new Set,v=this;return v.edges.forEach(function(y){if(y.source==v)d.add(y.target);else{if(y.target!=v)throw"Incorrect incidency!";d.add(y.source)}}),d},f.prototype.withChildren=function(){var d=new Set,v,y;if(d.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)v=w[b],y=v.withChildren(),y.forEach(function(g){d.add(g)});return d},f.prototype.getNoOfChildren=function(){var d=0,v;if(this.child==null)d=1;else for(var y=this.child.getNodes(),w=0;w<y.length;w++)v=y[w],d+=v.getNoOfChildren();return d==0&&(d=1),d},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var d,v,y=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;d=u.WORLD_CENTER_X+l.nextDouble()*(w-y)+y;var b=-u.INITIAL_WORLD_BOUNDARY,g=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_Y+l.nextDouble()*(g-b)+b,this.rect.x=d,this.rect.y=v},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var v=d.getRight()-d.getLeft(),y=d.getBottom()-d.getTop();this.labelWidth>v&&(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(d){var v=this.rect.x;v>u.WORLD_BOUNDARY?v=u.WORLD_BOUNDARY:v<-u.WORLD_BOUNDARY&&(v=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var w=new c(v,y),b=d.inverseTransformPoint(w);this.setLocation(b.x,b.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=f},function(t,n,i){function a(o,s){o==null&&s==null?(this.x=0,this.y=0):(this.x=o,this.y=s)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(o){this.x=o},a.prototype.setY=function(o){this.y=o},a.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},t.exports=a},function(t,n,i){var a=i(2),o=i(10),s=i(0),u=i(6),l=i(3),c=i(1),f=i(13),h=i(12),d=i(11);function v(w,b,g){a.call(this,g),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}v.prototype=Object.create(a.prototype);for(var y in a)v[y]=a[y];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(w,b,g){if(b==null&&g==null){var _=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(_)>-1)throw"Node already in graph!";return _.owner=this,this.getNodes().push(_),_}else{var x=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(g)>-1))throw"Source or target not in graph!";if(!(b.owner==g.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=g.owner?null:(x.source=b,x.target=g,x.isInterGraph=!1,this.getEdges().push(x),b.edges.push(x),g!=b&&g.edges.push(x),x)}},v.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var g=b.edges.slice(),_,x=g.length,P=0;P<x;P++)_=g[P],_.isInterGraph?this.graphManager.remove(_):_.source.owner.remove(_);var I=this.nodes.indexOf(b);if(I==-1)throw"Node not in owner node list!";this.nodes.splice(I,1)}else if(w instanceof c){var _=w;if(_==null)throw"Edge is null!";if(!(_.source!=null&&_.target!=null))throw"Source and/or target is null!";if(!(_.source.owner!=null&&_.target.owner!=null&&_.source.owner==this&&_.target.owner==this))throw"Source and/or target owner is invalid!";var T=_.source.edges.indexOf(_),A=_.target.edges.indexOf(_);if(!(T>-1&&A>-1))throw"Source and/or target doesn't know this edge!";_.source.edges.splice(T,1),_.target!=_.source&&_.target.edges.splice(A,1);var I=_.source.owner.getEdges().indexOf(_);if(I==-1)throw"Not in owner's edge list!";_.source.owner.getEdges().splice(I,1)}},v.prototype.updateLeftTop=function(){for(var w=o.MAX_VALUE,b=o.MAX_VALUE,g,_,x,P=this.getNodes(),I=P.length,T=0;T<I;T++){var A=P[T];g=A.getTop(),_=A.getLeft(),w>g&&(w=g),b>_&&(b=_)}return w==o.MAX_VALUE?null:(P[0].getParent().paddingLeft!=null?x=P[0].getParent().paddingLeft:x=this.margin,this.left=b-x,this.top=w-x,new h(this.left,this.top))},v.prototype.updateBounds=function(w){for(var b=o.MAX_VALUE,g=-o.MAX_VALUE,_=o.MAX_VALUE,x=-o.MAX_VALUE,P,I,T,A,D,N=this.nodes,j=N.length,B=0;B<j;B++){var W=N[B];w&&W.child!=null&&W.updateBounds(),P=W.getLeft(),I=W.getRight(),T=W.getTop(),A=W.getBottom(),b>P&&(b=P),g<I&&(g=I),_>T&&(_=T),x<A&&(x=A)}var V=new f(b,_,g-b,x-_);b==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),N[0].getParent().paddingLeft!=null?D=N[0].getParent().paddingLeft:D=this.margin,this.left=V.x-D,this.right=V.x+V.width+D,this.top=V.y-D,this.bottom=V.y+V.height+D},v.calculateBounds=function(w){for(var b=o.MAX_VALUE,g=-o.MAX_VALUE,_=o.MAX_VALUE,x=-o.MAX_VALUE,P,I,T,A,D=w.length,N=0;N<D;N++){var j=w[N];P=j.getLeft(),I=j.getRight(),T=j.getTop(),A=j.getBottom(),b>P&&(b=P),g<I&&(g=I),_>T&&(_=T),x<A&&(x=A)}var B=new f(b,_,g-b,x-_);return B},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,g=b.length,_=0;_<g;_++){var x=b[_];w+=x.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new d,g=new Set,_=this.nodes[0],x,P,I=_.withChildren();for(I.forEach(function(B){b.push(B),g.add(B)});b.length!==0;){_=b.shift(),x=_.getEdges();for(var T=x.length,A=0;A<T;A++){var D=x[A];if(P=D.getOtherEndInGraph(_,this),P!=null&&!g.has(P)){var N=P.withChildren();N.forEach(function(B){b.push(B),g.add(B)})}}}if(this.isConnected=!1,g.size>=this.nodes.length){var j=0;g.forEach(function(B){B.owner==w&&j++}),j==this.nodes.length&&(this.isConnected=!0)}},t.exports=v},function(t,n,i){var a,o=i(1);function s(u){a=i(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),c=this.add(u,l);return this.setRootGraph(c),this.rootGraph},s.prototype.add=function(u,l,c,f,h){if(c==null&&f==null&&h==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{h=c,f=l,c=u;var d=f.getOwner(),v=h.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==v)return c.isInterGraph=!1,d.add(c,f,h);if(c.isInterGraph=!0,c.source=f,c.target=h,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},s.prototype.remove=function(u){if(u instanceof a){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(l.getEdges());for(var f,h=c.length,d=0;d<h;d++)f=c[d],l.remove(f);var v=[];v=v.concat(l.getNodes());var y;h=v.length;for(var d=0;d<h;d++)y=v[d],l.remove(y);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof o){if(f=u,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var w=f.source.edges.indexOf(f);if(f.source.edges.splice(w,1),w=f.target.edges.indexOf(f),f.target.edges.splice(w,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var w=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),c=l.length,f=0;f<c;f++)u=u.concat(l[f].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var c=0;c<l.length;c++)u=u.concat(l[c].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var c=u.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=l.getOwner();do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,c,f,h,d=this.getAllEdges(),v=d.length,y=0;y<v;y++){if(u=d[y],l=u.source,c=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=c,l==c){u.lca=l.getOwner();continue}for(f=l.getOwner();u.lca==null;){for(u.targetInLca=c,h=c.getOwner();u.lca==null;){if(h==f){u.lca=h;break}if(h==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=h.getParent(),h=u.targetInLca.getOwner()}if(f==this.rootGraph)break;u.lca==null&&(u.sourceInLca=f.getParent(),f=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var c=u.getOwner();do{if(c==null)break;var f=l.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var c,f=u.getNodes(),h=f.length,d=0;d<h;d++)c=f[d],c.inclusionTreeDepth=l,c.child!=null&&this.calcInclusionTreeDepths(c.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,c=0;c<l;c++)if(u=this.edges[c],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},t.exports=s},function(t,n,i){var a=i(0);function o(){}for(var s in a)o[s]=a[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=o},function(t,n,i){var a=i(12);function o(){}o.calcSeparationAmount=function(s,u,l,c){if(!s.intersects(u))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,f),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var h=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(h=1);var d=h*l[0],v=l[1]/h;l[0]<v?v=l[0]:d=l[1],l[0]=-1*f[0]*(v/2+c),l[1]=-1*f[1]*(d/2+c)},o.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(s,u,l){var c=s.getCenterX(),f=s.getCenterY(),h=u.getCenterX(),d=u.getCenterY();if(s.intersects(u))return l[0]=c,l[1]=f,l[2]=h,l[3]=d,!0;var v=s.getX(),y=s.getY(),w=s.getRight(),b=s.getX(),g=s.getBottom(),_=s.getRight(),x=s.getWidthHalf(),P=s.getHeightHalf(),I=u.getX(),T=u.getY(),A=u.getRight(),D=u.getX(),N=u.getBottom(),j=u.getRight(),B=u.getWidthHalf(),W=u.getHeightHalf(),V=!1,J=!1;if(c===h){if(f>d)return l[0]=c,l[1]=y,l[2]=h,l[3]=N,!1;if(f<d)return l[0]=c,l[1]=g,l[2]=h,l[3]=T,!1}else if(f===d){if(c>h)return l[0]=v,l[1]=f,l[2]=A,l[3]=d,!1;if(c<h)return l[0]=w,l[1]=f,l[2]=I,l[3]=d,!1}else{var ee=s.height/s.width,te=u.height/u.width,re=(d-f)/(h-c),de=void 0,pe=void 0,fe=void 0,ye=void 0,Me=void 0,Ne=void 0;if(-ee===re?c>h?(l[0]=b,l[1]=g,V=!0):(l[0]=w,l[1]=y,V=!0):ee===re&&(c>h?(l[0]=v,l[1]=y,V=!0):(l[0]=_,l[1]=g,V=!0)),-te===re?h>c?(l[2]=D,l[3]=N,J=!0):(l[2]=A,l[3]=T,J=!0):te===re&&(h>c?(l[2]=I,l[3]=T,J=!0):(l[2]=j,l[3]=N,J=!0)),V&&J)return!1;if(c>h?f>d?(de=this.getCardinalDirection(ee,re,4),pe=this.getCardinalDirection(te,re,2)):(de=this.getCardinalDirection(-ee,re,3),pe=this.getCardinalDirection(-te,re,1)):f>d?(de=this.getCardinalDirection(-ee,re,1),pe=this.getCardinalDirection(-te,re,3)):(de=this.getCardinalDirection(ee,re,2),pe=this.getCardinalDirection(te,re,4)),!V)switch(de){case 1:ye=y,fe=c+-P/re,l[0]=fe,l[1]=ye;break;case 2:fe=_,ye=f+x*re,l[0]=fe,l[1]=ye;break;case 3:ye=g,fe=c+P/re,l[0]=fe,l[1]=ye;break;case 4:fe=b,ye=f+-x*re,l[0]=fe,l[1]=ye;break}if(!J)switch(pe){case 1:Ne=T,Me=h+-W/re,l[2]=Me,l[3]=Ne;break;case 2:Me=j,Ne=d+B*re,l[2]=Me,l[3]=Ne;break;case 3:Ne=N,Me=h+W/re,l[2]=Me,l[3]=Ne;break;case 4:Me=D,Ne=d+-B*re,l[2]=Me,l[3]=Ne;break}}return!1},o.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},o.getIntersection=function(s,u,l,c){if(c==null)return this.getIntersection2(s,u,l);var f=s.x,h=s.y,d=u.x,v=u.y,y=l.x,w=l.y,b=c.x,g=c.y,_=void 0,x=void 0,P=void 0,I=void 0,T=void 0,A=void 0,D=void 0,N=void 0,j=void 0;return P=v-h,T=f-d,D=d*h-f*v,I=g-w,A=y-b,N=b*w-y*g,j=P*A-I*T,j===0?null:(_=(T*N-A*D)/j,x=(I*D-P*N)/j,new a(_,x))},o.angleOfVector=function(s,u,l,c){var f=void 0;return s!==l?(f=Math.atan((c-u)/(l-s)),l<s?f+=Math.PI:c<u&&(f+=this.TWO_PI)):c<u?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},o.doIntersect=function(s,u,l,c){var f=s.x,h=s.y,d=u.x,v=u.y,y=l.x,w=l.y,b=c.x,g=c.y,_=(d-f)*(g-w)-(b-y)*(v-h);if(_===0)return!1;var x=((g-w)*(b-f)+(y-b)*(g-h))/_,P=((h-v)*(b-f)+(d-f)*(g-h))/_;return 0<x&&x<1&&0<P&&P<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,t.exports=o},function(t,n,i){function a(){}a.sign=function(o){return o>0?1:o<0?-1:0},a.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},a.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},t.exports=a},function(t,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,t.exports=a},function(t,n,i){var a=function(){function f(h,d){for(var v=0;v<d.length;v++){var y=d[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,d,v){return d&&f(h.prototype,d),v&&f(h,v),h}}();function o(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var s=function(h){return{value:h,next:null,prev:null}},u=function(h,d,v,y){return h!==null?h.next=d:y.head=d,v!==null?v.prev=d:y.tail=d,d.prev=h,d.next=v,y.length++,d},l=function(h,d){var v=h.prev,y=h.next;return v!==null?v.next=y:d.head=y,y!==null?y.prev=v:d.tail=v,h.prev=h.next=null,d.length--,h},c=function(){function f(h){var d=this;o(this,f),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(v){return d.push(v)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,v){return u(v.prev,s(d),v,this)}},{key:"insertAfter",value:function(d,v){return u(v,s(d),v.next,this)}},{key:"insertNodeBefore",value:function(d,v){return u(v.prev,d,v,this)}},{key:"insertNodeAfter",value:function(d,v){return u(v,d,v.next,this)}},{key:"push",value:function(d){return u(this.tail,s(d),null,this)}},{key:"unshift",value:function(d){return u(null,s(d),this.head,this)}},{key:"remove",value:function(d){return l(d,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var v=1,y=this.head;v<d;)y=y.next,v++;return y.value}}},{key:"set_object_at",value:function(d,v){if(d<=this.length()){for(var y=1,w=this.head;y<d;)w=w.next,y++;w.value=v}}}]),f}();t.exports=c},function(t,n,i){function a(o,s,u){this.x=null,this.y=null,o==null&&s==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof s=="number"&&u==null?(this.x=o,this.y=s):o.constructor.name=="Point"&&s==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(o,s,u){o.constructor.name=="Point"&&s==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof s=="number"&&u==null&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},a.prototype.move=function(o,s){this.x=o,this.y=s},a.prototype.translate=function(o,s){this.x+=o,this.y+=s},a.prototype.equals=function(o){if(o.constructor.name=="Point"){var s=o;return this.x==s.x&&this.y==s.y}return this==o},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=a},function(t,n,i){function a(o,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&s!=null&&u!=null&&l!=null&&(this.x=o,this.y=s,this.width=u,this.height=l)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(o){this.x=o},a.prototype.getY=function(){return this.y},a.prototype.setY=function(o){this.y=o},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},t.exports=a},function(t,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return s==null&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var u=typeof s>"u"?"undefined":a(s);return s==null||u!="object"&&u!="function"},t.exports=o},function(t,n,i){function a(y){if(Array.isArray(y)){for(var w=0,b=Array(y.length);w<y.length;w++)b[w]=y[w];return b}else return Array.from(y)}var o=i(0),s=i(6),u=i(3),l=i(1),c=i(5),f=i(4),h=i(17),d=i(27);function v(y){d.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}v.RANDOM_SEED=1,v.prototype=Object.create(d.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var y=new s(this);return this.graphManager=y,y},v.prototype.newGraph=function(y){return new c(null,this.graphManager,y)},v.prototype.newNode=function(y){return new u(this.graphManager,y)},v.prototype.newEdge=function(y){return new l(null,null,y)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),o.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),w=0;w<y.length;w++)y[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},v.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var w=y;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),g=0;g<b.length;g++)update(b[g]);if(w.vGraphObject!=null){var _=w.vGraphObject;_.update(w)}}else if(y instanceof l){var x=y;if(x.vGraphObject!=null){var P=x.vGraphObject;P.update(x)}}else if(y instanceof c){var I=y;if(I.vGraphObject!=null){var T=I.vGraphObject;T.update(I)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(y){if(y==null)this.transform(new f(0,0));else{var w=new h,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(y.x),w.setWorldOrgY(y.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var g=this.getAllNodes(),_,x=0;x<g.length;x++)_=g[x],_.transform(w)}}},v.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,g=y.getNodes(),_=0;_<g.length;_++)w=g[_],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},v.prototype.getFlatForest=function(){for(var y=[],w=!0,b=this.graphManager.getRoot().getNodes(),g=!0,_=0;_<b.length;_++)b[_].getChild()!=null&&(g=!1);if(!g)return y;var x=new Set,P=[],I=new Map,T=[];for(T=T.concat(b);T.length>0&&w;){for(P.push(T[0]);P.length>0&&w;){var A=P[0];P.splice(0,1),x.add(A);for(var D=A.getEdges(),_=0;_<D.length;_++){var N=D[_].getOtherEnd(A);if(I.get(A)!=N)if(!x.has(N))P.push(N),I.set(N,A);else{w=!1;break}}}if(!w)y=[];else{var j=[].concat(a(x));y.push(j);for(var _=0;_<j.length;_++){var B=j[_],W=T.indexOf(B);W>-1&&T.splice(W,1)}x=new Set,I=new Map}}return y},v.prototype.createDummyNodesForBendpoints=function(y){for(var w=[],b=y.source,g=this.graphManager.calcLowestCommonAncestor(y.source,y.target),_=0;_<y.bendpoints.length;_++){var x=this.newNode(null);x.setRect(new Point(0,0),new Dimension(1,1)),g.add(x);var P=this.newEdge(null);this.graphManager.add(P,b,x),w.add(x),b=x}var P=this.newEdge(null);return this.graphManager.add(P,b,y.target),this.edgeToDummyNodes.set(y,w),y.isInterGraph()?this.graphManager.remove(y):g.remove(y),w},v.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var w=0;w<y.length;w++){var b=y[w];if(b.bendpoints.length>0){for(var g=this.edgeToDummyNodes.get(b),_=0;_<g.length;_++){var x=g[_],P=new f(x.getCenterX(),x.getCenterY()),I=b.bendpoints.get(_);I.x=P.x,I.y=P.y,x.getOwner().remove(x)}this.graphManager.add(b,b.source,b.target)}}},v.transform=function(y,w,b,g){if(b!=null&&g!=null){var _=w;if(y<=50){var x=w/b;_-=(w-x)/50*(50-y)}else{var P=w*g;_+=(P-w)/50*(y-50)}return _}else{var I,T;return y<=50?(I=9*w/500,T=w/10):(I=9*w/50,T=-8*w),I*y+T}},v.findCenterOfTree=function(y){var w=[];w=w.concat(y);var b=[],g=new Map,_=!1,x=null;(w.length==1||w.length==2)&&(_=!0,x=w[0]);for(var P=0;P<w.length;P++){var I=w[P],T=I.getNeighborsList().size;g.set(I,I.getNeighborsList().size),T==1&&b.push(I)}var A=[];for(A=A.concat(b);!_;){var D=[];D=D.concat(A),A=[];for(var P=0;P<w.length;P++){var I=w[P],N=w.indexOf(I);N>=0&&w.splice(N,1);var j=I.getNeighborsList();j.forEach(function(V){if(b.indexOf(V)<0){var J=g.get(V),ee=J-1;ee==1&&A.push(V),g.set(V,ee)}})}b=b.concat(A),(w.length==1||w.length==2)&&(_=!0,x=w[0])}return x},v.prototype.setGraphManager=function(y){this.graphManager=y},t.exports=v},function(t,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},t.exports=a},function(t,n,i){var a=i(4);function o(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},o.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},o.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},o.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},o.prototype.inverseTransformPoint=function(s){var u=new a(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},t.exports=o},function(t,n,i){function a(d){if(Array.isArray(d)){for(var v=0,y=Array(d.length);v<d.length;v++)y[v]=d[v];return y}else return Array.from(d)}var o=i(15),s=i(7),u=i(0),l=i(8),c=i(9);function f(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}f.prototype=Object.create(o.prototype);for(var h in o)f[h]=o[h];f.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var d,v,y,w,b,g,_=this.getGraphManager().getAllEdges(),x=0;x<_.length;x++)d=_[x],d.idealLength=this.idealEdgeLength,d.isInterGraph&&(y=d.getSource(),w=d.getTarget(),b=d.getSourceInLca().getEstimatedSize(),g=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=b+g-2*u.SIMPLE_NODE_SIZE),v=d.getLca().getInclusionTreeDepth(),d.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*v))},f.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),v,y=0;y<d.length;y++)v=d[y],this.calcSpringForce(v,v.idealLength)},f.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,w,b,g,_=this.getAllNodes(),x;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),x=new Set,y=0;y<_.length;y++)b=_[y],this.calculateRepulsionForceOfANode(b,x,d,v),x.add(b);else for(y=0;y<_.length;y++)for(b=_[y],w=y+1;w<_.length;w++)g=_[w],b.getOwner()==g.getOwner()&&this.calcRepulsionForce(b,g)},f.prototype.calcGravitationalForces=function(){for(var d,v=this.getAllNodesToApplyGravitation(),y=0;y<v.length;y++)d=v[y],this.calcGravitationalForce(d)},f.prototype.moveNodes=function(){for(var d=this.getAllNodes(),v,y=0;y<d.length;y++)v=d[y],v.move()},f.prototype.calcSpringForce=function(d,v){var y=d.getSource(),w=d.getTarget(),b,g,_,x;if(this.uniformLeafNodeSizes&&y.getChild()==null&&w.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;b=d.getLength(),b!=0&&(g=this.springConstant*(b-v),_=g*(d.lengthX/b),x=g*(d.lengthY/b),y.springForceX+=_,y.springForceY+=x,w.springForceX-=_,w.springForceY-=x)},f.prototype.calcRepulsionForce=function(d,v){var y=d.getRect(),w=v.getRect(),b=new Array(2),g=new Array(4),_,x,P,I,T,A,D;if(y.intersects(w)){l.calcSeparationAmount(y,w,b,s.DEFAULT_EDGE_LENGTH/2),A=2*b[0],D=2*b[1];var N=d.noOfChildren*v.noOfChildren/(d.noOfChildren+v.noOfChildren);d.repulsionForceX-=N*A,d.repulsionForceY-=N*D,v.repulsionForceX+=N*A,v.repulsionForceY+=N*D}else this.uniformLeafNodeSizes&&d.getChild()==null&&v.getChild()==null?(_=w.getCenterX()-y.getCenterX(),x=w.getCenterY()-y.getCenterY()):(l.getIntersection(y,w,g),_=g[2]-g[0],x=g[3]-g[1]),Math.abs(_)<s.MIN_REPULSION_DIST&&(_=c.sign(_)*s.MIN_REPULSION_DIST),Math.abs(x)<s.MIN_REPULSION_DIST&&(x=c.sign(x)*s.MIN_REPULSION_DIST),P=_*_+x*x,I=Math.sqrt(P),T=this.repulsionConstant*d.noOfChildren*v.noOfChildren/P,A=T*_/I,D=T*x/I,d.repulsionForceX-=A,d.repulsionForceY-=D,v.repulsionForceX+=A,v.repulsionForceY+=D},f.prototype.calcGravitationalForce=function(d){var v,y,w,b,g,_,x,P;v=d.getOwner(),y=(v.getRight()+v.getLeft())/2,w=(v.getTop()+v.getBottom())/2,b=d.getCenterX()-y,g=d.getCenterY()-w,_=Math.abs(b)+d.getWidth()/2,x=Math.abs(g)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(P=v.getEstimatedSize()*this.gravityRangeFactor,(_>P||x>P)&&(d.gravitationForceX=-this.gravityConstant*b,d.gravitationForceY=-this.gravityConstant*g)):(P=v.getEstimatedSize()*this.compoundGravityRangeFactor,(_>P||x>P)&&(d.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*g*this.compoundGravityConstant))},f.prototype.isConverged=function(){var d,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||v},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,v=this.graphManager.getAllNodes(),y=0;y<v.length;y++)d=v[y],d.noOfChildren=d.getNoOfChildren()},f.prototype.calcGrid=function(d){var v=0,y=0;v=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var w=new Array(v),b=0;b<v;b++)w[b]=new Array(y);for(var b=0;b<v;b++)for(var g=0;g<y;g++)w[b][g]=new Array;return w},f.prototype.addNodeToGrid=function(d,v,y){var w=0,b=0,g=0,_=0;w=parseInt(Math.floor((d.getRect().x-v)/this.repulsionRange)),b=parseInt(Math.floor((d.getRect().width+d.getRect().x-v)/this.repulsionRange)),g=parseInt(Math.floor((d.getRect().y-y)/this.repulsionRange)),_=parseInt(Math.floor((d.getRect().height+d.getRect().y-y)/this.repulsionRange));for(var x=w;x<=b;x++)for(var P=g;P<=_;P++)this.grid[x][P].push(d),d.setGridCoordinates(w,b,g,_)},f.prototype.updateGrid=function(){var d,v,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<y.length;d++)v=y[d],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(d,v,y,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&y||w){var b=new Set;d.surrounding=new Array;for(var g,_=this.grid,x=d.startX-1;x<d.finishX+2;x++)for(var P=d.startY-1;P<d.finishY+2;P++)if(!(x<0||P<0||x>=_.length||P>=_[0].length)){for(var I=0;I<_[x][P].length;I++)if(g=_[x][P][I],!(d.getOwner()!=g.getOwner()||d==g)&&!v.has(g)&&!b.has(g)){var T=Math.abs(d.getCenterX()-g.getCenterX())-(d.getWidth()/2+g.getWidth()/2),A=Math.abs(d.getCenterY()-g.getCenterY())-(d.getHeight()/2+g.getHeight()/2);T<=this.repulsionRange&&A<=this.repulsionRange&&b.add(g)}}d.surrounding=[].concat(a(b))}for(x=0;x<d.surrounding.length;x++)this.calcRepulsionForce(d,d.surrounding[x])},f.prototype.calcRepulsionRange=function(){return 0},t.exports=f},function(t,n,i){var a=i(1),o=i(7);function s(l,c,f){a.call(this,l,c,f),this.idealLength=o.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];t.exports=s},function(t,n,i){var a=i(3);function o(u,l,c,f){a.call(this,u,l,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var s in a)o[s]=a[s];o.prototype.setGridCoordinates=function(u,l,c,f){this.startX=u,this.finishX=l,this.startY=c,this.finishY=f},t.exports=o},function(t,n,i){function a(o,s){this.width=0,this.height=0,o!==null&&s!==null&&(this.height=s,this.width=o)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},t.exports=a},function(t,n,i){var a=i(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,u){var l=a.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},o.prototype.contains=function(s){return a.createID(s),this.map[s]!=null},o.prototype.get=function(s){var u=a.createID(s);return this.map[u]},o.prototype.keySet=function(){return this.keys},t.exports=o},function(t,n,i){var a=i(14);function o(){this.set={}}o.prototype.add=function(s){var u=a.createID(s);this.contains(u)||(this.set[u]=s)},o.prototype.remove=function(s){delete this.set[a.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[a.createID(s)]==s},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,c=0;c<l;c++)s.push(this.set[u[c]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var c=s[l];this.add(c)}},t.exports=o},function(t,n,i){var a=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=i(11),u=function(){function l(c,f){o(this,l),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var h=void 0;c instanceof s?h=c.size():h=c.length,this._quicksort(c,0,h-1)}return a(l,[{key:"_quicksort",value:function(f,h,d){if(h<d){var v=this._partition(f,h,d);this._quicksort(f,h,v),this._quicksort(f,v+1,d)}}},{key:"_partition",value:function(f,h,d){for(var v=this._get(f,h),y=h,w=d;;){for(;this.compareFunction(v,this._get(f,w));)w--;for(;this.compareFunction(this._get(f,y),v);)y++;if(y<w)this._swap(f,y,w),y++,w--;else return w}}},{key:"_get",value:function(f,h){return f instanceof s?f.get_object_at(h):f[h]}},{key:"_set",value:function(f,h,d){f instanceof s?f.set_object_at(h,d):f[h]=d}},{key:"_swap",value:function(f,h,d){var v=this._get(f,h);this._set(f,h,this._get(f,d)),this._set(f,d,v)}},{key:"_defaultCompareFunction",value:function(f,h){return h>f}}]),l}();t.exports=u},function(t,n,i){var a=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}();function o(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=l,this.sequence2=c,this.match_score=f,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=l.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[v][y]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var h=1;h<this.iMax;h++)for(var d=1;d<this.jMax;d++){var v=void 0;this.sequence1[h-1]===this.sequence2[d-1]?v=this.grid[h-1][d-1]+this.match_score:v=this.grid[h-1][d-1]+this.mismatch_penalty;var y=this.grid[h-1][d]+this.gap_penalty,w=this.grid[h][d-1]+this.gap_penalty,b=[v,y,w],g=this.arrayAllMaxIndexes(b);this.grid[h][d]=b[g[0]],this.tracebackGrid[h][d]=[g.includes(0),g.includes(1),g.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],h=this.tracebackGrid[f.pos[0]][f.pos[1]];h[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),h[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),h[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var h=[],d=-1;(d=c.indexOf(f,d+1))!==-1;)h.push(d);return h}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),u}();t.exports=s},function(t,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),t.exports=a},function(t,n,i){function a(){this.listeners=[]}var o=a.prototype;o.addListener=function(s,u){this.listeners.push({event:s,callback:u})},o.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var c=this.listeners[l];c.event===s&&c.callback===u&&this.listeners.splice(l,1)}},o.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var c=this.listeners[l];s===c.event&&c.callback(u)}},t.exports=a}])})}(g_)),g_.exports}var TT;function oB(){return TT||(TT=1,function(r,e){(function(n,i){r.exports=i(iB())})(cn,function(t){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,s,u){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=7)}([function(n,i){n.exports=t},function(n,i,a){var o=a(0).FDLayoutConstants;function s(){}for(var u in o)s[u]=o[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,i,a){var o=a(0).FDLayoutEdge;function s(l,c,f){o.call(this,l,c,f)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).LGraph;function s(l,c,f){o.call(this,l,c,f)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).LGraphManager;function s(l){o.call(this,l)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).FDLayoutNode,s=a(0).IMath;function u(c,f,h,d){o.call(this,c,f,h,d)}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.move=function(){var c=this.graphManager.getLayout();this.displacementX=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(c,f){for(var h=this.getChild().getNodes(),d,v=0;v<h.length;v++)d=h[v],d.getChild()==null?(d.moveBy(c,f),d.displacementX+=c,d.displacementY+=f):d.propogateDisplacementToChildren(c,f)},u.prototype.setPred1=function(c){this.pred1=c},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(c){this.next=c},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(c){this.processed=c},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,a){var o=a(0).FDLayout,s=a(4),u=a(3),l=a(5),c=a(2),f=a(1),h=a(0).FDLayoutConstants,d=a(0).LayoutConstants,v=a(0).Point,y=a(0).PointD,w=a(0).Layout,b=a(0).Integer,g=a(0).IGeometry,_=a(0).LGraph,x=a(0).Transform;function P(){o.call(this),this.toBeTiled={}}P.prototype=Object.create(o.prototype);for(var I in o)P[I]=o[I];P.prototype.newGraphManager=function(){var T=new s(this);return this.graphManager=T,T},P.prototype.newGraph=function(T){return new u(null,this.graphManager,T)},P.prototype.newNode=function(T){return new l(this.graphManager,T)},P.prototype.newEdge=function(T){return new c(null,null,T)},P.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=h.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=h.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=h.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=h.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=h.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/h.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=h.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},P.prototype.layout=function(){var T=d.DEFAULT_CREATE_BENDS_AS_NEEDED;return T&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},P.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(f.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(B){return A.has(B)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var T=this.getFlatForest();if(T.length>0)this.positionNodesRadially(T);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(N){return A.has(N)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},P.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%h.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(j){return T.has(j)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,N=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,N),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},P.prototype.getPositionsData=function(){for(var T=this.graphManager.getAllNodes(),A={},D=0;D<T.length;D++){var N=T[D].rect,j=T[D].id;A[j]={id:j,x:N.getCenterX(),y:N.getCenterY(),w:N.width,h:N.height}}return A},P.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var T=!1;if(h.ANIMATE==="during")this.emit("layoutstarted");else{for(;!T;)T=this.tick();this.graphManager.updateBounds()}},P.prototype.calculateNodesToApplyGravitationTo=function(){var T=[],A,D=this.graphManager.getGraphs(),N=D.length,j;for(j=0;j<N;j++)A=D[j],A.updateConnected(),A.isConnected||(T=T.concat(A.getNodes()));return T},P.prototype.createBendpoints=function(){var T=[];T=T.concat(this.graphManager.getAllEdges());var A=new Set,D;for(D=0;D<T.length;D++){var N=T[D];if(!A.has(N)){var j=N.getSource(),B=N.getTarget();if(j==B)N.getBendpoints().push(new y),N.getBendpoints().push(new y),this.createDummyNodesForBendpoints(N),A.add(N);else{var W=[];if(W=W.concat(j.getEdgeListToNode(B)),W=W.concat(B.getEdgeListToNode(j)),!A.has(W[0])){if(W.length>1){var V;for(V=0;V<W.length;V++){var J=W[V];J.getBendpoints().push(new y),this.createDummyNodesForBendpoints(J)}}W.forEach(function(ee){A.add(ee)})}}}if(A.size==T.length)break}},P.prototype.positionNodesRadially=function(T){for(var A=new v(0,0),D=Math.ceil(Math.sqrt(T.length)),N=0,j=0,B=0,W=new y(0,0),V=0;V<T.length;V++){V%D==0&&(B=0,j=N,V!=0&&(j+=f.DEFAULT_COMPONENT_SEPERATION),N=0);var J=T[V],ee=w.findCenterOfTree(J);A.x=B,A.y=j,W=P.radialLayout(J,ee,A),W.y>N&&(N=Math.floor(W.y)),B=Math.floor(W.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(d.WORLD_CENTER_X-W.x/2,d.WORLD_CENTER_Y-W.y/2))},P.radialLayout=function(T,A,D){var N=Math.max(this.maxDiagonalInTree(T),f.DEFAULT_RADIAL_SEPARATION);P.branchRadialLayout(A,null,0,359,0,N);var j=_.calculateBounds(T),B=new x;B.setDeviceOrgX(j.getMinX()),B.setDeviceOrgY(j.getMinY()),B.setWorldOrgX(D.x),B.setWorldOrgY(D.y);for(var W=0;W<T.length;W++){var V=T[W];V.transform(B)}var J=new y(j.getMaxX(),j.getMaxY());return B.inverseTransformPoint(J)},P.branchRadialLayout=function(T,A,D,N,j,B){var W=(N-D+1)/2;W<0&&(W+=180);var V=(W+D)%360,J=V*g.TWO_PI/360,ee=j*Math.cos(J),te=j*Math.sin(J);T.setCenter(ee,te);var re=[];re=re.concat(T.getEdges());var de=re.length;A!=null&&de--;for(var pe=0,fe=re.length,ye,Me=T.getEdgesBetween(A);Me.length>1;){var Ne=Me[0];Me.splice(0,1);var ke=re.indexOf(Ne);ke>=0&&re.splice(ke,1),fe--,de--}A!=null?ye=(re.indexOf(Me[0])+1)%fe:ye=0;for(var je=Math.abs(N-D)/de,xe=ye;pe!=de;xe=++xe%fe){var Se=re[xe].getOtherEnd(T);if(Se!=A){var Re=(D+pe*je)%360,Oe=(Re+je)%360;P.branchRadialLayout(Se,T,Re,Oe,j+B,B),pe++}}},P.maxDiagonalInTree=function(T){for(var A=b.MIN_VALUE,D=0;D<T.length;D++){var N=T[D],j=N.getDiagonal();j>A&&(A=j)}return A},P.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},P.prototype.groupZeroDegreeMembers=function(){var T=this,A={};this.memberGroups={},this.idToDummyNode={};for(var D=[],N=this.graphManager.getAllNodes(),j=0;j<N.length;j++){var B=N[j],W=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(W.id==null||!this.getToBeTiled(W))&&D.push(B)}for(var j=0;j<D.length;j++){var B=D[j],V=B.getParent().id;typeof A[V]>"u"&&(A[V]=[]),A[V]=A[V].concat(B)}Object.keys(A).forEach(function(J){if(A[J].length>1){var ee="DummyCompound_"+J;T.memberGroups[ee]=A[J];var te=A[J][0].getParent(),re=new l(T.graphManager);re.id=ee,re.paddingLeft=te.paddingLeft||0,re.paddingRight=te.paddingRight||0,re.paddingBottom=te.paddingBottom||0,re.paddingTop=te.paddingTop||0,T.idToDummyNode[ee]=re;var de=T.getGraphManager().add(T.newGraph(),re),pe=te.getChild();pe.add(re);for(var fe=0;fe<A[J].length;fe++){var ye=A[J][fe];pe.remove(ye),de.add(ye)}}})},P.prototype.clearCompounds=function(){var T={},A={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)A[this.compoundOrder[D].id]=this.compoundOrder[D],T[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(T,A)},P.prototype.clearZeroDegreeMembers=function(){var T=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var N=T.idToDummyNode[D];A[D]=T.tileNodes(T.memberGroups[D],N.paddingLeft+N.paddingRight),N.rect.width=A[D].width,N.rect.height=A[D].height})},P.prototype.repopulateCompounds=function(){for(var T=this.compoundOrder.length-1;T>=0;T--){var A=this.compoundOrder[T],D=A.id,N=A.paddingLeft,j=A.paddingTop;this.adjustLocations(this.tiledMemberPack[D],A.rect.x,A.rect.y,N,j)}},P.prototype.repopulateZeroDegreeMembers=function(){var T=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(D){var N=T.idToDummyNode[D],j=N.paddingLeft,B=N.paddingTop;T.adjustLocations(A[D],N.rect.x,N.rect.y,j,B)})},P.prototype.getToBeTiled=function(T){var A=T.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var D=T.getChild();if(D==null)return this.toBeTiled[A]=!1,!1;for(var N=D.getNodes(),j=0;j<N.length;j++){var B=N[j];if(this.getNodeDegree(B)>0)return this.toBeTiled[A]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},P.prototype.getNodeDegree=function(T){T.id;for(var A=T.getEdges(),D=0,N=0;N<A.length;N++){var j=A[N];j.getSource().id!==j.getTarget().id&&(D=D+1)}return D},P.prototype.getNodeDegreeWithChildren=function(T){var A=this.getNodeDegree(T);if(T.getChild()==null)return A;for(var D=T.getChild().getNodes(),N=0;N<D.length;N++){var j=D[N];A+=this.getNodeDegreeWithChildren(j)}return A},P.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},P.prototype.fillCompexOrderByDFS=function(T){for(var A=0;A<T.length;A++){var D=T[A];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},P.prototype.adjustLocations=function(T,A,D,N,j){A+=N,D+=j;for(var B=A,W=0;W<T.rows.length;W++){var V=T.rows[W];A=B;for(var J=0,ee=0;ee<V.length;ee++){var te=V[ee];te.rect.x=A,te.rect.y=D,A+=te.rect.width+T.horizontalPadding,te.rect.height>J&&(J=te.rect.height)}D+=J+T.verticalPadding}},P.prototype.tileCompoundMembers=function(T,A){var D=this;this.tiledMemberPack=[],Object.keys(T).forEach(function(N){var j=A[N];D.tiledMemberPack[N]=D.tileNodes(T[N],j.paddingLeft+j.paddingRight),j.rect.width=D.tiledMemberPack[N].width,j.rect.height=D.tiledMemberPack[N].height})},P.prototype.tileNodes=function(T,A){var D=f.TILING_PADDING_VERTICAL,N=f.TILING_PADDING_HORIZONTAL,j={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:D,horizontalPadding:N};T.sort(function(V,J){return V.rect.width*V.rect.height>J.rect.width*J.rect.height?-1:V.rect.width*V.rect.height<J.rect.width*J.rect.height?1:0});for(var B=0;B<T.length;B++){var W=T[B];j.rows.length==0?this.insertNodeToRow(j,W,0,A):this.canAddHorizontal(j,W.rect.width,W.rect.height)?this.insertNodeToRow(j,W,this.getShortestRowIndex(j),A):this.insertNodeToRow(j,W,j.rows.length,A),this.shiftToLastRow(j)}return j},P.prototype.insertNodeToRow=function(T,A,D,N){var j=N;if(D==T.rows.length){var B=[];T.rows.push(B),T.rowWidth.push(j),T.rowHeight.push(0)}var W=T.rowWidth[D]+A.rect.width;T.rows[D].length>0&&(W+=T.horizontalPadding),T.rowWidth[D]=W,T.width<W&&(T.width=W);var V=A.rect.height;D>0&&(V+=T.verticalPadding);var J=0;V>T.rowHeight[D]&&(J=T.rowHeight[D],T.rowHeight[D]=V,J=T.rowHeight[D]-J),T.height+=J,T.rows[D].push(A)},P.prototype.getShortestRowIndex=function(T){for(var A=-1,D=Number.MAX_VALUE,N=0;N<T.rows.length;N++)T.rowWidth[N]<D&&(A=N,D=T.rowWidth[N]);return A},P.prototype.getLongestRowIndex=function(T){for(var A=-1,D=Number.MIN_VALUE,N=0;N<T.rows.length;N++)T.rowWidth[N]>D&&(A=N,D=T.rowWidth[N]);return A},P.prototype.canAddHorizontal=function(T,A,D){var N=this.getShortestRowIndex(T);if(N<0)return!0;var j=T.rowWidth[N];if(j+T.horizontalPadding+A<=T.width)return!0;var B=0;T.rowHeight[N]<D&&N>0&&(B=D+T.verticalPadding-T.rowHeight[N]);var W;T.width-j>=A+T.horizontalPadding?W=(T.height+B)/(j+A+T.horizontalPadding):W=(T.height+B)/T.width,B=D+T.verticalPadding;var V;return T.width<A?V=(T.height+B)/A:V=(T.height+B)/T.width,V<1&&(V=1/V),W<1&&(W=1/W),W<V},P.prototype.shiftToLastRow=function(T){var A=this.getLongestRowIndex(T),D=T.rowWidth.length-1,N=T.rows[A],j=N[N.length-1],B=j.width+T.horizontalPadding;if(T.width-T.rowWidth[D]>B&&A!=D){N.splice(-1,1),T.rows[D].push(j),T.rowWidth[A]=T.rowWidth[A]-B,T.rowWidth[D]=T.rowWidth[D]+B,T.width=T.rowWidth[instance.getLongestRowIndex(T)];for(var W=Number.MIN_VALUE,V=0;V<N.length;V++)N[V].height>W&&(W=N[V].height);A>0&&(W+=T.verticalPadding);var J=T.rowHeight[A]+T.rowHeight[D];T.rowHeight[A]=W,T.rowHeight[D]<j.height+T.verticalPadding&&(T.rowHeight[D]=j.height+T.verticalPadding);var ee=T.rowHeight[A]+T.rowHeight[D];T.height+=ee-J,this.shiftToLastRow(T)}},P.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},P.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},P.prototype.reduceTrees=function(){for(var T=[],A=!0,D;A;){var N=this.graphManager.getAllNodes(),j=[];A=!1;for(var B=0;B<N.length;B++)D=N[B],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(j.push([D,D.getEdges()[0],D.getOwner()]),A=!0);if(A==!0){for(var W=[],V=0;V<j.length;V++)j[V][0].getEdges().length==1&&(W.push(j[V]),j[V][0].getOwner().remove(j[V][0]));T.push(W),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=T},P.prototype.growTree=function(T){for(var A=T.length,D=T[A-1],N,j=0;j<D.length;j++)N=D[j],this.findPlaceforPrunedNode(N),N[2].add(N[0]),N[2].add(N[1],N[1].source,N[1].target);T.splice(T.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},P.prototype.findPlaceforPrunedNode=function(T){var A,D,N=T[0];N==T[1].source?D=T[1].target:D=T[1].source;var j=D.startX,B=D.finishX,W=D.startY,V=D.finishY,J=0,ee=0,te=0,re=0,de=[J,te,ee,re];if(W>0)for(var pe=j;pe<=B;pe++)de[0]+=this.grid[pe][W-1].length+this.grid[pe][W].length-1;if(B<this.grid.length-1)for(var pe=W;pe<=V;pe++)de[1]+=this.grid[B+1][pe].length+this.grid[B][pe].length-1;if(V<this.grid[0].length-1)for(var pe=j;pe<=B;pe++)de[2]+=this.grid[pe][V+1].length+this.grid[pe][V].length-1;if(j>0)for(var pe=W;pe<=V;pe++)de[3]+=this.grid[j-1][pe].length+this.grid[j][pe].length-1;for(var fe=b.MAX_VALUE,ye,Me,Ne=0;Ne<de.length;Ne++)de[Ne]<fe?(fe=de[Ne],ye=1,Me=Ne):de[Ne]==fe&&ye++;if(ye==3&&fe==0)de[0]==0&&de[1]==0&&de[2]==0?A=1:de[0]==0&&de[1]==0&&de[3]==0?A=0:de[0]==0&&de[2]==0&&de[3]==0?A=3:de[1]==0&&de[2]==0&&de[3]==0&&(A=2);else if(ye==2&&fe==0){var ke=Math.floor(Math.random()*2);de[0]==0&&de[1]==0?ke==0?A=0:A=1:de[0]==0&&de[2]==0?ke==0?A=0:A=2:de[0]==0&&de[3]==0?ke==0?A=0:A=3:de[1]==0&&de[2]==0?ke==0?A=1:A=2:de[1]==0&&de[3]==0?ke==0?A=1:A=3:ke==0?A=2:A=3}else if(ye==4&&fe==0){var ke=Math.floor(Math.random()*4);A=ke}else A=Me;A==0?N.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-h.DEFAULT_EDGE_LENGTH-N.getHeight()/2):A==1?N.setCenter(D.getCenterX()+D.getWidth()/2+h.DEFAULT_EDGE_LENGTH+N.getWidth()/2,D.getCenterY()):A==2?N.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+h.DEFAULT_EDGE_LENGTH+N.getHeight()/2):N.setCenter(D.getCenterX()-D.getWidth()/2-h.DEFAULT_EDGE_LENGTH-N.getWidth()/2,D.getCenterY())},n.exports=P},function(n,i,a){var o={};o.layoutBase=a(0),o.CoSEConstants=a(1),o.CoSEEdge=a(2),o.CoSEGraph=a(3),o.CoSEGraphManager=a(4),o.CoSELayout=a(6),o.CoSENode=a(5),n.exports=o}])})}(p_)),p_.exports}(function(r,e){(function(n,i){r.exports=i(oB())})(cn,function(t){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,s,u){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=1)}([function(n,i){n.exports=t},function(n,i,a){var o=a(0).layoutBase.LayoutConstants,s=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,l=a(0).CoSELayout,c=a(0).CoSENode,f=a(0).layoutBase.PointD,h=a(0).layoutBase.DimensionD,d={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function v(g,_){var x={};for(var P in g)x[P]=g[P];for(var P in _)x[P]=_[P];return x}function y(g){this.options=v(d,g),w(this.options)}var w=function(_){_.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=_.nodeRepulsion),_.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=_.idealEdgeLength),_.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=_.edgeElasticity),_.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=_.nestingFactor),_.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=_.gravity),_.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=_.numIter),_.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=_.gravityRange),_.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=_.gravityCompound),_.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=_.gravityRangeCompound),_.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=_.initialEnergyOnIncremental),_.quality=="draft"?o.QUALITY=0:_.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=_.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!_.randomize,u.ANIMATE=s.ANIMATE=o.ANIMATE=_.animate,u.TILE=_.tile,u.TILING_PADDING_VERTICAL=typeof _.tilingPaddingVertical=="function"?_.tilingPaddingVertical.call():_.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof _.tilingPaddingHorizontal=="function"?_.tilingPaddingHorizontal.call():_.tilingPaddingHorizontal};y.prototype.run=function(){var g,_,x=this.options;this.idToLNode={};var P=this.layout=new l,I=this;I.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var T=P.newGraphManager();this.gm=T;var A=this.options.eles.nodes(),D=this.options.eles.edges();this.root=T.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(A),P);for(var N=0;N<D.length;N++){var j=D[N],B=this.idToLNode[j.data("source")],W=this.idToLNode[j.data("target")];if(B!==W&&B.getEdgesBetween(W).length==0){var V=T.add(P.newEdge(),B,W);V.id=j.id()}}var J=function(re,de){typeof re=="number"&&(re=de);var pe=re.data("id"),fe=I.idToLNode[pe];return{x:fe.getRect().getCenterX(),y:fe.getRect().getCenterY()}},ee=function te(){for(var re=function(){x.fit&&x.cy.fit(x.eles,x.padding),g||(g=!0,I.cy.one("layoutready",x.ready),I.cy.trigger({type:"layoutready",layout:I}))},de=I.options.refresh,pe,fe=0;fe<de&&!pe;fe++)pe=I.stopped||I.layout.tick();if(pe){P.checkLayoutSuccess()&&!P.isSubLayout&&P.doPostLayout(),P.tilingPostLayout&&P.tilingPostLayout(),P.isLayoutFinished=!0,I.options.eles.nodes().positions(J),re(),I.cy.one("layoutstop",I.options.stop),I.cy.trigger({type:"layoutstop",layout:I}),_&&cancelAnimationFrame(_),g=!1;return}var ye=I.layout.getPositionsData();x.eles.nodes().positions(function(Me,Ne){if(typeof Me=="number"&&(Me=Ne),!Me.isParent()){for(var ke=Me.id(),je=ye[ke],xe=Me;je==null&&(je=ye[xe.data("parent")]||ye["DummyCompound_"+xe.data("parent")],ye[ke]=je,xe=xe.parent()[0],xe!=null););return je!=null?{x:je.x,y:je.y}:{x:Me.position("x"),y:Me.position("y")}}}),re(),_=requestAnimationFrame(te)};return P.addListener("layoutstarted",function(){I.options.animate==="during"&&(_=requestAnimationFrame(ee))}),P.runLayout(),this.options.animate!=="during"&&(I.options.eles.nodes().not(":parent").layoutPositions(I,I.options,J),g=!1),this},y.prototype.getTopMostNodes=function(g){for(var _={},x=0;x<g.length;x++)_[g[x].id()]=!0;var P=g.filter(function(I,T){typeof I=="number"&&(I=T);for(var A=I.parent()[0];A!=null;){if(_[A.id()])return!1;A=A.parent()[0]}return!0});return P},y.prototype.processChildrenList=function(g,_,x){for(var P=_.length,I=0;I<P;I++){var T=_[I],A=T.children(),D,N=T.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(T.outerWidth()!=null&&T.outerHeight()!=null?D=g.add(new c(x.graphManager,new f(T.position("x")-N.w/2,T.position("y")-N.h/2),new h(parseFloat(N.w),parseFloat(N.h)))):D=g.add(new c(this.graphManager)),D.id=T.data("id"),D.paddingLeft=parseInt(T.css("padding")),D.paddingTop=parseInt(T.css("padding")),D.paddingRight=parseInt(T.css("padding")),D.paddingBottom=parseInt(T.css("padding")),this.options.nodeDimensionsIncludeLabels&&T.isParent()){var j=T.boundingBox({includeLabels:!0,includeNodes:!1}).w,B=T.boundingBox({includeLabels:!0,includeNodes:!1}).h,W=T.css("text-halign");D.labelWidth=j,D.labelHeight=B,D.labelPos=W}if(this.idToLNode[T.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),A!=null&&A.length>0){var V;V=x.getGraphManager().add(x.newGraph(),D),this.processChildrenList(V,A,x)}}},y.prototype.stop=function(){return this.stopped=!0,this};var b=function(_){_("layout","cose-bilkent",y)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})})(RR);var aB=RR.exports;const sB=F0(aB);zd.use(sB);const uB="cose-bilkent",lB=(r,e)=>{const t=zd({headless:!0,styleEnabled:!1});t.add(r);const n={};return t.layout({name:uB,animate:!1,spacingFactor:e,quality:"default",tile:!1,randomize:!0,stop:()=>{t.nodes().forEach(a=>{n[a.id()]={...a.position()}})}}).run(),{positions:n}};class cB{start(){}postMessage(e){const{elements:t,spacingFactor:n}=e,i=lB(t,n);this.onmessage({data:i})}onmessage(){}close(){}}const fB={port:new cB},hB=()=>new SharedWorker(new URL("/assets/CoseBilkentLayout.worker-DNdldN8b.js",import.meta.url),{type:"module",name:"CoseBilkentLayout"});var y_,CT;function dB(){if(CT)return y_;CT=1;function r(){this.__data__=[],this.size=0}return y_=r,y_}var m_,PT;function hx(){if(PT)return m_;PT=1;function r(e,t){return e===t||e!==e&&t!==t}return m_=r,m_}var b_,AT;function nb(){if(AT)return b_;AT=1;var r=hx();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return b_=e,b_}var __,IT;function vB(){if(IT)return __;IT=1;var r=nb(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,o=r(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():t.call(a,o,1),--this.size,!0}return __=n,__}var w_,RT;function pB(){if(RT)return w_;RT=1;var r=nb();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return w_=e,w_}var E_,kT;function gB(){if(kT)return E_;kT=1;var r=nb();function e(t){return r(this.__data__,t)>-1}return E_=e,E_}var O_,MT;function yB(){if(MT)return O_;MT=1;var r=nb();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return O_=e,O_}var x_,DT;function ib(){if(DT)return x_;DT=1;var r=dB(),e=vB(),t=pB(),n=gB(),i=yB();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,x_=a,x_}var S_,LT;function mB(){if(LT)return S_;LT=1;var r=ib();function e(){this.__data__=new r,this.size=0}return S_=e,S_}var T_,NT;function bB(){if(NT)return T_;NT=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return T_=r,T_}var C_,jT;function _B(){if(jT)return C_;jT=1;function r(e){return this.__data__.get(e)}return C_=r,C_}var P_,FT;function wB(){if(FT)return P_;FT=1;function r(e){return this.__data__.has(e)}return P_=r,P_}var A_,BT;function kR(){if(BT)return A_;BT=1;var r=typeof cn=="object"&&cn&&cn.Object===Object&&cn;return A_=r,A_}var I_,UT;function pf(){if(UT)return I_;UT=1;var r=kR(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return I_=t,I_}var R_,zT;function Vg(){if(zT)return R_;zT=1;var r=pf(),e=r.Symbol;return R_=e,R_}var k_,qT;function EB(){if(qT)return k_;qT=1;var r=Vg(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(o){var s=t.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(s?o[i]=u:delete o[i]),c}return k_=a,k_}var M_,GT;function OB(){if(GT)return M_;GT=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return M_=t,M_}var D_,VT;function Wg(){if(VT)return D_;VT=1;var r=Vg(),e=EB(),t=OB(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):t(s)}return D_=o,D_}var L_,WT;function hp(){if(WT)return L_;WT=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return L_=r,L_}var N_,HT;function ob(){if(HT)return N_;HT=1;var r=Wg(),e=hp(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var u=r(s);return u==n||u==i||u==t||u==a}return N_=o,N_}var j_,YT;function xB(){if(YT)return j_;YT=1;var r=pf(),e=r["__core-js_shared__"];return j_=e,j_}var F_,$T;function SB(){if($T)return F_;$T=1;var r=xB(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return F_=t,F_}var B_,XT;function MR(){if(XT)return B_;XT=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return B_=t,B_}var U_,KT;function TB(){if(KT)return U_;KT=1;var r=ob(),e=SB(),t=hp(),n=MR(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!t(h)||e(h))return!1;var d=r(h)?c:a;return d.test(n(h))}return U_=f,U_}var z_,ZT;function CB(){if(ZT)return z_;ZT=1;function r(e,t){return e==null?void 0:e[t]}return z_=r,z_}var q_,QT;function dp(){if(QT)return q_;QT=1;var r=TB(),e=CB();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return q_=t,q_}var G_,JT;function dx(){if(JT)return G_;JT=1;var r=dp(),e=pf(),t=r(e,"Map");return G_=t,G_}var V_,e2;function ab(){if(e2)return V_;e2=1;var r=dp(),e=r(Object,"create");return V_=e,V_}var W_,t2;function PB(){if(t2)return W_;t2=1;var r=ab();function e(){this.__data__=r?r(null):{},this.size=0}return W_=e,W_}var H_,r2;function AB(){if(r2)return H_;r2=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return H_=r,H_}var Y_,n2;function IB(){if(n2)return Y_;n2=1;var r=ab(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var o=this.__data__;if(r){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return Y_=i,Y_}var $_,i2;function RB(){if(i2)return $_;i2=1;var r=ab(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return $_=n,$_}var X_,o2;function kB(){if(o2)return X_;o2=1;var r=ab(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return X_=t,X_}var K_,a2;function MB(){if(a2)return K_;a2=1;var r=PB(),e=AB(),t=IB(),n=RB(),i=kB();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,K_=a,K_}var Z_,s2;function DB(){if(s2)return Z_;s2=1;var r=MB(),e=ib(),t=dx();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Z_=n,Z_}var Q_,u2;function LB(){if(u2)return Q_;u2=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Q_=r,Q_}var J_,l2;function sb(){if(l2)return J_;l2=1;var r=LB();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return J_=e,J_}var e1,c2;function NB(){if(c2)return e1;c2=1;var r=sb();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return e1=e,e1}var t1,f2;function jB(){if(f2)return t1;f2=1;var r=sb();function e(t){return r(this,t).get(t)}return t1=e,t1}var r1,h2;function FB(){if(h2)return r1;h2=1;var r=sb();function e(t){return r(this,t).has(t)}return r1=e,r1}var n1,d2;function BB(){if(d2)return n1;d2=1;var r=sb();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return n1=e,n1}var i1,v2;function vx(){if(v2)return i1;v2=1;var r=DB(),e=NB(),t=jB(),n=FB(),i=BB();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,i1=a,i1}var o1,p2;function UB(){if(p2)return o1;p2=1;var r=ib(),e=dx(),t=vx(),n=200;function i(a,o){var s=this.__data__;if(s instanceof r){var u=s.__data__;if(!e||u.length<n-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new t(u)}return s.set(a,o),this.size=s.size,this}return o1=i,o1}var a1,g2;function px(){if(g2)return a1;g2=1;var r=ib(),e=mB(),t=bB(),n=_B(),i=wB(),a=UB();function o(s){var u=this.__data__=new r(s);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,a1=o,a1}var s1,y2;function gx(){if(y2)return s1;y2=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}return s1=r,s1}var u1,m2;function DR(){if(m2)return u1;m2=1;var r=dp(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();return u1=e,u1}var l1,b2;function LR(){if(b2)return l1;b2=1;var r=DR();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return l1=e,l1}var c1,_2;function NR(){if(_2)return c1;_2=1;var r=LR(),e=hx(),t=Object.prototype,n=t.hasOwnProperty;function i(a,o,s){var u=a[o];(!(n.call(a,o)&&e(u,s))||s===void 0&&!(o in a))&&r(a,o,s)}return c1=i,c1}var f1,w2;function ub(){if(w2)return f1;w2=1;var r=NR(),e=LR();function t(n,i,a,o){var s=!a;a||(a={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),s?e(a,c,f):r(a,c,f)}return a}return f1=t,f1}var h1,E2;function zB(){if(E2)return h1;E2=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return h1=r,h1}var d1,O2;function Ah(){if(O2)return d1;O2=1;function r(e){return e!=null&&typeof e=="object"}return d1=r,d1}var v1,x2;function qB(){if(x2)return v1;x2=1;var r=Wg(),e=Ah(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return v1=n,v1}var p1,S2;function lb(){if(S2)return p1;S2=1;var r=qB(),e=Ah(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return p1=a,p1}var g1,T2;function ia(){if(T2)return g1;T2=1;var r=Array.isArray;return g1=r,g1}var My={exports:{}},y1,C2;function GB(){if(C2)return y1;C2=1;function r(){return!1}return y1=r,y1}My.exports;var P2;function hm(){return P2||(P2=1,function(r,e){var t=pf(),n=GB(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,o=a&&a.exports===i,s=o?t.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;r.exports=l}(My,My.exports)),My.exports}var m1,A2;function jR(){if(A2)return m1;A2=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return m1=t,m1}var b1,I2;function yx(){if(I2)return b1;I2=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return b1=e,b1}var _1,R2;function VB(){if(R2)return _1;R2=1;var r=Wg(),e=yx(),t=Ah(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",D="[object Uint16Array]",N="[object Uint32Array]",j={};j[g]=j[_]=j[x]=j[P]=j[I]=j[T]=j[A]=j[D]=j[N]=!0,j[n]=j[i]=j[w]=j[a]=j[b]=j[o]=j[s]=j[u]=j[l]=j[c]=j[f]=j[h]=j[d]=j[v]=j[y]=!1;function B(W){return t(W)&&e(W.length)&&!!j[r(W)]}return _1=B,_1}var w1,k2;function mx(){if(k2)return w1;k2=1;function r(e){return function(t){return e(t)}}return w1=r,w1}var Dy={exports:{}};Dy.exports;var M2;function bx(){return M2||(M2=1,function(r,e){var t=kR(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a&&t.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();r.exports=s}(Dy,Dy.exports)),Dy.exports}var E1,D2;function cb(){if(D2)return E1;D2=1;var r=VB(),e=mx(),t=bx(),n=t&&t.isTypedArray,i=n?e(n):r;return E1=i,E1}var O1,L2;function FR(){if(L2)return O1;L2=1;var r=zB(),e=lb(),t=ia(),n=hm(),i=jR(),a=cb(),o=Object.prototype,s=o.hasOwnProperty;function u(l,c){var f=t(l),h=!f&&e(l),d=!f&&!h&&n(l),v=!f&&!h&&!d&&a(l),y=f||h||d||v,w=y?r(l.length,String):[],b=w.length;for(var g in l)(c||s.call(l,g))&&!(y&&(g=="length"||d&&(g=="offset"||g=="parent")||v&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,b)))&&w.push(g);return w}return O1=u,O1}var x1,N2;function fb(){if(N2)return x1;N2=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return x1=e,x1}var S1,j2;function BR(){if(j2)return S1;j2=1;function r(e,t){return function(n){return e(t(n))}}return S1=r,S1}var T1,F2;function WB(){if(F2)return T1;F2=1;var r=BR(),e=r(Object.keys,Object);return T1=e,T1}var C1,B2;function _x(){if(B2)return C1;B2=1;var r=fb(),e=WB(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return C1=i,C1}var P1,U2;function vp(){if(U2)return P1;U2=1;var r=ob(),e=yx();function t(n){return n!=null&&e(n.length)&&!r(n)}return P1=t,P1}var A1,z2;function pp(){if(z2)return A1;z2=1;var r=FR(),e=_x(),t=vp();function n(i){return t(i)?r(i):e(i)}return A1=n,A1}var I1,q2;function HB(){if(q2)return I1;q2=1;var r=ub(),e=pp();function t(n,i){return n&&r(i,e(i),n)}return I1=t,I1}var R1,G2;function YB(){if(G2)return R1;G2=1;function r(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}return R1=r,R1}var k1,V2;function $B(){if(V2)return k1;V2=1;var r=hp(),e=fb(),t=YB(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!r(o))return t(o);var s=e(o),u=[];for(var l in o)l=="constructor"&&(s||!i.call(o,l))||u.push(l);return u}return k1=a,k1}var M1,W2;function wx(){if(W2)return M1;W2=1;var r=FR(),e=$B(),t=vp();function n(i){return t(i)?r(i,!0):e(i)}return M1=n,M1}var D1,H2;function XB(){if(H2)return D1;H2=1;var r=ub(),e=wx();function t(n,i){return n&&r(i,e(i),n)}return D1=t,D1}var Ly={exports:{}};Ly.exports;var Y2;function KB(){return Y2||(Y2=1,function(r,e){var t=pf(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a?t.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}r.exports=u}(Ly,Ly.exports)),Ly.exports}var L1,$2;function ZB(){if($2)return L1;$2=1;function r(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}return L1=r,L1}var N1,X2;function UR(){if(X2)return N1;X2=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}return N1=r,N1}var j1,K2;function zR(){if(K2)return j1;K2=1;function r(){return[]}return j1=r,j1}var F1,Z2;function Ex(){if(Z2)return F1;Z2=1;var r=UR(),e=zR(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),r(i(o),function(s){return n.call(o,s)}))}:e;return F1=a,F1}var B1,Q2;function QB(){if(Q2)return B1;Q2=1;var r=ub(),e=Ex();function t(n,i){return r(n,e(n),i)}return B1=t,B1}var U1,J2;function Ox(){if(J2)return U1;J2=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return U1=r,U1}var z1,eC;function xx(){if(eC)return z1;eC=1;var r=BR(),e=r(Object.getPrototypeOf,Object);return z1=e,z1}var q1,tC;function qR(){if(tC)return q1;tC=1;var r=Ox(),e=xx(),t=Ex(),n=zR(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)r(s,t(o)),o=e(o);return s}:n;return q1=a,q1}var G1,rC;function JB(){if(rC)return G1;rC=1;var r=ub(),e=qR();function t(n,i){return r(n,e(n),i)}return G1=t,G1}var V1,nC;function GR(){if(nC)return V1;nC=1;var r=Ox(),e=ia();function t(n,i,a){var o=i(n);return e(n)?o:r(o,a(n))}return V1=t,V1}var W1,iC;function VR(){if(iC)return W1;iC=1;var r=GR(),e=Ex(),t=pp();function n(i){return r(i,t,e)}return W1=n,W1}var H1,oC;function eU(){if(oC)return H1;oC=1;var r=GR(),e=qR(),t=wx();function n(i){return r(i,t,e)}return H1=n,H1}var Y1,aC;function tU(){if(aC)return Y1;aC=1;var r=dp(),e=pf(),t=r(e,"DataView");return Y1=t,Y1}var $1,sC;function rU(){if(sC)return $1;sC=1;var r=dp(),e=pf(),t=r(e,"Promise");return $1=t,$1}var X1,uC;function WR(){if(uC)return X1;uC=1;var r=dp(),e=pf(),t=r(e,"Set");return X1=t,X1}var K1,lC;function nU(){if(lC)return K1;lC=1;var r=dp(),e=pf(),t=r(e,"WeakMap");return K1=t,K1}var Z1,cC;function Hg(){if(cC)return Z1;cC=1;var r=tU(),e=dx(),t=rU(),n=WR(),i=nU(),a=Wg(),o=MR(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",d=o(r),v=o(e),y=o(t),w=o(n),b=o(i),g=a;return(r&&g(new r(new ArrayBuffer(1)))!=h||e&&g(new e)!=s||t&&g(t.resolve())!=l||n&&g(new n)!=c||i&&g(new i)!=f)&&(g=function(_){var x=a(_),P=x==u?_.constructor:void 0,I=P?o(P):"";if(I)switch(I){case d:return h;case v:return s;case y:return l;case w:return c;case b:return f}return x}),Z1=g,Z1}var Q1,fC;function iU(){if(fC)return Q1;fC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Q1=t,Q1}var J1,hC;function HR(){if(hC)return J1;hC=1;var r=pf(),e=r.Uint8Array;return J1=e,J1}var ew,dC;function Sx(){if(dC)return ew;dC=1;var r=HR();function e(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}return ew=e,ew}var tw,vC;function oU(){if(vC)return tw;vC=1;var r=Sx();function e(t,n){var i=n?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return tw=e,tw}var rw,pC;function aU(){if(pC)return rw;pC=1;var r=/\w*$/;function e(t){var n=new t.constructor(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}return rw=e,rw}var nw,gC;function sU(){if(gC)return nw;gC=1;var r=Vg(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function n(i){return t?Object(t.call(i)):{}}return nw=n,nw}var iw,yC;function uU(){if(yC)return iw;yC=1;var r=Sx();function e(t,n){var i=n?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return iw=e,iw}var ow,mC;function lU(){if(mC)return ow;mC=1;var r=Sx(),e=oU(),t=aU(),n=sU(),i=uU(),a="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",b="[object Int8Array]",g="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]";function A(D,N,j){var B=D.constructor;switch(N){case d:return r(D);case a:case o:return new B(+D);case v:return e(D,j);case y:case w:case b:case g:case _:case x:case P:case I:case T:return i(D,j);case s:return new B;case u:case f:return new B(D);case l:return t(D);case c:return new B;case h:return n(D)}}return ow=A,ow}var aw,bC;function YR(){if(bC)return aw;bC=1;var r=hp(),e=Object.create,t=function(){function n(){}return function(i){if(!r(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return aw=t,aw}var sw,_C;function cU(){if(_C)return sw;_C=1;var r=YR(),e=xx(),t=fb();function n(i){return typeof i.constructor=="function"&&!t(i)?r(e(i)):{}}return sw=n,sw}var uw,wC;function fU(){if(wC)return uw;wC=1;var r=Hg(),e=Ah(),t="[object Map]";function n(i){return e(i)&&r(i)==t}return uw=n,uw}var lw,EC;function hU(){if(EC)return lw;EC=1;var r=fU(),e=mx(),t=bx(),n=t&&t.isMap,i=n?e(n):r;return lw=i,lw}var cw,OC;function dU(){if(OC)return cw;OC=1;var r=Hg(),e=Ah(),t="[object Set]";function n(i){return e(i)&&r(i)==t}return cw=n,cw}var fw,xC;function vU(){if(xC)return fw;xC=1;var r=dU(),e=mx(),t=bx(),n=t&&t.isSet,i=n?e(n):r;return fw=i,fw}var hw,SC;function pU(){if(SC)return hw;SC=1;var r=px(),e=gx(),t=NR(),n=HB(),i=XB(),a=KB(),o=ZB(),s=QB(),u=JB(),l=VR(),c=eU(),f=Hg(),h=iU(),d=lU(),v=cU(),y=ia(),w=hm(),b=hU(),g=hp(),_=vU(),x=pp(),P=wx(),I=1,T=2,A=4,D="[object Arguments]",N="[object Array]",j="[object Boolean]",B="[object Date]",W="[object Error]",V="[object Function]",J="[object GeneratorFunction]",ee="[object Map]",te="[object Number]",re="[object Object]",de="[object RegExp]",pe="[object Set]",fe="[object String]",ye="[object Symbol]",Me="[object WeakMap]",Ne="[object ArrayBuffer]",ke="[object DataView]",je="[object Float32Array]",xe="[object Float64Array]",Se="[object Int8Array]",Re="[object Int16Array]",Oe="[object Int32Array]",Pe="[object Uint8Array]",Ue="[object Uint8ClampedArray]",ot="[object Uint16Array]",$e="[object Uint32Array]",rt={};rt[D]=rt[N]=rt[Ne]=rt[ke]=rt[j]=rt[B]=rt[je]=rt[xe]=rt[Se]=rt[Re]=rt[Oe]=rt[ee]=rt[te]=rt[re]=rt[de]=rt[pe]=rt[fe]=rt[ye]=rt[Pe]=rt[Ue]=rt[ot]=rt[$e]=!0,rt[W]=rt[V]=rt[Me]=!1;function ht(Ze,H,K,ne,Ce,Ae){var ze,Le=H&I,le=H&T,Ve=H&A;if(K&&(ze=Ce?K(Ze,ne,Ce,Ae):K(Ze)),ze!==void 0)return ze;if(!g(Ze))return Ze;var ut=y(Ze);if(ut){if(ze=h(Ze),!Le)return o(Ze,ze)}else{var et=f(Ze),nt=et==V||et==J;if(w(Ze))return a(Ze,Le);if(et==re||et==D||nt&&!Ce){if(ze=le||nt?{}:v(Ze),!Le)return le?u(Ze,i(ze,Ze)):s(Ze,n(ze,Ze))}else{if(!rt[et])return Ce?Ze:{};ze=d(Ze,et,Le)}}Ae||(Ae=new r);var Pt=Ae.get(Ze);if(Pt)return Pt;Ae.set(Ze,ze),_(Ze)?Ze.forEach(function(Ft){ze.add(ht(Ft,H,K,Ft,Ze,Ae))}):b(Ze)&&Ze.forEach(function(Ft,Yt){ze.set(Yt,ht(Ft,H,K,Yt,Ze,Ae))});var dt=Ve?le?c:l:le?P:x,Ct=ut?void 0:dt(Ze);return e(Ct||Ze,function(Ft,Yt){Ct&&(Yt=Ft,Ft=Ze[Yt]),t(ze,Yt,ht(Ft,H,K,Yt,Ze,Ae))}),ze}return hw=ht,hw}var dw,TC;function gU(){if(TC)return dw;TC=1;var r=pU(),e=4;function t(n){return r(n,e)}return dw=t,dw}var vw,CC;function $R(){if(CC)return vw;CC=1;function r(e){return function(){return e}}return vw=r,vw}var pw,PC;function yU(){if(PC)return pw;PC=1;function r(e){return function(t,n,i){for(var a=-1,o=Object(t),s=i(t),u=s.length;u--;){var l=s[e?u:++a];if(n(o[l],l,o)===!1)break}return t}}return pw=r,pw}var gw,AC;function mU(){if(AC)return gw;AC=1;var r=yU(),e=r();return gw=e,gw}var yw,IC;function XR(){if(IC)return yw;IC=1;var r=mU(),e=pp();function t(n,i){return n&&r(n,i,e)}return yw=t,yw}var mw,RC;function bU(){if(RC)return mw;RC=1;var r=vp();function e(t,n){return function(i,a){if(i==null)return i;if(!r(i))return t(i,a);for(var o=i.length,s=n?o:-1,u=Object(i);(n?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return mw=e,mw}var bw,kC;function hb(){if(kC)return bw;kC=1;var r=XR(),e=bU(),t=e(r);return bw=t,bw}var _w,MC;function db(){if(MC)return _w;MC=1;function r(e){return e}return _w=r,_w}var ww,DC;function _U(){if(DC)return ww;DC=1;var r=db();function e(t){return typeof t=="function"?t:r}return ww=e,ww}var Ew,LC;function wU(){if(LC)return Ew;LC=1;var r=gx(),e=hb(),t=_U(),n=ia();function i(a,o){var s=n(a)?r:e;return s(a,t(o))}return Ew=i,Ew}var Ow,NC;function EU(){return NC||(NC=1,Ow=wU()),Ow}var xw,jC;function OU(){if(jC)return xw;jC=1;var r=hb();function e(t,n){var i=[];return r(t,function(a,o,s){n(a,o,s)&&i.push(a)}),i}return xw=e,xw}var Sw,FC;function xU(){if(FC)return Sw;FC=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Sw=e,Sw}var Tw,BC;function SU(){if(BC)return Tw;BC=1;function r(e){return this.__data__.has(e)}return Tw=r,Tw}var Cw,UC;function KR(){if(UC)return Cw;UC=1;var r=vx(),e=xU(),t=SU();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new r;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,Cw=n,Cw}var Pw,zC;function TU(){if(zC)return Pw;zC=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return Pw=r,Pw}var Aw,qC;function ZR(){if(qC)return Aw;qC=1;function r(e,t){return e.has(t)}return Aw=r,Aw}var Iw,GC;function QR(){if(GC)return Iw;GC=1;var r=KR(),e=TU(),t=ZR(),n=1,i=2;function a(o,s,u,l,c,f){var h=u&n,d=o.length,v=s.length;if(d!=v&&!(h&&v>d))return!1;var y=f.get(o),w=f.get(s);if(y&&w)return y==s&&w==o;var b=-1,g=!0,_=u&i?new r:void 0;for(f.set(o,s),f.set(s,o);++b<d;){var x=o[b],P=s[b];if(l)var I=h?l(P,x,b,s,o,f):l(x,P,b,o,s,f);if(I!==void 0){if(I)continue;g=!1;break}if(_){if(!e(s,function(T,A){if(!t(_,A)&&(x===T||c(x,T,u,l,f)))return _.push(A)})){g=!1;break}}else if(!(x===P||c(x,P,u,l,f))){g=!1;break}}return f.delete(o),f.delete(s),g}return Iw=a,Iw}var Rw,VC;function CU(){if(VC)return Rw;VC=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return Rw=r,Rw}var kw,WC;function Tx(){if(WC)return kw;WC=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return kw=r,kw}var Mw,HC;function PU(){if(HC)return Mw;HC=1;var r=Vg(),e=HR(),t=hx(),n=QR(),i=CU(),a=Tx(),o=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",g="[object DataView]",_=r?r.prototype:void 0,x=_?_.valueOf:void 0;function P(I,T,A,D,N,j,B){switch(A){case g:if(I.byteLength!=T.byteLength||I.byteOffset!=T.byteOffset)return!1;I=I.buffer,T=T.buffer;case b:return!(I.byteLength!=T.byteLength||!j(new e(I),new e(T)));case u:case l:case h:return t(+I,+T);case c:return I.name==T.name&&I.message==T.message;case d:case y:return I==T+"";case f:var W=i;case v:var V=D&o;if(W||(W=a),I.size!=T.size&&!V)return!1;var J=B.get(I);if(J)return J==T;D|=s,B.set(I,T);var ee=n(W(I),W(T),D,N,j,B);return B.delete(I),ee;case w:if(x)return x.call(I)==x.call(T)}return!1}return Mw=P,Mw}var Dw,YC;function AU(){if(YC)return Dw;YC=1;var r=VR(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,o,s,u,l,c){var f=s&e,h=r(a),d=h.length,v=r(o),y=v.length;if(d!=y&&!f)return!1;for(var w=d;w--;){var b=h[w];if(!(f?b in o:n.call(o,b)))return!1}var g=c.get(a),_=c.get(o);if(g&&_)return g==o&&_==a;var x=!0;c.set(a,o),c.set(o,a);for(var P=f;++w<d;){b=h[w];var I=a[b],T=o[b];if(u)var A=f?u(T,I,b,o,a,c):u(I,T,b,a,o,c);if(!(A===void 0?I===T||l(I,T,s,u,c):A)){x=!1;break}P||(P=b=="constructor")}if(x&&!P){var D=a.constructor,N=o.constructor;D!=N&&"constructor"in a&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof N=="function"&&N instanceof N)&&(x=!1)}return c.delete(a),c.delete(o),x}return Dw=i,Dw}var Lw,$C;function IU(){if($C)return Lw;$C=1;var r=px(),e=QR(),t=PU(),n=AU(),i=Hg(),a=ia(),o=hm(),s=cb(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function v(y,w,b,g,_,x){var P=a(y),I=a(w),T=P?c:i(y),A=I?c:i(w);T=T==l?f:T,A=A==l?f:A;var D=T==f,N=A==f,j=T==A;if(j&&o(y)){if(!o(w))return!1;P=!0,D=!1}if(j&&!D)return x||(x=new r),P||s(y)?e(y,w,b,g,_,x):t(y,w,T,b,g,_,x);if(!(b&u)){var B=D&&d.call(y,"__wrapped__"),W=N&&d.call(w,"__wrapped__");if(B||W){var V=B?y.value():y,J=W?w.value():w;return x||(x=new r),_(V,J,b,g,x)}}return j?(x||(x=new r),n(y,w,b,g,_,x)):!1}return Lw=v,Lw}var Nw,XC;function JR(){if(XC)return Nw;XC=1;var r=IU(),e=Ah();function t(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,o,t,s)}return Nw=t,Nw}var jw,KC;function RU(){if(KC)return jw;KC=1;var r=px(),e=JR(),t=1,n=2;function i(a,o,s,u){var l=s.length,c=l,f=!u;if(a==null)return!c;for(a=Object(a);l--;){var h=s[l];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++l<c;){h=s[l];var d=h[0],v=a[d],y=h[1];if(f&&h[2]){if(v===void 0&&!(d in a))return!1}else{var w=new r;if(u)var b=u(v,y,d,a,o,w);if(!(b===void 0?e(y,v,t|n,u,w):b))return!1}}return!0}return jw=i,jw}var Fw,ZC;function ek(){if(ZC)return Fw;ZC=1;var r=hp();function e(t){return t===t&&!r(t)}return Fw=e,Fw}var Bw,QC;function kU(){if(QC)return Bw;QC=1;var r=ek(),e=pp();function t(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,r(s)]}return i}return Bw=t,Bw}var Uw,JC;function tk(){if(JC)return Uw;JC=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return Uw=r,Uw}var zw,eP;function MU(){if(eP)return zw;eP=1;var r=RU(),e=kU(),t=tk();function n(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(o){return o===i||r(o,i,a)}}return zw=n,zw}var qw,tP;function Cx(){if(tP)return qw;tP=1;var r=Wg(),e=Ah(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return qw=n,qw}var Gw,rP;function Px(){if(rP)return Gw;rP=1;var r=ia(),e=Cx(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(r(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!t.test(a)||o!=null&&a in Object(o)}return Gw=i,Gw}var Vw,nP;function DU(){if(nP)return Vw;nP=1;var r=vx(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(t.Cache||r),a}return t.Cache=r,Vw=t,Vw}var Ww,iP;function LU(){if(iP)return Ww;iP=1;var r=DU(),e=500;function t(n){var i=r(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Ww=t,Ww}var Hw,oP;function NU(){if(oP)return Hw;oP=1;var r=LU(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,u,l){a.push(u?l.replace(t,"$1"):s||o)}),a});return Hw=n,Hw}var Yw,aP;function Ax(){if(aP)return Yw;aP=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}return Yw=r,Yw}var $w,sP;function jU(){if(sP)return $w;sP=1;var r=Vg(),e=Ax(),t=ia(),n=Cx(),i=1/0,a=r?r.prototype:void 0,o=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(t(u))return e(u,s)+"";if(n(u))return o?o.call(u):"";var l=u+"";return l=="0"&&1/u==-i?"-0":l}return $w=s,$w}var Xw,uP;function FU(){if(uP)return Xw;uP=1;var r=jU();function e(t){return t==null?"":r(t)}return Xw=e,Xw}var Kw,lP;function rk(){if(lP)return Kw;lP=1;var r=ia(),e=Px(),t=NU(),n=FU();function i(a,o){return r(a)?a:e(a,o)?[a]:t(n(a))}return Kw=i,Kw}var Zw,cP;function vb(){if(cP)return Zw;cP=1;var r=Cx(),e=1/0;function t(n){if(typeof n=="string"||r(n))return n;var i=n+"";return i=="0"&&1/n==-e?"-0":i}return Zw=t,Zw}var Qw,fP;function nk(){if(fP)return Qw;fP=1;var r=rk(),e=vb();function t(n,i){i=r(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return Qw=t,Qw}var Jw,hP;function BU(){if(hP)return Jw;hP=1;var r=nk();function e(t,n,i){var a=t==null?void 0:r(t,n);return a===void 0?i:a}return Jw=e,Jw}var eE,dP;function UU(){if(dP)return eE;dP=1;function r(e,t){return e!=null&&t in Object(e)}return eE=r,eE}var tE,vP;function ik(){if(vP)return tE;vP=1;var r=rk(),e=lb(),t=ia(),n=jR(),i=yx(),a=vb();function o(s,u,l){u=r(u,s);for(var c=-1,f=u.length,h=!1;++c<f;){var d=a(u[c]);if(!(h=s!=null&&l(s,d)))break;s=s[d]}return h||++c!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&n(d,f)&&(t(s)||e(s)))}return tE=o,tE}var rE,pP;function zU(){if(pP)return rE;pP=1;var r=UU(),e=ik();function t(n,i){return n!=null&&e(n,i,r)}return rE=t,rE}var nE,gP;function qU(){if(gP)return nE;gP=1;var r=JR(),e=BU(),t=zU(),n=Px(),i=ek(),a=tk(),o=vb(),s=1,u=2;function l(c,f){return n(c)&&i(f)?a(o(c),f):function(h){var d=e(h,c);return d===void 0&&d===f?t(h,c):r(f,d,s|u)}}return nE=l,nE}var iE,yP;function ok(){if(yP)return iE;yP=1;function r(e){return function(t){return t==null?void 0:t[e]}}return iE=r,iE}var oE,mP;function GU(){if(mP)return oE;mP=1;var r=nk();function e(t){return function(n){return r(n,t)}}return oE=e,oE}var aE,bP;function VU(){if(bP)return aE;bP=1;var r=ok(),e=GU(),t=Px(),n=vb();function i(a){return t(a)?r(n(a)):e(a)}return aE=i,aE}var sE,_P;function pb(){if(_P)return sE;_P=1;var r=MU(),e=qU(),t=db(),n=ia(),i=VU();function a(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?n(o)?e(o[0],o[1]):r(o):i(o)}return sE=a,sE}var uE,wP;function WU(){if(wP)return uE;wP=1;var r=UR(),e=OU(),t=pb(),n=ia();function i(a,o){var s=n(a)?r:e;return s(a,t(o,3))}return uE=i,uE}var lE,EP;function HU(){if(EP)return lE;EP=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n,i){return n!=null&&e.call(n,i)}return lE=t,lE}var cE,OP;function YU(){if(OP)return cE;OP=1;var r=HU(),e=ik();function t(n,i){return n!=null&&e(n,i,r)}return cE=t,cE}var fE,xP;function $U(){if(xP)return fE;xP=1;var r=_x(),e=Hg(),t=lb(),n=ia(),i=vp(),a=hm(),o=fb(),s=cb(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||a(d)||s(d)||t(d)))return!d.length;var v=e(d);if(v==u||v==l)return!d.size;if(o(d))return!r(d).length;for(var y in d)if(f.call(d,y))return!1;return!0}return fE=h,fE}var hE,SP;function XU(){if(SP)return hE;SP=1;function r(e){return e===void 0}return hE=r,hE}var dE,TP;function KU(){if(TP)return dE;TP=1;var r=hb(),e=vp();function t(n,i){var a=-1,o=e(n)?Array(n.length):[];return r(n,function(s,u,l){o[++a]=i(s,u,l)}),o}return dE=t,dE}var vE,CP;function ZU(){if(CP)return vE;CP=1;var r=Ax(),e=pb(),t=KU(),n=ia();function i(a,o){var s=n(a)?r:t;return s(a,e(o,3))}return vE=i,vE}var pE,PP;function QU(){if(PP)return pE;PP=1;function r(e,t,n,i){var a=-1,o=e==null?0:e.length;for(i&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}return pE=r,pE}var gE,AP;function JU(){if(AP)return gE;AP=1;function r(e,t,n,i,a){return a(e,function(o,s,u){n=i?(i=!1,o):t(n,o,s,u)}),n}return gE=r,gE}var yE,IP;function e6(){if(IP)return yE;IP=1;var r=QU(),e=hb(),t=pb(),n=JU(),i=ia();function a(o,s,u){var l=i(o)?r:n,c=arguments.length<3;return l(o,t(s,4),u,c,e)}return yE=a,yE}var mE,RP;function t6(){if(RP)return mE;RP=1;var r=Wg(),e=ia(),t=Ah(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&r(a)==n}return mE=i,mE}var bE,kP;function r6(){if(kP)return bE;kP=1;var r=ok(),e=r("length");return bE=e,bE}var _E,MP;function n6(){if(MP)return _E;MP=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+r+i+a+"]");function u(l){return s.test(l)}return _E=u,_E}var wE,DP;function i6(){if(DP)return wE;DP=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",o="["+r+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",v=l+"?",y="["+a+"]?",w="(?:"+d+"(?:"+[c,f,h].join("|")+")"+y+v+")*",b=y+v+w,g="(?:"+[c+s+"?",s,f,h,o].join("|")+")",_=RegExp(u+"(?="+u+")|"+g+b,"g");function x(P){for(var I=_.lastIndex=0;_.test(P);)++I;return I}return wE=x,wE}var EE,LP;function o6(){if(LP)return EE;LP=1;var r=r6(),e=n6(),t=i6();function n(i){return e(i)?t(i):r(i)}return EE=n,EE}var OE,NP;function a6(){if(NP)return OE;NP=1;var r=_x(),e=Hg(),t=vp(),n=t6(),i=o6(),a="[object Map]",o="[object Set]";function s(u){if(u==null)return 0;if(t(u))return n(u)?i(u):u.length;var l=e(u);return l==a||l==o?u.size:r(u).length}return OE=s,OE}var xE,jP;function s6(){if(jP)return xE;jP=1;var r=gx(),e=YR(),t=XR(),n=pb(),i=xx(),a=ia(),o=hm(),s=ob(),u=hp(),l=cb();function c(f,h,d){var v=a(f),y=v||o(f)||l(f);if(h=n(h,4),d==null){var w=f&&f.constructor;y?d=v?new w:[]:u(f)?d=s(w)?e(i(f)):{}:d={}}return(y?r:t)(f,function(b,g,_){return h(d,b,g,_)}),d}return xE=c,xE}var SE,FP;function u6(){if(FP)return SE;FP=1;var r=Vg(),e=lb(),t=ia(),n=r?r.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(n&&a&&a[n])}return SE=i,SE}var TE,BP;function l6(){if(BP)return TE;BP=1;var r=Ox(),e=u6();function t(n,i,a,o,s){var u=-1,l=n.length;for(a||(a=e),s||(s=[]);++u<l;){var c=n[u];i>0&&a(c)?i>1?t(c,i-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}return TE=t,TE}var CE,UP;function c6(){if(UP)return CE;UP=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return CE=r,CE}var PE,zP;function f6(){if(zP)return PE;zP=1;var r=c6(),e=Math.max;function t(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,u=e(o.length-i,0),l=Array(u);++s<u;)l[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(l),r(n,this,c)}}return PE=t,PE}var AE,qP;function h6(){if(qP)return AE;qP=1;var r=$R(),e=DR(),t=db(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:t;return AE=n,AE}var IE,GP;function d6(){if(GP)return IE;GP=1;var r=800,e=16,t=Date.now;function n(i){var a=0,o=0;return function(){var s=t(),u=e-(s-o);if(o=s,u>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return IE=n,IE}var RE,VP;function v6(){if(VP)return RE;VP=1;var r=h6(),e=d6(),t=e(r);return RE=t,RE}var kE,WP;function p6(){if(WP)return kE;WP=1;var r=db(),e=f6(),t=v6();function n(i,a){return t(e(i,a,r),i+"")}return kE=n,kE}var ME,HP;function g6(){if(HP)return ME;HP=1;function r(e,t,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(t(e[o],o,e))return o;return-1}return ME=r,ME}var DE,YP;function y6(){if(YP)return DE;YP=1;function r(e){return e!==e}return DE=r,DE}var LE,$P;function m6(){if($P)return LE;$P=1;function r(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return LE=r,LE}var NE,XP;function b6(){if(XP)return NE;XP=1;var r=g6(),e=y6(),t=m6();function n(i,a,o){return a===a?t(i,a,o):r(i,e,o)}return NE=n,NE}var jE,KP;function _6(){if(KP)return jE;KP=1;var r=b6();function e(t,n){var i=t==null?0:t.length;return!!i&&r(t,n,0)>-1}return jE=e,jE}var FE,ZP;function w6(){if(ZP)return FE;ZP=1;function r(e,t,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}return FE=r,FE}var BE,QP;function E6(){if(QP)return BE;QP=1;function r(){}return BE=r,BE}var UE,JP;function O6(){if(JP)return UE;JP=1;var r=WR(),e=E6(),t=Tx(),n=1/0,i=r&&1/t(new r([,-0]))[1]==n?function(a){return new r(a)}:e;return UE=i,UE}var zE,eA;function x6(){if(eA)return zE;eA=1;var r=KR(),e=_6(),t=w6(),n=ZR(),i=O6(),a=Tx(),o=200;function s(u,l,c){var f=-1,h=e,d=u.length,v=!0,y=[],w=y;if(c)v=!1,h=t;else if(d>=o){var b=l?null:i(u);if(b)return a(b);v=!1,h=n,w=new r}else w=l?[]:y;e:for(;++f<d;){var g=u[f],_=l?l(g):g;if(g=c||g!==0?g:0,v&&_===_){for(var x=w.length;x--;)if(w[x]===_)continue e;l&&w.push(_),y.push(g)}else h(w,_,c)||(w!==y&&w.push(_),y.push(g))}return y}return zE=s,zE}var qE,tA;function S6(){if(tA)return qE;tA=1;var r=vp(),e=Ah();function t(n){return e(n)&&r(n)}return qE=t,qE}var GE,rA;function T6(){if(rA)return GE;rA=1;var r=l6(),e=p6(),t=x6(),n=S6(),i=e(function(a){return t(r(a,1,n,!0))});return GE=i,GE}var VE,nA;function C6(){if(nA)return VE;nA=1;var r=Ax();function e(t,n){return r(n,function(i){return t[i]})}return VE=e,VE}var WE,iA;function P6(){if(iA)return WE;iA=1;var r=C6(),e=pp();function t(n){return n==null?[]:r(n,e(n))}return WE=t,WE}var A0;if(typeof bD=="function")try{A0={clone:gU(),constant:$R(),each:EU(),filter:WU(),has:YU(),isArray:ia(),isEmpty:$U(),isFunction:ob(),isUndefined:XU(),keys:pp(),map:ZU(),reduce:e6(),size:a6(),transform:s6(),union:T6(),values:P6()}}catch{}A0||(A0=window._);var ll=A0,kr=ll,Ix=Qr,A6="\0",sp="\0",oA="";function Qr(r){this._isDirected=kr.has(r,"directed")?r.directed:!0,this._isMultigraph=kr.has(r,"multigraph")?r.multigraph:!1,this._isCompound=kr.has(r,"compound")?r.compound:!1,this._label=void 0,this._defaultNodeLabelFn=kr.constant(void 0),this._defaultEdgeLabelFn=kr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[sp]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Qr.prototype._nodeCount=0;Qr.prototype._edgeCount=0;Qr.prototype.isDirected=function(){return this._isDirected};Qr.prototype.isMultigraph=function(){return this._isMultigraph};Qr.prototype.isCompound=function(){return this._isCompound};Qr.prototype.setGraph=function(r){return this._label=r,this};Qr.prototype.graph=function(){return this._label};Qr.prototype.setDefaultNodeLabel=function(r){return kr.isFunction(r)||(r=kr.constant(r)),this._defaultNodeLabelFn=r,this};Qr.prototype.nodeCount=function(){return this._nodeCount};Qr.prototype.nodes=function(){return kr.keys(this._nodes)};Qr.prototype.sources=function(){var r=this;return kr.filter(this.nodes(),function(e){return kr.isEmpty(r._in[e])})};Qr.prototype.sinks=function(){var r=this;return kr.filter(this.nodes(),function(e){return kr.isEmpty(r._out[e])})};Qr.prototype.setNodes=function(r,e){var t=arguments,n=this;return kr.each(r,function(i){t.length>1?n.setNode(i,e):n.setNode(i)}),this};Qr.prototype.setNode=function(r,e){return kr.has(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=e),this):(this._nodes[r]=arguments.length>1?e:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=sp,this._children[r]={},this._children[sp][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)};Qr.prototype.node=function(r){return this._nodes[r]};Qr.prototype.hasNode=function(r){return kr.has(this._nodes,r)};Qr.prototype.removeNode=function(r){var e=this;if(kr.has(this._nodes,r)){var t=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],kr.each(this.children(r),function(n){e.setParent(n)}),delete this._children[r]),kr.each(kr.keys(this._in[r]),t),delete this._in[r],delete this._preds[r],kr.each(kr.keys(this._out[r]),t),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this};Qr.prototype.setParent=function(r,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(kr.isUndefined(e))e=sp;else{e+="";for(var t=e;!kr.isUndefined(t);t=this.parent(t))if(t===r)throw new Error("Setting "+e+" as parent of "+r+" would create a cycle");this.setNode(e)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=e,this._children[e][r]=!0,this};Qr.prototype._removeFromParentsChildList=function(r){delete this._children[this._parent[r]][r]};Qr.prototype.parent=function(r){if(this._isCompound){var e=this._parent[r];if(e!==sp)return e}};Qr.prototype.children=function(r){if(kr.isUndefined(r)&&(r=sp),this._isCompound){var e=this._children[r];if(e)return kr.keys(e)}else{if(r===sp)return this.nodes();if(this.hasNode(r))return[]}};Qr.prototype.predecessors=function(r){var e=this._preds[r];if(e)return kr.keys(e)};Qr.prototype.successors=function(r){var e=this._sucs[r];if(e)return kr.keys(e)};Qr.prototype.neighbors=function(r){var e=this.predecessors(r);if(e)return kr.union(e,this.successors(r))};Qr.prototype.isLeaf=function(r){var e;return this.isDirected()?e=this.successors(r):e=this.neighbors(r),e.length===0};Qr.prototype.filterNodes=function(r){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var t=this;kr.each(this._nodes,function(a,o){r(o)&&e.setNode(o,a)}),kr.each(this._edgeObjs,function(a){e.hasNode(a.v)&&e.hasNode(a.w)&&e.setEdge(a,t.edge(a))});var n={};function i(a){var o=t.parent(a);return o===void 0||e.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&kr.each(e.nodes(),function(a){e.setParent(a,i(a))}),e};Qr.prototype.setDefaultEdgeLabel=function(r){return kr.isFunction(r)||(r=kr.constant(r)),this._defaultEdgeLabelFn=r,this};Qr.prototype.edgeCount=function(){return this._edgeCount};Qr.prototype.edges=function(){return kr.values(this._edgeObjs)};Qr.prototype.setPath=function(r,e){var t=this,n=arguments;return kr.reduce(r,function(i,a){return n.length>1?t.setEdge(i,a,e):t.setEdge(i,a),a}),this};Qr.prototype.setEdge=function(){var r,e,t,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(r=a.v,e=a.w,t=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(r=a,e=arguments[1],t=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),r=""+r,e=""+e,kr.isUndefined(t)||(t=""+t);var o=dm(this._isDirected,r,e,t);if(kr.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!kr.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(e),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(r,e,t);var s=I6(this._isDirected,r,e,t);return r=s.v,e=s.w,Object.freeze(s),this._edgeObjs[o]=s,aA(this._preds[e],r),aA(this._sucs[r],e),this._in[e][o]=s,this._out[r][o]=s,this._edgeCount++,this};Qr.prototype.edge=function(r,e,t){var n=arguments.length===1?Rx(this._isDirected,arguments[0]):dm(this._isDirected,r,e,t);return this._edgeLabels[n]};Qr.prototype.hasEdge=function(r,e,t){var n=arguments.length===1?Rx(this._isDirected,arguments[0]):dm(this._isDirected,r,e,t);return kr.has(this._edgeLabels,n)};Qr.prototype.removeEdge=function(r,e,t){var n=arguments.length===1?Rx(this._isDirected,arguments[0]):dm(this._isDirected,r,e,t),i=this._edgeObjs[n];return i&&(r=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],sA(this._preds[e],r),sA(this._sucs[r],e),delete this._in[e][n],delete this._out[r][n],this._edgeCount--),this};Qr.prototype.inEdges=function(r,e){var t=this._in[r];if(t){var n=kr.values(t);return e?kr.filter(n,function(i){return i.v===e}):n}};Qr.prototype.outEdges=function(r,e){var t=this._out[r];if(t){var n=kr.values(t);return e?kr.filter(n,function(i){return i.w===e}):n}};Qr.prototype.nodeEdges=function(r,e){var t=this.inEdges(r,e);if(t)return t.concat(this.outEdges(r,e))};function aA(r,e){r[e]?r[e]++:r[e]=1}function sA(r,e){--r[e]||delete r[e]}function dm(r,e,t,n){var i=""+e,a=""+t;if(!r&&i>a){var o=i;i=a,a=o}return i+oA+a+oA+(kr.isUndefined(n)?A6:n)}function I6(r,e,t,n){var i=""+e,a=""+t;if(!r&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return n&&(s.name=n),s}function Rx(r,e){return dm(r,e.v,e.w,e.name)}var R6="2.1.8",k6={Graph:Ix,version:R6},cf=ll,M6=Ix,D6={write:L6,read:F6};function L6(r){var e={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:N6(r),edges:j6(r)};return cf.isUndefined(r.graph())||(e.value=cf.clone(r.graph())),e}function N6(r){return cf.map(r.nodes(),function(e){var t=r.node(e),n=r.parent(e),i={v:e};return cf.isUndefined(t)||(i.value=t),cf.isUndefined(n)||(i.parent=n),i})}function j6(r){return cf.map(r.edges(),function(e){var t=r.edge(e),n={v:e.v,w:e.w};return cf.isUndefined(e.name)||(n.name=e.name),cf.isUndefined(t)||(n.value=t),n})}function F6(r){var e=new M6(r.options).setGraph(r.value);return cf.each(r.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),cf.each(r.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var Zm=ll,B6=U6;function U6(r){var e={},t=[],n;function i(a){Zm.has(e,a)||(e[a]=!0,n.push(a),Zm.each(r.successors(a),i),Zm.each(r.predecessors(a),i))}return Zm.each(r.nodes(),function(a){n=[],i(a),n.length&&t.push(n)}),t}var ak=ll,sk=cl;function cl(){this._arr=[],this._keyIndices={}}cl.prototype.size=function(){return this._arr.length};cl.prototype.keys=function(){return this._arr.map(function(r){return r.key})};cl.prototype.has=function(r){return ak.has(this._keyIndices,r)};cl.prototype.priority=function(r){var e=this._keyIndices[r];if(e!==void 0)return this._arr[e].priority};cl.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};cl.prototype.add=function(r,e){var t=this._keyIndices;if(r=String(r),!ak.has(t,r)){var n=this._arr,i=n.length;return t[r]=i,n.push({key:r,priority:e}),this._decrease(i),!0}return!1};cl.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key};cl.prototype.decrease=function(r,e){var t=this._keyIndices[r];if(e>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[t].priority+" New: "+e);this._arr[t].priority=e,this._decrease(t)};cl.prototype._heapify=function(r){var e=this._arr,t=2*r,n=t+1,i=r;t<e.length&&(i=e[t].priority<e[i].priority?t:i,n<e.length&&(i=e[n].priority<e[i].priority?n:i),i!==r&&(this._swap(r,i),this._heapify(i)))};cl.prototype._decrease=function(r){for(var e=this._arr,t=e[r].priority,n;r!==0&&(n=r>>1,!(e[n].priority<t));)this._swap(r,n),r=n};cl.prototype._swap=function(r,e){var t=this._arr,n=this._keyIndices,i=t[r],a=t[e];t[r]=a,t[e]=i,n[a.key]=r,n[i.key]=e};var z6=ll,q6=sk,uk=V6,G6=z6.constant(1);function V6(r,e,t,n){return W6(r,String(e),t||G6,n||function(i){return r.outEdges(i)})}function W6(r,e,t,n){var i={},a=new q6,o,s,u=function(l){var c=l.v!==o?l.v:l.w,f=i[c],h=t(l),d=s.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+l+" Weight: "+h);d<f.distance&&(f.distance=d,f.predecessor=o,a.decrease(c,d))};for(r.nodes().forEach(function(l){var c=l===e?0:Number.POSITIVE_INFINITY;i[l]={distance:c},a.add(l,c)});a.size()>0&&(o=a.removeMin(),s=i[o],s.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(u);return i}var H6=uk,Y6=ll,$6=X6;function X6(r,e,t){return Y6.transform(r.nodes(),function(n,i){n[i]=H6(r,i,e,t)},{})}var uA=ll,lk=K6;function K6(r){var e=0,t=[],n={},i=[];function a(o){var s=n[o]={onStack:!0,lowlink:e,index:e++};if(t.push(o),r.successors(o).forEach(function(c){uA.has(n,c)?n[c].onStack&&(s.lowlink=Math.min(s.lowlink,n[c].index)):(a(c),s.lowlink=Math.min(s.lowlink,n[c].lowlink))}),s.lowlink===s.index){var u=[],l;do l=t.pop(),n[l].onStack=!1,u.push(l);while(o!==l);i.push(u)}}return r.nodes().forEach(function(o){uA.has(n,o)||a(o)}),i}var Z6=ll,Q6=lk,J6=e8;function e8(r){return Z6.filter(Q6(r),function(e){return e.length>1||e.length===1&&r.hasEdge(e[0],e[0])})}var t8=ll,r8=i8,n8=t8.constant(1);function i8(r,e,t){return o8(r,e||n8,t||function(n){return r.outEdges(n)})}function o8(r,e,t){var n={},i=r.nodes();return i.forEach(function(a){n[a]={},n[a][a]={distance:0},i.forEach(function(o){a!==o&&(n[a][o]={distance:Number.POSITIVE_INFINITY})}),t(a).forEach(function(o){var s=o.v===a?o.w:o.v,u=e(o);n[a][s]={distance:u,predecessor:a}})}),i.forEach(function(a){var o=n[a];i.forEach(function(s){var u=n[s];i.forEach(function(l){var c=u[a],f=o[l],h=u[l],d=c.distance+f.distance;d<h.distance&&(h.distance=d,h.predecessor=f.predecessor)})})}),n}var Ty=ll,ck=fk;fk.CycleException=I0;function fk(r){var e={},t={},n=[];function i(a){if(Ty.has(t,a))throw new I0;Ty.has(e,a)||(t[a]=!0,e[a]=!0,Ty.each(r.predecessors(a),i),delete t[a],n.push(a))}if(Ty.each(r.sinks(),i),Ty.size(e)!==r.nodeCount())throw new I0;return n}function I0(){}I0.prototype=new Error;var lA=ck,a8=s8;function s8(r){try{lA(r)}catch(e){if(e instanceof lA.CycleException)return!1;throw e}return!0}var R0=ll,hk=u8;function u8(r,e,t){R0.isArray(e)||(e=[e]);var n=(r.isDirected()?r.successors:r.neighbors).bind(r),i=[],a={};return R0.each(e,function(o){if(!r.hasNode(o))throw new Error("Graph does not have node: "+o);dk(r,o,t==="post",a,n,i)}),i}function dk(r,e,t,n,i,a){R0.has(n,e)||(n[e]=!0,t||a.push(e),R0.each(i(e),function(o){dk(r,o,t,n,i,a)}),t&&a.push(e))}var l8=hk,c8=f8;function f8(r,e){return l8(r,e,"post")}var h8=hk,d8=v8;function v8(r,e){return h8(r,e,"pre")}var cA=ll,p8=Ix,g8=sk,y8=m8;function m8(r,e){var t=new p8,n={},i=new g8,a;function o(u){var l=u.v===a?u.w:u.v,c=i.priority(l);if(c!==void 0){var f=e(u);f<c&&(n[l]=a,i.decrease(l,f))}}if(r.nodeCount()===0)return t;cA.each(r.nodes(),function(u){i.add(u,Number.POSITIVE_INFINITY),t.setNode(u)}),i.decrease(r.nodes()[0],0);for(var s=!1;i.size()>0;){if(a=i.removeMin(),cA.has(n,a))t.setEdge(a,n[a]);else{if(s)throw new Error("Input graph is not connected: "+r);s=!0}r.nodeEdges(a).forEach(o)}return t}var b8={components:B6,dijkstra:uk,dijkstraAll:$6,findCycles:J6,floydWarshall:r8,isAcyclic:a8,postorder:c8,preorder:d8,prim:y8,tarjan:lk,topsort:ck},fA=k6,fl={Graph:fA.Graph,json:D6,alg:b8,version:fA.version};const _8=F0(fl);var k0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */k0.exports;(function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,h=2,d=4,v=1,y=2,w=1,b=2,g=4,_=8,x=16,P=32,I=64,T=128,A=256,D=512,N=30,j="...",B=800,W=16,V=1,J=2,ee=3,te=1/0,re=9007199254740991,de=17976931348623157e292,pe=NaN,fe=4294967295,ye=fe-1,Me=fe>>>1,Ne=[["ary",T],["bind",w],["bindKey",b],["curry",_],["curryRight",x],["flip",D],["partial",P],["partialRight",I],["rearg",A]],ke="[object Arguments]",je="[object Array]",xe="[object AsyncFunction]",Se="[object Boolean]",Re="[object Date]",Oe="[object DOMException]",Pe="[object Error]",Ue="[object Function]",ot="[object GeneratorFunction]",$e="[object Map]",rt="[object Number]",ht="[object Null]",Ze="[object Object]",H="[object Promise]",K="[object Proxy]",ne="[object RegExp]",Ce="[object Set]",Ae="[object String]",ze="[object Symbol]",Le="[object Undefined]",le="[object WeakMap]",Ve="[object WeakSet]",ut="[object ArrayBuffer]",et="[object DataView]",nt="[object Float32Array]",Pt="[object Float64Array]",dt="[object Int8Array]",Ct="[object Int16Array]",Ft="[object Int32Array]",Yt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",sr="[object Uint16Array]",Bt="[object Uint32Array]",Zt=/\b__p \+= '';/g,Yr=/\b(__p \+=) '' \+/g,Gr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kn=/&(?:amp|lt|gt|quot|#39);/g,Rn=/[&<>"']/g,kn=RegExp(Kn.source),un=RegExp(Rn.source),fn=/<%-([\s\S]+?)%>/g,Un=/<%([\s\S]+?)%>/g,Pi=/<%=([\s\S]+?)%>/g,pi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,li=/^\w*$/,to=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wi=/[\\^$.*+?()[\]{}|]/g,Hi=RegExp(Wi.source),hn=/^\s+/,zn=/\s/,qn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jr=/\{\n\/\* \[wrapped with (.+)\] \*/,_n=/,? & /,wo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Aa=/[()=,{}\[\]\/\s]/,Uo=/\\(\\)?/g,$s=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,Ia=/^[-+]0x[0-9a-f]+$/i,Xs=/^0b[01]+$/i,aa=/^\[object .+?Constructor\]$/,Ka=/^0o[0-7]+$/i,zo=/^(?:0|[1-9]\d*)$/,Oi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ra=/($^)/,qo=/['\n\r\u2028\u2029\\]/g,Mn="\\ud800-\\udfff",Jr="\\u0300-\\u036f",ur="\\ufe20-\\ufe2f",Ks="\\u20d0-\\u20ff",Yi=Jr+ur+Ks,xr="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",ku="\\xac\\xb1\\xd7\\xf7",hl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mf="\\u2000-\\u206f",Zs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bf="A-Z\\xc0-\\xd6\\xd8-\\xde",Ai="\\ufe0e\\ufe0f",Mu=ku+hl+mf+Zs,fo="['’]",Du="["+Mn+"]",dl="["+Mu+"]",ji="["+Yi+"]",Za="\\d+",Qs="["+xr+"]",vc="["+$r+"]",pc="[^"+Mn+Mu+Za+xr+$r+bf+"]",Lr="\\ud83c[\\udffb-\\udfff]",Go="(?:"+ji+"|"+Lr+")",ho="[^"+Mn+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",Wt="[\\ud800-\\udbff][\\udc00-\\udfff]",Js="["+bf+"]",yc="\\u200d",ka="(?:"+vc+"|"+pc+")",Lu="(?:"+Js+"|"+pc+")",Eo="(?:"+fo+"(?:d|ll|m|re|s|t|ve))?",Vr="(?:"+fo+"(?:D|LL|M|RE|S|T|VE))?",sa=Go+"?",vl="["+Ai+"]?",Ih="(?:"+yc+"(?:"+[ho,gc,Wt].join("|")+")"+vl+sa+")*",mc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_f=vl+sa+Ih,pl="(?:"+[Qs,gc,Wt].join("|")+")"+_f,eu="(?:"+[ho+ji+"?",ji,gc,Wt,Du].join("|")+")",Os=RegExp(fo,"g"),Qa=RegExp(ji,"g"),gl=RegExp(Lr+"(?="+Lr+")|"+eu+_f,"g"),bc=RegExp([Js+"?"+vc+"+"+Eo+"(?="+[dl,Js,"$"].join("|")+")",Lu+"+"+Vr+"(?="+[dl,Js+ka,"$"].join("|")+")",Js+"?"+ka+"+"+Eo,Js+"+"+Vr,Rh,mc,Za,pl].join("|"),"g"),_c=RegExp("["+yc+Mn+Yi+Ai+"]"),yl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ml=-1,dn={};dn[nt]=dn[Pt]=dn[dt]=dn[Ct]=dn[Ft]=dn[Yt]=dn[Vt]=dn[sr]=dn[Bt]=!0,dn[ke]=dn[je]=dn[ut]=dn[Se]=dn[et]=dn[Re]=dn[Pe]=dn[Ue]=dn[$e]=dn[rt]=dn[Ze]=dn[ne]=dn[Ce]=dn[Ae]=dn[le]=!1;var Tr={};Tr[ke]=Tr[je]=Tr[ut]=Tr[et]=Tr[Se]=Tr[Re]=Tr[nt]=Tr[Pt]=Tr[dt]=Tr[Ct]=Tr[Ft]=Tr[$e]=Tr[rt]=Tr[Ze]=Tr[ne]=Tr[Ce]=Tr[Ae]=Tr[ze]=Tr[Yt]=Tr[Vt]=Tr[sr]=Tr[Bt]=!0,Tr[Pe]=Tr[Ue]=Tr[le]=!1;var wc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ru={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ja=parseFloat,kh=parseInt,Hd=typeof cn=="object"&&cn&&cn.Object===Object&&cn,nu=typeof self=="object"&&self&&self.Object===Object&&self,Gn=Hd||nu||Function("return this")(),Ec=e&&!e.nodeType&&e,ro=Ec&&!0&&r&&!r.nodeType&&r,iu=ro&&ro.exports===Ec,Oc=iu&&Hd.process,Fi=function(){try{var tt=ro&&ro.require&&ro.require("util").types;return tt||Oc&&Oc.binding&&Oc.binding("util")}catch{}}(),Zn=Fi&&Fi.isArrayBuffer,Ma=Fi&&Fi.isDate,Da=Fi&&Fi.isMap,ua=Fi&&Fi.isRegExp,ft=Fi&&Fi.isSet,gt=Fi&&Fi.isTypedArray;function yt(tt,pt,st){switch(st.length){case 0:return tt.call(pt);case 1:return tt.call(pt,st[0]);case 2:return tt.call(pt,st[0],st[1]);case 3:return tt.call(pt,st[0],st[1],st[2])}return tt.apply(pt,st)}function qt(tt,pt,st,$t){for(var dr=-1,zr=tt==null?0:tt.length;++dr<zr;){var yi=tt[dr];pt($t,yi,st(yi),tt)}return $t}function er(tt,pt){for(var st=-1,$t=tt==null?0:tt.length;++st<$t&&pt(tt[st],st,tt)!==!1;);return tt}function Xr(tt,pt){for(var st=tt==null?0:tt.length;st--&&pt(tt[st],st,tt)!==!1;);return tt}function Ii(tt,pt){for(var st=-1,$t=tt==null?0:tt.length;++st<$t;)if(!pt(tt[st],st,tt))return!1;return!0}function no(tt,pt){for(var st=-1,$t=tt==null?0:tt.length,dr=0,zr=[];++st<$t;){var yi=tt[st];pt(yi,st,tt)&&(zr[dr++]=yi)}return zr}function vn(tt,pt){var st=tt==null?0:tt.length;return!!st&&Ss(tt,pt,0)>-1}function Ef(tt,pt,st){for(var $t=-1,dr=tt==null?0:tt.length;++$t<dr;)if(st(pt,tt[$t]))return!0;return!1}function Vn(tt,pt){for(var st=-1,$t=tt==null?0:tt.length,dr=Array($t);++st<$t;)dr[st]=pt(tt[st],st,tt);return dr}function gi(tt,pt){for(var st=-1,$t=pt.length,dr=tt.length;++st<$t;)tt[dr+st]=pt[st];return tt}function xc(tt,pt,st,$t){var dr=-1,zr=tt==null?0:tt.length;for($t&&zr&&(st=tt[++dr]);++dr<zr;)st=pt(st,tt[dr],dr,tt);return st}function bp(tt,pt,st,$t){var dr=tt==null?0:tt.length;for($t&&dr&&(st=tt[--dr]);dr--;)st=pt(st,tt[dr],dr,tt);return st}function Nu(tt,pt){for(var st=-1,$t=tt==null?0:tt.length;++st<$t;)if(pt(tt[st],st,tt))return!0;return!1}var bl=Ts("length");function ju(tt){return tt.split("")}function Kr(tt){return tt.match(wo)||[]}function Sc(tt,pt,st){var $t;return st(tt,function(dr,zr,yi){if(pt(dr,zr,yi))return $t=zr,!1}),$t}function ou(tt,pt,st,$t){for(var dr=tt.length,zr=st+($t?1:-1);$t?zr--:++zr<dr;)if(pt(tt[zr],zr,tt))return zr;return-1}function Ss(tt,pt,st){return pt===pt?Op(tt,pt,st):ou(tt,Fu,st)}function Mh(tt,pt,st,$t){for(var dr=st-1,zr=tt.length;++dr<zr;)if($t(tt[dr],pt))return dr;return-1}function Fu(tt){return tt!==tt}function Of(tt,pt){var st=tt==null?0:tt.length;return st?Bu(tt,pt)/st:pe}function Ts(tt){return function(pt){return pt==null?t:pt[tt]}}function es(tt){return function(pt){return tt==null?t:tt[pt]}}function Tc(tt,pt,st,$t,dr){return dr(tt,function(zr,yi,ce){st=$t?($t=!1,zr):pt(st,zr,yi,ce)}),st}function _p(tt,pt){var st=tt.length;for(tt.sort(pt);st--;)tt[st]=tt[st].value;return tt}function Bu(tt,pt){for(var st,$t=-1,dr=tt.length;++$t<dr;){var zr=pt(tt[$t]);zr!==t&&(st=st===t?zr:st+zr)}return st}function xf(tt,pt){for(var st=-1,$t=Array(tt);++st<tt;)$t[st]=pt(st);return $t}function Yd(tt,pt){return Vn(pt,function(st){return[st,tt[st]]})}function Sf(tt){return tt&&tt.slice(0,Qn(tt)+1).replace(hn,"")}function vo(tt){return function(pt){return tt(pt)}}function Uu(tt,pt){return Vn(pt,function(st){return tt[st]})}function ts(tt,pt){return tt.has(pt)}function Tf(tt,pt){for(var st=-1,$t=tt.length;++st<$t&&Ss(pt,tt[st],0)>-1;);return st}function wp(tt,pt){for(var st=tt.length;st--&&Ss(pt,tt[st],0)>-1;);return st}function Ep(tt,pt){for(var st=tt.length,$t=0;st--;)tt[st]===pt&&++$t;return $t}var Oo=es(wc),Dh=es(ru);function Lh(tt){return"\\"+xs[tt]}function Cf(tt,pt){return tt==null?t:tt[pt]}function zu(tt){return _c.test(tt)}function $d(tt){return yl.test(tt)}function xo(tt){for(var pt,st=[];!(pt=tt.next()).done;)st.push(pt.value);return st}function io(tt){var pt=-1,st=Array(tt.size);return tt.forEach(function($t,dr){st[++pt]=[dr,$t]}),st}function Tn(tt,pt){return function(st){return tt(pt(st))}}function Wn(tt,pt){for(var st=-1,$t=tt.length,dr=0,zr=[];++st<$t;){var yi=tt[st];(yi===pt||yi===c)&&(tt[st]=c,zr[dr++]=st)}return zr}function Nh(tt){var pt=-1,st=Array(tt.size);return tt.forEach(function($t){st[++pt]=$t}),st}function Kg(tt){var pt=-1,st=Array(tt.size);return tt.forEach(function($t){st[++pt]=[$t,$t]}),st}function Op(tt,pt,st){for(var $t=st-1,dr=tt.length;++$t<dr;)if(tt[$t]===pt)return $t;return-1}function xp(tt,pt,st){for(var $t=st+1;$t--;)if(tt[$t]===pt)return $t;return $t}function Jt(tt){return zu(tt)?Cc(tt):bl(tt)}function oo(tt){return zu(tt)?Pc(tt):ju(tt)}function Qn(tt){for(var pt=tt.length;pt--&&zn.test(tt.charAt(pt)););return pt}var _l=es(wf);function Cc(tt){for(var pt=gl.lastIndex=0;gl.test(tt);)++pt;return pt}function Pc(tt){return tt.match(gl)||[]}function Pf(tt){return tt.match(bc)||[]}var wl=function tt(pt){pt=pt==null?Gn:El.defaults(Gn.Object(),pt,El.pick(Gn,tu));var st=pt.Array,$t=pt.Date,dr=pt.Error,zr=pt.Function,yi=pt.Math,ce=pt.Object,Cs=pt.RegExp,jh=pt.String,Jn=pt.TypeError,Mr=st.prototype,au=zr.prototype,Vo=ce.prototype,$i=pt["__core-js_shared__"],rs=au.toString,Ar=Vo.hasOwnProperty,Sp=0,Fh=function(){var S=/[^.]+$/.exec($i&&$i.keys&&$i.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),la=Vo.toString,Xd=rs.call(ce),Kd=Gn._,Af=Cs("^"+rs.call(Ar).replace(Wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qu=iu?pt.Buffer:t,Nr=pt.Symbol,Ol=pt.Uint8Array,Ps=qu?qu.allocUnsafe:t,xl=Tn(ce.getPrototypeOf,ce),La=ce.create,Wo=Vo.propertyIsEnumerable,Sl=Mr.splice,If=Nr?Nr.isConcatSpreadable:t,As=Nr?Nr.iterator:t,Ho=Nr?Nr.toStringTag:t,So=function(){try{var S=bu(ce,"defineProperty");return S({},"",{}),S}catch{}}(),Tp=pt.clearTimeout!==Gn.clearTimeout&&pt.clearTimeout,Rf=$t&&$t.now!==Gn.Date.now&&$t.now,Zd=pt.setTimeout!==Gn.setTimeout&&pt.setTimeout,Hn=yi.ceil,Tl=yi.floor,Bh=ce.getOwnPropertySymbols,Is=qu?qu.isBuffer:t,kf=pt.isFinite,Mf=Mr.join,su=Tn(ce.keys,ce),Ri=yi.max,ln=yi.min,Uh=$t.now,Cl=pt.parseInt,zh=yi.random,Gu=Mr.reverse,uu=bu(pt,"DataView"),Na=bu(pt,"Map"),Vu=bu(pt,"Promise"),lu=bu(pt,"Set"),Ac=bu(pt,"WeakMap"),Pl=bu(ce,"create"),cu=Ac&&new Ac,Rs={},Cp=fi(uu),Qd=fi(Na),Ic=fi(Vu),qh=fi(lu),Rc=fi(Ac),kc=Nr?Nr.prototype:t,ca=kc?kc.valueOf:t,fu=kc?kc.toString:t;function ge(S){if(Ti(S)&&!Pr(S)&&!(S instanceof Ir)){if(S instanceof fr)return S;if(Ar.call(S,"__wrapped__"))return Ev(S)}return new fr(S)}var Wu=function(){function S(){}return function(k){if(!Nn(k))return{};if(La)return La(k);S.prototype=k;var U=new S;return S.prototype=t,U}}();function Hu(){}function fr(S,k){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=t}ge.templateSettings={escape:fn,evaluate:Un,interpolate:Pi,variable:"",imports:{_:ge}},ge.prototype=Hu.prototype,ge.prototype.constructor=ge,fr.prototype=Wu(Hu.prototype),fr.prototype.constructor=fr;function Ir(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function Df(){var S=new Ir(this.__wrapped__);return S.__actions__=Ui(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Ui(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Ui(this.__views__),S}function Al(){if(this.__filtered__){var S=new Ir(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function Lf(){var S=this.__wrapped__.value(),k=this.__dir__,U=Pr(S),X=k<0,oe=U?S.length:0,me=Up(0,oe,this.__views__),Be=me.start,He=me.end,it=He-Be,Et=X?He:Be-1,xt=this.__iteratees__,At=xt.length,Ht=0,nr=ln(it,this.__takeCount__);if(!U||!X&&oe==it&&nr==it)return Zu(S,this.__actions__);var wr=[];e:for(;it--&&Ht<nr;){Et+=k;for(var qr=-1,Er=S[Et];++qr<At;){var rn=xt[qr],sn=rn.iteratee,Su=rn.type,ws=sn(Er);if(Su==J)Er=ws;else if(!ws){if(Su==V)continue e;break e}}wr[Ht++]=Er}return wr}Ir.prototype=Wu(Hu.prototype),Ir.prototype.constructor=Ir;function ns(S){var k=-1,U=S==null?0:S.length;for(this.clear();++k<U;){var X=S[k];this.set(X[0],X[1])}}function Zg(){this.__data__=Pl?Pl(null):{},this.size=0}function ja(S){var k=this.has(S)&&delete this.__data__[S];return this.size-=k?1:0,k}function Pp(S){var k=this.__data__;if(Pl){var U=k[S];return U===u?t:U}return Ar.call(k,S)?k[S]:t}function Nf(S){var k=this.__data__;return Pl?k[S]!==t:Ar.call(k,S)}function Il(S,k){var U=this.__data__;return this.size+=this.has(S)?0:1,U[S]=Pl&&k===t?u:k,this}ns.prototype.clear=Zg,ns.prototype.delete=ja,ns.prototype.get=Pp,ns.prototype.has=Nf,ns.prototype.set=Il;function Fa(S){var k=-1,U=S==null?0:S.length;for(this.clear();++k<U;){var X=S[k];this.set(X[0],X[1])}}function Jd(){this.__data__=[],this.size=0}function fa(S){var k=this.__data__,U=Nc(k,S);if(U<0)return!1;var X=k.length-1;return U==X?k.pop():Sl.call(k,U,1),--this.size,!0}function tr(S){var k=this.__data__,U=Nc(k,S);return U<0?t:k[U][1]}function Gh(S){return Nc(this.__data__,S)>-1}function po(S,k){var U=this.__data__,X=Nc(U,S);return X<0?(++this.size,U.push([S,k])):U[X][1]=k,this}Fa.prototype.clear=Jd,Fa.prototype.delete=fa,Fa.prototype.get=tr,Fa.prototype.has=Gh,Fa.prototype.set=po;function go(S){var k=-1,U=S==null?0:S.length;for(this.clear();++k<U;){var X=S[k];this.set(X[0],X[1])}}function ha(){this.size=0,this.__data__={hash:new ns,map:new(Na||Fa),string:new ns}}function jf(S){var k=ma(this,S).delete(S);return this.size-=k?1:0,k}function Ap(S){return ma(this,S).get(S)}function Rl(S){return ma(this,S).has(S)}function Mc(S,k){var U=ma(this,S),X=U.size;return U.set(S,k),this.size+=U.size==X?0:1,this}go.prototype.clear=ha,go.prototype.delete=jf,go.prototype.get=Ap,go.prototype.has=Rl,go.prototype.set=Mc;function yo(S){var k=-1,U=S==null?0:S.length;for(this.__data__=new go;++k<U;)this.add(S[k])}function Qg(S){return this.__data__.set(S,u),this}function da(S){return this.__data__.has(S)}yo.prototype.add=yo.prototype.push=Qg,yo.prototype.has=da;function va(S){var k=this.__data__=new Fa(S);this.size=k.size}function kl(){this.__data__=new Fa,this.size=0}function Dc(S){var k=this.__data__,U=k.delete(S);return this.size=k.size,U}function Ff(S){return this.__data__.get(S)}function Ip(S){return this.__data__.has(S)}function Lc(S,k){var U=this.__data__;if(U instanceof Fa){var X=U.__data__;if(!Na||X.length<i-1)return X.push([S,k]),this.size=++U.size,this;U=this.__data__=new go(X)}return U.set(S,k),this.size=U.size,this}va.prototype.clear=kl,va.prototype.delete=Dc,va.prototype.get=Ff,va.prototype.has=Ip,va.prototype.set=Lc;function Vh(S,k){var U=Pr(S),X=!U&&Xl(S),oe=!U&&!X&&Kl(S),me=!U&&!X&&!oe&&lh(S),Be=U||X||oe||me,He=Be?xf(S.length,jh):[],it=He.length;for(var Et in S)(k||Ar.call(S,Et))&&!(Be&&(Et=="length"||oe&&(Et=="offset"||Et=="parent")||me&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||_u(Et,it)))&&He.push(Et);return He}function To(S){var k=S.length;return k?S[Ul(0,k-1)]:t}function is(S,k){return rh(Ui(S),ss(k,0,S.length))}function Bf(S){return rh(Ui(S))}function Yu(S,k,U){(U!==t&&!bs(S[k],U)||U===t&&!(k in S))&&as(S,k,U)}function ks(S,k,U){var X=S[k];(!(Ar.call(S,k)&&bs(X,U))||U===t&&!(k in S))&&as(S,k,U)}function Nc(S,k){for(var U=S.length;U--;)if(bs(S[U][0],k))return U;return-1}function os(S,k,U,X){return us(S,function(oe,me,Be){k(X,oe,U(oe),Be)}),X}function Ml(S,k){return S&&Ua(k,St(k),S)}function hu(S,k){return S&&Ua(k,we(k),S)}function as(S,k,U){k=="__proto__"&&So?So(S,k,{configurable:!0,enumerable:!0,value:U,writable:!0}):S[k]=U}function Uf(S,k){for(var U=-1,X=k.length,oe=st(X),me=S==null;++U<X;)oe[U]=me?t:We(S,k[U]);return oe}function ss(S,k,U){return S===S&&(U!==t&&(S=S<=U?S:U),k!==t&&(S=S>=k?S:k)),S}function Yo(S,k,U,X,oe,me){var Be,He=k&f,it=k&h,Et=k&d;if(U&&(Be=oe?U(S,X,oe,me):U(S)),Be!==t)return Be;if(!Nn(S))return S;var xt=Pr(S);if(xt){if(Be=ey(S),!He)return Ui(S,Be)}else{var At=bo(S),Ht=At==Ue||At==ot;if(Kl(S))return lv(S,He);if(At==Ze||At==ke||Ht&&!oe){if(Be=it||Ht?{}:qp(S),!He)return it?Kf(S,hu(Be,S)):dv(S,Ml(Be,S))}else{if(!Tr[At])return oe?S:{};Be=Gp(S,At,He)}}me||(me=new va);var nr=me.get(S);if(nr)return nr;me.set(S,Be),yy(S)?S.forEach(function(Er){Be.add(Yo(Er,k,U,Er,S,me))}):jt(S)&&S.forEach(function(Er,rn){Be.set(rn,Yo(Er,k,U,rn,S,me))});var wr=Et?it?Po:Hc:it?we:St,qr=xt?t:wr(S);return er(qr||S,function(Er,rn){qr&&(rn=Er,Er=S[rn]),ks(Be,rn,Yo(Er,k,U,rn,S,me))}),Be}function Wh(S){var k=St(S);return function(U){return zf(U,S,k)}}function zf(S,k,U){var X=U.length;if(S==null)return!X;for(S=ce(S);X--;){var oe=U[X],me=k[oe],Be=S[oe];if(Be===t&&!(oe in S)||!me(Be))return!1}return!0}function $o(S,k,U){if(typeof S!="function")throw new Jn(o);return el(function(){S.apply(t,U)},k)}function jc(S,k,U,X){var oe=-1,me=vn,Be=!0,He=S.length,it=[],Et=k.length;if(!He)return it;U&&(k=Vn(k,vo(U))),X?(me=Ef,Be=!1):k.length>=i&&(me=ts,Be=!1,k=new yo(k));e:for(;++oe<He;){var xt=S[oe],At=U==null?xt:U(xt);if(xt=X||xt!==0?xt:0,Be&&At===At){for(var Ht=Et;Ht--;)if(k[Ht]===At)continue e;it.push(xt)}else me(k,At,X)||it.push(xt)}return it}var us=Bp(Xo),Hh=Bp(pa,!0);function Dl(S,k){var U=!0;return us(S,function(X,oe,me){return U=!!k(X,oe,me),U}),U}function qf(S,k,U){for(var X=-1,oe=S.length;++X<oe;){var me=S[X],Be=k(me);if(Be!=null&&(He===t?Be===Be&&!_s(Be):U(Be,He)))var He=Be,it=me}return it}function ev(S,k,U,X){var oe=S.length;for(U=E(U),U<0&&(U=-U>oe?0:oe+U),X=X===t||X>oe?oe:E(X),X<0&&(X+=oe),X=U>X?0:M(X);U<X;)S[U++]=k;return S}function ls(S,k){var U=[];return us(S,function(X,oe,me){k(X,oe,me)&&U.push(X)}),U}function ki(S,k,U,X,oe){var me=-1,Be=S.length;for(U||(U=yv),oe||(oe=[]);++me<Be;){var He=S[me];k>0&&U(He)?k>1?ki(He,k-1,U,X,oe):gi(oe,He):X||(oe[oe.length]=He)}return oe}var Fc=Qu(),Bc=Qu(!0);function Xo(S,k){return S&&Fc(S,k,St)}function pa(S,k){return S&&Bc(S,k,St)}function Uc(S,k){return no(k,function(U){return ti(S[U])})}function cs(S,k){k=hs(k,S);for(var U=0,X=k.length;S!=null&&U<X;)S=S[gs(k[U++])];return U&&U==X?S:t}function Yh(S,k,U){var X=k(S);return Pr(S)?X:gi(X,U(S))}function Xi(S){return S==null?S===t?Le:ht:Ho&&Ho in ce(S)?ba(S):dd(S)}function $u(S,k){return S>k}function vr(S,k){return S!=null&&Ar.call(S,k)}function du(S,k){return S!=null&&k in ce(S)}function Gf(S,k,U){return S>=ln(k,U)&&S<Ri(k,U)}function vu(S,k,U){for(var X=U?Ef:vn,oe=S[0].length,me=S.length,Be=me,He=st(me),it=1/0,Et=[];Be--;){var xt=S[Be];Be&&k&&(xt=Vn(xt,vo(k))),it=ln(xt.length,it),He[Be]=!U&&(k||oe>=120&&xt.length>=120)?new yo(Be&&xt):t}xt=S[0];var At=-1,Ht=He[0];e:for(;++At<oe&&Et.length<it;){var nr=xt[At],wr=k?k(nr):nr;if(nr=U||nr!==0?nr:0,!(Ht?ts(Ht,wr):X(Et,wr,U))){for(Be=me;--Be;){var qr=He[Be];if(!(qr?ts(qr,wr):X(S[Be],wr,U)))continue e}Ht&&Ht.push(wr),Et.push(nr)}}return Et}function tv(S,k,U,X){return Xo(S,function(oe,me,Be){k(X,U(oe),me,Be)}),X}function Ll(S,k,U){k=hs(k,S),S=ps(S,k);var X=S==null?S:S[gs(q(k))];return X==null?t:yt(X,S,U)}function Cn(S){return Ti(S)&&Xi(S)==ke}function $h(S){return Ti(S)&&Xi(S)==ut}function Nl(S){return Ti(S)&&Xi(S)==Re}function jl(S,k,U,X,oe){return S===k?!0:S==null||k==null||!Ti(S)&&!Ti(k)?S!==S&&k!==k:Ki(S,k,U,X,jl,oe)}function Ki(S,k,U,X,oe,me){var Be=Pr(S),He=Pr(k),it=Be?je:bo(S),Et=He?je:bo(k);it=it==ke?Ze:it,Et=Et==ke?Ze:Et;var xt=it==Ze,At=Et==Ze,Ht=it==Et;if(Ht&&Kl(S)){if(!Kl(k))return!1;Be=!0,xt=!1}if(Ht&&!xt)return me||(me=new va),Be||lh(S)?sd(S,k,U,X,oe,me):Wc(S,k,it,U,X,oe,me);if(!(U&v)){var nr=xt&&Ar.call(S,"__wrapped__"),wr=At&&Ar.call(k,"__wrapped__");if(nr||wr){var qr=nr?S.value():S,Er=wr?k.value():k;return me||(me=new va),oe(qr,Er,U,X,me)}}return Ht?(me||(me=new va),eh(S,k,U,X,oe,me)):!1}function mo(S){return Ti(S)&&bo(S)==$e}function Bi(S,k,U,X){var oe=U.length,me=oe,Be=!X;if(S==null)return!me;for(S=ce(S);oe--;){var He=U[oe];if(Be&&He[2]?He[1]!==S[He[0]]:!(He[0]in S))return!1}for(;++oe<me;){He=U[oe];var it=He[0],Et=S[it],xt=He[1];if(Be&&He[2]){if(Et===t&&!(it in S))return!1}else{var At=new va;if(X)var Ht=X(Et,xt,it,S,k,At);if(!(Ht===t?jl(xt,Et,v|y,X,At):Ht))return!1}}return!0}function Fl(S){if(!Nn(S)||fd(S))return!1;var k=ti(S)?Af:aa;return k.test(fi(S))}function Jg(S){return Ti(S)&&Xi(S)==ne}function pu(S){return Ti(S)&&bo(S)==Ce}function Rp(S){return Ti(S)&&Uv(S.length)&&!!dn[Xi(S)]}function Ba(S){return typeof S=="function"?S:S==null?si:typeof S=="object"?Pr(S)?Kh(S[0],S[1]):Bl(S):uS(S)}function Vf(S){if(!Ao(S))return su(S);var k=[];for(var U in ce(S))Ar.call(S,U)&&U!="constructor"&&k.push(U);return k}function kp(S){if(!Nn(S))return Eu(S);var k=Ao(S),U=[];for(var X in S)X=="constructor"&&(k||!Ar.call(S,X))||U.push(X);return U}function gu(S,k){return S<k}function Xh(S,k){var U=-1,X=Ea(S)?st(S.length):[];return us(S,function(oe,me,Be){X[++U]=k(oe,me,Be)}),X}function Bl(S){var k=Sr(S);return k.length==1&&k[0][2]?hd(k[0][0],k[0][1]):function(U){return U===S||Bi(U,S,k)}}function Kh(S,k){return mv(S)&&$c(k)?hd(gs(S),k):function(U){var X=We(U,S);return X===t&&X===k?mt(U,S):jl(k,X,v|y)}}function fs(S,k,U,X,oe){S!==k&&Fc(k,function(me,Be){if(oe||(oe=new va),Nn(me))rv(S,k,Be,U,fs,X,oe);else{var He=X?X(Yl(S,Be),me,Be+"",S,k,oe):t;He===t&&(He=me),Yu(S,Be,He)}},we)}function rv(S,k,U,X,oe,me,Be){var He=Yl(S,U),it=Yl(k,U),Et=Be.get(it);if(Et){Yu(S,U,Et);return}var xt=me?me(He,it,U+"",S,k,Be):t,At=xt===t;if(At){var Ht=Pr(it),nr=!Ht&&Kl(it),wr=!Ht&&!nr&&lh(it);xt=it,Ht||nr||wr?Pr(He)?xt=He:Mi(He)?xt=Ui(He):nr?(At=!1,xt=lv(it,!0)):wr?(At=!1,xt=fv(it,!0)):xt=[]:Zl(it)||Xl(it)?(xt=He,Xl(He)?xt=F(He):(!Nn(He)||ti(He))&&(xt=qp(it))):At=!1}At&&(Be.set(it,xt),oe(xt,it,X,me,Be),Be.delete(it)),Yu(S,U,xt)}function Wf(S,k){var U=S.length;if(U)return k+=k<0?U:0,_u(k,U)?S[k]:t}function Xu(S,k,U){k.length?k=Vn(k,function(me){return Pr(me)?function(Be){return cs(Be,me.length===1?me[0]:me)}:me}):k=[si];var X=-1;k=Vn(k,vo(Tt()));var oe=Xh(S,function(me,Be,He){var it=Vn(k,function(Et){return Et(me)});return{criteria:it,index:++X,value:me}});return _p(oe,function(me,Be){return Gl(me,Be,U)})}function nv(S,k){return Zh(S,k,function(U,X){return mt(S,X)})}function Zh(S,k,U){for(var X=-1,oe=k.length,me={};++X<oe;){var Be=k[X],He=cs(S,Be);U(He,Be)&&zl(me,hs(Be,S),He)}return me}function xi(S){return function(k){return cs(k,S)}}function yu(S,k,U,X){var oe=X?Mh:Ss,me=-1,Be=k.length,He=S;for(S===k&&(k=Ui(k)),U&&(He=Vn(S,vo(U)));++me<Be;)for(var it=0,Et=k[me],xt=U?U(Et):Et;(it=oe(He,xt,it,X))>-1;)He!==S&&Sl.call(He,it,1),Sl.call(S,it,1);return S}function iv(S,k){for(var U=S?k.length:0,X=U-1;U--;){var oe=k[U];if(U==X||oe!==me){var me=oe;_u(oe)?Sl.call(S,oe,1):mu(S,oe)}}return S}function Ul(S,k){return S+Tl(zh()*(k-S+1))}function ov(S,k,U,X){for(var oe=-1,me=Ri(Hn((k-S)/(U||1)),0),Be=st(me);me--;)Be[X?me:++oe]=S,S+=U;return Be}function av(S,k){var U="";if(!S||k<1||k>re)return U;do k%2&&(U+=S),k=Tl(k/2),k&&(S+=S);while(k);return U}function yr(S,k){return _v(_a(S,k,si),S+"")}function sv(S){return To(gn(S))}function Mp(S,k){var U=gn(S);return rh(U,ss(k,0,U.length))}function zl(S,k,U,X){if(!Nn(S))return S;k=hs(k,S);for(var oe=-1,me=k.length,Be=me-1,He=S;He!=null&&++oe<me;){var it=gs(k[oe]),Et=U;if(it==="__proto__"||it==="constructor"||it==="prototype")return S;if(oe!=Be){var xt=He[it];Et=X?X(xt,it,He):t,Et===t&&(Et=Nn(xt)?xt:_u(k[oe+1])?[]:{})}ks(He,it,Et),He=He[it]}return S}var uv=cu?function(S,k){return cu.set(S,k),S}:si,Dp=So?function(S,k){return So(S,"toString",{configurable:!0,enumerable:!1,value:bi(k),writable:!0})}:si;function Hf(S){return rh(gn(S))}function ci(S,k,U){var X=-1,oe=S.length;k<0&&(k=-k>oe?0:oe+k),U=U>oe?oe:U,U<0&&(U+=oe),oe=k>U?0:U-k>>>0,k>>>=0;for(var me=st(oe);++X<oe;)me[X]=S[X+k];return me}function Lp(S,k){var U;return us(S,function(X,oe,me){return U=k(X,oe,me),!U}),!!U}function Yf(S,k,U){var X=0,oe=S==null?X:S.length;if(typeof k=="number"&&k===k&&oe<=Me){for(;X<oe;){var me=X+oe>>>1,Be=S[me];Be!==null&&!_s(Be)&&(U?Be<=k:Be<k)?X=me+1:oe=me}return oe}return Qh(S,k,si,U)}function Qh(S,k,U,X){var oe=0,me=S==null?0:S.length;if(me===0)return 0;k=U(k);for(var Be=k!==k,He=k===null,it=_s(k),Et=k===t;oe<me;){var xt=Tl((oe+me)/2),At=U(S[xt]),Ht=At!==t,nr=At===null,wr=At===At,qr=_s(At);if(Be)var Er=X||wr;else Et?Er=wr&&(X||Ht):He?Er=wr&&Ht&&(X||!nr):it?Er=wr&&Ht&&!nr&&(X||!qr):nr||qr?Er=!1:Er=X?At<=k:At<k;Er?oe=xt+1:me=xt}return ln(me,ye)}function $f(S,k){for(var U=-1,X=S.length,oe=0,me=[];++U<X;){var Be=S[U],He=k?k(Be):Be;if(!U||!bs(He,it)){var it=He;me[oe++]=Be===0?0:Be}}return me}function Np(S){return typeof S=="number"?S:_s(S)?pe:+S}function ga(S){if(typeof S=="string")return S;if(Pr(S))return Vn(S,ga)+"";if(_s(S))return fu?fu.call(S):"";var k=S+"";return k=="0"&&1/S==-te?"-0":k}function Ku(S,k,U){var X=-1,oe=vn,me=S.length,Be=!0,He=[],it=He;if(U)Be=!1,oe=Ef;else if(me>=i){var Et=k?null:za(S);if(Et)return Nh(Et);Be=!1,oe=ts,it=new yo}else it=k?[]:He;e:for(;++X<me;){var xt=S[X],At=k?k(xt):xt;if(xt=U||xt!==0?xt:0,Be&&At===At){for(var Ht=it.length;Ht--;)if(it[Ht]===At)continue e;k&&it.push(At),He.push(xt)}else oe(it,At,U)||(it!==He&&it.push(At),He.push(xt))}return He}function mu(S,k){return k=hs(k,S),S=ps(S,k),S==null||delete S[gs(q(k))]}function Jh(S,k,U,X){return zl(S,k,U(cs(S,k)),X)}function ed(S,k,U,X){for(var oe=S.length,me=X?oe:-1;(X?me--:++me<oe)&&k(S[me],me,S););return U?ci(S,X?0:me,X?me+1:oe):ci(S,X?me+1:0,X?oe:me)}function Zu(S,k){var U=S;return U instanceof Ir&&(U=U.value()),xc(k,function(X,oe){return oe.func.apply(oe.thisArg,gi([X],oe.args))},U)}function td(S,k,U){var X=S.length;if(X<2)return X?Ku(S[0]):[];for(var oe=-1,me=st(X);++oe<X;)for(var Be=S[oe],He=-1;++He<X;)He!=oe&&(me[oe]=jc(me[oe]||Be,S[He],k,U));return Ku(ki(me,1),k,U)}function Xf(S,k,U){for(var X=-1,oe=S.length,me=k.length,Be={};++X<oe;){var He=X<me?k[X]:t;U(Be,S[X],He)}return Be}function zc(S){return Mi(S)?S:[]}function Zi(S){return typeof S=="function"?S:si}function hs(S,k){return Pr(S)?S:mv(S,k)?[S]:$l(z(S))}var rd=yr;function Ms(S,k,U){var X=S.length;return U=U===t?X:U,!k&&U>=X?S:ci(S,k,U)}var jp=Tp||function(S){return Gn.clearTimeout(S)};function lv(S,k){if(k)return S.slice();var U=S.length,X=Ps?Ps(U):new S.constructor(U);return S.copy(X),X}function ql(S){var k=new S.constructor(S.byteLength);return new Ol(k).set(new Ol(S)),k}function qc(S,k){var U=k?ql(S.buffer):S.buffer;return new S.constructor(U,S.byteOffset,S.byteLength)}function cv(S){var k=new S.constructor(S.source,co.exec(S));return k.lastIndex=S.lastIndex,k}function nd(S){return ca?ce(ca.call(S)):{}}function fv(S,k){var U=k?ql(S.buffer):S.buffer;return new S.constructor(U,S.byteOffset,S.length)}function id(S,k){if(S!==k){var U=S!==t,X=S===null,oe=S===S,me=_s(S),Be=k!==t,He=k===null,it=k===k,Et=_s(k);if(!He&&!Et&&!me&&S>k||me&&Be&&it&&!He&&!Et||X&&Be&&it||!U&&it||!oe)return 1;if(!X&&!me&&!Et&&S<k||Et&&U&&oe&&!X&&!me||He&&U&&oe||!Be&&oe||!it)return-1}return 0}function Gl(S,k,U){for(var X=-1,oe=S.criteria,me=k.criteria,Be=oe.length,He=U.length;++X<Be;){var it=id(oe[X],me[X]);if(it){if(X>=He)return it;var Et=U[X];return it*(Et=="desc"?-1:1)}}return S.index-k.index}function hv(S,k,U,X){for(var oe=-1,me=S.length,Be=U.length,He=-1,it=k.length,Et=Ri(me-Be,0),xt=st(it+Et),At=!X;++He<it;)xt[He]=k[He];for(;++oe<Be;)(At||oe<me)&&(xt[U[oe]]=S[oe]);for(;Et--;)xt[He++]=S[oe++];return xt}function Fp(S,k,U,X){for(var oe=-1,me=S.length,Be=-1,He=U.length,it=-1,Et=k.length,xt=Ri(me-He,0),At=st(xt+Et),Ht=!X;++oe<xt;)At[oe]=S[oe];for(var nr=oe;++it<Et;)At[nr+it]=k[it];for(;++Be<He;)(Ht||oe<me)&&(At[nr+U[Be]]=S[oe++]);return At}function Ui(S,k){var U=-1,X=S.length;for(k||(k=st(X));++U<X;)k[U]=S[U];return k}function Ua(S,k,U,X){var oe=!U;U||(U={});for(var me=-1,Be=k.length;++me<Be;){var He=k[me],it=X?X(U[He],S[He],He,U,S):t;it===t&&(it=S[He]),oe?as(U,He,it):ks(U,He,it)}return U}function dv(S,k){return Ua(S,ld(S),k)}function Kf(S,k){return Ua(S,an(S),k)}function Zf(S,k){return function(U,X){var oe=Pr(U)?qt:os,me=k?k():{};return oe(U,S,Tt(X,2),me)}}function Ds(S){return yr(function(k,U){var X=-1,oe=U.length,me=oe>1?U[oe-1]:t,Be=oe>2?U[2]:t;for(me=S.length>3&&typeof me=="function"?(oe--,me):t,Be&&so(U[0],U[1],Be)&&(me=oe<3?t:me,oe=1),k=ce(k);++X<oe;){var He=U[X];He&&S(k,He,X,me)}return k})}function Bp(S,k){return function(U,X){if(U==null)return U;if(!Ea(U))return S(U,X);for(var oe=U.length,me=k?oe:-1,Be=ce(U);(k?me--:++me<oe)&&X(Be[me],me,Be)!==!1;);return U}}function Qu(S){return function(k,U,X){for(var oe=-1,me=ce(k),Be=X(k),He=Be.length;He--;){var it=Be[S?He:++oe];if(U(me[it],it,me)===!1)break}return k}}function ds(S,k,U){var X=k&w,oe=Ju(S);function me(){var Be=this&&this!==Gn&&this instanceof me?oe:S;return Be.apply(X?U:this,arguments)}return me}function Gc(S){return function(k){k=z(k);var U=zu(k)?oo(k):t,X=U?U[0]:k.charAt(0),oe=U?Ms(U,1).join(""):k.slice(1);return X[S]()+oe}}function Vl(S){return function(k){return xc(hh(tn(k).replace(Os,"")),S,"")}}function Ju(S){return function(){var k=arguments;switch(k.length){case 0:return new S;case 1:return new S(k[0]);case 2:return new S(k[0],k[1]);case 3:return new S(k[0],k[1],k[2]);case 4:return new S(k[0],k[1],k[2],k[3]);case 5:return new S(k[0],k[1],k[2],k[3],k[4]);case 6:return new S(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new S(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var U=Wu(S.prototype),X=S.apply(U,k);return Nn(X)?X:U}}function od(S,k,U){var X=Ju(S);function oe(){for(var me=arguments.length,Be=st(me),He=me,it=Yc(oe);He--;)Be[He]=arguments[He];var Et=me<3&&Be[0]!==it&&Be[me-1]!==it?[]:Wn(Be,it);if(me-=Et.length,me<U)return pv(S,k,Qf,oe.placeholder,t,Be,Et,t,t,U-me);var xt=this&&this!==Gn&&this instanceof oe?X:S;return yt(xt,this,Be)}return oe}function vv(S){return function(k,U,X){var oe=ce(k);if(!Ea(k)){var me=Tt(U,3);k=St(k),U=function(He){return me(oe[He],He,oe)}}var Be=S(k,U,X);return Be>-1?oe[me?k[Be]:Be]:t}}function ao(S){return ya(function(k){var U=k.length,X=U,oe=fr.prototype.thru;for(S&&k.reverse();X--;){var me=k[X];if(typeof me!="function")throw new Jn(o);if(oe&&!Be&&ud(me)=="wrapper")var Be=new fr([],!0)}for(X=Be?X:U;++X<U;){me=k[X];var He=ud(me),it=He=="wrapper"?vs(me):t;it&&Dr(it[0])&&it[1]==(T|_|P|A)&&!it[4].length&&it[9]==1?Be=Be[ud(it[0])].apply(Be,it[3]):Be=me.length==1&&Dr(me)?Be[He]():Be.thru(me)}return function(){var Et=arguments,xt=Et[0];if(Be&&Et.length==1&&Pr(xt))return Be.plant(xt).value();for(var At=0,Ht=U?k[At].apply(this,Et):xt;++At<U;)Ht=k[At].call(this,Ht);return Ht}})}function Qf(S,k,U,X,oe,me,Be,He,it,Et){var xt=k&T,At=k&w,Ht=k&b,nr=k&(_|x),wr=k&D,qr=Ht?t:Ju(S);function Er(){for(var rn=arguments.length,sn=st(rn),Su=rn;Su--;)sn[Su]=arguments[Su];if(nr)var ws=Yc(Er),Tu=Ep(sn,ws);if(X&&(sn=hv(sn,X,oe,nr)),me&&(sn=Fp(sn,me,Be,nr)),rn-=Tu,nr&&rn<Et){var lo=Wn(sn,ws);return pv(S,k,Qf,Er.placeholder,U,sn,lo,He,it,Et-rn)}var oc=At?U:this,vh=Ht?oc[S]:S;return rn=sn.length,He?sn=Vp(sn,He):wr&&rn>1&&sn.reverse(),xt&&it<rn&&(sn.length=it),this&&this!==Gn&&this instanceof Er&&(vh=qr||Ju(vh)),vh.apply(oc,sn)}return Er}function Wl(S,k){return function(U,X){return tv(U,S,k(X),{})}}function Ko(S,k){return function(U,X){var oe;if(U===t&&X===t)return k;if(U!==t&&(oe=U),X!==t){if(oe===t)return X;typeof U=="string"||typeof X=="string"?(U=ga(U),X=ga(X)):(U=Np(U),X=Np(X)),oe=S(U,X)}return oe}}function _r(S){return ya(function(k){return k=Vn(k,vo(Tt())),yr(function(U){var X=this;return S(k,function(oe){return yt(oe,X,U)})})})}function Jf(S,k){k=k===t?" ":ga(k);var U=k.length;if(U<2)return U?av(k,S):k;var X=av(k,Hn(S/Jt(k)));return zu(k)?Ms(oo(X),0,S).join(""):X.slice(0,S)}function Co(S,k,U,X){var oe=k&w,me=Ju(S);function Be(){for(var He=-1,it=arguments.length,Et=-1,xt=X.length,At=st(xt+it),Ht=this&&this!==Gn&&this instanceof Be?me:S;++Et<xt;)At[Et]=X[Et];for(;it--;)At[Et++]=arguments[++He];return yt(Ht,oe?U:this,At)}return Be}function Yn(S){return function(k,U,X){return X&&typeof X!="number"&&so(k,U,X)&&(U=X=t),k=O(k),U===t?(U=k,k=0):U=O(U),X=X===t?k<U?1:-1:O(X),ov(k,U,X,S)}}function Qi(S){return function(k,U){return typeof k=="string"&&typeof U=="string"||(k=R(k),U=R(U)),S(k,U)}}function pv(S,k,U,X,oe,me,Be,He,it,Et){var xt=k&_,At=xt?Be:t,Ht=xt?t:Be,nr=xt?me:t,wr=xt?t:me;k|=xt?P:I,k&=~(xt?I:P),k&g||(k&=~(w|b));var qr=[S,k,oe,nr,At,wr,Ht,He,it,Et],Er=U.apply(t,qr);return Dr(S)&&th(Er,qr),Er.placeholder=X,wv(Er,S,k)}function Hl(S){var k=yi[S];return function(U,X){if(U=R(U),X=X==null?0:ln(E(X),292),X&&kf(U)){var oe=(z(U)+"e").split("e"),me=k(oe[0]+"e"+(+oe[1]+X));return oe=(z(me)+"e").split("e"),+(oe[0]+"e"+(+oe[1]-X))}return k(U)}}var za=lu&&1/Nh(new lu([,-0]))[1]==te?function(S){return new lu(S)}:_y;function Vc(S){return function(k){var U=bo(k);return U==$e?io(k):U==Ce?Kg(k):Yd(k,S(k))}}function Zo(S,k,U,X,oe,me,Be,He){var it=k&b;if(!it&&typeof S!="function")throw new Jn(o);var Et=X?X.length:0;if(Et||(k&=~(P|I),X=oe=t),Be=Be===t?Be:Ri(E(Be),0),He=He===t?He:E(He),Et-=oe?oe.length:0,k&I){var xt=X,At=oe;X=oe=t}var Ht=it?t:vs(S),nr=[S,k,U,X,oe,xt,At,me,Be,He];if(Ht&&wu(nr,Ht),S=nr[0],k=nr[1],U=nr[2],X=nr[3],oe=nr[4],He=nr[9]=nr[9]===t?it?0:S.length:Ri(nr[9]-Et,0),!He&&k&(_|x)&&(k&=~(_|x)),!k||k==w)var wr=ds(S,k,U);else k==_||k==x?wr=od(S,k,He):(k==P||k==(w|P))&&!oe.length?wr=Co(S,k,U,X):wr=Qf.apply(t,nr);var qr=Ht?uv:th;return wv(qr(wr,nr),S,k)}function $n(S,k,U,X){return S===t||bs(S,Vo[U])&&!Ar.call(X,U)?k:S}function Dn(S,k,U,X,oe,me){return Nn(S)&&Nn(k)&&(me.set(k,S),fs(S,k,t,Dn,me),me.delete(k)),S}function ad(S){return Zl(S)?t:S}function sd(S,k,U,X,oe,me){var Be=U&v,He=S.length,it=k.length;if(He!=it&&!(Be&&it>He))return!1;var Et=me.get(S),xt=me.get(k);if(Et&&xt)return Et==k&&xt==S;var At=-1,Ht=!0,nr=U&y?new yo:t;for(me.set(S,k),me.set(k,S);++At<He;){var wr=S[At],qr=k[At];if(X)var Er=Be?X(qr,wr,At,k,S,me):X(wr,qr,At,S,k,me);if(Er!==t){if(Er)continue;Ht=!1;break}if(nr){if(!Nu(k,function(rn,sn){if(!ts(nr,sn)&&(wr===rn||oe(wr,rn,U,X,me)))return nr.push(sn)})){Ht=!1;break}}else if(!(wr===qr||oe(wr,qr,U,X,me))){Ht=!1;break}}return me.delete(S),me.delete(k),Ht}function Wc(S,k,U,X,oe,me,Be){switch(U){case et:if(S.byteLength!=k.byteLength||S.byteOffset!=k.byteOffset)return!1;S=S.buffer,k=k.buffer;case ut:return!(S.byteLength!=k.byteLength||!me(new Ol(S),new Ol(k)));case Se:case Re:case rt:return bs(+S,+k);case Pe:return S.name==k.name&&S.message==k.message;case ne:case Ae:return S==k+"";case $e:var He=io;case Ce:var it=X&v;if(He||(He=Nh),S.size!=k.size&&!it)return!1;var Et=Be.get(S);if(Et)return Et==k;X|=y,Be.set(S,k);var xt=sd(He(S),He(k),X,oe,me,Be);return Be.delete(S),xt;case ze:if(ca)return ca.call(S)==ca.call(k)}return!1}function eh(S,k,U,X,oe,me){var Be=U&v,He=Hc(S),it=He.length,Et=Hc(k),xt=Et.length;if(it!=xt&&!Be)return!1;for(var At=it;At--;){var Ht=He[At];if(!(Be?Ht in k:Ar.call(k,Ht)))return!1}var nr=me.get(S),wr=me.get(k);if(nr&&wr)return nr==k&&wr==S;var qr=!0;me.set(S,k),me.set(k,S);for(var Er=Be;++At<it;){Ht=He[At];var rn=S[Ht],sn=k[Ht];if(X)var Su=Be?X(sn,rn,Ht,k,S,me):X(rn,sn,Ht,S,k,me);if(!(Su===t?rn===sn||oe(rn,sn,U,X,me):Su)){qr=!1;break}Er||(Er=Ht=="constructor")}if(qr&&!Er){var ws=S.constructor,Tu=k.constructor;ws!=Tu&&"constructor"in S&&"constructor"in k&&!(typeof ws=="function"&&ws instanceof ws&&typeof Tu=="function"&&Tu instanceof Tu)&&(qr=!1)}return me.delete(S),me.delete(k),qr}function ya(S){return _v(_a(S,t,gd),S+"")}function Hc(S){return Yh(S,St,ld)}function Po(S){return Yh(S,we,an)}var vs=cu?function(S){return cu.get(S)}:_y;function ud(S){for(var k=S.name+"",U=Rs[k],X=Ar.call(Rs,k)?U.length:0;X--;){var oe=U[X],me=oe.func;if(me==null||me==S)return oe.name}return k}function Yc(S){var k=Ar.call(ge,"placeholder")?ge:S;return k.placeholder}function Tt(){var S=ge.iteratee||Ou;return S=S===Ou?Ba:S,arguments.length?S(arguments[0],arguments[1]):S}function ma(S,k){var U=S.__data__;return zi(k)?U[typeof k=="string"?"string":"hash"]:U.map}function Sr(S){for(var k=St(S),U=k.length;U--;){var X=k[U],oe=S[X];k[U]=[X,oe,$c(oe)]}return k}function bu(S,k){var U=Cf(S,k);return Fl(U)?U:t}function ba(S){var k=Ar.call(S,Ho),U=S[Ho];try{S[Ho]=t;var X=!0}catch{}var oe=la.call(S);return X&&(k?S[Ho]=U:delete S[Ho]),oe}var ld=Bh?function(S){return S==null?[]:(S=ce(S),no(Bh(S),function(k){return Wo.call(S,k)}))}:Jb,an=Bh?function(S){for(var k=[];S;)gi(k,ld(S)),S=xl(S);return k}:Jb,bo=Xi;(uu&&bo(new uu(new ArrayBuffer(1)))!=et||Na&&bo(new Na)!=$e||Vu&&bo(Vu.resolve())!=H||lu&&bo(new lu)!=Ce||Ac&&bo(new Ac)!=le)&&(bo=function(S){var k=Xi(S),U=k==Ze?S.constructor:t,X=U?fi(U):"";if(X)switch(X){case Cp:return et;case Qd:return $e;case Ic:return H;case qh:return Ce;case Rc:return le}return k});function Up(S,k,U){for(var X=-1,oe=U.length;++X<oe;){var me=U[X],Be=me.size;switch(me.type){case"drop":S+=Be;break;case"dropRight":k-=Be;break;case"take":k=ln(k,S+Be);break;case"takeRight":S=Ri(S,k-Be);break}}return{start:S,end:k}}function cd(S){var k=S.match(jr);return k?k[1].split(_n):[]}function zp(S,k,U){k=hs(k,S);for(var X=-1,oe=k.length,me=!1;++X<oe;){var Be=gs(k[X]);if(!(me=S!=null&&U(S,Be)))break;S=S[Be]}return me||++X!=oe?me:(oe=S==null?0:S.length,!!oe&&Uv(oe)&&_u(Be,oe)&&(Pr(S)||Xl(S)))}function ey(S){var k=S.length,U=new S.constructor(k);return k&&typeof S[0]=="string"&&Ar.call(S,"index")&&(U.index=S.index,U.input=S.input),U}function qp(S){return typeof S.constructor=="function"&&!Ao(S)?Wu(xl(S)):{}}function Gp(S,k,U){var X=S.constructor;switch(k){case ut:return ql(S);case Se:case Re:return new X(+S);case et:return qc(S,U);case nt:case Pt:case dt:case Ct:case Ft:case Yt:case Vt:case sr:case Bt:return fv(S,U);case $e:return new X;case rt:case Ae:return new X(S);case ne:return cv(S);case Ce:return new X;case ze:return nd(S)}}function gv(S,k){var U=k.length;if(!U)return S;var X=U-1;return k[X]=(U>1?"& ":"")+k[X],k=k.join(U>2?", ":" "),S.replace(qn,`{
/* [wrapped with `+k+`] */
`)}function yv(S){return Pr(S)||Xl(S)||!!(If&&S&&S[If])}function _u(S,k){var U=typeof S;return k=k??re,!!k&&(U=="number"||U!="symbol"&&zo.test(S))&&S>-1&&S%1==0&&S<k}function so(S,k,U){if(!Nn(U))return!1;var X=typeof k;return(X=="number"?Ea(U)&&_u(k,U.length):X=="string"&&k in U)?bs(U[k],S):!1}function mv(S,k){if(Pr(S))return!1;var U=typeof S;return U=="number"||U=="symbol"||U=="boolean"||S==null||_s(S)?!0:li.test(S)||!pi.test(S)||k!=null&&S in ce(k)}function zi(S){var k=typeof S;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?S!=="__proto__":S===null}function Dr(S){var k=ud(S),U=ge[k];if(typeof U!="function"||!(k in Ir.prototype))return!1;if(S===U)return!0;var X=vs(U);return!!X&&S===X[0]}function fd(S){return!!Fh&&Fh in S}var Qo=$i?ti:e_;function Ao(S){var k=S&&S.constructor,U=typeof k=="function"&&k.prototype||Vo;return S===U}function $c(S){return S===S&&!Nn(S)}function hd(S,k){return function(U){return U==null?!1:U[S]===k&&(k!==t||S in ce(U))}}function bv(S){var k=Nv(S,function(X){return U.size===l&&U.clear(),X}),U=k.cache;return k}function wu(S,k){var U=S[1],X=k[1],oe=U|X,me=oe<(w|b|T),Be=X==T&&U==_||X==T&&U==A&&S[7].length<=k[8]||X==(T|A)&&k[7].length<=k[8]&&U==_;if(!(me||Be))return S;X&w&&(S[2]=k[2],oe|=U&w?0:g);var He=k[3];if(He){var it=S[3];S[3]=it?hv(it,He,k[4]):He,S[4]=it?Wn(S[3],c):k[4]}return He=k[5],He&&(it=S[5],S[5]=it?Fp(it,He,k[6]):He,S[6]=it?Wn(S[5],c):k[6]),He=k[7],He&&(S[7]=He),X&T&&(S[8]=S[8]==null?k[8]:ln(S[8],k[8])),S[9]==null&&(S[9]=k[9]),S[0]=k[0],S[1]=oe,S}function Eu(S){var k=[];if(S!=null)for(var U in ce(S))k.push(U);return k}function dd(S){return la.call(S)}function _a(S,k,U){return k=Ri(k===t?S.length-1:k,0),function(){for(var X=arguments,oe=-1,me=Ri(X.length-k,0),Be=st(me);++oe<me;)Be[oe]=X[k+oe];oe=-1;for(var He=st(k+1);++oe<k;)He[oe]=X[oe];return He[k]=U(Be),yt(S,this,He)}}function ps(S,k){return k.length<2?S:cs(S,ci(k,0,-1))}function Vp(S,k){for(var U=S.length,X=ln(k.length,U),oe=Ui(S);X--;){var me=k[X];S[X]=_u(me,U)?oe[me]:t}return S}function Yl(S,k){if(!(k==="constructor"&&typeof S[k]=="function")&&k!="__proto__")return S[k]}var th=vd(uv),el=Zd||function(S,k){return Gn.setTimeout(S,k)},_v=vd(Dp);function wv(S,k,U){var X=k+"";return _v(S,gv(X,Xc(cd(X),U)))}function vd(S){var k=0,U=0;return function(){var X=Uh(),oe=W-(X-U);if(U=X,oe>0){if(++k>=B)return arguments[0]}else k=0;return S.apply(t,arguments)}}function rh(S,k){var U=-1,X=S.length,oe=X-1;for(k=k===t?X:k;++U<k;){var me=Ul(U,oe),Be=S[me];S[me]=S[U],S[U]=Be}return S.length=k,S}var $l=bv(function(S){var k=[];return S.charCodeAt(0)===46&&k.push(""),S.replace(to,function(U,X,oe,me){k.push(oe?me.replace(Uo,"$1"):X||U)}),k});function gs(S){if(typeof S=="string"||_s(S))return S;var k=S+"";return k=="0"&&1/S==-te?"-0":k}function fi(S){if(S!=null){try{return rs.call(S)}catch{}try{return S+""}catch{}}return""}function Xc(S,k){return er(Ne,function(U){var X="_."+U[0];k&U[1]&&!vn(S,X)&&S.push(X)}),S.sort()}function Ev(S){if(S instanceof Ir)return S.clone();var k=new fr(S.__wrapped__,S.__chain__);return k.__actions__=Ui(S.__actions__),k.__index__=S.__index__,k.__values__=S.__values__,k}function Jo(S,k,U){(U?so(S,k,U):k===t)?k=1:k=Ri(E(k),0);var X=S==null?0:S.length;if(!X||k<1)return[];for(var oe=0,me=0,Be=st(Hn(X/k));oe<X;)Be[me++]=ci(S,oe,oe+=k);return Be}function uo(S){for(var k=-1,U=S==null?0:S.length,X=0,oe=[];++k<U;){var me=S[k];me&&(oe[X++]=me)}return oe}function Wp(){var S=arguments.length;if(!S)return[];for(var k=st(S-1),U=arguments[0],X=S;X--;)k[X-1]=arguments[X];return gi(Pr(U)?Ui(U):[U],ki(k,1))}var tl=yr(function(S,k){return Mi(S)?jc(S,ki(k,1,Mi,!0)):[]}),Ov=yr(function(S,k){var U=q(k);return Mi(U)&&(U=t),Mi(S)?jc(S,ki(k,1,Mi,!0),Tt(U,2)):[]}),pd=yr(function(S,k){var U=q(k);return Mi(U)&&(U=t),Mi(S)?jc(S,ki(k,1,Mi,!0),t,U):[]});function nh(S,k,U){var X=S==null?0:S.length;return X?(k=U||k===t?1:E(k),ci(S,k<0?0:k,X)):[]}function Hp(S,k,U){var X=S==null?0:S.length;return X?(k=U||k===t?1:E(k),k=X-k,ci(S,0,k<0?0:k)):[]}function Yp(S,k){return S&&S.length?ed(S,Tt(k,3),!0,!0):[]}function xv(S,k){return S&&S.length?ed(S,Tt(k,3),!0):[]}function qa(S,k,U,X){var oe=S==null?0:S.length;return oe?(U&&typeof U!="number"&&so(S,k,U)&&(U=0,X=oe),ev(S,k,U,X)):[]}function Sv(S,k,U){var X=S==null?0:S.length;if(!X)return-1;var oe=U==null?0:E(U);return oe<0&&(oe=Ri(X+oe,0)),ou(S,Tt(k,3),oe)}function Io(S,k,U){var X=S==null?0:S.length;if(!X)return-1;var oe=X-1;return U!==t&&(oe=E(U),oe=U<0?Ri(X+oe,0):ln(oe,X-1)),ou(S,Tt(k,3),oe,!0)}function gd(S){var k=S==null?0:S.length;return k?ki(S,1):[]}function Tv(S){var k=S==null?0:S.length;return k?ki(S,te):[]}function ih(S,k){var U=S==null?0:S.length;return U?(k=k===t?1:E(k),ki(S,k)):[]}function Cv(S){for(var k=-1,U=S==null?0:S.length,X={};++k<U;){var oe=S[k];X[oe[0]]=oe[1]}return X}function Pv(S){return S&&S.length?S[0]:t}function ty(S,k,U){var X=S==null?0:S.length;if(!X)return-1;var oe=U==null?0:E(U);return oe<0&&(oe=Ri(X+oe,0)),Ss(S,k,oe)}function ei(S){var k=S==null?0:S.length;return k?ci(S,0,-1):[]}var $p=yr(function(S){var k=Vn(S,zc);return k.length&&k[0]===S[0]?vu(k):[]}),Av=yr(function(S){var k=q(S),U=Vn(S,zc);return k===q(U)?k=t:U.pop(),U.length&&U[0]===S[0]?vu(U,Tt(k,2)):[]}),C=yr(function(S){var k=q(S),U=Vn(S,zc);return k=typeof k=="function"?k:t,k&&U.pop(),U.length&&U[0]===S[0]?vu(U,t,k):[]});function L(S,k){return S==null?"":Mf.call(S,k)}function q(S){var k=S==null?0:S.length;return k?S[k-1]:t}function Q(S,k,U){var X=S==null?0:S.length;if(!X)return-1;var oe=X;return U!==t&&(oe=E(U),oe=oe<0?Ri(X+oe,0):ln(oe,X-1)),k===k?xp(S,k,oe):ou(S,Fu,oe,!0)}function ae(S,k){return S&&S.length?Wf(S,E(k)):t}var be=yr(qe);function qe(S,k){return S&&S.length&&k&&k.length?yu(S,k):S}function Ye(S,k,U){return S&&S.length&&k&&k.length?yu(S,k,Tt(U,2)):S}function ct(S,k,U){return S&&S.length&&k&&k.length?yu(S,k,t,U):S}var wt=ya(function(S,k){var U=S==null?0:S.length,X=Uf(S,k);return iv(S,Vn(k,function(oe){return _u(oe,U)?+oe:oe}).sort(id)),X});function _t(S,k){var U=[];if(!(S&&S.length))return U;var X=-1,oe=[],me=S.length;for(k=Tt(k,3);++X<me;){var Be=S[X];k(Be,X,S)&&(U.push(Be),oe.push(X))}return iv(S,oe),U}function It(S){return S==null?S:Gu.call(S)}function Xt(S,k,U){var X=S==null?0:S.length;return X?(U&&typeof U!="number"&&so(S,k,U)?(k=0,U=X):(k=k==null?0:E(k),U=U===t?X:E(U)),ci(S,k,U)):[]}function Kt(S,k){return Yf(S,k)}function ir(S,k,U){return Qh(S,k,Tt(U,2))}function Ot(S,k){var U=S==null?0:S.length;if(U){var X=Yf(S,k);if(X<U&&bs(S[X],k))return X}return-1}function Mt(S,k){return Yf(S,k,!0)}function cr(S,k,U){return Qh(S,k,Tt(U,2),!0)}function Nt(S,k){var U=S==null?0:S.length;if(U){var X=Yf(S,k,!0)-1;if(bs(S[X],k))return X}return-1}function gr(S){return S&&S.length?$f(S):[]}function pr(S,k){return S&&S.length?$f(S,Tt(k,2)):[]}function Zr(S){var k=S==null?0:S.length;return k?ci(S,1,k):[]}function rr(S,k,U){return S&&S.length?(k=U||k===t?1:E(k),ci(S,0,k<0?0:k)):[]}function lr(S,k,U){var X=S==null?0:S.length;return X?(k=U||k===t?1:E(k),k=X-k,ci(S,k<0?0:k,X)):[]}function Si(S,k){return S&&S.length?ed(S,Tt(k,3),!1,!0):[]}function Xn(S,k){return S&&S.length?ed(S,Tt(k,3)):[]}var Ro=yr(function(S){return Ku(ki(S,1,Mi,!0))}),Ln=yr(function(S){var k=q(S);return Mi(k)&&(k=t),Ku(ki(S,1,Mi,!0),Tt(k,2))}),_o=yr(function(S){var k=q(S);return k=typeof k=="function"?k:t,Ku(ki(S,1,Mi,!0),t,k)});function Ls(S){return S&&S.length?Ku(S):[]}function Ns(S,k){return S&&S.length?Ku(S,Tt(k,2)):[]}function ys(S,k){return k=typeof k=="function"?k:t,S&&S.length?Ku(S,t,k):[]}function ms(S){if(!(S&&S.length))return[];var k=0;return S=no(S,function(U){if(Mi(U))return k=Ri(U.length,k),!0}),xf(k,function(U){return Vn(S,Ts(U))})}function js(S,k){if(!(S&&S.length))return[];var U=ms(S);return k==null?U:Vn(U,function(X){return yt(k,t,X)})}var Iv=yr(function(S,k){return Mi(S)?jc(S,k):[]}),oh=yr(function(S){return td(no(S,Mi))}),Rv=yr(function(S){var k=q(S);return Mi(k)&&(k=t),td(no(S,Mi),Tt(k,2))}),Fs=yr(function(S){var k=q(S);return k=typeof k=="function"?k:t,td(no(S,Mi),t,k)}),Kc=yr(ms);function kv(S,k){return Xf(S||[],k||[],ks)}function ah(S,k){return Xf(S||[],k||[],zl)}var sh=yr(function(S){var k=S.length,U=k>1?S[k-1]:t;return U=typeof U=="function"?(S.pop(),U):t,js(S,U)});function wa(S){var k=ge(S);return k.__chain__=!0,k}function Ib(S,k){return k(S),S}function Cr(S,k){return k(S)}var mm=ya(function(S){var k=S.length,U=k?S[0]:0,X=this.__wrapped__,oe=function(me){return Uf(me,S)};return k>1||this.__actions__.length||!(X instanceof Ir)||!_u(U)?this.thru(oe):(X=X.slice(U,+U+(k?1:0)),X.__actions__.push({func:Cr,args:[oe],thisArg:t}),new fr(X,this.__chain__).thru(function(me){return k&&!me.length&&me.push(t),me}))});function Xp(){return wa(this)}function ry(){return new fr(this.value(),this.__chain__)}function yd(){this.__values__===t&&(this.__values__=m(this.value()));var S=this.__index__>=this.__values__.length,k=S?t:this.__values__[this.__index__++];return{done:S,value:k}}function bm(){return this}function _m(S){for(var k,U=this;U instanceof Hu;){var X=Ev(U);X.__index__=0,X.__values__=t,k?oe.__wrapped__=X:k=X;var oe=X;U=U.__wrapped__}return oe.__wrapped__=S,k}function Kp(){var S=this.__wrapped__;if(S instanceof Ir){var k=S;return this.__actions__.length&&(k=new Ir(this)),k=k.reverse(),k.__actions__.push({func:Cr,args:[It],thisArg:t}),new fr(k,this.__chain__)}return this.thru(It)}function Mv(){return Zu(this.__wrapped__,this.__actions__)}var Rb=Zf(function(S,k,U){Ar.call(S,U)?++S[U]:as(S,U,1)});function Dv(S,k,U){var X=Pr(S)?Ii:Dl;return U&&so(S,k,U)&&(k=t),X(S,Tt(k,3))}function Zp(S,k){var U=Pr(S)?no:ls;return U(S,Tt(k,3))}var wm=vv(Sv),Qp=vv(Io);function kb(S,k){return ki(eg(S,k),1)}function ny(S,k){return ki(eg(S,k),te)}function Em(S,k,U){return U=U===t?1:E(U),ki(eg(S,k),U)}function Om(S,k){var U=Pr(S)?er:us;return U(S,Tt(k,3))}function xm(S,k){var U=Pr(S)?Xr:Hh;return U(S,Tt(k,3))}var Jp=Zf(function(S,k,U){Ar.call(S,U)?S[U].push(k):as(S,U,[k])});function Sm(S,k,U,X){S=Ea(S)?S:gn(S),U=U&&!X?E(U):0;var oe=S.length;return U<0&&(U=Ri(oe+U,0)),ig(S)?U<=oe&&S.indexOf(k,U)>-1:!!oe&&Ss(S,k,U)>-1}var Mb=yr(function(S,k,U){var X=-1,oe=typeof k=="function",me=Ea(S)?st(S.length):[];return us(S,function(Be){me[++X]=oe?yt(k,Be,U):Ll(Be,k,U)}),me}),Db=Zf(function(S,k,U){as(S,U,k)});function eg(S,k){var U=Pr(S)?Vn:Xh;return U(S,Tt(k,3))}function Tm(S,k,U,X){return S==null?[]:(Pr(k)||(k=k==null?[]:[k]),U=X?t:U,Pr(U)||(U=U==null?[]:[U]),Xu(S,k,U))}var Lb=Zf(function(S,k,U){S[U?0:1].push(k)},function(){return[[],[]]});function Nb(S,k,U){var X=Pr(S)?xc:Tc,oe=arguments.length<3;return X(S,Tt(k,4),U,oe,us)}function jb(S,k,U){var X=Pr(S)?bp:Tc,oe=arguments.length<3;return X(S,Tt(k,4),U,oe,Hh)}function Fb(S,k){var U=Pr(S)?no:ls;return U(S,jv(Tt(k,3)))}function Bb(S){var k=Pr(S)?To:sv;return k(S)}function Cm(S,k,U){(U?so(S,k,U):k===t)?k=1:k=E(k);var X=Pr(S)?is:Mp;return X(S,k)}function Pm(S){var k=Pr(S)?Bf:Hf;return k(S)}function Am(S){if(S==null)return 0;if(Ea(S))return ig(S)?Jt(S):S.length;var k=bo(S);return k==$e||k==Ce?S.size:Vf(S).length}function iy(S,k,U){var X=Pr(S)?Nu:Lp;return U&&so(S,k,U)&&(k=t),X(S,Tt(k,3))}var oy=yr(function(S,k){if(S==null)return[];var U=k.length;return U>1&&so(S,k[0],k[1])?k=[]:U>2&&so(k[0],k[1],k[2])&&(k=[k[0]]),Xu(S,ki(k,1),[])}),Zc=Rf||function(){return Gn.Date.now()};function ay(S,k){if(typeof k!="function")throw new Jn(o);return S=E(S),function(){if(--S<1)return k.apply(this,arguments)}}function sy(S,k,U){return k=U?t:k,k=S&&k==null?S.length:k,Zo(S,T,t,t,t,t,k)}function tg(S,k){var U;if(typeof k!="function")throw new Jn(o);return S=E(S),function(){return--S>0&&(U=k.apply(this,arguments)),S<=1&&(k=t),U}}var rl=yr(function(S,k,U){var X=w;if(U.length){var oe=Wn(U,Yc(rl));X|=P}return Zo(S,X,k,U,oe)}),md=yr(function(S,k,U){var X=w|b;if(U.length){var oe=Wn(U,Yc(md));X|=P}return Zo(k,X,S,U,oe)});function uy(S,k,U){k=U?t:k;var X=Zo(S,_,t,t,t,t,t,k);return X.placeholder=uy.placeholder,X}function ly(S,k,U){k=U?t:k;var X=Zo(S,x,t,t,t,t,t,k);return X.placeholder=ly.placeholder,X}function Im(S,k,U){var X,oe,me,Be,He,it,Et=0,xt=!1,At=!1,Ht=!0;if(typeof S!="function")throw new Jn(o);k=R(k)||0,Nn(U)&&(xt=!!U.leading,At="maxWait"in U,me=At?Ri(R(U.maxWait)||0,k):me,Ht="trailing"in U?!!U.trailing:Ht);function nr(lo){var oc=X,vh=oe;return X=oe=t,Et=lo,Be=S.apply(vh,oc),Be}function wr(lo){return Et=lo,He=el(rn,k),xt?nr(lo):Be}function qr(lo){var oc=lo-it,vh=lo-Et,lS=k-oc;return At?ln(lS,me-vh):lS}function Er(lo){var oc=lo-it,vh=lo-Et;return it===t||oc>=k||oc<0||At&&vh>=me}function rn(){var lo=Zc();if(Er(lo))return sn(lo);He=el(rn,qr(lo))}function sn(lo){return He=t,Ht&&X?nr(lo):(X=oe=t,Be)}function Su(){He!==t&&jp(He),Et=0,X=it=oe=He=t}function ws(){return He===t?Be:sn(Zc())}function Tu(){var lo=Zc(),oc=Er(lo);if(X=arguments,oe=this,it=lo,oc){if(He===t)return wr(it);if(At)return jp(He),He=el(rn,k),nr(it)}return He===t&&(He=el(rn,k)),Be}return Tu.cancel=Su,Tu.flush=ws,Tu}var Ub=yr(function(S,k){return $o(S,1,k)}),rg=yr(function(S,k,U){return $o(S,R(k)||0,U)});function Lv(S){return Zo(S,D)}function Nv(S,k){if(typeof S!="function"||k!=null&&typeof k!="function")throw new Jn(o);var U=function(){var X=arguments,oe=k?k.apply(this,X):X[0],me=U.cache;if(me.has(oe))return me.get(oe);var Be=S.apply(this,X);return U.cache=me.set(oe,Be)||me,Be};return U.cache=new(Nv.Cache||go),U}Nv.Cache=go;function jv(S){if(typeof S!="function")throw new Jn(o);return function(){var k=arguments;switch(k.length){case 0:return!S.call(this);case 1:return!S.call(this,k[0]);case 2:return!S.call(this,k[0],k[1]);case 3:return!S.call(this,k[0],k[1],k[2])}return!S.apply(this,k)}}function Rm(S){return tg(2,S)}var cy=rd(function(S,k){k=k.length==1&&Pr(k[0])?Vn(k[0],vo(Tt())):Vn(ki(k,1),vo(Tt()));var U=k.length;return yr(function(X){for(var oe=-1,me=ln(X.length,U);++oe<me;)X[oe]=k[oe].call(this,X[oe]);return yt(S,this,X)})}),Fv=yr(function(S,k){var U=Wn(k,Yc(Fv));return Zo(S,P,t,k,U)}),fy=yr(function(S,k){var U=Wn(k,Yc(fy));return Zo(S,I,t,k,U)}),zb=ya(function(S,k){return Zo(S,A,t,t,t,k)});function qb(S,k){if(typeof S!="function")throw new Jn(o);return k=k===t?k:E(k),yr(S,k)}function hy(S,k){if(typeof S!="function")throw new Jn(o);return k=k==null?0:Ri(E(k),0),yr(function(U){var X=U[k],oe=Ms(U,0,k);return X&&gi(oe,X),yt(S,this,oe)})}function Gb(S,k,U){var X=!0,oe=!0;if(typeof S!="function")throw new Jn(o);return Nn(U)&&(X="leading"in U?!!U.leading:X,oe="trailing"in U?!!U.trailing:oe),Im(S,k,{leading:X,maxWait:k,trailing:oe})}function Vb(S){return sy(S,1)}function Wb(S,k){return Fv(Zi(k),S)}function ko(){if(!arguments.length)return[];var S=arguments[0];return Pr(S)?S:[S]}function dy(S){return Yo(S,d)}function Hb(S,k){return k=typeof k=="function"?k:t,Yo(S,d,k)}function km(S){return Yo(S,f|d)}function vy(S,k){return k=typeof k=="function"?k:t,Yo(S,f|d,k)}function py(S,k){return k==null||zf(S,k,St(k))}function bs(S,k){return S===k||S!==S&&k!==k}var Yb=Qi($u),uh=Qi(function(S,k){return S>=k}),Xl=Cn(function(){return arguments}())?Cn:function(S){return Ti(S)&&Ar.call(S,"callee")&&!Wo.call(S,"callee")},Pr=st.isArray,$b=Zn?vo(Zn):$h;function Ea(S){return S!=null&&Uv(S.length)&&!ti(S)}function Mi(S){return Ti(S)&&Ea(S)}function Mm(S){return S===!0||S===!1||Ti(S)&&Xi(S)==Se}var Kl=Is||e_,Xb=Ma?vo(Ma):Nl;function Bv(S){return Ti(S)&&S.nodeType===1&&!Zl(S)}function Kb(S){if(S==null)return!0;if(Ea(S)&&(Pr(S)||typeof S=="string"||typeof S.splice=="function"||Kl(S)||lh(S)||Xl(S)))return!S.length;var k=bo(S);if(k==$e||k==Ce)return!S.size;if(Ao(S))return!Vf(S).length;for(var U in S)if(Ar.call(S,U))return!1;return!0}function gy(S,k){return jl(S,k)}function Dm(S,k,U){U=typeof U=="function"?U:t;var X=U?U(S,k):t;return X===t?jl(S,k,t,U):!!X}function ng(S){if(!Ti(S))return!1;var k=Xi(S);return k==Pe||k==Oe||typeof S.message=="string"&&typeof S.name=="string"&&!Zl(S)}function Lm(S){return typeof S=="number"&&kf(S)}function ti(S){if(!Nn(S))return!1;var k=Xi(S);return k==Ue||k==ot||k==xe||k==K}function Nm(S){return typeof S=="number"&&S==E(S)}function Uv(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=re}function Nn(S){var k=typeof S;return S!=null&&(k=="object"||k=="function")}function Ti(S){return S!=null&&typeof S=="object"}var jt=Da?vo(Da):mo;function bd(S,k){return S===k||Bi(S,k,Sr(k))}function Ga(S,k,U){return U=typeof U=="function"?U:t,Bi(S,k,Sr(k),U)}function zv(S){return ea(S)&&S!=+S}function jm(S){if(Qo(S))throw new dr(a);return Fl(S)}function nn(S){return S===null}function wn(S){return S==null}function ea(S){return typeof S=="number"||Ti(S)&&Xi(S)==rt}function Zl(S){if(!Ti(S)||Xi(S)!=Ze)return!1;var k=xl(S);if(k===null)return!0;var U=Ar.call(k,"constructor")&&k.constructor;return typeof U=="function"&&U instanceof U&&rs.call(U)==Xd}var Oa=ua?vo(ua):Jg;function Fm(S){return Nm(S)&&S>=-re&&S<=re}var yy=ft?vo(ft):pu;function ig(S){return typeof S=="string"||!Pr(S)&&Ti(S)&&Xi(S)==Ae}function _s(S){return typeof S=="symbol"||Ti(S)&&Xi(S)==ze}var lh=gt?vo(gt):Rp;function my(S){return S===t}function by(S){return Ti(S)&&bo(S)==le}function Zb(S){return Ti(S)&&Xi(S)==Ve}var Qb=Qi(gu),p=Qi(function(S,k){return S<=k});function m(S){if(!S)return[];if(Ea(S))return ig(S)?oo(S):Ui(S);if(As&&S[As])return xo(S[As]());var k=bo(S),U=k==$e?io:k==Ce?Nh:gn;return U(S)}function O(S){if(!S)return S===0?S:0;if(S=R(S),S===te||S===-te){var k=S<0?-1:1;return k*de}return S===S?S:0}function E(S){var k=O(S),U=k%1;return k===k?U?k-U:k:0}function M(S){return S?ss(E(S),0,fe):0}function R(S){if(typeof S=="number")return S;if(_s(S))return pe;if(Nn(S)){var k=typeof S.valueOf=="function"?S.valueOf():S;S=Nn(k)?k+"":k}if(typeof S!="string")return S===0?S:+S;S=Sf(S);var U=Xs.test(S);return U||Ka.test(S)?kh(S.slice(2),U?2:8):Ia.test(S)?pe:+S}function F(S){return Ua(S,we(S))}function G(S){return S?ss(E(S),-re,re):S===0?S:0}function z(S){return S==null?"":ga(S)}var Y=Ds(function(S,k){if(Ao(k)||Ea(k)){Ua(k,St(k),S);return}for(var U in k)Ar.call(k,U)&&ks(S,U,k[U])}),$=Ds(function(S,k){Ua(k,we(k),S)}),Z=Ds(function(S,k,U,X){Ua(k,we(k),S,X)}),ie=Ds(function(S,k,U,X){Ua(k,St(k),S,X)}),se=ya(Uf);function he(S,k){var U=Wu(S);return k==null?U:Ml(U,k)}var ue=yr(function(S,k){S=ce(S);var U=-1,X=k.length,oe=X>2?k[2]:t;for(oe&&so(k[0],k[1],oe)&&(X=1);++U<X;)for(var me=k[U],Be=we(me),He=-1,it=Be.length;++He<it;){var Et=Be[He],xt=S[Et];(xt===t||bs(xt,Vo[Et])&&!Ar.call(S,Et))&&(S[Et]=me[Et])}return S}),ve=yr(function(S){return S.push(t,Dn),yt(Je,t,S)});function Te(S,k){return Sc(S,Tt(k,3),Xo)}function Ie(S,k){return Sc(S,Tt(k,3),pa)}function Fe(S,k){return S==null?S:Fc(S,Tt(k,3),we)}function De(S,k){return S==null?S:Bc(S,Tt(k,3),we)}function Xe(S,k){return S&&Xo(S,Tt(k,3))}function Ge(S,k){return S&&pa(S,Tt(k,3))}function Qe(S){return S==null?[]:Uc(S,St(S))}function Ke(S){return S==null?[]:Uc(S,we(S))}function We(S,k,U){var X=S==null?t:cs(S,k);return X===t?U:X}function at(S,k){return S!=null&&zp(S,k,vr)}function mt(S,k){return S!=null&&zp(S,k,du)}var Rt=Wl(function(S,k,U){k!=null&&typeof k.toString!="function"&&(k=la.call(k)),S[k]=U},bi(si)),bt=Wl(function(S,k,U){k!=null&&typeof k.toString!="function"&&(k=la.call(k)),Ar.call(S,k)?S[k].push(U):S[k]=[U]},Tt),Lt=yr(Ll);function St(S){return Ea(S)?Vh(S):Vf(S)}function we(S){return Ea(S)?Vh(S,!0):kp(S)}function _e(S,k){var U={};return k=Tt(k,3),Xo(S,function(X,oe,me){as(U,k(X,oe,me),X)}),U}function Ee(S,k){var U={};return k=Tt(k,3),Xo(S,function(X,oe,me){as(U,oe,k(X,oe,me))}),U}var lt=Ds(function(S,k,U){fs(S,k,U)}),Je=Ds(function(S,k,U,X){fs(S,k,U,X)}),vt=ya(function(S,k){var U={};if(S==null)return U;var X=!1;k=Vn(k,function(me){return me=hs(me,S),X||(X=me.length>1),me}),Ua(S,Po(S),U),X&&(U=Yo(U,f|h|d,ad));for(var oe=k.length;oe--;)mu(U,k[oe]);return U});function kt(S,k){return zt(S,jv(Tt(k)))}var Ut=ya(function(S,k){return S==null?{}:nv(S,k)});function zt(S,k){if(S==null)return{};var U=Vn(Po(S),function(X){return[X]});return k=Tt(k),Zh(S,U,function(X,oe){return k(X,oe[0])})}function mr(S,k,U){k=hs(k,S);var X=-1,oe=k.length;for(oe||(oe=1,S=t);++X<oe;){var me=S==null?t:S[gs(k[X])];me===t&&(X=oe,me=U),S=ti(me)?me.call(S):me}return S}function Or(S,k,U){return S==null?S:zl(S,k,U)}function Fr(S,k,U,X){return X=typeof X=="function"?X:t,S==null?S:zl(S,k,U,X)}var En=Vc(St),jn=Vc(we);function pn(S,k,U){var X=Pr(S),oe=X||Kl(S)||lh(S);if(k=Tt(k,4),U==null){var me=S&&S.constructor;oe?U=X?new me:[]:Nn(S)?U=ti(me)?Wu(xl(S)):{}:U={}}return(oe?er:Xo)(S,function(Be,He,it){return k(U,Be,He,it)}),U}function Wr(S,k){return S==null?!0:mu(S,k)}function Br(S,k,U){return S==null?S:Jh(S,k,Zi(U))}function on(S,k,U,X){return X=typeof X=="function"?X:t,S==null?S:Jh(S,k,Zi(U),X)}function gn(S){return S==null?[]:Uu(S,St(S))}function ri(S){return S==null?[]:Uu(S,we(S))}function en(S,k,U){return U===t&&(U=k,k=t),U!==t&&(U=R(U),U=U===U?U:0),k!==t&&(k=R(k),k=k===k?k:0),ss(R(S),k,U)}function Pn(S,k,U){return k=O(k),U===t?(U=k,k=0):U=O(U),S=R(S),Gf(S,k,U)}function ni(S,k,U){if(U&&typeof U!="boolean"&&so(S,k,U)&&(k=U=t),U===t&&(typeof k=="boolean"?(U=k,k=t):typeof S=="boolean"&&(U=S,S=t)),S===t&&k===t?(S=0,k=1):(S=O(S),k===t?(k=S,S=0):k=O(k)),S>k){var X=S;S=k,k=X}if(U||S%1||k%1){var oe=zh();return ln(S+oe*(k-S+Ja("1e-"+((oe+"").length-1))),k)}return Ul(S,k)}var ii=Vl(function(S,k,U){return k=k.toLowerCase(),S+(U?hi(k):k)});function hi(S){return tc(z(S).toLowerCase())}function tn(S){return S=z(S),S&&S.replace(Oi,Oo).replace(Qa,"")}function mi(S,k,U){S=z(S),k=ga(k);var X=S.length;U=U===t?X:ss(E(U),0,X);var oe=U;return U-=k.length,U>=0&&S.slice(U,oe)==k}function yn(S){return S=z(S),S&&un.test(S)?S.replace(Rn,Dh):S}function Mo(S){return S=z(S),S&&Hi.test(S)?S.replace(Wi,"\\$&"):S}var ta=Vl(function(S,k,U){return S+(U?"-":"")+k.toLowerCase()}),nl=Vl(function(S,k,U){return S+(U?" ":"")+k.toLowerCase()}),Ql=Gc("toLowerCase");function il(S,k,U){S=z(S),k=E(k);var X=k?Jt(S):0;if(!k||X>=k)return S;var oe=(k-X)/2;return Jf(Tl(oe),U)+S+Jf(Hn(oe),U)}function Va(S,k,U){S=z(S),k=E(k);var X=k?Jt(S):0;return k&&X<k?S+Jf(k-X,U):S}function oi(S,k,U){S=z(S),k=E(k);var X=k?Jt(S):0;return k&&X<k?Jf(k-X,U)+S:S}function On(S,k,U){return U||k==null?k=0:k&&(k=+k),Cl(z(S).replace(hn,""),k||0)}function qi(S,k,U){return(U?so(S,k,U):k===t)?k=1:k=E(k),av(z(S),k)}function ra(){var S=arguments,k=z(S[0]);return S.length<3?k:k.replace(S[1],S[2])}var Do=Vl(function(S,k,U){return S+(U?"_":"")+k.toLowerCase()});function Bs(S,k,U){return U&&typeof U!="number"&&so(S,k,U)&&(k=U=t),U=U===t?fe:U>>>0,U?(S=z(S),S&&(typeof k=="string"||k!=null&&!Oa(k))&&(k=ga(k),!k&&zu(S))?Ms(oo(S),0,U):S.split(k,U)):[]}var di=Vl(function(S,k,U){return S+(U?" ":"")+tc(k)});function Qc(S,k,U){return S=z(S),U=U==null?0:ss(E(U),0,S.length),k=ga(k),S.slice(U,U+k.length)==k}function ch(S,k,U){var X=ge.templateSettings;U&&so(S,k,U)&&(k=t),S=z(S),k=Z({},k,X,$n);var oe=Z({},k.imports,X.imports,$n),me=St(oe),Be=Uu(oe,me),He,it,Et=0,xt=k.interpolate||Ra,At="__p += '",Ht=Cs((k.escape||Ra).source+"|"+xt.source+"|"+(xt===Pi?$s:Ra).source+"|"+(k.evaluate||Ra).source+"|$","g"),nr="//# sourceURL="+(Ar.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ml+"]")+`
`;S.replace(Ht,function(Er,rn,sn,Su,ws,Tu){return sn||(sn=Su),At+=S.slice(Et,Tu).replace(qo,Lh),rn&&(He=!0,At+=`' +
__e(`+rn+`) +
'`),ws&&(it=!0,At+=`';
`+ws+`;
__p += '`),sn&&(At+=`' +
((__t = (`+sn+`)) == null ? '' : __t) +
'`),Et=Tu+Er.length,Er}),At+=`';
`;var wr=Ar.call(k,"variable")&&k.variable;if(!wr)At=`with (obj) {
`+At+`
}
`;else if(Aa.test(wr))throw new dr(s);At=(it?At.replace(Zt,""):At).replace(Yr,"$1").replace(Gr,"$1;"),At="function("+(wr||"obj")+`) {
`+(wr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(He?", __e = _.escape":"")+(it?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+At+`return __p
}`;var qr=tf(function(){return zr(me,nr+"return "+At).apply(t,Be)});if(qr.source=At,ng(qr))throw qr;return qr}function Jl(S){return z(S).toLowerCase()}function qv(S){return z(S).toUpperCase()}function Jc(S,k,U){if(S=z(S),S&&(U||k===t))return Sf(S);if(!S||!(k=ga(k)))return S;var X=oo(S),oe=oo(k),me=Tf(X,oe),Be=wp(X,oe)+1;return Ms(X,me,Be).join("")}function ec(S,k,U){if(S=z(S),S&&(U||k===t))return S.slice(0,Qn(S)+1);if(!S||!(k=ga(k)))return S;var X=oo(S),oe=wp(X,oo(k))+1;return Ms(X,0,oe).join("")}function ef(S,k,U){if(S=z(S),S&&(U||k===t))return S.replace(hn,"");if(!S||!(k=ga(k)))return S;var X=oo(S),oe=Tf(X,oo(k));return Ms(X,oe).join("")}function Us(S,k){var U=N,X=j;if(Nn(k)){var oe="separator"in k?k.separator:oe;U="length"in k?E(k.length):U,X="omission"in k?ga(k.omission):X}S=z(S);var me=S.length;if(zu(S)){var Be=oo(S);me=Be.length}if(U>=me)return S;var He=U-Jt(X);if(He<1)return X;var it=Be?Ms(Be,0,He).join(""):S.slice(0,He);if(oe===t)return it+X;if(Be&&(He+=it.length-He),Oa(oe)){if(S.slice(He).search(oe)){var Et,xt=it;for(oe.global||(oe=Cs(oe.source,z(co.exec(oe))+"g")),oe.lastIndex=0;Et=oe.exec(xt);)var At=Et.index;it=it.slice(0,At===t?He:At)}}else if(S.indexOf(ga(oe),He)!=He){var Ht=it.lastIndexOf(oe);Ht>-1&&(it=it.slice(0,Ht))}return it+X}function zs(S){return S=z(S),S&&kn.test(S)?S.replace(Kn,_l):S}var fh=Vl(function(S,k,U){return S+(U?" ":"")+k.toUpperCase()}),tc=Gc("toUpperCase");function hh(S,k,U){return S=z(S),k=U?t:k,k===t?$d(S)?Pf(S):Kr(S):S.match(k)||[]}var tf=yr(function(S,k){try{return yt(S,t,k)}catch(U){return ng(U)?U:new dr(U)}}),_d=ya(function(S,k){return er(k,function(U){U=gs(U),as(S,U,rl(S[U],S))}),S});function dh(S){var k=S==null?0:S.length,U=Tt();return S=k?Vn(S,function(X){if(typeof X[1]!="function")throw new Jn(o);return[U(X[0]),X[1]]}):[],yr(function(X){for(var oe=-1;++oe<k;){var me=S[oe];if(yt(me[0],this,X))return yt(me[1],this,X)}})}function ai(S){return Wh(Yo(S,f))}function bi(S){return function(){return S}}function wd(S,k){return S==null||S!==S?k:S}var rc=ao(),Gi=ao(!0);function si(S){return S}function Ou(S){return Ba(typeof S=="function"?S:Yo(S,f))}function ol(S){return Bl(Yo(S,f))}function nc(S,k){return Kh(S,Yo(k,f))}var Ed=yr(function(S,k){return function(U){return Ll(U,S,k)}}),ic=yr(function(S,k){return function(U){return Ll(S,U,k)}});function rf(S,k,U){var X=St(k),oe=Uc(k,X);U==null&&!(Nn(k)&&(oe.length||!X.length))&&(U=k,k=S,S=this,oe=Uc(k,St(k)));var me=!(Nn(U)&&"chain"in U)||!!U.chain,Be=ti(S);return er(oe,function(He){var it=k[He];S[He]=it,Be&&(S.prototype[He]=function(){var Et=this.__chain__;if(me||Et){var xt=S(this.__wrapped__),At=xt.__actions__=Ui(this.__actions__);return At.push({func:it,args:arguments,thisArg:S}),xt.__chain__=Et,xt}return it.apply(S,gi([this.value()],arguments))})}),S}function xu(){return Gn._===this&&(Gn._=Kd),this}function _y(){}function IM(S){return S=E(S),yr(function(k){return Wf(k,S)})}var RM=_r(Vn),kM=_r(Ii),MM=_r(Nu);function uS(S){return mv(S)?Ts(gs(S)):xi(S)}function DM(S){return function(k){return S==null?t:cs(S,k)}}var LM=Yn(),NM=Yn(!0);function Jb(){return[]}function e_(){return!1}function jM(){return{}}function FM(){return""}function BM(){return!0}function UM(S,k){if(S=E(S),S<1||S>re)return[];var U=fe,X=ln(S,fe);k=Tt(k),S-=fe;for(var oe=xf(X,k);++U<S;)k(U);return oe}function zM(S){return Pr(S)?Vn(S,gs):_s(S)?[S]:Ui($l(z(S)))}function qM(S){var k=++Sp;return z(S)+k}var GM=Ko(function(S,k){return S+k},0),VM=Hl("ceil"),WM=Ko(function(S,k){return S/k},1),HM=Hl("floor");function YM(S){return S&&S.length?qf(S,si,$u):t}function $M(S,k){return S&&S.length?qf(S,Tt(k,2),$u):t}function XM(S){return Of(S,si)}function KM(S,k){return Of(S,Tt(k,2))}function ZM(S){return S&&S.length?qf(S,si,gu):t}function QM(S,k){return S&&S.length?qf(S,Tt(k,2),gu):t}var JM=Ko(function(S,k){return S*k},1),eD=Hl("round"),tD=Ko(function(S,k){return S-k},0);function rD(S){return S&&S.length?Bu(S,si):0}function nD(S,k){return S&&S.length?Bu(S,Tt(k,2)):0}return ge.after=ay,ge.ary=sy,ge.assign=Y,ge.assignIn=$,ge.assignInWith=Z,ge.assignWith=ie,ge.at=se,ge.before=tg,ge.bind=rl,ge.bindAll=_d,ge.bindKey=md,ge.castArray=ko,ge.chain=wa,ge.chunk=Jo,ge.compact=uo,ge.concat=Wp,ge.cond=dh,ge.conforms=ai,ge.constant=bi,ge.countBy=Rb,ge.create=he,ge.curry=uy,ge.curryRight=ly,ge.debounce=Im,ge.defaults=ue,ge.defaultsDeep=ve,ge.defer=Ub,ge.delay=rg,ge.difference=tl,ge.differenceBy=Ov,ge.differenceWith=pd,ge.drop=nh,ge.dropRight=Hp,ge.dropRightWhile=Yp,ge.dropWhile=xv,ge.fill=qa,ge.filter=Zp,ge.flatMap=kb,ge.flatMapDeep=ny,ge.flatMapDepth=Em,ge.flatten=gd,ge.flattenDeep=Tv,ge.flattenDepth=ih,ge.flip=Lv,ge.flow=rc,ge.flowRight=Gi,ge.fromPairs=Cv,ge.functions=Qe,ge.functionsIn=Ke,ge.groupBy=Jp,ge.initial=ei,ge.intersection=$p,ge.intersectionBy=Av,ge.intersectionWith=C,ge.invert=Rt,ge.invertBy=bt,ge.invokeMap=Mb,ge.iteratee=Ou,ge.keyBy=Db,ge.keys=St,ge.keysIn=we,ge.map=eg,ge.mapKeys=_e,ge.mapValues=Ee,ge.matches=ol,ge.matchesProperty=nc,ge.memoize=Nv,ge.merge=lt,ge.mergeWith=Je,ge.method=Ed,ge.methodOf=ic,ge.mixin=rf,ge.negate=jv,ge.nthArg=IM,ge.omit=vt,ge.omitBy=kt,ge.once=Rm,ge.orderBy=Tm,ge.over=RM,ge.overArgs=cy,ge.overEvery=kM,ge.overSome=MM,ge.partial=Fv,ge.partialRight=fy,ge.partition=Lb,ge.pick=Ut,ge.pickBy=zt,ge.property=uS,ge.propertyOf=DM,ge.pull=be,ge.pullAll=qe,ge.pullAllBy=Ye,ge.pullAllWith=ct,ge.pullAt=wt,ge.range=LM,ge.rangeRight=NM,ge.rearg=zb,ge.reject=Fb,ge.remove=_t,ge.rest=qb,ge.reverse=It,ge.sampleSize=Cm,ge.set=Or,ge.setWith=Fr,ge.shuffle=Pm,ge.slice=Xt,ge.sortBy=oy,ge.sortedUniq=gr,ge.sortedUniqBy=pr,ge.split=Bs,ge.spread=hy,ge.tail=Zr,ge.take=rr,ge.takeRight=lr,ge.takeRightWhile=Si,ge.takeWhile=Xn,ge.tap=Ib,ge.throttle=Gb,ge.thru=Cr,ge.toArray=m,ge.toPairs=En,ge.toPairsIn=jn,ge.toPath=zM,ge.toPlainObject=F,ge.transform=pn,ge.unary=Vb,ge.union=Ro,ge.unionBy=Ln,ge.unionWith=_o,ge.uniq=Ls,ge.uniqBy=Ns,ge.uniqWith=ys,ge.unset=Wr,ge.unzip=ms,ge.unzipWith=js,ge.update=Br,ge.updateWith=on,ge.values=gn,ge.valuesIn=ri,ge.without=Iv,ge.words=hh,ge.wrap=Wb,ge.xor=oh,ge.xorBy=Rv,ge.xorWith=Fs,ge.zip=Kc,ge.zipObject=kv,ge.zipObjectDeep=ah,ge.zipWith=sh,ge.entries=En,ge.entriesIn=jn,ge.extend=$,ge.extendWith=Z,rf(ge,ge),ge.add=GM,ge.attempt=tf,ge.camelCase=ii,ge.capitalize=hi,ge.ceil=VM,ge.clamp=en,ge.clone=dy,ge.cloneDeep=km,ge.cloneDeepWith=vy,ge.cloneWith=Hb,ge.conformsTo=py,ge.deburr=tn,ge.defaultTo=wd,ge.divide=WM,ge.endsWith=mi,ge.eq=bs,ge.escape=yn,ge.escapeRegExp=Mo,ge.every=Dv,ge.find=wm,ge.findIndex=Sv,ge.findKey=Te,ge.findLast=Qp,ge.findLastIndex=Io,ge.findLastKey=Ie,ge.floor=HM,ge.forEach=Om,ge.forEachRight=xm,ge.forIn=Fe,ge.forInRight=De,ge.forOwn=Xe,ge.forOwnRight=Ge,ge.get=We,ge.gt=Yb,ge.gte=uh,ge.has=at,ge.hasIn=mt,ge.head=Pv,ge.identity=si,ge.includes=Sm,ge.indexOf=ty,ge.inRange=Pn,ge.invoke=Lt,ge.isArguments=Xl,ge.isArray=Pr,ge.isArrayBuffer=$b,ge.isArrayLike=Ea,ge.isArrayLikeObject=Mi,ge.isBoolean=Mm,ge.isBuffer=Kl,ge.isDate=Xb,ge.isElement=Bv,ge.isEmpty=Kb,ge.isEqual=gy,ge.isEqualWith=Dm,ge.isError=ng,ge.isFinite=Lm,ge.isFunction=ti,ge.isInteger=Nm,ge.isLength=Uv,ge.isMap=jt,ge.isMatch=bd,ge.isMatchWith=Ga,ge.isNaN=zv,ge.isNative=jm,ge.isNil=wn,ge.isNull=nn,ge.isNumber=ea,ge.isObject=Nn,ge.isObjectLike=Ti,ge.isPlainObject=Zl,ge.isRegExp=Oa,ge.isSafeInteger=Fm,ge.isSet=yy,ge.isString=ig,ge.isSymbol=_s,ge.isTypedArray=lh,ge.isUndefined=my,ge.isWeakMap=by,ge.isWeakSet=Zb,ge.join=L,ge.kebabCase=ta,ge.last=q,ge.lastIndexOf=Q,ge.lowerCase=nl,ge.lowerFirst=Ql,ge.lt=Qb,ge.lte=p,ge.max=YM,ge.maxBy=$M,ge.mean=XM,ge.meanBy=KM,ge.min=ZM,ge.minBy=QM,ge.stubArray=Jb,ge.stubFalse=e_,ge.stubObject=jM,ge.stubString=FM,ge.stubTrue=BM,ge.multiply=JM,ge.nth=ae,ge.noConflict=xu,ge.noop=_y,ge.now=Zc,ge.pad=il,ge.padEnd=Va,ge.padStart=oi,ge.parseInt=On,ge.random=ni,ge.reduce=Nb,ge.reduceRight=jb,ge.repeat=qi,ge.replace=ra,ge.result=mr,ge.round=eD,ge.runInContext=tt,ge.sample=Bb,ge.size=Am,ge.snakeCase=Do,ge.some=iy,ge.sortedIndex=Kt,ge.sortedIndexBy=ir,ge.sortedIndexOf=Ot,ge.sortedLastIndex=Mt,ge.sortedLastIndexBy=cr,ge.sortedLastIndexOf=Nt,ge.startCase=di,ge.startsWith=Qc,ge.subtract=tD,ge.sum=rD,ge.sumBy=nD,ge.template=ch,ge.times=UM,ge.toFinite=O,ge.toInteger=E,ge.toLength=M,ge.toLower=Jl,ge.toNumber=R,ge.toSafeInteger=G,ge.toString=z,ge.toUpper=qv,ge.trim=Jc,ge.trimEnd=ec,ge.trimStart=ef,ge.truncate=Us,ge.unescape=zs,ge.uniqueId=qM,ge.upperCase=fh,ge.upperFirst=tc,ge.each=Om,ge.eachRight=xm,ge.first=Pv,rf(ge,function(){var S={};return Xo(ge,function(k,U){Ar.call(ge.prototype,U)||(S[U]=k)}),S}(),{chain:!1}),ge.VERSION=n,er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){ge[S].placeholder=ge}),er(["drop","take"],function(S,k){Ir.prototype[S]=function(U){U=U===t?1:Ri(E(U),0);var X=this.__filtered__&&!k?new Ir(this):this.clone();return X.__filtered__?X.__takeCount__=ln(U,X.__takeCount__):X.__views__.push({size:ln(U,fe),type:S+(X.__dir__<0?"Right":"")}),X},Ir.prototype[S+"Right"]=function(U){return this.reverse()[S](U).reverse()}}),er(["filter","map","takeWhile"],function(S,k){var U=k+1,X=U==V||U==ee;Ir.prototype[S]=function(oe){var me=this.clone();return me.__iteratees__.push({iteratee:Tt(oe,3),type:U}),me.__filtered__=me.__filtered__||X,me}}),er(["head","last"],function(S,k){var U="take"+(k?"Right":"");Ir.prototype[S]=function(){return this[U](1).value()[0]}}),er(["initial","tail"],function(S,k){var U="drop"+(k?"":"Right");Ir.prototype[S]=function(){return this.__filtered__?new Ir(this):this[U](1)}}),Ir.prototype.compact=function(){return this.filter(si)},Ir.prototype.find=function(S){return this.filter(S).head()},Ir.prototype.findLast=function(S){return this.reverse().find(S)},Ir.prototype.invokeMap=yr(function(S,k){return typeof S=="function"?new Ir(this):this.map(function(U){return Ll(U,S,k)})}),Ir.prototype.reject=function(S){return this.filter(jv(Tt(S)))},Ir.prototype.slice=function(S,k){S=E(S);var U=this;return U.__filtered__&&(S>0||k<0)?new Ir(U):(S<0?U=U.takeRight(-S):S&&(U=U.drop(S)),k!==t&&(k=E(k),U=k<0?U.dropRight(-k):U.take(k-S)),U)},Ir.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Ir.prototype.toArray=function(){return this.take(fe)},Xo(Ir.prototype,function(S,k){var U=/^(?:filter|find|map|reject)|While$/.test(k),X=/^(?:head|last)$/.test(k),oe=ge[X?"take"+(k=="last"?"Right":""):k],me=X||/^find/.test(k);oe&&(ge.prototype[k]=function(){var Be=this.__wrapped__,He=X?[1]:arguments,it=Be instanceof Ir,Et=He[0],xt=it||Pr(Be),At=function(rn){var sn=oe.apply(ge,gi([rn],He));return X&&Ht?sn[0]:sn};xt&&U&&typeof Et=="function"&&Et.length!=1&&(it=xt=!1);var Ht=this.__chain__,nr=!!this.__actions__.length,wr=me&&!Ht,qr=it&&!nr;if(!me&&xt){Be=qr?Be:new Ir(this);var Er=S.apply(Be,He);return Er.__actions__.push({func:Cr,args:[At],thisArg:t}),new fr(Er,Ht)}return wr&&qr?S.apply(this,He):(Er=this.thru(At),wr?X?Er.value()[0]:Er.value():Er)})}),er(["pop","push","shift","sort","splice","unshift"],function(S){var k=Mr[S],U=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",X=/^(?:pop|shift)$/.test(S);ge.prototype[S]=function(){var oe=arguments;if(X&&!this.__chain__){var me=this.value();return k.apply(Pr(me)?me:[],oe)}return this[U](function(Be){return k.apply(Pr(Be)?Be:[],oe)})}}),Xo(Ir.prototype,function(S,k){var U=ge[k];if(U){var X=U.name+"";Ar.call(Rs,X)||(Rs[X]=[]),Rs[X].push({name:k,func:U})}}),Rs[Qf(t,b).name]=[{name:"wrapper",func:t}],Ir.prototype.clone=Df,Ir.prototype.reverse=Al,Ir.prototype.value=Lf,ge.prototype.at=mm,ge.prototype.chain=Xp,ge.prototype.commit=ry,ge.prototype.next=yd,ge.prototype.plant=_m,ge.prototype.reverse=Kp,ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=Mv,ge.prototype.first=ge.prototype.head,As&&(ge.prototype[As]=bm),ge},El=wl();ro?((ro.exports=El)._=El,Ec._=El):Gn._=El}).call(cn)})(k0,k0.exports);var Ei=k0.exports,w8=gb;function gb(){var r={};r._next=r._prev=r,this._sentinel=r}gb.prototype.dequeue=function(){var r=this._sentinel,e=r._prev;if(e!==r)return vk(e),e};gb.prototype.enqueue=function(r){var e=this._sentinel;r._prev&&r._next&&vk(r),r._next=e._next,e._next._prev=r,e._next=r,r._prev=e};gb.prototype.toString=function(){for(var r=[],e=this._sentinel,t=e._prev;t!==e;)r.push(JSON.stringify(t,E8)),t=t._prev;return"["+r.join(", ")+"]"};function vk(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function E8(r,e){if(r!=="_next"&&r!=="_prev")return e}var _h=Ei,O8=fl.Graph,x8=w8,S8=C8,T8=_h.constant(1);function C8(r,e){if(r.nodeCount()<=1)return[];var t=A8(r,e||T8),n=P8(t.graph,t.buckets,t.zeroIdx);return _h.flatten(_h.map(n,function(i){return r.outEdges(i.v,i.w)}),!0)}function P8(r,e,t){for(var n=[],i=e[e.length-1],a=e[0],o;r.nodeCount();){for(;o=a.dequeue();)HE(r,e,t,o);for(;o=i.dequeue();)HE(r,e,t,o);if(r.nodeCount()){for(var s=e.length-2;s>0;--s)if(o=e[s].dequeue(),o){n=n.concat(HE(r,e,t,o,!0));break}}}return n}function HE(r,e,t,n,i){var a=i?[]:void 0;return _h.forEach(r.inEdges(n.v),function(o){var s=r.edge(o),u=r.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=s,TO(e,t,u)}),_h.forEach(r.outEdges(n.v),function(o){var s=r.edge(o),u=o.w,l=r.node(u);l.in-=s,TO(e,t,l)}),r.removeNode(n.v),a}function A8(r,e){var t=new O8,n=0,i=0;_h.forEach(r.nodes(),function(s){t.setNode(s,{v:s,in:0,out:0})}),_h.forEach(r.edges(),function(s){var u=t.edge(s.v,s.w)||0,l=e(s),c=u+l;t.setEdge(s.v,s.w,c),i=Math.max(i,t.node(s.v).out+=l),n=Math.max(n,t.node(s.w).in+=l)});var a=_h.range(i+n+3).map(function(){return new x8}),o=n+1;return _h.forEach(t.nodes(),function(s){TO(a,o,t.node(s))}),{graph:t,buckets:a,zeroIdx:o}}function TO(r,e,t){t.out?t.in?r[t.out-t.in+e].enqueue(t):r[r.length-1].enqueue(t):r[0].enqueue(t)}var Kv=Ei,I8=S8,R8={run:k8,undo:D8};function k8(r){var e=r.graph().acyclicer==="greedy"?I8(r,t(r)):M8(r);Kv.forEach(e,function(n){var i=r.edge(n);r.removeEdge(n),i.forwardName=n.name,i.reversed=!0,r.setEdge(n.w,n.v,i,Kv.uniqueId("rev"))});function t(n){return function(i){return n.edge(i).weight}}}function M8(r){var e=[],t={},n={};function i(a){Kv.has(n,a)||(n[a]=!0,t[a]=!0,Kv.forEach(r.outEdges(a),function(o){Kv.has(t,o.w)?e.push(o):i(o.w)}),delete t[a])}return Kv.forEach(r.nodes(),i),e}function D8(r){Kv.forEach(r.edges(),function(e){var t=r.edge(e);if(t.reversed){r.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,n)}})}var In=Ei,pk=fl.Graph,Ws={addDummyNode:gk,simplify:L8,asNonCompoundGraph:N8,successorWeights:j8,predecessorWeights:F8,intersectRect:B8,buildLayerMatrix:U8,normalizeRanks:z8,removeEmptyRanks:q8,addBorderNode:G8,maxRank:yk,partition:V8,time:W8,notime:H8};function gk(r,e,t,n){var i;do i=In.uniqueId(n);while(r.hasNode(i));return t.dummy=e,r.setNode(i,t),i}function L8(r){var e=new pk().setGraph(r.graph());return In.forEach(r.nodes(),function(t){e.setNode(t,r.node(t))}),In.forEach(r.edges(),function(t){var n=e.edge(t.v,t.w)||{weight:0,minlen:1},i=r.edge(t);e.setEdge(t.v,t.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function N8(r){var e=new pk({multigraph:r.isMultigraph()}).setGraph(r.graph());return In.forEach(r.nodes(),function(t){r.children(t).length||e.setNode(t,r.node(t))}),In.forEach(r.edges(),function(t){e.setEdge(t,r.edge(t))}),e}function j8(r){var e=In.map(r.nodes(),function(t){var n={};return In.forEach(r.outEdges(t),function(i){n[i.w]=(n[i.w]||0)+r.edge(i).weight}),n});return In.zipObject(r.nodes(),e)}function F8(r){var e=In.map(r.nodes(),function(t){var n={};return In.forEach(r.inEdges(t),function(i){n[i.v]=(n[i.v]||0)+r.edge(i).weight}),n});return In.zipObject(r.nodes(),e)}function B8(r,e){var t=r.x,n=r.y,i=e.x-t,a=e.y-n,o=r.width/2,s=r.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,l=s):(i<0&&(o=-o),u=o,l=o*a/i),{x:t+u,y:n+l}}function U8(r){var e=In.map(In.range(yk(r)+1),function(){return[]});return In.forEach(r.nodes(),function(t){var n=r.node(t),i=n.rank;In.isUndefined(i)||(e[i][n.order]=t)}),e}function z8(r){var e=In.min(In.map(r.nodes(),function(t){return r.node(t).rank}));In.forEach(r.nodes(),function(t){var n=r.node(t);In.has(n,"rank")&&(n.rank-=e)})}function q8(r){var e=In.min(In.map(r.nodes(),function(a){return r.node(a).rank})),t=[];In.forEach(r.nodes(),function(a){var o=r.node(a).rank-e;t[o]||(t[o]=[]),t[o].push(a)});var n=0,i=r.graph().nodeRankFactor;In.forEach(t,function(a,o){In.isUndefined(a)&&o%i!==0?--n:n&&In.forEach(a,function(s){r.node(s).rank+=n})})}function G8(r,e,t,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=t,i.order=n),gk(r,"border",i,e)}function yk(r){return In.max(In.map(r.nodes(),function(e){var t=r.node(e).rank;if(!In.isUndefined(t))return t}))}function V8(r,e){var t={lhs:[],rhs:[]};return In.forEach(r,function(n){e(n)?t.lhs.push(n):t.rhs.push(n)}),t}function W8(r,e){var t=In.now();try{return e()}finally{r+""+(In.now()-t)}}function H8(r,e){return e()}var mk=Ei,Y8=Ws,$8={run:X8,undo:Z8};function X8(r){r.graph().dummyChains=[],mk.forEach(r.edges(),function(e){K8(r,e)})}function K8(r,e){var t=e.v,n=r.node(t).rank,i=e.w,a=r.node(i).rank,o=e.name,s=r.edge(e),u=s.labelRank;if(a!==n+1){r.removeEdge(e);var l,c,f;for(f=0,++n;n<a;++f,++n)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:e,rank:n},l=Y8.addDummyNode(r,"edge",c,"_d"),n===u&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),r.setEdge(t,l,{weight:s.weight},o),f===0&&r.graph().dummyChains.push(l),t=l;r.setEdge(t,i,{weight:s.weight},o)}}function Z8(r){mk.forEach(r.graph().dummyChains,function(e){var t=r.node(e),n=t.edgeLabel,i;for(r.setEdge(t.edgeObj,n);t.dummy;)i=r.successors(e)[0],r.removeNode(e),n.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height),e=i,t=r.node(e)})}var Qm=Ei,yb={longestPath:Q8,slack:J8};function Q8(r){var e={};function t(n){var i=r.node(n);if(Qm.has(e,n))return i.rank;e[n]=!0;var a=Qm.min(Qm.map(r.outEdges(n),function(o){return t(o.w)-r.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Qm.forEach(r.sources(),t)}function J8(r,e){return r.node(e.w).rank-r.node(e.v).rank-r.edge(e).minlen}var M0=Ei,ez=fl.Graph,D0=yb.slack,bk=tz;function tz(r){var e=new ez({directed:!1}),t=r.nodes()[0],n=r.nodeCount();e.setNode(t,{});for(var i,a;rz(e,r)<n;)i=nz(e,r),a=e.hasNode(i.v)?D0(r,i):-D0(r,i),iz(e,r,a);return e}function rz(r,e){function t(n){M0.forEach(e.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;!r.hasNode(o)&&!D0(e,i)&&(r.setNode(o,{}),r.setEdge(n,o,{}),t(o))})}return M0.forEach(r.nodes(),t),r.nodeCount()}function nz(r,e){return M0.minBy(e.edges(),function(t){if(r.hasNode(t.v)!==r.hasNode(t.w))return D0(e,t)})}function iz(r,e,t){M0.forEach(r.nodes(),function(n){e.node(n).rank+=t})}var Th=Ei,oz=bk,az=yb.slack,sz=yb.longestPath,uz=fl.alg.preorder,lz=fl.alg.postorder,cz=Ws.simplify,fz=gp;gp.initLowLimValues=Mx;gp.initCutValues=kx;gp.calcCutValue=_k;gp.leaveEdge=Ek;gp.enterEdge=Ok;gp.exchangeEdges=xk;function gp(r){r=cz(r),sz(r);var e=oz(r);Mx(e),kx(e,r);for(var t,n;t=Ek(e);)n=Ok(e,r,t),xk(e,r,t,n)}function kx(r,e){var t=lz(r,r.nodes());t=t.slice(0,t.length-1),Th.forEach(t,function(n){hz(r,e,n)})}function hz(r,e,t){var n=r.node(t),i=n.parent;r.edge(t,i).cutvalue=_k(r,e,t)}function _k(r,e,t){var n=r.node(t),i=n.parent,a=!0,o=e.edge(t,i),s=0;return o||(a=!1,o=e.edge(i,t)),s=o.weight,Th.forEach(e.nodeEdges(t),function(u){var l=u.v===t,c=l?u.w:u.v;if(c!==i){var f=l===a,h=e.edge(u).weight;if(s+=f?h:-h,vz(r,t,c)){var d=r.edge(t,c).cutvalue;s+=f?-d:d}}}),s}function Mx(r,e){arguments.length<2&&(e=r.nodes()[0]),wk(r,{},1,e)}function wk(r,e,t,n,i){var a=t,o=r.node(n);return e[n]=!0,Th.forEach(r.neighbors(n),function(s){Th.has(e,s)||(t=wk(r,e,t,s,n))}),o.low=a,o.lim=t++,i?o.parent=i:delete o.parent,t}function Ek(r){return Th.find(r.edges(),function(e){return r.edge(e).cutvalue<0})}function Ok(r,e,t){var n=t.v,i=t.w;e.hasEdge(n,i)||(n=t.w,i=t.v);var a=r.node(n),o=r.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=Th.filter(e.edges(),function(c){return u===hA(r,r.node(c.v),s)&&u!==hA(r,r.node(c.w),s)});return Th.minBy(l,function(c){return az(e,c)})}function xk(r,e,t,n){var i=t.v,a=t.w;r.removeEdge(i,a),r.setEdge(n.v,n.w,{}),Mx(r),kx(r,e),dz(r,e)}function dz(r,e){var t=Th.find(r.nodes(),function(i){return!e.node(i).parent}),n=uz(r,t);n=n.slice(1),Th.forEach(n,function(i){var a=r.node(i).parent,o=e.edge(i,a),s=!1;o||(o=e.edge(a,i),s=!0),e.node(i).rank=e.node(a).rank+(s?o.minlen:-o.minlen)})}function vz(r,e,t){return r.hasEdge(e,t)}function hA(r,e,t){return t.low<=e.lim&&e.lim<=t.lim}var pz=yb,Sk=pz.longestPath,gz=bk,yz=fz,mz=bz;function bz(r){switch(r.graph().ranker){case"network-simplex":dA(r);break;case"tight-tree":wz(r);break;case"longest-path":_z(r);break;default:dA(r)}}var _z=Sk;function wz(r){Sk(r),gz(r)}function dA(r){yz(r)}var CO=Ei,Ez=Oz;function Oz(r){var e=Sz(r);CO.forEach(r.graph().dummyChains,function(t){for(var n=r.node(t),i=n.edgeObj,a=xz(r,e,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],c=!0;t!==i.w;){if(n=r.node(t),c){for(;(l=o[u])!==s&&r.node(l).maxRank<n.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<o.length-1&&r.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}r.setParent(t,l),t=r.successors(t)[0]}})}function xz(r,e,t,n){var i=[],a=[],o=Math.min(e[t].low,e[n].low),s=Math.max(e[t].lim,e[n].lim),u,l;u=t;do u=r.parent(u),i.push(u);while(u&&(e[u].low>o||s>e[u].lim));for(l=u,u=n;(u=r.parent(u))!==l;)a.push(u);return{path:i.concat(a.reverse()),lca:l}}function Sz(r){var e={},t=0;function n(i){var a=t;CO.forEach(r.children(i),n),e[i]={low:a,lim:t++}}return CO.forEach(r.children(),n),e}var wh=Ei,PO=Ws,Tz={run:Cz,cleanup:Iz};function Cz(r){var e=PO.addDummyNode(r,"root",{},"_root"),t=Pz(r),n=wh.max(wh.values(t))-1,i=2*n+1;r.graph().nestingRoot=e,wh.forEach(r.edges(),function(o){r.edge(o).minlen*=i});var a=Az(r)+1;wh.forEach(r.children(),function(o){Tk(r,e,i,a,n,t,o)}),r.graph().nodeRankFactor=i}function Tk(r,e,t,n,i,a,o){var s=r.children(o);if(!s.length){o!==e&&r.setEdge(e,o,{weight:0,minlen:t});return}var u=PO.addBorderNode(r,"_bt"),l=PO.addBorderNode(r,"_bb"),c=r.node(o);r.setParent(u,o),c.borderTop=u,r.setParent(l,o),c.borderBottom=l,wh.forEach(s,function(f){Tk(r,e,t,n,i,a,f);var h=r.node(f),d=h.borderTop?h.borderTop:f,v=h.borderBottom?h.borderBottom:f,y=h.borderTop?n:2*n,w=d!==v?1:i-a[o]+1;r.setEdge(u,d,{weight:y,minlen:w,nestingEdge:!0}),r.setEdge(v,l,{weight:y,minlen:w,nestingEdge:!0})}),r.parent(o)||r.setEdge(e,u,{weight:0,minlen:i+a[o]})}function Pz(r){var e={};function t(n,i){var a=r.children(n);a&&a.length&&wh.forEach(a,function(o){t(o,i+1)}),e[n]=i}return wh.forEach(r.children(),function(n){t(n,1)}),e}function Az(r){return wh.reduce(r.edges(),function(e,t){return e+r.edge(t).weight},0)}function Iz(r){var e=r.graph();r.removeNode(e.nestingRoot),delete e.nestingRoot,wh.forEach(r.edges(),function(t){var n=r.edge(t);n.nestingEdge&&r.removeEdge(t)})}var YE=Ei,Rz=Ws,kz=Mz;function Mz(r){function e(t){var n=r.children(t),i=r.node(t);if(n.length&&YE.forEach(n,e),YE.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)vA(r,"borderLeft","_bl",t,i,a),vA(r,"borderRight","_br",t,i,a)}}YE.forEach(r.children(),e)}function vA(r,e,t,n,i,a){var o={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],u=Rz.addDummyNode(r,"border",o,t);i[e][a]=u,r.setParent(u,n),s&&r.setEdge(s,u,{weight:1})}var lf=Ei,Dz={adjust:Lz,undo:Nz};function Lz(r){var e=r.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&Ck(r)}function Nz(r){var e=r.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&jz(r),(e==="lr"||e==="rl")&&(Fz(r),Ck(r))}function Ck(r){lf.forEach(r.nodes(),function(e){pA(r.node(e))}),lf.forEach(r.edges(),function(e){pA(r.edge(e))})}function pA(r){var e=r.width;r.width=r.height,r.height=e}function jz(r){lf.forEach(r.nodes(),function(e){$E(r.node(e))}),lf.forEach(r.edges(),function(e){var t=r.edge(e);lf.forEach(t.points,$E),lf.has(t,"y")&&$E(t)})}function $E(r){r.y=-r.y}function Fz(r){lf.forEach(r.nodes(),function(e){XE(r.node(e))}),lf.forEach(r.edges(),function(e){var t=r.edge(e);lf.forEach(t.points,XE),lf.has(t,"x")&&XE(t)})}function XE(r){var e=r.x;r.x=r.y,r.y=e}var gh=Ei,Bz=Uz;function Uz(r){var e={},t=gh.filter(r.nodes(),function(s){return!r.children(s).length}),n=gh.max(gh.map(t,function(s){return r.node(s).rank})),i=gh.map(gh.range(n+1),function(){return[]});function a(s){if(!gh.has(e,s)){e[s]=!0;var u=r.node(s);i[u.rank].push(s),gh.forEach(r.successors(s),a)}}var o=gh.sortBy(t,function(s){return r.node(s).rank});return gh.forEach(o,a),i}var Sd=Ei,zz=qz;function qz(r,e){for(var t=0,n=1;n<e.length;++n)t+=Gz(r,e[n-1],e[n]);return t}function Gz(r,e,t){for(var n=Sd.zipObject(t,Sd.map(t,function(l,c){return c})),i=Sd.flatten(Sd.map(e,function(l){return Sd.sortBy(Sd.map(r.outEdges(l),function(c){return{pos:n[c.w],weight:r.edge(c).weight}}),"pos")}),!0),a=1;a<t.length;)a<<=1;var o=2*a-1;a-=1;var s=Sd.map(new Array(o),function(){return 0}),u=0;return Sd.forEach(i.forEach(function(l){var c=l.pos+a;s[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=l.weight;u+=l.weight*f})),u}var gA=Ei,Vz=Wz;function Wz(r,e){return gA.map(e,function(t){var n=r.inEdges(t);if(n.length){var i=gA.reduce(n,function(a,o){var s=r.edge(o),u=r.node(o.v);return{sum:a.sum+s.weight*u.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:t}})}var Cu=Ei,Hz=Yz;function Yz(r,e){var t={};Cu.forEach(r,function(i,a){var o=t[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Cu.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Cu.forEach(e.edges(),function(i){var a=t[i.v],o=t[i.w];!Cu.isUndefined(a)&&!Cu.isUndefined(o)&&(o.indegree++,a.out.push(t[i.w]))});var n=Cu.filter(t,function(i){return!i.indegree});return $z(n)}function $z(r){var e=[];function t(a){return function(o){o.merged||(Cu.isUndefined(o.barycenter)||Cu.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&Xz(a,o)}}function n(a){return function(o){o.in.push(a),--o.indegree===0&&r.push(o)}}for(;r.length;){var i=r.pop();e.push(i),Cu.forEach(i.in.reverse(),t(i)),Cu.forEach(i.out,n(i))}return Cu.map(Cu.filter(e,function(a){return!a.merged}),function(a){return Cu.pick(a,["vs","i","barycenter","weight"])})}function Xz(r,e){var t=0,n=0;r.weight&&(t+=r.barycenter*r.weight,n+=r.weight),e.weight&&(t+=e.barycenter*e.weight,n+=e.weight),r.vs=e.vs.concat(r.vs),r.barycenter=t/n,r.weight=n,r.i=Math.min(e.i,r.i),e.merged=!0}var Ny=Ei,Kz=Ws,Zz=Qz;function Qz(r,e){var t=Kz.partition(r,function(c){return Ny.has(c,"barycenter")}),n=t.lhs,i=Ny.sortBy(t.rhs,function(c){return-c.i}),a=[],o=0,s=0,u=0;n.sort(Jz(!!e)),u=yA(a,i,u),Ny.forEach(n,function(c){u+=c.vs.length,a.push(c.vs),o+=c.barycenter*c.weight,s+=c.weight,u=yA(a,i,u)});var l={vs:Ny.flatten(a,!0)};return s&&(l.barycenter=o/s,l.weight=s),l}function yA(r,e,t){for(var n;e.length&&(n=Ny.last(e)).i<=t;)e.pop(),r.push(n.vs),t++;return t}function Jz(r){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:r?t.i-e.i:e.i-t.i}}var Id=Ei,e9=Vz,t9=Hz,r9=Zz,n9=Pk;function Pk(r,e,t,n){var i=r.children(e),a=r.node(e),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,u={};o&&(i=Id.filter(i,function(v){return v!==o&&v!==s}));var l=e9(r,i);Id.forEach(l,function(v){if(r.children(v.v).length){var y=Pk(r,v.v,t,n);u[v.v]=y,Id.has(y,"barycenter")&&o9(v,y)}});var c=t9(l,t);i9(c,u);var f=r9(c,n);if(o&&(f.vs=Id.flatten([o,f.vs,s],!0),r.predecessors(o).length)){var h=r.node(r.predecessors(o)[0]),d=r.node(r.predecessors(s)[0]);Id.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+d.order)/(f.weight+2),f.weight+=2}return f}function i9(r,e){Id.forEach(r,function(t){t.vs=Id.flatten(t.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}function o9(r,e){Id.isUndefined(r.barycenter)?(r.barycenter=e.barycenter,r.weight=e.weight):(r.barycenter=(r.barycenter*r.weight+e.barycenter*e.weight)/(r.weight+e.weight),r.weight+=e.weight)}var jy=Ei,a9=fl.Graph,s9=u9;function u9(r,e,t){var n=l9(r),i=new a9({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return r.node(a)});return jy.forEach(r.nodes(),function(a){var o=r.node(a),s=r.parent(a);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),jy.forEach(r[t](a),function(u){var l=u.v===a?u.w:u.v,c=i.edge(l,a),f=jy.isUndefined(c)?0:c.weight;i.setEdge(l,a,{weight:r.edge(u).weight+f})}),jy.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),i}function l9(r){for(var e;r.hasNode(e=jy.uniqueId("_root")););return e}var c9=Ei,f9=h9;function h9(r,e,t){var n={},i;c9.forEach(t,function(a){for(var o=r.parent(a),s,u;o;){if(s=r.parent(o),s?(u=n[s],n[s]=o):(u=i,i=o),u&&u!==o){e.setEdge(u,o);return}o=s}})}var Ld=Ei,d9=Bz,v9=zz,p9=n9,g9=s9,y9=f9,m9=fl.Graph,mA=Ws,b9=_9;function _9(r){var e=mA.maxRank(r),t=bA(r,Ld.range(1,e+1),"inEdges"),n=bA(r,Ld.range(e-1,-1,-1),"outEdges"),i=d9(r);_A(r,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,u=0;u<4;++s,++u){w9(s%2?t:n,s%4>=2),i=mA.buildLayerMatrix(r);var l=v9(r,i);l<a&&(u=0,o=Ld.cloneDeep(i),a=l)}_A(r,o)}function bA(r,e,t){return Ld.map(e,function(n){return g9(r,n,t)})}function w9(r,e){var t=new m9;Ld.forEach(r,function(n){var i=n.graph().root,a=p9(n,i,t,e);Ld.forEach(a.vs,function(o,s){n.node(o).order=s}),y9(n,t,a.vs)})}function _A(r,e){Ld.forEach(e,function(t){Ld.forEach(t,function(n,i){r.node(n).order=i})})}var Rr=Ei,E9=fl.Graph,O9=Ws,x9={positionX:C9,findType1Conflicts:Ak,findType2Conflicts:Ik,addConflict:Dx,hasConflict:Rk,verticalAlignment:kk,horizontalCompaction:Mk,alignCoordinates:Lk,findSmallestWidthAlignment:Dk,balance:Nk};function Ak(r,e){var t={};function n(i,a){var o=0,s=0,u=i.length,l=Rr.last(a);return Rr.forEach(a,function(c,f){var h=S9(r,c),d=h?r.node(h).order:u;(h||c===l)&&(Rr.forEach(a.slice(s,f+1),function(v){Rr.forEach(r.predecessors(v),function(y){var w=r.node(y),b=w.order;(b<o||d<b)&&!(w.dummy&&r.node(v).dummy)&&Dx(t,y,v)})}),s=f+1,o=d)}),a}return Rr.reduce(e,n),t}function Ik(r,e){var t={};if(r.nodeCount()>1e3)return t;function n(a,o,s,u,l){var c;Rr.forEach(Rr.range(o,s),function(f){c=a[f],r.node(c).dummy&&Rr.forEach(r.predecessors(c),function(h){var d=r.node(h);d.dummy&&(d.order<u||d.order>l)&&Dx(t,h,c)})})}function i(a,o){var s=-1,u,l=0;return Rr.forEach(o,function(c,f){if(r.node(c).dummy==="border"){var h=r.predecessors(c);h.length&&(u=r.node(h[0]).order,n(o,l,f,s,u),l=f,s=u)}n(o,l,o.length,u,a.length)}),o}return Rr.reduce(e,i),t}function S9(r,e){if(r.node(e).dummy)return Rr.find(r.predecessors(e),function(t){return r.node(t).dummy})}function Dx(r,e,t){if(e>t){var n=e;e=t,t=n}var i=r[e];i||(r[e]=i={}),i[t]=!0}function Rk(r,e,t){if(e>t){var n=e;e=t,t=n}return Rr.has(r[e],t)}function kk(r,e,t,n){var i={},a={},o={};return Rr.forEach(e,function(s){Rr.forEach(s,function(u,l){i[u]=u,a[u]=u,o[u]=l})}),Rr.forEach(e,function(s){var u=-1;Rr.forEach(s,function(l){var c=n(l);if(c.length){c=Rr.sortBy(c,function(y){return o[y]});for(var f=(c.length-1)/2,h=Math.floor(f),d=Math.ceil(f);h<=d;++h){var v=c[h];a[l]===l&&u<o[v]&&!Rk(t,l,v)&&(a[v]=l,a[l]=i[l]=i[v],u=o[v])}}})}),{root:i,align:a}}function Mk(r,e,t,n,i){var a={},o=T9(r,e,t,i),s=i?"borderLeft":"borderRight";function u(f,h){for(var d=o.nodes(),v=d.pop(),y={};v;)y[v]?f(v):(y[v]=!0,d.push(v),d=d.concat(h(v))),v=d.pop()}function l(f){a[f]=o.inEdges(f).reduce(function(h,d){return Math.max(h,a[d.v]+o.edge(d))},0)}function c(f){var h=o.outEdges(f).reduce(function(v,y){return Math.min(v,a[y.w]-o.edge(y))},Number.POSITIVE_INFINITY),d=r.node(f);h!==Number.POSITIVE_INFINITY&&d.borderType!==s&&(a[f]=Math.max(a[f],h))}return u(l,o.predecessors.bind(o)),u(c,o.successors.bind(o)),Rr.forEach(n,function(f){a[f]=a[t[f]]}),a}function T9(r,e,t,n){var i=new E9,a=r.graph(),o=P9(a.nodesep,a.edgesep,n);return Rr.forEach(e,function(s){var u;Rr.forEach(s,function(l){var c=t[l];if(i.setNode(c),u){var f=t[u],h=i.edge(f,c);i.setEdge(f,c,Math.max(o(r,l,u),h||0))}u=l})}),i}function Dk(r,e){return Rr.minBy(Rr.values(e),function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Rr.forIn(t,function(a,o){var s=A9(r,o)/2;n=Math.max(a+s,n),i=Math.min(a-s,i)}),n-i})}function Lk(r,e){var t=Rr.values(e),n=Rr.min(t),i=Rr.max(t);Rr.forEach(["u","d"],function(a){Rr.forEach(["l","r"],function(o){var s=a+o,u=r[s],l;if(u!==e){var c=Rr.values(u);l=o==="l"?n-Rr.min(c):i-Rr.max(c),l&&(r[s]=Rr.mapValues(u,function(f){return f+l}))}})})}function Nk(r,e){return Rr.mapValues(r.ul,function(t,n){if(e)return r[e.toLowerCase()][n];var i=Rr.sortBy(Rr.map(r,n));return(i[1]+i[2])/2})}function C9(r){var e=O9.buildLayerMatrix(r),t=Rr.merge(Ak(r,e),Ik(r,e)),n={},i;Rr.forEach(["u","d"],function(o){i=o==="u"?e:Rr.values(e).reverse(),Rr.forEach(["l","r"],function(s){s==="r"&&(i=Rr.map(i,function(f){return Rr.values(f).reverse()}));var u=(o==="u"?r.predecessors:r.successors).bind(r),l=kk(r,i,t,u),c=Mk(r,i,l.root,l.align,s==="r");s==="r"&&(c=Rr.mapValues(c,function(f){return-f})),n[o+s]=c})});var a=Dk(r,n);return Lk(n,a),Nk(n,r.graph().align)}function P9(r,e,t){return function(n,i,a){var o=n.node(i),s=n.node(a),u=0,l;if(u+=o.width/2,Rr.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=t?l:-l),l=0,u+=(o.dummy?e:r)/2,u+=(s.dummy?e:r)/2,u+=s.width/2,Rr.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=t?l:-l),l=0,u}}function A9(r,e){return r.node(e).width}var Fy=Ei,jk=Ws,I9=x9.positionX,R9=k9;function k9(r){r=jk.asNonCompoundGraph(r),M9(r),Fy.forEach(I9(r),function(e,t){r.node(t).x=e})}function M9(r){var e=jk.buildLayerMatrix(r),t=r.graph().ranksep,n=0;Fy.forEach(e,function(i){var a=Fy.max(Fy.map(i,function(o){return r.node(o).height}));Fy.forEach(i,function(o){r.node(o).y=n+a/2}),n+=a+t})}var Hr=Ei,wA=R8,EA=$8,D9=mz,L9=Ws.normalizeRanks,N9=Ez,j9=Ws.removeEmptyRanks,OA=Tz,F9=kz,xA=Dz,B9=b9,U9=R9,qd=Ws,z9=fl.Graph,q9=G9;function G9(r,e){var t=e&&e.debugTiming?qd.time:qd.notime,n=t("layout",function(){return n=t("  buildLayoutGraph",function(){return eq(r)}),t("  runLayout",function(){V9(n,t)}),t("  updateInputGraph",function(){W9(r,n)}),n});return n}function V9(r,e){e("    makeSpaceForEdgeLabels",function(){tq(r)}),e("    removeSelfEdges",function(){cq(r)}),e("    acyclic",function(){wA.run(r)}),e("    nestingGraph.run",function(){OA.run(r)}),e("    rank",function(){D9(qd.asNonCompoundGraph(r))}),e("    injectEdgeLabelProxies",function(){rq(r)}),e("    removeEmptyRanks",function(){j9(r)}),e("    nestingGraph.cleanup",function(){OA.cleanup(r)}),e("    normalizeRanks",function(){L9(r)}),e("    assignRankMinMax",function(){nq(r)}),e("    removeEdgeLabelProxies",function(){iq(r)}),e("    normalize.run",function(){EA.run(r)}),e("    parentDummyChains",function(){N9(r)}),e("    addBorderSegments",function(){F9(r)}),e("    order",function(){B9(r)}),e("    insertSelfEdges",function(){fq(r)}),e("    adjustCoordinateSystem",function(){xA.adjust(r)}),e("    position",function(){U9(r)}),e("    positionSelfEdges",function(){hq(r)}),e("    removeBorderNodes",function(){lq(r)}),e("    normalize.undo",function(){EA.undo(r)}),e("    fixupEdgeLabelCoords",function(){sq(r)}),e("    undoCoordinateSystem",function(){xA.undo(r)}),e("    translateGraph",function(){oq(r)}),e("    assignNodeIntersects",function(){aq(r)}),e("    reversePoints",function(){uq(r)}),e("    acyclic.undo",function(){wA.undo(r)})}function W9(r,e){Hr.forEach(r.nodes(),function(t){var n=r.node(t),i=e.node(t);n&&(n.x=i.x,n.y=i.y,e.children(t).length&&(n.width=i.width,n.height=i.height))}),Hr.forEach(r.edges(),function(t){var n=r.edge(t),i=e.edge(t);n.points=i.points,Hr.has(i,"x")&&(n.x=i.x,n.y=i.y)}),r.graph().width=e.graph().width,r.graph().height=e.graph().height}var H9=["nodesep","edgesep","ranksep","marginx","marginy"],Y9={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$9=["acyclicer","ranker","rankdir","align"],X9=["width","height"],K9={width:0,height:0},Z9=["minlen","weight","width","height","labeloffset"],Q9={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J9=["labelpos"];function eq(r){var e=new z9({multigraph:!0,compound:!0}),t=ZE(r.graph());return e.setGraph(Hr.merge({},Y9,KE(t,H9),Hr.pick(t,$9))),Hr.forEach(r.nodes(),function(n){var i=ZE(r.node(n));e.setNode(n,Hr.defaults(KE(i,X9),K9)),e.setParent(n,r.parent(n))}),Hr.forEach(r.edges(),function(n){var i=ZE(r.edge(n));e.setEdge(n,Hr.merge({},Q9,KE(i,Z9),Hr.pick(i,J9)))}),e}function tq(r){var e=r.graph();e.ranksep/=2,Hr.forEach(r.edges(),function(t){var n=r.edge(t);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function rq(r){Hr.forEach(r.edges(),function(e){var t=r.edge(e);if(t.width&&t.height){var n=r.node(e.v),i=r.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};qd.addDummyNode(r,"edge-proxy",a,"_ep")}})}function nq(r){var e=0;Hr.forEach(r.nodes(),function(t){var n=r.node(t);n.borderTop&&(n.minRank=r.node(n.borderTop).rank,n.maxRank=r.node(n.borderBottom).rank,e=Hr.max(e,n.maxRank))}),r.graph().maxRank=e}function iq(r){Hr.forEach(r.nodes(),function(e){var t=r.node(e);t.dummy==="edge-proxy"&&(r.edge(t.e).labelRank=t.rank,r.removeNode(e))})}function oq(r){var e=Number.POSITIVE_INFINITY,t=0,n=Number.POSITIVE_INFINITY,i=0,a=r.graph(),o=a.marginx||0,s=a.marginy||0;function u(l){var c=l.x,f=l.y,h=l.width,d=l.height;e=Math.min(e,c-h/2),t=Math.max(t,c+h/2),n=Math.min(n,f-d/2),i=Math.max(i,f+d/2)}Hr.forEach(r.nodes(),function(l){u(r.node(l))}),Hr.forEach(r.edges(),function(l){var c=r.edge(l);Hr.has(c,"x")&&u(c)}),e-=o,n-=s,Hr.forEach(r.nodes(),function(l){var c=r.node(l);c.x-=e,c.y-=n}),Hr.forEach(r.edges(),function(l){var c=r.edge(l);Hr.forEach(c.points,function(f){f.x-=e,f.y-=n}),Hr.has(c,"x")&&(c.x-=e),Hr.has(c,"y")&&(c.y-=n)}),a.width=t-e+o,a.height=i-n+s}function aq(r){Hr.forEach(r.edges(),function(e){var t=r.edge(e),n=r.node(e.v),i=r.node(e.w),a,o;t.points?(a=t.points[0],o=t.points[t.points.length-1]):(t.points=[],a=i,o=n),t.points.unshift(qd.intersectRect(n,a)),t.points.push(qd.intersectRect(i,o))})}function sq(r){Hr.forEach(r.edges(),function(e){var t=r.edge(e);if(Hr.has(t,"x"))switch((t.labelpos==="l"||t.labelpos==="r")&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset;break}})}function uq(r){Hr.forEach(r.edges(),function(e){var t=r.edge(e);t.reversed&&t.points.reverse()})}function lq(r){Hr.forEach(r.nodes(),function(e){if(r.children(e).length){var t=r.node(e),n=r.node(t.borderTop),i=r.node(t.borderBottom),a=r.node(Hr.last(t.borderLeft)),o=r.node(Hr.last(t.borderRight));t.width=Math.abs(o.x-a.x),t.height=Math.abs(i.y-n.y),t.x=a.x+t.width/2,t.y=n.y+t.height/2}}),Hr.forEach(r.nodes(),function(e){r.node(e).dummy==="border"&&r.removeNode(e)})}function cq(r){Hr.forEach(r.edges(),function(e){if(e.v===e.w){var t=r.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:r.edge(e)}),r.removeEdge(e)}})}function fq(r){var e=qd.buildLayerMatrix(r);Hr.forEach(e,function(t){var n=0;Hr.forEach(t,function(i,a){var o=r.node(i);o.order=a+n,Hr.forEach(o.selfEdges,function(s){qd.addDummyNode(r,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function hq(r){Hr.forEach(r.nodes(),function(e){var t=r.node(e);if(t.dummy==="selfedge"){var n=r.node(t.e.v),i=n.x+n.width/2,a=n.y,o=t.x-i,s=n.height/2;r.setEdge(t.e,t.label),r.removeNode(e),t.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],t.label.x=t.x,t.label.y=t.y}})}function KE(r,e){return Hr.mapValues(Hr.pick(r,e),Number)}function ZE(r){var e={};return Hr.forEach(r,function(t,n){e[n.toLowerCase()]=t}),e}var Jm=Ei,dq=Ws,vq=fl.Graph,pq={debugOrdering:gq};function gq(r){var e=dq.buildLayerMatrix(r),t=new vq({compound:!0,multigraph:!0}).setGraph({});return Jm.forEach(r.nodes(),function(n){t.setNode(n,{label:n}),t.setParent(n,"layer"+r.node(n).rank)}),Jm.forEach(r.edges(),function(n){t.setEdge(n.v,n.w,{},n.name)}),Jm.forEach(e,function(n,i){var a="layer"+i;t.setNode(a,{rank:"same"}),Jm.reduce(n,function(o,s){return t.setEdge(o,s,{style:"invis"}),s})}),t}var yq="0.8.14",mq={graphlib:fl,layout:q9,debug:pq,util:{time:Ws.time,notime:Ws.notime},version:yq};const Fk=F0(mq);var Bk=function(){};Bk.prototype={fit:function(r){var e,t,n,i=r.length,a,o=i>0?r[0].width:0,s=i>0?r[0].height:0;for(this.root={x:0,y:0,width:o,height:s},e=0;e<i;e++)n=r[e],(t=this.findNode(this.root,n.width,n.height))?(a=this.splitNode(t,n.width,n.height),n.x=a.x,n.y=a.y):(a=this.growNode(n.width,n.height),n.x=a.x,n.y=a.y)},findNode:function(r,e,t){return r.used?this.findNode(r.right,e,t)||this.findNode(r.down,e,t):e<=r.width&&t<=r.height?r:null},splitNode:function(r,e,t){return r.used=!0,r.down={x:r.x,y:r.y+t,width:r.width,height:r.height-t},r.right={x:r.x+e,y:r.y,width:r.width-e,height:t},r},growNode:function(r,e){var t=r<=this.root.width,n=e<=this.root.height,i=n&&this.root.height>=this.root.width+r,a=t&&this.root.width>=this.root.height+e;return i?this.growRight(r,e):a?this.growDown(r,e):n?this.growRight(r,e):t?this.growDown(r,e):null},growRight:function(r,e){this.root={used:!0,x:0,y:0,width:this.root.width+r,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:r,height:this.root.height}};var t;return(t=this.findNode(this.root,r,e))?this.splitNode(t,r,e):null},growDown:function(r,e){this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root};var t;return(t=this.findNode(this.root,r,e))?this.splitNode(t,r,e):null}};var bq=Bk,_q=bq,wq=function(r,e){e=e||{};var t=new _q,n=e.inPlace||!1,i=r.map(function(u){return n?u:{width:u.width,height:u.height,item:u}});i=i.sort(function(u,l){return l.width*l.height-u.width*u.height}),t.fit(i);var a=i.reduce(function(u,l){return Math.max(u,l.x+l.width)},0),o=i.reduce(function(u,l){return Math.max(u,l.y+l.height)},0),s={width:a,height:o};return n||(s.items=i),s};const Eq=F0(wq),Oq="tight-tree",yh=100,Uk="up",Lx="down",xq="left",zk="right",Sq={[Uk]:"BT",[Lx]:"TB",[xq]:"RL",[zk]:"LR"},Tq="bin",Cq=25,Pq=1/.38,Aq=r=>r===Uk||r===Lx,Iq=r=>r===Lx||r===zk,QE=r=>{let e=null,t=null,n=null,i=null,a=null,o=null,s=null,u=null;for(const l of r.nodes()){const c=r.node(l);(a===null||c.x<a)&&(a=c.x),(o===null||c.y<o)&&(o=c.y),(s===null||c.x>s)&&(s=c.x),(u===null||c.y>u)&&(u=c.y);const f=Math.ceil(c.width/2);(e===null||c.x-f<e)&&(e=c.x-f),(t===null||c.y-f<t)&&(t=c.y-f),(n===null||c.x+f>n)&&(n=c.x+f),(i===null||c.y+f>i)&&(i=c.y+f)}return{minX:e,minY:t,maxX:n,maxY:i,minCenterX:a,minCenterY:o,maxCenterX:s,maxCenterY:u,width:n-e,height:i-t,xOffset:a-e,yOffset:o-t}},qk=r=>{const e=new Fk.graphlib.Graph;return e.setGraph({}),e.setDefaultEdgeLabel(()=>({})),e.graph().nodesep=75*r,e.graph().ranksep=75*r,e},SA=(r,e,t)=>{const{rank:n}=t.node(r);let i=null,a=null;for(const o of e){const{rank:s}=t.node(o);if(!(o===r||s>=n))if(s===n-1){i=s,a=o;break}else(i===null&&a===null||s>i)&&(i=s,a=o)}return a},Rq=(r,e)=>{let t=SA(r,e.predecessors(r),e);return t===null&&(t=SA(r,e.successors(r),e)),t},kq=(r,e)=>{const t=[],n=_8.alg.components(r);if(n.length>1)for(const i of n){const a=qk(e);for(const o of i){const s=r.node(o);a.setNode(o,{width:s.width,height:s.height});const u=r.outEdges(o);if(u)for(const l of u)a.setEdge(l.v,l.w)}t.push(a)}else t.push(r);return t},TA=(r,e,t)=>{r.graph().ranker=Oq,r.graph().rankdir=Sq[e];const n=Fk.layout(r);for(const i of n.nodes()){const a=Rq(i,n);a!==null&&(t[i]=a)}},JE=(r,e)=>Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)),Mq=r=>{const e=[r[0]];let t={p1:r[0],p2:r[1]},n=JE(t.p1,t.p2);for(let i=2;i<r.length;i++){let a={p1:r[i-1],p2:r[i]},o=JE(a.p1,a.p2);const s={p1:t.p1,p2:a.p2},u=JE(s.p1,s.p2);o+n-u<.1&&(e.pop(),a=s,o=u),e.push(a.p1),t=a,n=o}return e.push(r[r.length-1]),e},Dq=(r,e,t,n,i,a,o=1)=>{const s=qk(o),u={},l={x:0,y:0},c=r.length;for(const _ of r){const x=t[_.id];l.x+=(x==null?void 0:x.x)||0,l.y+=(x==null?void 0:x.y)||0;const P=(_.size||Cq)*Pq*o;s.setNode(_.id,{width:P,height:P})}const f=c?[l.x/c,l.y/c]:[0,0],h={};for(const _ of n)if(e[_.from]&&e[_.to]&&_.from!==_.to){const x=_.from<_.to?`${_.from}-${_.to}`:`${_.to}-${_.from}`;h[x]||(h[x]=1,s.setEdge(_.from,_.to))}const d=kq(s,o);if(d.length>1){d.forEach(T=>TA(T,i,u));const _=Aq(i),x=Iq(i),P=d.filter(T=>T.nodeCount()===1),I=d.filter(T=>T.nodeCount()!==1);if(a===Tq){I.sort((te,re)=>re.nodeCount()-te.nodeCount());const D=_?({width:te,height:re,...de})=>({...de,width:te+yh,height:re+yh}):({width:te,height:re,...de})=>({...de,width:re+yh,height:te+yh}),N=I.map(QE).map(D),j=P.map(QE).map(D),B=N.concat(j);Eq(B,{inPlace:!0});const W=Math.floor(yh/2),V=_?"x":"y",J=_?"y":"x";if(!x){const te=_?"y":"x",re=_?"height":"width",de=B.reduce((fe,ye)=>fe===null?ye[te]:Math.min(ye[te],fe[re]||0),null),pe=B.reduce((fe,ye)=>fe===null?ye[te]+ye[re]:Math.max(ye[te]+ye[re],fe[re]||0),null);B.forEach(fe=>{fe[te]=de+(pe-(fe[te]+fe[re]))})}const ee=(te,re)=>{for(const de of te.nodes()){const pe=te.node(de),fe=s.node(de);fe.x=pe.x-re.xOffset+re[V]+W,fe.y=pe.y-re.yOffset+re[J]+W}};for(let te=0;te<I.length;te++){const re=I[te],de=N[te];ee(re,de)}for(let te=0;te<P.length;te++){const re=P[te],de=j[te];ee(re,de)}}else{I.sort(x?(re,de)=>de.nodeCount()-re.nodeCount():(re,de)=>re.nodeCount()-de.nodeCount());const T=I.map(QE),A=P.reduce((re,de)=>re+s.node(de.nodes()[0]).width,0),D=P.reduce((re,de)=>Math.max(re,s.node(de.nodes()[0]).width),0),N=P.length>0?A+(P.length-1)*yh:0,j=T.reduce((re,{width:de})=>Math.max(re,de),0),B=Math.max(j,N),W=T.reduce((re,{height:de})=>Math.max(re,de),0),V=Math.max(W,N);let J=0;const ee=()=>{for(let re=0;re<I.length;re++){const de=I[re],pe=T[re],fe=Math.floor(_?(B-pe.width)/2:(V-pe.height)/2);for(const ye of de.nodes()){const Me=de.node(ye),Ne=s.node(ye);_?(Ne.x=Me.x-pe.minX+fe,Ne.y=Me.y-pe.minY+J):(Ne.x=Me.x-pe.minX+J,Ne.y=Me.y-pe.minY+fe)}for(const ye of de.edges()){const Me=de.edge(ye),Ne=s.edge(ye);Me.points&&Me.points.length>3&&(Ne.points=Me.points.map(({x:ke,y:je})=>({x:ke-pe.minX+(_?fe:J),y:je-pe.minY+(_?J:fe)})))}J+=(_?pe.height:pe.width)+yh}},te=()=>{const re=Math.floor(((_?B:V)-N)/2);J+=Math.floor(D/2);let de=re;for(const pe of P){const fe=pe.nodes()[0],ye=s.node(fe);_?(ye.x=de+Math.floor(ye.width/2),ye.y=J):(ye.x=J,ye.y=de+Math.floor(ye.width/2)),de+=yh+ye.width}J=D+yh};x?(ee(),te()):(te(),ee())}}else TA(s,i,u);l.x=0,l.y=0;const v={};for(const _ of s.nodes()){const x=s.node(_);l.x+=x.x||0,l.y+=x.y||0,v[_]={x:x.x,y:x.y}}const y=c?[l.x/c,l.y/c]:[0,0],w=f[0]-y[0],b=f[1]-y[1];for(const _ in v)v[_].x+=w,v[_].y+=b;const g={};for(const _ of s.edges()){const x=s.edge(_);if(x.points&&x.points.length>3){const P=Mq(x.points);for(const I of P)I.x+=w,I.y+=b;g[`${_.v}-${_.w}`]={points:[...P],from:{x:v[_.v].x,y:v[_.v].y},to:{x:v[_.w].x,y:v[_.w].y}},g[`${_.w}-${_.v}`]={points:P.reverse(),from:{x:v[_.w].x,y:v[_.w].y},to:{x:v[_.v].x,y:v[_.v].y}}}}return{positions:v,parents:u,waypoints:g}};class Lq{start(){}postMessage(e){const{nodes:t,nodeIds:n,idToPosition:i,rels:a,direction:o,packing:s,pixelRatio:u,forcedDelay:l=0}=e,c=Dq(t,n,i,a,o,s,u);l?setTimeout(()=>{this.onmessage({data:c})},l):this.onmessage({data:c})}onmessage(){}close(){}}const Nq={port:new Lq},jq=()=>new SharedWorker(new URL("/assets/HierarchicalLayout.worker-CKuJOzPF.js",import.meta.url),{type:"module",name:"HierarchicalLayout"}),Fq=Object.freeze(Object.defineProperty({__proto__:null,coseBilkentLayoutFallbackWorker:fB,createCoseBilkentLayoutWorker:hB,createHierarchicalLayoutWorker:jq,hierarchicalLayoutFallbackWorker:Nq},Symbol.toStringTag,{value:"Module"}));var AO=function(r,e){return AO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},AO(r,e)};function Ys(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");AO(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dt.apply(this,arguments)};function Gk(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function or(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(r,e||[])).next())})}function ar(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function jo(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function IO(r,e,t){e.split&&(e=e.split("."));for(var n=0,i=e.length,a=r,o,s;n<i&&(s=""+e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=n===i?t:typeof(o=a[s])==typeof e?o:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var Bq=function(r,e){return Object.keys(r).filter(function(t){return e(t,r[t])}).reduce(function(t,n){return t[n]=r[n],t},{})},up=function(r){Ys(e,r);function e(t,n){var i=r.call(this,"".concat(t," ").concat(n))||this;return i.field=t,i}return e}(Error);function Gd(r){return typeof r=="string"}function RO(r){return typeof r=="number"}function Sg(r){return typeof r=="function"}function Uq(r){return r!=null}function cc(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()==="object"}var Nx="is not a string",jx="is not an object",zq="is nil";function qq(r){if(!Uq(r))throw new up("Event",zq);if(typeof r!="object")throw new up("Event",jx)}function Gq(r){if(!Gd(r.type))throw new up(".type",Nx)}function Vq(r){if(!Gd(r.event))throw new up(".event",Nx)}function Wq(r){if(!cc(r.properties))throw new up(".properties",jx)}function Hq(r){if(!cc(r.traits))throw new up(".traits",jx)}function Yq(r){if(!Gd(r.messageId))throw new up(".messageId",Nx)}function $q(r){qq(r),Gq(r),Yq(r),r.type==="track"&&(Vq(r),Wq(r)),["group","identify"].includes(r.type)&&Hq(r)}var Xq=function(){function r(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(t=e.onEventMethodCall)!==null&&t!==void 0?t:function(){},this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:function(){}}return r}(),Kq=function(){function r(e){this.settings=new Xq(e)}return r.prototype.track=function(e,t,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(Dt(Dt({},this.baseEvent()),{event:e,type:"track",properties:t??{},options:Dt({},n),integrations:Dt({},i)}))},r.prototype.page=function(e,t,n,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:Dt({},n),options:Dt({},i),integrations:Dt({},a)};return e!==null&&(s.category=e,s.properties=(o=s.properties)!==null&&o!==void 0?o:{},s.properties.category=e),t!==null&&(s.name=t),this.normalize(Dt(Dt({},this.baseEvent()),s))},r.prototype.screen=function(e,t,n,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:Dt({},n),options:Dt({},i),integrations:Dt({},a)};return e!==null&&(o.category=e),t!==null&&(o.name=t),this.normalize(Dt(Dt({},this.baseEvent()),o))},r.prototype.identify=function(e,t,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(Dt(Dt({},this.baseEvent()),{type:"identify",userId:e,traits:t??{},options:Dt({},n),integrations:i}))},r.prototype.group=function(e,t,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(Dt(Dt({},this.baseEvent()),{type:"group",traits:t??{},options:Dt({},n),integrations:Dt({},i),groupId:e}))},r.prototype.alias=function(e,t,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var a={userId:e,type:"alias",options:Dt({},n),integrations:Dt({},i)};return t!==null&&(a.previousId=t),e===void 0?this.normalize(Dt(Dt({},a),this.baseEvent())):this.normalize(Dt(Dt({},this.baseEvent()),a))},r.prototype.baseEvent=function(){return{integrations:{},options:{}}},r.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),a=(t=e.context)!==null&&t!==void 0?t:{},o={};return i.forEach(function(s){s!=="context"&&(n.includes(s)?IO(o,s,e[s]):IO(a,s,e[s]))}),[a,o]},r.prototype.normalize=function(e){var t,n,i=Object.keys((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(h,d){var v,y;return Dt(Dt({},h),(v={},v[d]=!!(!((y=e.integrations)===null||y===void 0)&&y[d]),v))},{});e.options=Bq(e.options||{},function(h,d){return d!==void 0});var a=Dt(Dt({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),o=e.options?this.context(e.options):[],s=o[0],u=o[1],l=e.options,c=Gk(e,["options"]),f=Dt(Dt(Dt(Dt({timestamp:new Date},c),{context:s,integrations:a}),u),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),$q(f),f},r}();function Zq(r,e){return new Promise(function(t,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);r.then(function(a){return clearTimeout(i),t(a)}).catch(n)})}function Qq(r){return new Promise(function(e){return setTimeout(e,r)})}function Jq(r,e,t){var n=function(){try{return Promise.resolve(e(r))}catch(i){return Promise.reject(i)}};return Qq(t).then(function(){return Zq(n(),1e3)}).catch(function(i){r==null||r.log("warn","Callback Error",{error:i}),r==null||r.stats.increment("callback_error")}).then(function(){return r})}var Vk=function(){var r,e,t=!1,n=new Promise(function(i,a){r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t=!0,i.apply(void 0,o)},e=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t=!0,a.apply(void 0,o)}});return{resolve:r,reject:e,promise:n,isSettled:function(){return t}}},Fx=function(){function r(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=(t=e==null?void 0:e.maxListeners)!==null&&t!==void 0?t:10}return r.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},r.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},r.prototype.once=function(e,t){var n=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];n.off(e,i),t.apply(n,a)};return this.on(e,i),this},r.prototype.off=function(e,t){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],a=i.filter(function(o){return o!==t});return this.callbacks[e]=a,this},r.prototype.emit=function(e){for(var t=this,n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return o.forEach(function(s){s.apply(t,i)}),this},r}();function e7(r){var e=Math.random()+1,t=r.minTimeout,n=t===void 0?500:t,i=r.factor,a=i===void 0?2:i,o=r.attempt,s=r.maxTimeout,u=s===void 0?1/0:s;return Math.min(e*n*Math.pow(a,o),u)}var Wk="onRemoveFromFuture",Bx=function(r){Ys(e,r);function e(t,n,i){var a=r.call(this)||this;return a.future=[],a.maxAttempts=t,a.queue=n,a.seen=i??{},a}return e.prototype.push=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.map(function(o){var s=t.updateAttempts(o);return s>t.maxAttempts||t.includes(o)?!1:(t.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,s){return t.getAttempts(o)-t.getAttempts(s)}),a},e.prototype.pushWithBackoff=function(t,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(t)===0)return this.push(t)[0];var a=this.updateAttempts(t);if(a>this.maxAttempts||this.includes(t))return!1;var o=e7({attempt:a-1});return n>0&&o<n&&(o=n),setTimeout(function(){i.queue.push(t),i.future=i.future.filter(function(s){return s.id!==t.id}),i.emit(Wk)},o),this.future.push(t),!0},e.prototype.getAttempts=function(t){var n;return(n=this.seen[t.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},e.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||!!this.queue.find(function(n){return n.id===t.id})||!!this.future.find(function(n){return n.id===t.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(Fx),Zv=256,p0=[],e0;for(;Zv--;)p0[Zv]=(Zv+256).toString(16).substring(1);function Ux(){var r=0,e,t="";if(!e0||Zv+16>256){for(e0=Array(r=256);r--;)e0[r]=256*Math.random()|0;r=Zv=0}for(;r<16;r++)e=e0[Zv+r],r==6?t+=p0[e&15|64]:r==8?t+=p0[e&63|128]:t+=p0[e],r&1&&r>1&&r<11&&(t+="-");return Zv++,t}var t7=function(){function r(){this._logs=[]}return r.prototype.log=function(e,t,n){var i=new Date;this._logs.push({level:e,message:t,time:i,extras:n})},Object.defineProperty(r.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),r.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(t,n){var i,a,o,s=Dt(Dt({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var u=(o=(a=n.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return t[u]&&(u="".concat(u,"-").concat(Math.random())),Dt(Dt({},t),(i={},i[u]=s,i))},{});console.table&&console.table(e)}else this.logs.forEach(function(t){var n=t.level,i=t.message,a=t.extras;n==="info"||n==="debug"||console[n](i,a??"")});this._logs=[]},r}(),r7=function(r){var e={gauge:"g",counter:"c"};return e[r]},Hk=function(){function r(){this.metrics=[]}return r.prototype.increment=function(e,t,n){t===void 0&&(t=1),this.metrics.push({metric:e,value:t,tags:n??[],type:"counter",timestamp:Date.now()})},r.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:n??[],type:"gauge",timestamp:Date.now()})},r.prototype.flush=function(){var e=this.metrics.map(function(t){return Dt(Dt({},t),{tags:t.tags.join(",")})});console.table&&console.table(e),this.metrics=[]},r.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:r7(e.type),e:e.timestamp}})},r}(),n7=function(r){Ys(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(Hk),kg=function(){function r(e){var t,n,i;this.retry=(t=e.retry)!==null&&t!==void 0?t:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return r}(),L0=function(){function r(e,t,n,i){t===void 0&&(t=Ux()),n===void 0&&(n=new n7),i===void 0&&(i=new t7),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=n}return r.system=function(){},r.prototype.isSame=function(e){return e.id===this.id},r.prototype.cancel=function(e){throw e||new kg({reason:"Context Cancel"})},r.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),r.prototype.updateEvent=function(e,t){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return IO(this.event,e,t),this.event},r.prototype.failedDelivery=function(){return this._failedDelivery},r.prototype.setFailedDelivery=function(e){this._failedDelivery=e},r.prototype.logs=function(){return this.logger.logs},r.prototype.flush=function(){this.logger.flush(),this.stats.flush()},r.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},r}();function i7(r,e){var t={};return r.forEach(function(n){var i,a=void 0;if(typeof e=="string"){var o=n[e];a=typeof o!="string"?JSON.stringify(o):o}else e instanceof Function&&(a=e(n));a!==void 0&&(t[a]=jo(jo([],(i=t[a])!==null&&i!==void 0?i:[],!0),[n],!1))}),t}var o7=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},a7=function(){var r,e,t=0;return{done:function(){return r},run:function(n){var i=n();return o7(i)&&(++t===1&&(r=new Promise(function(a){return e=a})),i.finally(function(){return--t===0&&e()})),i}}};function s7(r){return or(this,void 0,void 0,function(){var e;return ar(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r()];case 1:return[2,t.sent()];case 2:return e=t.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function Gy(r,e){r.log("debug","plugin",{plugin:e.name});var t=new Date().getTime(),n=e[r.event.type];if(n===void 0)return Promise.resolve(r);var i=s7(function(){return n.apply(e,[r])}).then(function(a){var o=new Date().getTime()-t;return a.stats.gauge("plugin_time",o,["plugin:".concat(e.name)]),a}).catch(function(a){if(a instanceof kg&&a.type==="middleware_cancellation")throw a;return a instanceof kg?(r.log("warn",a.type,{plugin:e.name,error:a}),a):(r.log("error","plugin Error",{plugin:e.name,error:a}),r.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),a)});return i}function u7(r,e){return Gy(r,e).then(function(t){if(t instanceof L0)return t;r.log("debug","Context canceled"),r.stats.increment("context_canceled"),r.cancel(t)})}var l7=function(r){Ys(e,r);function e(t){var n=r.call(this)||this;return n.criticalTasks=a7(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=t,n.queue.on(Wk,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(t,n,i){return or(this,void 0,void 0,function(){var a,o,s=this;return ar(this,function(u){switch(u.label){case 0:return this.plugins.push(n),a=function(l){s.failedInitializations.push(n.name),s.emit("initialization_failure",n),console.warn(n.name,l),t.log("warn","Failed to load destination",{plugin:n.name,error:l}),s.plugins=s.plugins.filter(function(c){return c!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(t,i).catch(a),[3,4]):[3,1];case 1:return u.trys.push([1,3,,4]),[4,n.load(t,i)];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),a(o),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(t,n,i){return or(this,void 0,void 0,function(){var a;return ar(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(t,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return a=o.sent(),t.log("warn","Failed to unload destination",{plugin:n.name,error:a}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(t){return or(this,void 0,void 0,function(){var n;return ar(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),n=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(t){return or(this,void 0,void 0,function(){var n=this;return ar(this,function(i){return[2,new Promise(function(a){var o=function(s,u){s.isSame(t)&&(n.off("flush",o),a(s))};n.on("flush",o)})]})})},e.prototype.dispatchSingle=function(t){return or(this,void 0,void 0,function(){var n=this;return ar(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch(function(a){var o=n.enqueuRetry(a,t);return o?n.subscribeToDelivery(t):(t.setFailedDelivery({reason:a}),t)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(t){var n=this;t===void 0&&(t=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},t))},e.prototype.deliver=function(t){return or(this,void 0,void 0,function(){var n,i,a,o;return ar(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=s.sent(),i=Date.now()-n,this.emit("delivery_success",t),t.stats.gauge("delivered",i),t.log("debug","Delivered",t.event),[2,t];case 4:throw a=s.sent(),o=a,t.log("error","Failed to deliver",o),this.emit("delivery_failure",t,o),t.stats.increment("delivery_failed"),a;case 5:return[2]}})})},e.prototype.enqueuRetry=function(t,n){var i=!(t instanceof kg)||t.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return or(this,void 0,void 0,function(){var t,n,i;return ar(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(t=this.queue.pop(),!t)return[2,[]];t.attempts=this.queue.getAttempts(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=a.sent(),this.emit("flush",t,!0),[3,4];case 3:return n=a.sent(),i=this.enqueuRetry(n,t),i||(t.setFailedDelivery({reason:n}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var n=this.plugins.filter(function(d){var v,y,w;if(d.type!=="destination"&&d.name!=="Segment.io")return!0;var b=void 0;return(v=d.alternativeNames)===null||v===void 0||v.forEach(function(g){t[g]!==void 0&&(b=t[g])}),(w=(y=t[d.name])!==null&&y!==void 0?y:b)!==null&&w!==void 0?w:(d.name==="Segment.io"?!0:t.All)!==!1}),i=i7(n,"type"),a=i.before,o=a===void 0?[]:a,s=i.enrichment,u=s===void 0?[]:s,l=i.destination,c=l===void 0?[]:l,f=i.after,h=f===void 0?[]:f;return{before:o,enrichment:u,destinations:c,after:h}},e.prototype.flushOne=function(t){var n,i;return or(this,void 0,void 0,function(){var a,o,s,u,l,c,v,f,h,d,v,y,w,b,g;return ar(this,function(_){switch(_.label){case 0:if(!this.isReady())throw new Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),a=this.availableExtensions((n=t.event.integrations)!==null&&n!==void 0?n:{}),o=a.before,s=a.enrichment,u=0,l=o,_.label=1;case 1:return u<l.length?(c=l[u],[4,u7(t,c)]):[3,4];case 2:v=_.sent(),v instanceof L0&&(t=v),this.emit("message_enriched",t,c),_.label=3;case 3:return u++,[3,1];case 4:f=0,h=s,_.label=5;case 5:return f<h.length?(d=h[f],[4,Gy(t,d)]):[3,8];case 6:v=_.sent(),v instanceof L0&&(t=v),this.emit("message_enriched",t,d),_.label=7;case 7:return f++,[3,5];case 8:return y=this.availableExtensions((i=t.event.integrations)!==null&&i!==void 0?i:{}),w=y.destinations,b=y.after,[4,new Promise(function(x,P){setTimeout(function(){var I=w.map(function(T){return Gy(t,T)});Promise.all(I).then(x).catch(P)},0)})];case 9:return _.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),g=b.map(function(x){return Gy(t,x)}),[4,Promise.all(g)];case 10:return _.sent(),[2,t]}})})},e}(Fx),c7=function(r,e){var t=Date.now()-r;return Math.max((e??300)-t,0)};function f7(r,e,t,n){return or(this,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return t.emit("dispatch_start",r),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(r)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(r)];case 3:a=o.sent(),o.label=4;case 4:return n!=null&&n.callback?[4,Jq(a,n.callback,c7(i,n.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return n!=null&&n.debug&&a.flush(),[2,a]}})})}function h7(r,e,t,n){var i,a=[r,e,t,n],o=cc(r)?r.event:r;if(!o||!Gd(o))throw new Error("Event missing");var s=cc(r)?(i=r.properties)!==null&&i!==void 0?i:{}:cc(e)?e:{},u={};Sg(t)||(u=t??{}),cc(r)&&!Sg(e)&&(u=e??{});var l=a.find(Sg);return[o,s,u,l]}function CA(r,e,t,n,i){var a,o,s=null,u=null,l=[r,e,t,n,i],c=l.filter(Gd);c.length===1?Gd(l[1])?(u=l[1],s=null):(u=c[0],s=null):c.length===2&&(typeof l[0]=="string"&&(s=l[0]),typeof l[1]=="string"&&(u=l[1]));var f=l.find(Sg),h=l.filter(cc);return h.length===1?cc(l[2])?(o={},a=l[2]):cc(l[3])?(a={},o=l[3]):(a=h[0],o={}):h.length===2&&(a=h[0],o=h[1]),[s,u,a??(a={}),o??(o={}),f]}var PA=function(r){return function(){for(var e,t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},s=["callback","options","traits","id"],u=0,l=i;u<l.length;u++){var c=l[u],f=s.pop();if(f==="id"){if(Gd(c)||RO(c)){o.id=c.toString();continue}if(c==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(c==null||cc(c))&&(o[f]=c),Sg(c)){o.callback=c;break}}return[(e=o.id)!==null&&e!==void 0?e:r.id(),(t=o.traits)!==null&&t!==void 0?t:{},(n=o.options)!==null&&n!==void 0?n:{},o.callback]}};function d7(r,e,t,n){RO(r)&&(r=r.toString()),RO(e)&&(e=e.toString());var i=[r,e,t,n],a=i.filter(Gd),o=a[0],s=o===void 0?r:o,u=a[1],l=u===void 0?null:u,c=i.filter(cc)[0],f=c===void 0?{}:c,h=i.find(Sg);return[s,l,f,h]}function zx(){return typeof window<"u"}function NW(){return!zx()}function v7(){return zx()?window.navigator.onLine:!0}function tm(){return!v7()}function p7(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,a=[],o=[],s={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return o},get:function(c){return s[c.toLowerCase()]},has:function(c){return c.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,f,h){a.push(f=f.toLowerCase()),o.push([f,h]),s[f]=s[f]?s[f]+","+h:h}),t(u())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var qx=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},mb=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=qx();return(t&&t.fetch||p7).apply(void 0,r)},rm="1.81.0",g7="npm";function y7(){return g7}var Yk="api.segment.io/v1",m7=function(r,e,t){var n=e.reduce(function(i,a){var o=a.split(":"),s=o[0],u=o[1];return i[s]=u,i},{});return{type:"Counter",metric:r,value:1,tags:Dt(Dt({},n),{library:"analytics.js",library_version:t==="web"?"next-".concat(rm):"npm:next-".concat(rm)})}};function eO(r){console.error("Error sending segment performance metrics",r)}var b7=function(){function r(e){var t=this,n,i,a,o,s;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:Yk,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=e==null?void 0:e.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=e==null?void 0:e.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(s=e==null?void 0:e.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var u=!1,l=function(){u||(u=!0,t.flush().catch(eO),u=!1,setTimeout(l,t.flushTimer))};l()}}return r.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&t.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=m7(e,t,y7());this.queue.push(n),e.includes("error")&&this.flush().catch(eO)}},r.prototype.flush=function(){return or(this,void 0,void 0,function(){var e=this;return ar(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){eO(n),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},r.prototype.send=function(){return or(this,void 0,void 0,function(){var e,t,n;return ar(this,function(i){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,mb(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},r}(),t0,$k=function(r){Ys(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.initRemoteMetrics=function(t){t0=new b7(t)},e.prototype.increment=function(t,n,i){r.prototype.increment.call(this,t,n,i),t0==null||t0.increment(t,i??[])},e}(Hk),Eh=function(r){Ys(e,r);function e(t,n){return r.call(this,t,n,new $k)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(L0);function _7(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()==="object"}var Xk="bpc",Kk=function(r,e,t,n,i,a){return{__t:Xk,c:e,p:n,u:r,s:t,t:i,r:a}},w7=Object.keys(Kk("","","","","",""));function E7(r){if(!_7(r)||r.__t!==Xk)return!1;for(var e in r)if(!w7.includes(e))return!1;return!0}var O7=function(r,e){return r.indexOf("?")>-1?r:r+e},x7=function(r){var e=r.indexOf("#");return e===-1?r:r.slice(0,e)},S7=function(r){try{return new URL(r).pathname}catch{return r[0]==="/"?r:"/"+r}},Zk=function(r){var e=r.c,t=r.p,n=r.s,i=r.u,a=r.r,o=r.t,s=e?S7(e):t,u=e?O7(e,n):x7(i);return{path:s,referrer:a,search:n,title:o,url:u}},Qk=function(){var r=document.querySelector("link[rel='canonical']");return Kk(location.href,r&&r.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},T7=function(){return Zk(Qk())};function C7(r,e){return Object.assign.apply(Object,jo([{}],e.map(function(t){var n;if(r&&Object.prototype.hasOwnProperty.call(r,t))return n={},n[t]=r[t],n}),!1))}var hg=function(r,e){e===void 0&&(e=T7());var t=r.context,n;r.type==="page"&&(n=r.properties&&C7(r.properties,Object.keys(e)),r.properties=Dt(Dt(Dt({},e),r.properties),r.name?{name:r.name}:{})),t.page=Dt(Dt(Dt({},e),n),t.page)},P7=function(r){Ys(e,r);function e(t){var n=r.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(Ux())},onEventMethodCall:function(i){var a=i.options;n.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=t,n}return e.prototype.maybeUpdateAnonId=function(t){t!=null&&t.anonymousId&&this.user.anonymousId(t.anonymousId)},e.prototype.addIdentity=function(t){this.user.id()&&(t.userId=this.user.id()),this.user.anonymousId()&&(t.anonymousId=this.user.anonymousId())},e.prototype.track=function(t,n,i,a,o){var s=r.prototype.track.call(this,t,n,i,a);return hg(s,o),s},e.prototype.page=function(t,n,i,a,o,s){var u=r.prototype.page.call(this,t,n,i,a,o);return hg(u,s),u},e.prototype.screen=function(t,n,i,a,o,s){var u=r.prototype.screen.call(this,t,n,i,a,o);return hg(u,s),u},e.prototype.identify=function(t,n,i,a,o){var s=r.prototype.identify.call(this,t,n,i,a);return hg(s,o),s},e.prototype.group=function(t,n,i,a,o){var s=r.prototype.group.call(this,t,n,i,a);return hg(s,o),s},e.prototype.alias=function(t,n,i,a,o){var s=r.prototype.alias.call(this,t,n,i,a);return hg(s,o),s},e}(Kq),A7=function(r){return"addMiddleware"in r&&r.type==="destination"},ff={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ff=zx()&&window.localStorage?window.localStorage:ff}catch(r){console.warn("Unable to access localStorage",r)}function Jk(r){var e=ff.getItem(r);return(e?JSON.parse(e):[]).map(function(t){return new Eh(t.event,t.id)})}function I7(r,e){var t=Jk(r),n=jo(jo([],e,!0),t,!0),i=n.reduce(function(a,o){var s;return Dt(Dt({},a),(s={},s[o.id]=o,s))},{});ff.setItem(r,JSON.stringify(Object.values(i)))}function eM(r){var e=ff.getItem(r);return e?JSON.parse(e):{}}function R7(r,e){var t=eM(r);ff.setItem(r,JSON.stringify(Dt(Dt({},t),e)))}function AA(r){ff.removeItem(r)}var k7=function(){return new Date().getTime()};function kO(r,e,t){t===void 0&&(t=0);var n=50,i="persisted-queue:v1:".concat(r,":lock"),a=function(l){return new Date().getTime()>l},o=ff.getItem(i),s=o?JSON.parse(o):null,u=s===null||a(s);if(u){ff.setItem(i,JSON.stringify(k7()+n)),e(),ff.removeItem(i);return}!u&&t<3?setTimeout(function(){kO(r,e,t+1)},n):console.error("Unable to retrieve lock")}var Gx=function(r){Ys(e,r);function e(t,n){var i=r.call(this,t,[])||this,a="persisted-queue:v1:".concat(n,":items"),o="persisted-queue:v1:".concat(n,":seen"),s=[],u={};return kO(n,function(){try{s=Jk(a),u=eM(o),AA(a),AA(o),i.queue=jo(jo([],s,!0),i.queue,!0),i.seen=Dt(Dt({},u),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=jo(jo([],i.queue,!0),i.future,!0);try{kO(n,function(){I7(a,l),R7(o,i.seen)})}catch(c){console.error(c)}}}),i}return e}(Bx),M7=function(r){Ys(e,r);function e(t){return r.call(this,typeof t=="string"?new Gx(4,t):t)||this}return e.prototype.flush=function(){return or(this,void 0,void 0,function(){return ar(this,function(t){return tm()?[2,[]]:[2,r.prototype.flush.call(this)]})})},e}(l7);function Vx(r){for(var e=r.constructor.prototype,t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++){var i=n[t];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);a&&typeof a.value=="function"&&(r[i]=r[i].bind(r))}}return r}/*! js-cookie v3.0.1 | MIT */function r0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var D7={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function MO(r,e){function t(i,a,o){if(!(typeof document>"u")){o=r0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,o[u]!==!0&&(s+="="+o[u].split(";")[0]));return document.cookie=i+"="+r.write(a,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var u=a[s].split("="),l=u.slice(1).join("=");try{var c=decodeURIComponent(u[0]);if(o[c]=r.read(l,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:t,get:n,remove:function(i,a){t(i,"",r0({},a,{expires:-1}))},withAttributes:function(i){return MO(this.converter,r0({},this.attributes,i))},withConverter:function(i){return MO(r0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var bh=MO(D7,{path:"/"});function L7(r){var e=r.hostname,t=e.split("."),n=t[t.length-1],i=[];if(t.length===4&&parseInt(n,10)>0||t.length<=1)return i;for(var a=t.length-2;a>=0;--a)i.push(t.slice(a).join("."));return i}function N7(r){try{return new URL(r)}catch{return}}function tM(r){var e=N7(r);if(e)for(var t=L7(e),n=0;n<t.length;++n){var i="__tld__",a=t[n],o={domain:"."+a};try{if(bh.set(i,"1",o),bh.get(i))return bh.remove(i,o),a}catch{return}}}var j7=365,rM=function(){function r(e){e===void 0&&(e=r.defaults),this.options=Dt(Dt({},r.defaults),e)}return Object.defineProperty(r,"defaults",{get:function(){return{maxage:j7,domain:tM(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),r.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},r.prototype.get=function(e){var t;try{var n=bh.get(e);if(n==null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return null}},r.prototype.set=function(e,t){typeof t=="string"?bh.set(e,t,this.opts()):t===null?bh.remove(e,this.opts()):bh.set(e,JSON.stringify(t),this.opts())},r.prototype.remove=function(e){return bh.remove(e,this.opts())},r}(),F7=function(){function r(){}return r.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},r.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},r.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{this.localStorageWarning(e,"full")}},r.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},r}(),Wx=function(){function r(){this.cache={}}return r.prototype.get=function(e){var t;return(t=this.cache[e])!==null&&t!==void 0?t:null},r.prototype.set=function(e,t){this.cache[e]=t},r.prototype.remove=function(e){delete this.cache[e]},r}(),Gs={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function nM(r){return r&&r.stores&&Array.isArray(r.stores)&&r.stores.every(function(e){return Object.values(Gs).includes(e)})}function B7(r){return typeof r=="object"&&r.name!==void 0}var tO=function(r,e,t,n){console.warn("".concat(r.constructor.name,": Can't ").concat(e,' key "').concat(t,'" | Err: ').concat(n))},Qv=function(){function r(e){this.stores=e}return r.prototype.get=function(e){for(var t=null,n=0,i=this.stores;n<i.length;n++){var a=i[n];try{if(t=a.get(e),t!=null)return t}catch(o){tO(a,"get",e,o)}}return null},r.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(i){tO(n,"set",e,i)}})},r.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(n){tO(t,"remove",e,n)}})},r.prototype.getAndSync=function(e){var t=this.get(e),n=typeof t=="number"?t.toString():t;return this.set(e,n),n},r}();function DO(r){var e=r.map(function(t){var n,i;switch(B7(t)?(n=t.name,i=t.settings):n=t,n){case Gs.Cookie:return new rM(i);case Gs.LocalStorage:return new F7;case Gs.Memory:return new Wx;default:throw new Error("Unknown Store Type: ".concat(t))}});return e}function iM(r,e){return r.map(function(t){return e&&t===Gs.Cookie?{name:t,settings:e}:t})}var Vv={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},oM=function(){function r(e,t){e===void 0&&(e=Vv);var n=this,i,a,o,s;this.options={},this.id=function(l){if(n.options.disable)return null;var c=n.identityStore.getAndSync(n.idKey);if(l!==void 0){n.identityStore.set(n.idKey,l);var f=l!==c&&c!==null&&l!==null;f&&n.anonymousId(null)}var h=n.identityStore.getAndSync(n.idKey);if(h)return h;var d=n.legacyUserStore.get(Vv.cookie.oldKey);return d?typeof d=="object"?d.id:d:null},this.anonymousId=function(l){var c,f;if(n.options.disable)return null;if(l===void 0){var h=(c=n.identityStore.getAndSync(n.anonKey))!==null&&c!==void 0?c:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(h)return h}return l===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,l??Ux()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(l){var c;if(!n.options.disable)return l===null&&(l={}),l&&n.traitsStore.set(n.traitsKey,l??{}),(c=n.traitsStore.get(n.traitsKey))!==null&&c!==void 0?c:{}},this.options=Dt(Dt({},Vv),e),this.cookieOptions=t,this.idKey=(a=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:Vv.cookie.key,this.traitsKey=(s=(o=e.localStorage)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:Vv.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(l){return l===Gs.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(l){return l!==Gs.Cookie});var u=this.legacyUserStore.get(Vv.cookie.oldKey);u&&typeof u=="object"&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),Vx(this)}return r.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----"),n=t[0],i=t[1];return[n,i]},r.prototype.identify=function(e,t){if(!this.options.disable){t=t??{};var n=this.id();(n===null||n===e)&&(t=Dt(Dt({},this.traits()),t)),e&&this.id(e),this.traits(t)}},r.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},r.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},r.prototype.load=function(){return new r(this.options,this.cookieOptions)},r.prototype.save=function(){return!0},r.prototype.createStorage=function(e,t,n){var i=[Gs.LocalStorage,Gs.Cookie,Gs.Memory];return e.disable?new Qv([]):e.persist?(e.storage!==void 0&&e.storage!==null&&nM(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==Gs.LocalStorage})),n&&(i=i.filter(n)),new Qv(DO(iM(i,t)))):new Qv([new Wx])},r.defaults=Vv,r}(),IA={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},U7=function(r){Ys(e,r);function e(t,n){t===void 0&&(t=IA);var i=r.call(this,Dt(Dt({},IA),t),n)||this;return i.anonymousId=function(a){},Vx(i),i}return e}(oM),Hx="analytics";function aM(){return window[Hx]}function z7(r){Hx=r}function q7(r){window[Hx]=r}var G7=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},sM=function(r,e,t){t.getAndRemove(r).forEach(function(n){bb(e,n).catch(console.error)})},V7=function(r,e){return or(void 0,void 0,void 0,function(){var t,n,i;return ar(this,function(a){switch(a.label){case 0:t=0,n=e.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return t<n.length?(i=n[t],[4,bb(r,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},W7=function(r,e){return or(void 0,void 0,void 0,function(){var t,n,i;return ar(this,function(a){switch(a.label){case 0:t=0,n=e.getAndRemove("register"),a.label=1;case 1:return t<n.length?(i=n[t],[4,bb(r,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},H7=sM.bind(void 0,"on"),Y7=sM.bind(void 0,"setAnonymousId"),$7=function(r,e){Object.keys(e.calls).forEach(function(t){e.getAndRemove(t).forEach(function(n){setTimeout(function(){bb(r,n).catch(console.error)},0)})})},dg=function(r){if(uM(r)){var e=r.pop();return Zk(e)}},uM=function(r){var e=r[r.length-1];return E7(e)},LO=function(){function r(e,t,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=t}return r}(),X7=function(){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(r.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),r.prototype.get=function(e){var t;return(t=this.calls[e])!==null&&t!==void 0?t:[]},r.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},r.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!uM(i.args)&&(i.args=jo(jo([],i.args,!0),[Qk()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},r.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},r.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},r.prototype._pushSnippetWindowBuffer=function(){},r}();function bb(r,e){return or(this,void 0,void 0,function(){var t,n;return ar(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,t=r[e.method].apply(r,e.args),G7(t)?[4,t]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(t),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var K7=function(){function r(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=rm,this._preInitBuffer=new X7,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],a=n[1];t.instance=i,t.ctx=a}).catch(function(){})}return r.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},r.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},r.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},r.prototype._createMethod=function(e){var t=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t.instance){var o=(n=t.instance)[e].apply(n,i);return Promise.resolve(o)}return new Promise(function(s,u){t._preInitBuffer.add(new LO(e,i,s,u))})}},r.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return t.instance?((n=t.instance)[e].apply(n,i),t):(t._preInitBuffer.add(new LO(e,i)),t)}},r}(),Cd={},gf={},Yx={},lM={exports:{}};(function(r){r.exports=e(t),r.exports.find=r.exports,r.exports.replace=function(s,u,l,c){return e(i).call(this,s,u,l,c),s},r.exports.del=function(s,u,l){return e(n).call(this,s,u,null,l),s};function e(s){return function(u,l,c,f){var h=f&&o(f.normalizer)?f.normalizer:a;l=h(l);for(var d,v=!1;!v;)y();function y(){for(d in u){var w=h(d);if(l.indexOf(w)===0){var b=l.substr(w.length);if(b.charAt(0)==="."||b.length===0){l=b.substr(1);var g=u[d];if(g==null){v=!0;return}if(!l.length){v=!0;return}u=g;return}}}d=void 0,v=!0}if(d)return u==null?u:s(u,d,c)}}function t(s,u){if(s.hasOwnProperty(u))return s[u]}function n(s,u){return s.hasOwnProperty(u)&&delete s[u],s}function i(s,u,l){return s.hasOwnProperty(u)&&(s[u]=l),s}function a(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function o(s){return typeof s=="function"}})(lM);var _b=lM.exports,Z7=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yx,"__esModule",{value:!0});var Td=Z7(_b);function vg(r,e){return function(){var t=this.traits(),n=this.properties?this.properties():{};return Td.default(t,"address."+r)||Td.default(t,r)||(e?Td.default(t,"address."+e):null)||(e?Td.default(t,e):null)||Td.default(n,"address."+r)||Td.default(n,r)||(e?Td.default(n,"address."+e):null)||(e?Td.default(n,e):null)}}function Q7(r){r.zip=vg("postalCode","zip"),r.country=vg("country"),r.street=vg("street"),r.state=vg("state"),r.city=vg("city"),r.region=vg("region")}Yx.default=Q7;var wb={};Object.defineProperty(wb,"__esModule",{value:!0});wb.clone=void 0;function NO(r){if(typeof r!="object")return r;if(Object.prototype.toString.call(r)==="[object Object]"){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=NO(r[t]));return e}else return Array.isArray(r)?r.map(NO):r}wb.clone=NO;var $x={};Object.defineProperty($x,"__esModule",{value:!0});var J7={Salesforce:!0};function eG(r){return!J7[r]}$x.default=eG;var Eb={},cM=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;Eb.parse=function(r){var e=[1,5,6,7,11,12],t=cM.exec(r),n=0;if(!t)return new Date(r);for(var i=0,a;a=e[i];i++)t[a]=parseInt(t[a],10)||0;t[2]=parseInt(t[2],10)||1,t[3]=parseInt(t[3],10)||1,t[2]--,t[8]=t[8]?(t[8]+"00").substring(0,3):0,t[4]===" "?n=new Date().getTimezoneOffset():t[9]!=="Z"&&t[10]&&(n=t[11]*60+t[12],t[10]==="+"&&(n=0-n));var o=Date.UTC(t[1],t[2],t[3],t[5],t[6]+n,t[7],t[8]);return new Date(o)};Eb.is=function(r,e){return typeof r!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(r)===!1?!1:cM.test(r)};var Xx={},tG=/\d{13}/;Xx.is=function(r){return tG.test(r)};Xx.parse=function(r){return r=parseInt(r,10),new Date(r)};var Kx={},rG=/\d{10}/;Kx.is=function(r){return rG.test(r)};Kx.parse=function(r){var e=parseInt(r,10)*1e3;return new Date(e)};var RA=Eb,kA=Xx,MA=Kx,nG=Object.prototype,fM=nG.toString;function iG(r){return fM.call(r)==="[object Date]"}function oG(r){return fM.call(r)==="[object Number]"}var Zx=function(e){return iG(e)?e:oG(e)?new Date(aG(e)):RA.is(e)?RA.parse(e):kA.is(e)?kA.parse(e):MA.is(e)?MA.parse(e):new Date(e)};function aG(r){return r<315576e5?r*1e3:r}var DA=Eb,sG=Qx;function Qx(r,e){return e===void 0&&(e=!0),r&&typeof r=="object"?uG(r,e):Array.isArray(r)?lG(r,e):DA.is(r,e)?DA.parse(r):r}function uG(r,e){return Object.keys(r).forEach(function(t){r[t]=Qx(r[t],e)}),r}function lG(r,e){return r.forEach(function(t,n){r[n]=Qx(t,e)}),r}var vm=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gf,"__esModule",{value:!0});gf.Facade=void 0;var cG=vm(Yx),Mg=wb,fG=vm($x),hG=vm(Zx),jO=vm(_b),dG=vm(sG);function Iu(r,e){e=e||{},this.raw=Mg.clone(r),"clone"in e||(e.clone=!0),e.clone&&(r=Mg.clone(r)),"traverse"in e||(e.traverse=!0),"timestamp"in r?r.timestamp=hG.default(r.timestamp):r.timestamp=new Date,e.traverse&&dG.default(r),this.opts=e,this.obj=r}gf.Facade=Iu;var Li=Iu.prototype;Li.proxy=function(r){var e=r.split(".");r=e.shift();var t=this[r]||this.obj[r];return t&&(typeof t=="function"&&(t=t.call(this)||{}),e.length===0?this.opts.clone?FO(t):t:(t=jO.default(t,e.join(".")),this.opts.clone?FO(t):t))};Li.field=function(r){var e=this.obj[r];return this.opts.clone?FO(e):e};Iu.proxy=function(r){return function(){return this.proxy(r)}};Iu.field=function(r){return function(){return this.field(r)}};Iu.multi=function(r){return function(){var e=this.proxy(r+"s");if(Array.isArray(e))return e;var t=this.proxy(r);return t&&(t=[this.opts.clone?Mg.clone(t):t]),t||[]}};Iu.one=function(r){return function(){var e=this.proxy(r);if(e)return e;var t=this.proxy(r+"s");if(Array.isArray(t))return t[0]}};Li.json=function(){var r=this.opts.clone?Mg.clone(this.obj):this.obj;return this.type&&(r.type=this.type()),r};Li.rawEvent=function(){return this.raw};Li.options=function(r){var e=this.obj.options||this.obj.context||{},t=this.opts.clone?Mg.clone(e):e;if(!r)return t;if(this.enabled(r)){var n=this.integrations(),i=n[r]||jO.default(n,r);return typeof i!="object"&&(i=jO.default(this.options(),r)),typeof i=="object"?i:{}}};Li.context=Li.options;Li.enabled=function(r){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var t=e&&fG.default(r),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(r)&&(t=n.providers[r]),n.hasOwnProperty(r)){var i=n[r];typeof i=="boolean"?t=i:t=!0}return!!t};Li.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};Li.active=function(){var r=this.proxy("options.active");return r==null&&(r=!0),r};Li.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};Li.sessionId=Li.anonymousId;Li.groupId=Iu.proxy("options.groupId");Li.traits=function(r){var e=this.proxy("options.traits")||{},t=this.userId();r=r||{},t&&(e.id=t);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;e[r[n]]=i,delete e[n]}return e};Li.library=function(){var r=this.proxy("options.library");return r?typeof r=="string"?{name:r,version:null}:r:{name:"unknown",version:null}};Li.device=function(){var r=this.proxy("context.device");(typeof r!="object"||r===null)&&(r={});var e=this.library().name;return r.type||(e.indexOf("ios")>-1&&(r.type="ios"),e.indexOf("android")>-1&&(r.type="android")),r};Li.userAgent=Iu.proxy("context.userAgent");Li.timezone=Iu.proxy("context.timezone");Li.timestamp=Iu.field("timestamp");Li.channel=Iu.field("channel");Li.ip=Iu.proxy("context.ip");Li.userId=Iu.field("userId");cG.default(Li);function FO(r){return Mg.clone(r)}var Ob={},BO={exports:{}};typeof Object.create=="function"?BO.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:BO.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var yp=BO.exports,vG=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.Alias=void 0;var pG=vG(yp),hM=gf;function hc(r,e){hM.Facade.call(this,r,e)}Ob.Alias=hc;pG.default(hc,hM.Facade);hc.prototype.action=function(){return"alias"};hc.prototype.type=hc.prototype.action;hc.prototype.previousId=function(){return this.field("previousId")||this.field("from")};hc.prototype.from=hc.prototype.previousId;hc.prototype.userId=function(){return this.field("userId")||this.field("to")};hc.prototype.to=hc.prototype.userId;var xb={},Yg={};Object.defineProperty(Yg,"__esModule",{value:!0});var gG=/.+\@.+\..+/;function yG(r){return gG.test(r)}Yg.default=yG;var Jx=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xb,"__esModule",{value:!0});xb.Group=void 0;var mG=Jx(yp),bG=Jx(Yg),_G=Jx(Zx),$g=gf;function eS(r,e){$g.Facade.call(this,r,e)}xb.Group=eS;mG.default(eS,$g.Facade);var dc=eS.prototype;dc.action=function(){return"group"};dc.type=dc.action;dc.groupId=$g.Facade.field("groupId");dc.created=function(){var r=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(r)return _G.default(r)};dc.email=function(){var r=this.proxy("traits.email");if(r)return r;var e=this.groupId();if(bG.default(e))return e};dc.traits=function(r){var e=this.properties(),t=this.groupId();r=r||{},t&&(e.id=t);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;e[r[n]]=i,delete e[n]}return e};dc.name=$g.Facade.proxy("traits.name");dc.industry=$g.Facade.proxy("traits.industry");dc.employees=$g.Facade.proxy("traits.employees");dc.properties=function(){return this.field("traits")||this.field("properties")||{}};var pm={},Sb=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pm,"__esModule",{value:!0});pm.Identify=void 0;var yf=gf,Tg=Sb(_b),wG=Sb(yp),EG=Sb(Yg),dM=Sb(Zx),Jv=function(r){return r.trim()};function tS(r,e){yf.Facade.call(this,r,e)}pm.Identify=tS;wG.default(tS,yf.Facade);var Ni=tS.prototype;Ni.action=function(){return"identify"};Ni.type=Ni.action;Ni.traits=function(r){var e=this.field("traits")||{},t=this.userId();r=r||{},t&&(e.id=t);for(var n in r){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[r[n]]=i,n!==r[n]&&delete e[n])}return e};Ni.email=function(){var r=this.proxy("traits.email");if(r)return r;var e=this.userId();if(EG.default(e))return e};Ni.created=function(){var r=this.proxy("traits.created")||this.proxy("traits.createdAt");if(r)return dM.default(r)};Ni.companyCreated=function(){var r=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(r)return dM.default(r)};Ni.companyName=function(){return this.proxy("traits.company.name")};Ni.name=function(){var r=this.proxy("traits.name");if(typeof r=="string")return Jv(r);var e=this.firstName(),t=this.lastName();if(e&&t)return Jv(e+" "+t)};Ni.firstName=function(){var r=this.proxy("traits.firstName");if(typeof r=="string")return Jv(r);var e=this.proxy("traits.name");if(typeof e=="string")return Jv(e).split(" ")[0]};Ni.lastName=function(){var r=this.proxy("traits.lastName");if(typeof r=="string")return Jv(r);var e=this.proxy("traits.name");if(typeof e=="string"){var t=Jv(e).indexOf(" ");if(t!==-1)return Jv(e.substr(t+1))}};Ni.uid=function(){return this.userId()||this.username()||this.email()};Ni.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};Ni.age=function(){var r=this.birthday(),e=Tg.default(this.traits(),"age");if(e!=null)return e;if(r instanceof Date){var t=new Date;return t.getFullYear()-r.getFullYear()}};Ni.avatar=function(){var r=this.traits();return Tg.default(r,"avatar")||Tg.default(r,"photoUrl")||Tg.default(r,"avatarUrl")};Ni.position=function(){var r=this.traits();return Tg.default(r,"position")||Tg.default(r,"jobTitle")};Ni.username=yf.Facade.proxy("traits.username");Ni.website=yf.Facade.one("traits.website");Ni.websites=yf.Facade.multi("traits.website");Ni.phone=yf.Facade.one("traits.phone");Ni.phones=yf.Facade.multi("traits.phone");Ni.address=yf.Facade.proxy("traits.address");Ni.gender=yf.Facade.proxy("traits.gender");Ni.birthday=yf.Facade.proxy("traits.birthday");var Xg={},rS=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.Track=void 0;var OG=rS(yp),oa=gf,xG=pm,SG=rS(Yg),vM=rS(_b);function nS(r,e){oa.Facade.call(this,r,e)}Xg.Track=nS;OG.default(nS,oa.Facade);var Ur=nS.prototype;Ur.action=function(){return"track"};Ur.type=Ur.action;Ur.event=oa.Facade.field("event");Ur.value=oa.Facade.proxy("properties.value");Ur.category=oa.Facade.proxy("properties.category");Ur.id=oa.Facade.proxy("properties.id");Ur.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};Ur.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};Ur.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};Ur.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};Ur.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};Ur.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};Ur.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};Ur.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};Ur.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};Ur.sku=oa.Facade.proxy("properties.sku");Ur.tax=oa.Facade.proxy("properties.tax");Ur.name=oa.Facade.proxy("properties.name");Ur.price=oa.Facade.proxy("properties.price");Ur.total=oa.Facade.proxy("properties.total");Ur.repeat=oa.Facade.proxy("properties.repeat");Ur.coupon=oa.Facade.proxy("properties.coupon");Ur.shipping=oa.Facade.proxy("properties.shipping");Ur.discount=oa.Facade.proxy("properties.discount");Ur.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};Ur.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};Ur.description=oa.Facade.proxy("properties.description");Ur.plan=oa.Facade.proxy("properties.plan");Ur.subtotal=function(){var r=vM.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(r)return r;if(!e)return 0;if(this.total()){var t=this.tax();t&&(e-=t),t=this.shipping(),t&&(e-=t),t=this.discount(),t&&(e+=t)}return e};Ur.products=function(){var r=this.properties(),e=vM.default(r,"products");return Array.isArray(e)?e.filter(function(t){return t!==null}):[]};Ur.quantity=function(){var r=this.obj.properties||{};return r.quantity||1};Ur.currency=function(){var r=this.obj.properties||{};return r.currency||"USD"};Ur.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Ur.query=oa.Facade.proxy("options.query");Ur.properties=function(r){var e=this.field("properties")||{};r=r||{};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=this[t]==null?this.proxy("properties."+t):this[t]();if(n==null)continue;e[r[t]]=n,delete e[t]}return e};Ur.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};Ur.email=function(){var r=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(r)return r;var e=this.userId();if(SG.default(e))return e};Ur.revenue=function(){var r=this.proxy("properties.revenue"),e=this.event(),t=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!r&&e&&e.match(t)&&(r=this.proxy("properties.total")),TG(r)};Ur.cents=function(){var r=this.revenue();return typeof r!="number"?this.value()||0:r*100};Ur.identify=function(){var r=this.json();return r.traits=this.traits(),new xG.Identify(r,this.opts)};function TG(r){if(r){if(typeof r=="number")return r;if(typeof r=="string"&&(r=r.replace(/\$/g,""),r=parseFloat(r),!isNaN(r)))return r}}var gm={},pM=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gm,"__esModule",{value:!0});gm.Page=void 0;var CG=pM(yp),mp=gf,PG=Xg,AG=pM(Yg);function iS(r,e){mp.Facade.call(this,r,e)}gm.Page=iS;CG.default(iS,mp.Facade);var Hs=iS.prototype;Hs.action=function(){return"page"};Hs.type=Hs.action;Hs.category=mp.Facade.field("category");Hs.name=mp.Facade.field("name");Hs.title=mp.Facade.proxy("properties.title");Hs.path=mp.Facade.proxy("properties.path");Hs.url=mp.Facade.proxy("properties.url");Hs.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Hs.properties=function(r){var e=this.field("properties")||{},t=this.category(),n=this.name();r=r||{},t&&(e.category=t),n&&(e.name=n);for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var a=this[i]==null?this.proxy("properties."+i):this[i]();if(a==null)continue;e[r[i]]=a,i!==r[i]&&delete e[i]}return e};Hs.email=function(){var r=this.proxy("context.traits.email")||this.proxy("properties.email");if(r)return r;var e=this.userId();if(AG.default(e))return e};Hs.fullName=function(){var r=this.category(),e=this.name();return e&&r?r+" "+e:e};Hs.event=function(r){return r?"Viewed "+r+" Page":"Loaded a Page"};Hs.track=function(r){var e=this.json();return e.event=this.event(r),e.timestamp=this.timestamp(),e.properties=this.properties(),new PG.Track(e,this.opts)};var Tb={},IG=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tb,"__esModule",{value:!0});Tb.Screen=void 0;var RG=IG(yp),gM=gm,kG=Xg;function lp(r,e){gM.Page.call(this,r,e)}Tb.Screen=lp;RG.default(lp,gM.Page);lp.prototype.action=function(){return"screen"};lp.prototype.type=lp.prototype.action;lp.prototype.event=function(r){return r?"Viewed "+r+" Screen":"Loaded a Screen"};lp.prototype.track=function(r){var e=this.json();return e.event=this.event(r),e.timestamp=this.timestamp(),e.properties=this.properties(),new kG.Track(e,this.opts)};var Cb={},MG=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.Delete=void 0;var DG=MG(yp),yM=gf;function oS(r,e){yM.Facade.call(this,r,e)}Cb.Delete=oS;DG.default(oS,yM.Facade);oS.prototype.type=function(){return"delete"};(function(r){var e=cn&&cn.__assign||function(){return e=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])}return c},e.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=r.Screen=r.Page=r.Track=r.Identify=r.Group=r.Alias=r.Facade=void 0;var t=gf;Object.defineProperty(r,"Facade",{enumerable:!0,get:function(){return t.Facade}});var n=Ob;Object.defineProperty(r,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=xb;Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return i.Group}});var a=pm;Object.defineProperty(r,"Identify",{enumerable:!0,get:function(){return a.Identify}});var o=Xg;Object.defineProperty(r,"Track",{enumerable:!0,get:function(){return o.Track}});var s=gm;Object.defineProperty(r,"Page",{enumerable:!0,get:function(){return s.Page}});var u=Tb;Object.defineProperty(r,"Screen",{enumerable:!0,get:function(){return u.Screen}});var l=Cb;Object.defineProperty(r,"Delete",{enumerable:!0,get:function(){return l.Delete}}),r.default=e(e({},t.Facade),{Alias:n.Alias,Group:i.Group,Identify:a.Identify,Track:o.Track,Page:s.Page,Screen:u.Screen,Delete:l.Delete})})(Cd);function N0(r,e){var t=new Cd.Facade(r,e);return r.type==="track"&&(t=new Cd.Track(r,e)),r.type==="identify"&&(t=new Cd.Identify(r,e)),r.type==="page"&&(t=new Cd.Page(r,e)),r.type==="alias"&&(t=new Cd.Alias(r,e)),r.type==="group"&&(t=new Cd.Group(r,e)),r.type==="screen"&&(t=new Cd.Screen(r,e)),Object.defineProperty(t,"obj",{value:r,writable:!0}),t}var LG=function(r){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,r(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;r(e)})},mM=function(r){Ys(e,r);function e(t,n){var i=r.call(this,t)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e}(Error),bM=function(r){return Dt({"Content-Type":"text/plain"},typeof r=="function"?r():r)},NG=500,jG=64;function aS(r){var e=encodeURI(JSON.stringify(r)).split(/%..|./).length-1;return e/1024}function FG(r){return aS(r)>=NG-50}function BG(r){return aS(r)>=jG-10}function UG(r){var e=[],t=0;return r.forEach(function(n){var i=aS(e[t]);i>=64&&t++,e[t]?e[t].push(n):e[t]=[n]}),e}function zG(r,e){var t,n,i=[],a=!1,o=(t=e==null?void 0:e.size)!==null&&t!==void 0?t:10,s=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3,u=0;function l(v){var y;if(v.length!==0){var w=(y=v[0])===null||y===void 0?void 0:y.writeKey,b=v.map(function(g){var _=g;_.sentAt;var x=Gk(_,["sentAt"]);return x});return mb("https://".concat(r,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||a,headers:bM(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:w,batch:b,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(g){var _;if(g.status>=500)throw new Error("Bad response from server: ".concat(g.status));if(g.status===429){var x=(_=g.headers)===null||_===void 0?void 0:_.get("x-ratelimit-reset"),P=typeof x=="string"?parseInt(x)*1e3:s;throw new mM("Rate limit exceeded: ".concat(g.status),P)}})}}function c(v){var y;return v===void 0&&(v=1),or(this,void 0,void 0,function(){var w;return ar(this,function(b){return i.length?(w=i,i=[],[2,(y=l(w))===null||y===void 0?void 0:y.catch(function(g){var _,x=Eh.system();x.log("error","Error sending batch",g),v<=((_=e==null?void 0:e.maxRetries)!==null&&_!==void 0?_:10)&&(g.name==="RateLimitError"&&(u=g.retryTimeout),i.push.apply(i,w),i.map(function(P){if("_metadata"in P){var I=P;I._metadata=Dt(Dt({},I._metadata),{retryCount:v})}}),h(v+1))})]):[2]})})}var f;function h(v){v===void 0&&(v=1),!f&&(f=setTimeout(function(){f=void 0,c(v).catch(console.error)},u||s),u=0)}LG(function(v){if(a=v,a&&i.length){var y=UG(i).map(l);Promise.all(y).catch(console.error)}});function d(v,y){return or(this,void 0,void 0,function(){var w;return ar(this,function(b){return i.push(y),w=i.length>=o||FG(i)||(e==null?void 0:e.keepalive)&&BG(i),[2,w||a?c():h()]})})}return{dispatch:d}}function qG(r){function e(t,n){return mb(t,{credentials:r==null?void 0:r.credentials,keepalive:r==null?void 0:r.keepalive,headers:bM(r==null?void 0:r.headers),method:"post",body:JSON.stringify(n),priority:r==null?void 0:r.priority}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),s=o?parseInt(o)*1e3:5e3;throw new mM("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function GG(r,e,t,n,i){var a,o=r.user();delete e.options,e.writeKey=t==null?void 0:t.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var s=r.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=Dt(Dt({},e._metadata),{retryCount:i.attempts})),i.attempts++);var u=[],l=[];for(var c in n){var f=n[c];c==="Segment.io"&&u.push(c),f.bundlingStatus==="bundled"&&u.push(c),f.bundlingStatus==="unbundled"&&l.push(c)}for(var h=0,d=(t==null?void 0:t.unbundledIntegrations)||[];h<d.length;h++){var v=d[h];l.includes(v)||l.push(v)}var y=(a=t==null?void 0:t.maybeBundledConfigIds)!==null&&a!==void 0?a:{},w=[];return u.sort().forEach(function(b){var g;((g=y[b])!==null&&g!==void 0?g:[]).forEach(function(_){w.push(_)})}),(t==null?void 0:t.addBundledMetadata)!==!1&&(e._metadata=Dt(Dt({},e._metadata),{bundled:u.sort(),unbundled:l.sort(),bundledIds:w})),e}var VG=function(r,e){return or(void 0,void 0,void 0,function(){var t;return ar(this,function(n){return t=function(i){return or(void 0,void 0,void 0,function(){var a;return ar(this,function(o){switch(o.label){case 0:return r(i)?(a=t,[4,e()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,t(void 0)]})})};function WG(r,e){return or(this,void 0,void 0,function(){var t,n=this;return ar(this,function(i){switch(i.label){case 0:return t=[],tm()?[2,e]:[4,VG(function(){return e.length>0&&!tm()},function(){return or(n,void 0,void 0,function(){var a,o,s;return ar(this,function(u){switch(u.label){case 0:return a=e.pop(),a?[4,Gy(a,r)]:[2];case 1:return o=u.sent(),s=o instanceof Eh,s||t.push(a),[2]}})})})];case 1:return i.sent(),t.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function pg(r,e,t,n){var i=this;r||setTimeout(function(){return or(i,void 0,void 0,function(){var a,o;return ar(this,function(s){switch(s.label){case 0:return a=!0,[4,WG(t,e)];case 1:return o=s.sent(),a=!1,e.todo>0&&n(a,o,t,n),[2]}})})},Math.random()*5e3)}function HG(r,e){var t,n,i,a,o=r.user();return e.previousId=(i=(n=(t=e.previousId)!==null&&t!==void 0?t:e.from)!==null&&n!==void 0?n:o.id())!==null&&i!==void 0?i:o.anonymousId(),e.userId=(a=e.userId)!==null&&a!==void 0?a:e.to,delete e.from,delete e.to,e}var YG=function(r){return r.name==="Segment.io"};function $G(r,e,t){var n,i,a;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(u)),u.clear()});var o=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",s=r.options.disableClientPersistence?new Bx(r.queue.queue.maxAttempts,[]):new Gx(r.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),u=new Set,l=!1,c=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:Yk,f=(a=e==null?void 0:e.protocol)!==null&&a!==void 0?a:"https",h="".concat(f,"://").concat(c),d=e==null?void 0:e.deliveryStrategy,v=d&&"strategy"in d&&d.strategy==="batching"?zG(c,d.config):qG(d==null?void 0:d.config);function y(b){return or(this,void 0,void 0,function(){var g,_;return ar(this,function(x){return tm()?(s.push(b),pg(l,s,w,pg),[2,b]):(u.add(b),g=b.event.type.charAt(0),_=N0(b.event).json(),b.event.type==="track"&&delete _.traits,b.event.type==="alias"&&(_=HG(r,_)),s.getAttempts(b)>=s.maxAttempts?(u.delete(b),[2,b]):[2,v.dispatch("".concat(h,"/").concat(g),GG(r,_,e,t,b)).then(function(){return b}).catch(function(P){if(b.log("error","Error sending event",P),P.name==="RateLimitError"){var I=P.retryTimeout;s.pushWithBackoff(b,I)}else s.pushWithBackoff(b);return pg(l,s,w,pg),b}).finally(function(){u.delete(b)})])})})}var w={metadata:{writeKey:o,apiHost:c,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return s.todo&&pg(l,s,w,pg),w}var Pd="This is being deprecated and will be not be available in future releases of Analytics JS",rO=qx(),nO=rO==null?void 0:rO.analytics;function XG(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=e?10:1,i=t?new Bx(n,[]):new Gx(n,r);return new M7(i)}var KG=function(){function r(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return(a=t.plugins.find(YG))===null||a===void 0?void 0:a.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:i,this.cdnURL=e.cdnURL}return Object.defineProperty(r.prototype,"apiHost",{get:function(){var e,t;return(t=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||t===void 0?void 0:t.apiHost},enumerable:!1,configurable:!0}),r}();function of(){console.warn(Pd)}var _M=function(r){Ys(e,r);function e(t,n,i,a,o){var s=this,u,l;s=r.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=of,s.addIntegrationMiddleware=of,s.listeners=of,s.addEventListener=of,s.removeAllListeners=of,s.removeListener=of,s.removeEventListener=of,s.hasListeners=of,s.add=of,s.addIntegration=of;var c=n==null?void 0:n.cookie,f=(u=n==null?void 0:n.disableClientPersistence)!==null&&u!==void 0?u:!1;s.queue=i??XG("".concat(t.writeKey,":event-queue"),n==null?void 0:n.retryQueue,f),s.settings=new KG(t,s.queue);var h=n==null?void 0:n.storage;return s._universalStorage=s.createStore(f,h,c),s._user=a??new oM(Dt({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.user),c).load(),s._group=o??new U7(Dt({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.group),c).load(),s.eventFactory=new P7(s._user),s.integrations=(l=n==null?void 0:n.integrations)!==null&&l!==void 0?l:{},s.options=n??{},Vx(s),s}return e.prototype.createStore=function(t,n,i){return t?new Qv([new Wx]):n&&nM(n)?new Qv(DO(iM(n.stores,i))):new Qv(DO([Gs.LocalStorage,{name:Gs.Cookie,settings:i},Gs.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return ar(this,function(h){return i=dg(t),a=h7.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=this.eventFactory.track(o,s,u,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("track",o,d.event.properties,d.event.options),d})]})})},e.prototype.page=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,h=this;return ar(this,function(d){return i=dg(t),a=CA.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=this.eventFactory.page(o,s,u,l,this.integrations,i),[2,this._dispatch(f,c).then(function(v){return h.emit("page",o,s,v.event.properties,v.event.options),v})]})})},e.prototype.identify=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return ar(this,function(h){return i=dg(t),a=PA(this._user).apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],this._user.identify(o,s),c=this.eventFactory.identify(this._user.id(),this._user.traits(),u,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("identify",d.event.userId,d.event.traits,d.event.options),d})]})})},e.prototype.group=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=dg(n);if(n.length===0)return this._group;var o=PA(this._group).apply(void 0,n),s=o[0],u=o[1],l=o[2],c=o[3];this._group.identify(s,u);var f=this._group.id(),h=this._group.traits(),d=this.eventFactory.group(f,h,l,this.integrations,a);return this._dispatch(d,c).then(function(v){return t.emit("group",v.event.groupId,v.event.traits,v.event.options),v})},e.prototype.alias=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return ar(this,function(h){return i=dg(t),a=d7.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=this.eventFactory.alias(o,s,u,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("alias",o,s,d.event.options),d})]})})},e.prototype.screen=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,h=this;return ar(this,function(d){return i=dg(t),a=CA.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=this.eventFactory.screen(o,s,u,l,this.integrations,i),[2,this._dispatch(f,c).then(function(v){return h.emit("screen",o,s,v.event.properties,v.event.options),v})]})})},e.prototype.trackClick=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return[4,uc(()=>import("./auto-track-DEFzND1Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,jo([this],t,!1))]}})})},e.prototype.trackLink=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return[4,uc(()=>import("./auto-track-DEFzND1Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,jo([this],t,!1))]}})})},e.prototype.trackSubmit=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return[4,uc(()=>import("./auto-track-DEFzND1Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,jo([this],t,!1))]}})})},e.prototype.trackForm=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return[4,uc(()=>import("./auto-track-DEFzND1Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,jo([this],t,!1))]}})})},e.prototype.register=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o=this;return ar(this,function(s){switch(s.label){case 0:return i=Eh.system(),a=t.map(function(u){return o.queue.register(i,u,o)}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return or(this,void 0,void 0,function(){var i,a,o=this;return ar(this,function(s){switch(s.label){case 0:return i=Eh.system(),a=t.map(function(u){var l=o.queue.plugins.find(function(c){return c.name===u});if(l)return o.queue.deregister(i,l,o);i.log("warn","plugin ".concat(u," not found"))}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(t){return t===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(t){this.settings.timeout=t},e.prototype._dispatch=function(t,n){return or(this,void 0,void 0,function(){var i;return ar(this,function(a){return i=new Eh(t),i.stats.increment("analytics_js.invoke",1,[t.type]),tm()&&!this.options.retryQueue?[2,i]:[2,f7(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(t){return or(this,void 0,void 0,function(){var n=this;return ar(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return or(n,void 0,void 0,function(){var a,o,s;return ar(this,function(u){switch(u.label){case 0:return[4,uc(()=>Promise.resolve().then(()=>dV),void 0)];case 1:return a=u.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return o[l.name]=!0}),s=a(t,o),[4,this.register(s)];case 2:return u.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(A7).forEach(function(a){(t==="*"||a.name.toLowerCase()===t.toLowerCase())&&a.addMiddleware.apply(a,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},e.prototype.queryString=function(t){return or(this,void 0,void 0,function(){var n;return ar(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,uc(()=>import("./index-DOj_FlGy.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]))];case 1:return n=i.sent().queryString,[2,n(this,t)]}})})},e.prototype.use=function(t){return t(this),this},e.prototype.ready=function(t){return t===void 0&&(t=function(n){return n}),or(this,void 0,void 0,function(){return ar(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return t(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Pd),q7(nO??this),this},e.prototype.normalize=function(t){return console.warn(Pd),this.eventFactory.normalize(t)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Pd),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return rm},enumerable:!1,configurable:!0}),e.prototype.initialize=function(t,n){return or(this,void 0,void 0,function(){return ar(this,function(i){return console.warn(Pd),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(t){return or(this,void 0,void 0,function(){return ar(this,function(n){switch(n.label){case 0:return console.warn(Pd),[4,this.page({path:t})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var t;return console.warn(Pd),(t=this._plugins)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Pd);var t=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return n;var s=o.Integration;return s?(n[i.name]=s,n):(n[i.name]=o,n)},{});return t},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var n=this,i=t.shift();i&&!n[i]||n[i].apply(this,t)},e}(Fx),LA=function(r){Ys(e,r);function e(){var t=r.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return e}(_M),NA={};function wM(){return typeof process>"u"||!NA?{}:NA}var ZG=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,QG=function(){var r,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(t){var n,i=(n=t.getAttribute("src"))!==null&&n!==void 0?n:"",a=ZG.exec(i);a&&a[1]&&(r=a[1])}),r},g0,JG=function(){var r,e=g0??((r=aM())===null||r===void 0?void 0:r._cdn);return e},eV=function(r){var e=aM();e&&(e._cdn=r),g0=r},sS=function(){var r=JG();if(r)return r;var e=QG();return e||"https://cdn.segment.com"},jW=function(){var r=sS();return"".concat(r,"/next-integrations")};function tV(r,e){var t,n=Object.entries((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(i,a){var o,s,u=a[0],l=a[1];return typeof l=="object"?Dt(Dt({},i),(o={},o[u]=l,o)):Dt(Dt({},i),(s={},s[u]={},s))},{});return Object.entries(r.integrations).reduce(function(i,a){var o,s=a[0],u=a[1];return Dt(Dt({},i),(o={},o[s]=Dt(Dt({},u),n[s]),o))},{})}function rV(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return r}}function nV(r){return or(this,void 0,void 0,function(){var e;return ar(this,function(t){return e=navigator.userAgentData,e?r?[2,e.getHighEntropyValues(r).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Cy;function iV(){if(Cy)return Cy;var r=tM(window.location.href);return Cy={expires:31536e6,secure:!1,path:"/"},r&&(Cy.domain=r),Cy}function oV(r){var e={btid:"dataxu",urid:"millennial-media"};r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&");for(var t=r.split("&"),n=0,i=t;n<i.length;n++){var a=i[n],o=a.split("="),s=o[0],u=o[1];if(e[s])return{id:u,type:e[s]}}}function aV(r){return r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&"),r.split("&").reduce(function(e,t){var n=t.split("="),i=n[0],a=n[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=rV(o)}return e},{})}function sV(){var r=bh.get("_ga");if(r&&r.startsWith("amp"))return r}function uV(r,e,t){var n,i=new Qv(t?[]:[new rM(iV())]),a=i.get("s:context.referrer"),o=(n=oV(r))!==null&&n!==void 0?n:a;o&&(e&&(e.referrer=Dt(Dt({},e.referrer),o)),i.set("s:context.referrer",o))}var lV=function(r){try{var e=new URLSearchParams;return Object.entries(r).forEach(function(t){var n=t[0],i=t[1];Array.isArray(i)?i.forEach(function(a){return e.append(n,a)}):e.append(n,i)}),e.toString()}catch{return""}},cV=function(){function r(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return or(e,void 0,void 0,function(){var i;return ar(this,function(a){switch(a.label){case 0:this.instance=n,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,nV(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,i,a=t.event.context,o=a.page.search||"",s=typeof o=="object"?lV(o):o;a.userAgent=navigator.userAgent,a.userAgentData=e.userAgentData;var u=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof u<"u"&&(a.locale=u),(n=a.library)!==null&&n!==void 0||(a.library={name:"analytics.js",version:"".concat("npm:next","-").concat(rm)}),s&&!a.campaign&&(a.campaign=aV(s));var l=sV();l&&(a.amp={id:l}),uV(s,a,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return r}(),fV=new cV;function EM(r){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(t){return t.src===r})}function iO(r,e){var t=EM(r);if(t!==void 0){var n=t==null?void 0:t.getAttribute("status");if(n==="loaded")return Promise.resolve(t);if(n==="loading")return new Promise(function(i,a){t.addEventListener("load",function(){return i(t)}),t.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,s=window.document.createElement("script");s.type="text/javascript",s.src=r,s.async=!0,s.setAttribute("status","loading");for(var u=0,l=Object.entries(e??{});u<l.length;u++){var c=l[u],f=c[0],h=c[1];s.setAttribute(f,h)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),a(new Error("Failed to load ".concat(r)))};var d=window.document.querySelector("script");d?(o=d.parentElement)===null||o===void 0||o.insertBefore(s,d):window.document.head.appendChild(s)})}function FW(r){var e=EM(r);return e!==void 0&&e.remove(),Promise.resolve()}function OM(r,e,t){return or(this,void 0,void 0,function(){function n(l,c){return or(this,void 0,void 0,function(){var f,h,d;return ar(this,function(v){switch(v.label){case 0:return f=!1,h=null,[4,c({payload:N0(l,{clone:!0,traverse:!1}),integration:r,next:function(y){f=!0,y===null&&(h=null),y&&(h=y.obj)}})];case 1:return v.sent(),!f&&h!==null&&(h=h,h.integrations=Dt(Dt({},l.integrations),(d={},d[r]=!1,d))),[2,h]}})})}var i,a,o,s,u;return ar(this,function(l){switch(l.label){case 0:i=N0(e,{clone:!0,traverse:!1}).rawEvent(),a=0,o=t,l.label=1;case 1:return a<o.length?(s=o[a],[4,n(i,s)]):[3,4];case 2:if(u=l.sent(),u===null)return[2,null];i=u,l.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function hV(r,e){function t(n){return or(this,void 0,void 0,function(){var i;return ar(this,function(a){switch(a.label){case 0:return i=!1,[4,r({payload:N0(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(o){i=!0,o&&(n.event=o.obj)}})];case 1:if(a.sent(),!i)throw new kg({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(r.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:t,page:t,screen:t,identify:t,alias:t,group:t}}const dV=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:OM,sourceMiddlewarePlugin:hV},Symbol.toStringTag,{value:"Module"}));function n0(r,e){var t=e.methodName,n=e.integrationName,i=e.type,a=e.didError,o=a===void 0?!1:a;r.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(t),"integration_name:".concat(n),"type:".concat(i)])}var vV=function(){function r(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=Vk(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return r.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,t)},r.prototype.transform=function(e){return or(this,void 0,void 0,function(){var t;return ar(this,function(n){switch(n.label){case 0:return[4,OM(this.name,e.event,this.middleware)];case 1:return t=n.sent(),t===null&&e.cancel(new kg({retry:!1,reason:"dropped by destination middleware"})),[2,new Eh(t)]}})})},r.prototype._createMethod=function(e){var t=this;return function(n){return or(t,void 0,void 0,function(){var i,a;return ar(this,function(o){switch(o.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return n0(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),n0(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),a;case 6:return[2,n]}})})}},r.prototype.isLoaded=function(){return this.action.isLoaded()},r.prototype.ready=function(){return or(this,void 0,void 0,function(){return ar(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},r.prototype.load=function(e,t){return or(this,void 0,void 0,function(){var n,i,a,o;return ar(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),n0(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),a=(i=this.loadPromise).resolve,[4,n];case 2:return a.apply(i,[s.sent()]),[2,n];case 3:throw o=s.sent(),n0(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},r.prototype.unload=function(e,t){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,t)},r}();function pV(r){if(!Array.isArray(r))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return r.forEach(function(t){e.forEach(function(n){var i;if(t[n]===void 0)throw new Error("Plugin: ".concat((i=t.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function gV(r,e){var t=r[e.creationName],n=r[e.name];return r.All===!1&&!t&&!n||t===!1||n===!1}function yV(r,e){return or(this,void 0,void 0,function(){var t,n,i,a,o,s;return ar(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),t=new RegExp("https://cdn.segment.(com|build)"),n=sS(),!e)return[3,6];i=r.url.split("/"),a=i[i.length-2],o=r.url.replace(a,btoa(a).replace(/=/g,"")),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,iO(o.replace(t,n))];case 2:return u.sent(),[3,5];case 3:return u.sent(),[4,iO(r.url.replace(t,n))];case 4:return u.sent(),[3,5];case 5:return[3,8];case 6:return[4,iO(r.url.replace(t,n))];case 7:u.sent(),u.label=8;case 8:return typeof window[r.libraryName]=="function"?[2,window[r.libraryName]]:[3,10];case 9:throw s=u.sent(),console.error("Failed to create PluginFactory",r),s;case 10:return[2]}})})}function mV(r,e,t,n,i,a){var o,s,u;return or(this,void 0,void 0,function(){var l,c,f,h=this;return ar(this,function(d){switch(d.label){case 0:return l=[],c=(s=(o=r.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&s!==void 0?s:[],f=((u=r.remotePlugins)!==null&&u!==void 0?u:[]).map(function(v){return or(h,void 0,void 0,function(){var y,w,b,g,_,x,P;return ar(this,function(I){switch(I.label){case 0:if(gV(e,v))return[2];I.label=1;case 1:return I.trys.push([1,6,,7]),w=a==null?void 0:a.find(function(T){var A=T.pluginName;return A===v.name}),w?[3,3]:[4,yV(v,n==null?void 0:n.obfuscate)];case 2:w=I.sent(),I.label=3;case 3:return y=w,y?(b=t[v.name],[4,y(Dt(Dt({},v.settings),b))]):[3,5];case 4:g=I.sent(),_=Array.isArray(g)?g:[g],pV(_),x=c.filter(function(T){return T.destinationName===v.creationName}),_.forEach(function(T){var A=new vV(v.creationName,T);x.length&&i&&A.addMiddleware(i),l.push(A)}),I.label=5;case 5:return[3,7];case 6:return P=I.sent(),console.warn("Failed to load Remote Plugin",P),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return d.sent(),[2,l.filter(Boolean)]}})})}var oO,jA,bV=qx(),FA=(oO=(jA=bV).__SEGMENT_INSPECTOR__)!==null&&oO!==void 0?oO:jA.__SEGMENT_INSPECTOR__={},_V=function(r){var e;return(e=FA.attach)===null||e===void 0?void 0:e.call(FA,r)};function wV(r,e){return mb("".concat(e,"/v1/projects/").concat(r,"/settings")).then(function(t){return t.ok?t.json():t.text().then(function(n){throw new Error(n)})}).catch(function(t){throw console.error(t.message),t})}function EV(r){return wM().NODE_ENV!=="test"&&Object.keys(r.integrations).length>1}function OV(r){var e,t,n;return wM().NODE_ENV!=="test"&&((n=(t=(e=r.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0}function xV(r,e){Y7(r,e),H7(r,e)}function SV(r,e,t){return or(this,void 0,void 0,function(){return ar(this,function(n){switch(n.label){case 0:return[4,CV(r,e)];case 1:return n.sent(),$7(r,t),[2]}})})}var TV=function(){var r,e,t=(r=window.location.hash)!==null&&r!==void 0?r:"",n=(e=window.location.search)!==null&&e!==void 0?e:"",i=n.length?n:t.replace(/(?=#).*(?=\?)/,"");return i},CV=function(r,e){return or(void 0,void 0,void 0,function(){return ar(this,function(t){switch(t.label){case 0:return e.includes("ajs_")?[4,r.queryString(e).catch(console.error)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})};function PV(r,e,t,n,i,a,o){var s,u,l;return i===void 0&&(i=[]),or(this,void 0,void 0,function(){var c,f,h,d,v,y,w,b,g,_,x,P,I,T,A,D=this;return ar(this,function(N){switch(N.label){case 0:return xV(t,o),c=i==null?void 0:i.filter(function(j){return typeof j=="object"}),f=i==null?void 0:i.filter(function(j){return typeof j=="function"&&typeof j.pluginName=="string"}),OV(e)?[4,uc(()=>import("./index-D6ZMQedT.js"),__vite__mapDeps([])).then(function(j){return j.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return d=N.sent(),[3,3];case 2:d=void 0,N.label=3;case 3:return h=d,EV(e)||a.length>0?[4,uc(()=>import("./index-Dg0Ej7Qv.js"),__vite__mapDeps([11,12,1,2,3,4,5,6,7,8,9])).then(function(j){return j.ajsDestinations(r,e,t.integrations,n,h,a)})]:[3,5];case 4:return y=N.sent(),[3,6];case 5:y=[],N.label=6;case 6:return v=y,e.legacyVideoPluginsEnabled?[4,uc(()=>import("./index-BAOOREd3.js"),__vite__mapDeps([13,3,1,4,5,2,6,7,8,9])).then(function(j){return j.loadLegacyVideoPlugins(t)})]:[3,8];case 7:N.sent(),N.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,uc(()=>import("./index-fPue-R-J.js"),__vite__mapDeps([14,12,1,2,3,4,5,6,7,8,9])).then(function(j){var B;return j.schemaFilter((B=n.plan)===null||B===void 0?void 0:B.track,e)})]:[3,10];case 9:return b=N.sent(),[3,11];case 10:b=void 0,N.label=11;case 11:return w=b,g=tV(e,n),[4,mV(e,t.integrations,g,n,h,f).catch(function(){return[]})];case 12:return _=N.sent(),x=jo(jo([fV],v,!0),_,!0),w&&x.push(w),P=((u=n.integrations)===null||u===void 0?void 0:u.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,P?[3,14]:(T=(I=x).push,[4,$G(t,g["Segment.io"],e.integrations)]);case 13:T.apply(I,[N.sent()]),N.label=14;case 14:return[4,t.register.apply(t,jo(jo([],x,!1),c,!1))];case 15:return A=N.sent(),[4,W7(t,o)];case 16:return N.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(j){var B=j[1];return B})?[4,uc(()=>import("./index-D_r2w807.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9])).then(function(j){var B=j.remoteMiddlewares;return or(D,void 0,void 0,function(){var W,V;return ar(this,function(J){switch(J.label){case 0:return[4,B(A,e,n.obfuscate)];case 1:return W=J.sent(),V=W.map(function(ee){return t.addSourceMiddleware(ee)}),[2,Promise.all(V)]}})})})]:[3,18];case 17:N.sent(),N.label=18;case 18:return[4,V7(t,o)];case 19:return N.sent(),[2,A]}})})}function AV(r,e,t){var n,i,a,o,s,u,l,c,f;return e===void 0&&(e={}),or(this,void 0,void 0,function(){var h,d,v,y,w,b,g,_,x,P,I;return ar(this,function(T){switch(T.label){case 0:return e.disable===!0?[2,[new LA,Eh.system()]]:(e.globalAnalyticsKey&&z7(e.globalAnalyticsKey),r.cdnURL&&eV(r.cdnURL),e.initialPageview&&t.add(new LO("page",[])),h=TV(),d=(n=r.cdnURL)!==null&&n!==void 0?n:sS(),(i=r.cdnSettings)!==null&&i!==void 0?(y=i,[3,3]):[3,1]);case 1:return[4,wV(r.writeKey,d)];case 2:y=T.sent(),T.label=3;case 3:return v=y,e.updateCDNSettings&&(v=e.updateCDNSettings(v)),typeof e.disable!="function"?[3,5]:[4,e.disable(v)];case 4:if(w=T.sent(),w)return[2,[new LA,Eh.system()]];T.label=5;case 5:return b=(o=(a=v.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,e=Dt({retryQueue:b},e),g=new _M(Dt(Dt({},r),{cdnSettings:v,cdnURL:d}),e),_V(g),_=(s=r.plugins)!==null&&s!==void 0?s:[],x=(u=r.classicIntegrations)!==null&&u!==void 0?u:[],P=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],$k.initRemoteMetrics(Dt(Dt({},v.metrics),{host:(c=P==null?void 0:P.apiHost)!==null&&c!==void 0?c:(f=v.metrics)===null||f===void 0?void 0:f.host,protocol:P==null?void 0:P.protocol})),[4,PV(r.writeKey,v,g,e,_,x,t)];case 6:return I=T.sent(),g.initialized=!0,g.emit("initialize",r,e),[4,SV(g,h,t)];case 7:return T.sent(),[2,[g,I]]}})})}var IV=function(r){Ys(e,r);function e(){var t=this,n=Vk(),i=n.promise,a=n.resolve;return t=r.call(this,function(o){return i.then(function(s){var u=s[0],l=s[1];return AV(u,l,o)})})||this,t._resolveLoadStart=function(o,s){return a([o,s])},t}return e.prototype.load=function(t,n){return n===void 0&&(n={}),this._resolveLoadStart(t,n),this},e.load=function(t,n){return n===void 0&&(n={}),new e().load(t,n)},e.standalone=function(t,n){return e.load({writeKey:t},n).then(function(i){return i[0]})},e}(K7);/*! For license information please see base.mjs.LICENSE.txt */var RV={7991:(r,e)=>{e.byteLength=function(l){var c=s(l),f=c[0],h=c[1];return 3*(f+h)/4-h},e.toByteArray=function(l){var c,f,h=s(l),d=h[0],v=h[1],y=new i(function(g,_,x){return 3*(_+x)/4-x}(0,d,v)),w=0,b=v>0?d-4:d;for(f=0;f<b;f+=4)c=n[l.charCodeAt(f)]<<18|n[l.charCodeAt(f+1)]<<12|n[l.charCodeAt(f+2)]<<6|n[l.charCodeAt(f+3)],y[w++]=c>>16&255,y[w++]=c>>8&255,y[w++]=255&c;return v===2&&(c=n[l.charCodeAt(f)]<<2|n[l.charCodeAt(f+1)]>>4,y[w++]=255&c),v===1&&(c=n[l.charCodeAt(f)]<<10|n[l.charCodeAt(f+1)]<<4|n[l.charCodeAt(f+2)]>>2,y[w++]=c>>8&255,y[w++]=255&c),y},e.fromByteArray=function(l){for(var c,f=l.length,h=f%3,d=[],v=16383,y=0,w=f-h;y<w;y+=v)d.push(u(l,y,y+v>w?w:y+v));return h===1?(c=l[f-1],d.push(t[c>>2]+t[c<<4&63]+"==")):h===2&&(c=(l[f-2]<<8)+l[f-1],d.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),d.join("")};for(var t=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=a[o],n[a.charCodeAt(o)]=o;function s(l){var c=l.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=l.indexOf("=");return f===-1&&(f=c),[f,f===c?0:4-f%4]}function u(l,c,f){for(var h,d,v=[],y=c;y<f;y+=3)h=(l[y]<<16&16711680)+(l[y+1]<<8&65280)+(255&l[y+2]),v.push(t[(d=h)>>18&63]+t[d>>12&63]+t[d>>6&63]+t[63&d]);return v.join("")}n[45]=62,n[95]=63},1048:(r,e,t)=>{const n=t(7991),i=t(9318),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(H){return+H!=H&&(H=0),u.alloc(+H)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function s(H){if(H>o)throw new RangeError('The value "'+H+'" is invalid for option "size"');const K=new Uint8Array(H);return Object.setPrototypeOf(K,u.prototype),K}function u(H,K,ne){if(typeof H=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(H)}return l(H,K,ne)}function l(H,K,ne){if(typeof H=="string")return function(ze,Le){if(typeof Le=="string"&&Le!==""||(Le="utf8"),!u.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);const le=0|y(ze,Le);let Ve=s(le);const ut=Ve.write(ze,Le);return ut!==le&&(Ve=Ve.slice(0,ut)),Ve}(H,K);if(ArrayBuffer.isView(H))return function(ze){if(ot(ze,Uint8Array)){const Le=new Uint8Array(ze);return d(Le.buffer,Le.byteOffset,Le.byteLength)}return h(ze)}(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(ot(H,ArrayBuffer)||H&&ot(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(H,SharedArrayBuffer)||H&&ot(H.buffer,SharedArrayBuffer)))return d(H,K,ne);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ce=H.valueOf&&H.valueOf();if(Ce!=null&&Ce!==H)return u.from(Ce,K,ne);const Ae=function(ze){if(u.isBuffer(ze)){const Le=0|v(ze.length),le=s(Le);return le.length===0||ze.copy(le,0,0,Le),le}return ze.length!==void 0?typeof ze.length!="number"||$e(ze.length)?s(0):h(ze):ze.type==="Buffer"&&Array.isArray(ze.data)?h(ze.data):void 0}(H);if(Ae)return Ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return u.from(H[Symbol.toPrimitive]("string"),K,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function c(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function f(H){return c(H),s(H<0?0:0|v(H))}function h(H){const K=H.length<0?0:0|v(H.length),ne=s(K);for(let Ce=0;Ce<K;Ce+=1)ne[Ce]=255&H[Ce];return ne}function d(H,K,ne){if(K<0||H.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<K+(ne||0))throw new RangeError('"length" is outside of buffer bounds');let Ce;return Ce=K===void 0&&ne===void 0?new Uint8Array(H):ne===void 0?new Uint8Array(H,K):new Uint8Array(H,K,ne),Object.setPrototypeOf(Ce,u.prototype),Ce}function v(H){if(H>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|H}function y(H,K){if(u.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||ot(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const ne=H.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&ne===0)return 0;let Ae=!1;for(;;)switch(K){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return Oe(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return Pe(H).length;default:if(Ae)return Ce?-1:Oe(H).length;K=(""+K).toLowerCase(),Ae=!0}}function w(H,K,ne){let Ce=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0)<=(K>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return V(this,K,ne);case"utf8":case"utf-8":return N(this,K,ne);case"ascii":return B(this,K,ne);case"latin1":case"binary":return W(this,K,ne);case"base64":return D(this,K,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,K,ne);default:if(Ce)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),Ce=!0}}function b(H,K,ne){const Ce=H[K];H[K]=H[ne],H[ne]=Ce}function g(H,K,ne,Ce,Ae){if(H.length===0)return-1;if(typeof ne=="string"?(Ce=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),$e(ne=+ne)&&(ne=Ae?0:H.length-1),ne<0&&(ne=H.length+ne),ne>=H.length){if(Ae)return-1;ne=H.length-1}else if(ne<0){if(!Ae)return-1;ne=0}if(typeof K=="string"&&(K=u.from(K,Ce)),u.isBuffer(K))return K.length===0?-1:_(H,K,ne,Ce,Ae);if(typeof K=="number")return K&=255,typeof Uint8Array.prototype.indexOf=="function"?Ae?Uint8Array.prototype.indexOf.call(H,K,ne):Uint8Array.prototype.lastIndexOf.call(H,K,ne):_(H,[K],ne,Ce,Ae);throw new TypeError("val must be string, number or Buffer")}function _(H,K,ne,Ce,Ae){let ze,Le=1,le=H.length,Ve=K.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(H.length<2||K.length<2)return-1;Le=2,le/=2,Ve/=2,ne/=2}function ut(et,nt){return Le===1?et[nt]:et.readUInt16BE(nt*Le)}if(Ae){let et=-1;for(ze=ne;ze<le;ze++)if(ut(H,ze)===ut(K,et===-1?0:ze-et)){if(et===-1&&(et=ze),ze-et+1===Ve)return et*Le}else et!==-1&&(ze-=ze-et),et=-1}else for(ne+Ve>le&&(ne=le-Ve),ze=ne;ze>=0;ze--){let et=!0;for(let nt=0;nt<Ve;nt++)if(ut(H,ze+nt)!==ut(K,nt)){et=!1;break}if(et)return ze}return-1}function x(H,K,ne,Ce){ne=Number(ne)||0;const Ae=H.length-ne;Ce?(Ce=Number(Ce))>Ae&&(Ce=Ae):Ce=Ae;const ze=K.length;let Le;for(Ce>ze/2&&(Ce=ze/2),Le=0;Le<Ce;++Le){const le=parseInt(K.substr(2*Le,2),16);if($e(le))return Le;H[ne+Le]=le}return Le}function P(H,K,ne,Ce){return Ue(Oe(K,H.length-ne),H,ne,Ce)}function I(H,K,ne,Ce){return Ue(function(Ae){const ze=[];for(let Le=0;Le<Ae.length;++Le)ze.push(255&Ae.charCodeAt(Le));return ze}(K),H,ne,Ce)}function T(H,K,ne,Ce){return Ue(Pe(K),H,ne,Ce)}function A(H,K,ne,Ce){return Ue(function(Ae,ze){let Le,le,Ve;const ut=[];for(let et=0;et<Ae.length&&!((ze-=2)<0);++et)Le=Ae.charCodeAt(et),le=Le>>8,Ve=Le%256,ut.push(Ve),ut.push(le);return ut}(K,H.length-ne),H,ne,Ce)}function D(H,K,ne){return K===0&&ne===H.length?n.fromByteArray(H):n.fromByteArray(H.slice(K,ne))}function N(H,K,ne){ne=Math.min(H.length,ne);const Ce=[];let Ae=K;for(;Ae<ne;){const ze=H[Ae];let Le=null,le=ze>239?4:ze>223?3:ze>191?2:1;if(Ae+le<=ne){let Ve,ut,et,nt;switch(le){case 1:ze<128&&(Le=ze);break;case 2:Ve=H[Ae+1],(192&Ve)==128&&(nt=(31&ze)<<6|63&Ve,nt>127&&(Le=nt));break;case 3:Ve=H[Ae+1],ut=H[Ae+2],(192&Ve)==128&&(192&ut)==128&&(nt=(15&ze)<<12|(63&Ve)<<6|63&ut,nt>2047&&(nt<55296||nt>57343)&&(Le=nt));break;case 4:Ve=H[Ae+1],ut=H[Ae+2],et=H[Ae+3],(192&Ve)==128&&(192&ut)==128&&(192&et)==128&&(nt=(15&ze)<<18|(63&Ve)<<12|(63&ut)<<6|63&et,nt>65535&&nt<1114112&&(Le=nt))}}Le===null?(Le=65533,le=1):Le>65535&&(Le-=65536,Ce.push(Le>>>10&1023|55296),Le=56320|1023&Le),Ce.push(Le),Ae+=le}return function(ze){const Le=ze.length;if(Le<=j)return String.fromCharCode.apply(String,ze);let le="",Ve=0;for(;Ve<Le;)le+=String.fromCharCode.apply(String,ze.slice(Ve,Ve+=j));return le}(Ce)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const H=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(H,K),H.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(H,K,ne){return l(H,K,ne)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(H,K,ne){return function(Ce,Ae,ze){return c(Ce),Ce<=0?s(Ce):Ae!==void 0?typeof ze=="string"?s(Ce).fill(Ae,ze):s(Ce).fill(Ae):s(Ce)}(H,K,ne)},u.allocUnsafe=function(H){return f(H)},u.allocUnsafeSlow=function(H){return f(H)},u.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==u.prototype},u.compare=function(H,K){if(ot(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),ot(K,Uint8Array)&&(K=u.from(K,K.offset,K.byteLength)),!u.isBuffer(H)||!u.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===K)return 0;let ne=H.length,Ce=K.length;for(let Ae=0,ze=Math.min(ne,Ce);Ae<ze;++Ae)if(H[Ae]!==K[Ae]){ne=H[Ae],Ce=K[Ae];break}return ne<Ce?-1:Ce<ne?1:0},u.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(H,K){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return u.alloc(0);let ne;if(K===void 0)for(K=0,ne=0;ne<H.length;++ne)K+=H[ne].length;const Ce=u.allocUnsafe(K);let Ae=0;for(ne=0;ne<H.length;++ne){let ze=H[ne];if(ot(ze,Uint8Array))Ae+ze.length>Ce.length?(u.isBuffer(ze)||(ze=u.from(ze)),ze.copy(Ce,Ae)):Uint8Array.prototype.set.call(Ce,ze,Ae);else{if(!u.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Ce,Ae)}Ae+=ze.length}return Ce},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<H;K+=2)b(this,K,K+1);return this},u.prototype.swap32=function(){const H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<H;K+=4)b(this,K,K+3),b(this,K+1,K+2);return this},u.prototype.swap64=function(){const H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<H;K+=8)b(this,K,K+7),b(this,K+1,K+6),b(this,K+2,K+5),b(this,K+3,K+4);return this},u.prototype.toString=function(){const H=this.length;return H===0?"":arguments.length===0?N(this,0,H):w.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(H){if(!u.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||u.compare(this,H)===0},u.prototype.inspect=function(){let H="";const K=e.INSPECT_MAX_BYTES;return H=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(H+=" ... "),"<Buffer "+H+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(H,K,ne,Ce,Ae){if(ot(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),!u.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(K===void 0&&(K=0),ne===void 0&&(ne=H?H.length:0),Ce===void 0&&(Ce=0),Ae===void 0&&(Ae=this.length),K<0||ne>H.length||Ce<0||Ae>this.length)throw new RangeError("out of range index");if(Ce>=Ae&&K>=ne)return 0;if(Ce>=Ae)return-1;if(K>=ne)return 1;if(this===H)return 0;let ze=(Ae>>>=0)-(Ce>>>=0),Le=(ne>>>=0)-(K>>>=0);const le=Math.min(ze,Le),Ve=this.slice(Ce,Ae),ut=H.slice(K,ne);for(let et=0;et<le;++et)if(Ve[et]!==ut[et]){ze=Ve[et],Le=ut[et];break}return ze<Le?-1:Le<ze?1:0},u.prototype.includes=function(H,K,ne){return this.indexOf(H,K,ne)!==-1},u.prototype.indexOf=function(H,K,ne){return g(this,H,K,ne,!0)},u.prototype.lastIndexOf=function(H,K,ne){return g(this,H,K,ne,!1)},u.prototype.write=function(H,K,ne,Ce){if(K===void 0)Ce="utf8",ne=this.length,K=0;else if(ne===void 0&&typeof K=="string")Ce=K,ne=this.length,K=0;else{if(!isFinite(K))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");K>>>=0,isFinite(ne)?(ne>>>=0,Ce===void 0&&(Ce="utf8")):(Ce=ne,ne=void 0)}const Ae=this.length-K;if((ne===void 0||ne>Ae)&&(ne=Ae),H.length>0&&(ne<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");let ze=!1;for(;;)switch(Ce){case"hex":return x(this,H,K,ne);case"utf8":case"utf-8":return P(this,H,K,ne);case"ascii":case"latin1":case"binary":return I(this,H,K,ne);case"base64":return T(this,H,K,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,H,K,ne);default:if(ze)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),ze=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const j=4096;function B(H,K,ne){let Ce="";ne=Math.min(H.length,ne);for(let Ae=K;Ae<ne;++Ae)Ce+=String.fromCharCode(127&H[Ae]);return Ce}function W(H,K,ne){let Ce="";ne=Math.min(H.length,ne);for(let Ae=K;Ae<ne;++Ae)Ce+=String.fromCharCode(H[Ae]);return Ce}function V(H,K,ne){const Ce=H.length;(!K||K<0)&&(K=0),(!ne||ne<0||ne>Ce)&&(ne=Ce);let Ae="";for(let ze=K;ze<ne;++ze)Ae+=rt[H[ze]];return Ae}function J(H,K,ne){const Ce=H.slice(K,ne);let Ae="";for(let ze=0;ze<Ce.length-1;ze+=2)Ae+=String.fromCharCode(Ce[ze]+256*Ce[ze+1]);return Ae}function ee(H,K,ne){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+K>ne)throw new RangeError("Trying to access beyond buffer length")}function te(H,K,ne,Ce,Ae,ze){if(!u.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Ae||K<ze)throw new RangeError('"value" argument is out of bounds');if(ne+Ce>H.length)throw new RangeError("Index out of range")}function re(H,K,ne,Ce,Ae){je(K,Ce,Ae,H,ne,7);let ze=Number(K&BigInt(4294967295));H[ne++]=ze,ze>>=8,H[ne++]=ze,ze>>=8,H[ne++]=ze,ze>>=8,H[ne++]=ze;let Le=Number(K>>BigInt(32)&BigInt(4294967295));return H[ne++]=Le,Le>>=8,H[ne++]=Le,Le>>=8,H[ne++]=Le,Le>>=8,H[ne++]=Le,ne}function de(H,K,ne,Ce,Ae){je(K,Ce,Ae,H,ne,7);let ze=Number(K&BigInt(4294967295));H[ne+7]=ze,ze>>=8,H[ne+6]=ze,ze>>=8,H[ne+5]=ze,ze>>=8,H[ne+4]=ze;let Le=Number(K>>BigInt(32)&BigInt(4294967295));return H[ne+3]=Le,Le>>=8,H[ne+2]=Le,Le>>=8,H[ne+1]=Le,Le>>=8,H[ne]=Le,ne+8}function pe(H,K,ne,Ce,Ae,ze){if(ne+Ce>H.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function fe(H,K,ne,Ce,Ae){return K=+K,ne>>>=0,Ae||pe(H,0,ne,4),i.write(H,K,ne,Ce,23,4),ne+4}function ye(H,K,ne,Ce,Ae){return K=+K,ne>>>=0,Ae||pe(H,0,ne,8),i.write(H,K,ne,Ce,52,8),ne+8}u.prototype.slice=function(H,K){const ne=this.length;(H=~~H)<0?(H+=ne)<0&&(H=0):H>ne&&(H=ne),(K=K===void 0?ne:~~K)<0?(K+=ne)<0&&(K=0):K>ne&&(K=ne),K<H&&(K=H);const Ce=this.subarray(H,K);return Object.setPrototypeOf(Ce,u.prototype),Ce},u.prototype.readUintLE=u.prototype.readUIntLE=function(H,K,ne){H>>>=0,K>>>=0,ne||ee(H,K,this.length);let Ce=this[H],Ae=1,ze=0;for(;++ze<K&&(Ae*=256);)Ce+=this[H+ze]*Ae;return Ce},u.prototype.readUintBE=u.prototype.readUIntBE=function(H,K,ne){H>>>=0,K>>>=0,ne||ee(H,K,this.length);let Ce=this[H+--K],Ae=1;for(;K>0&&(Ae*=256);)Ce+=this[H+--K]*Ae;return Ce},u.prototype.readUint8=u.prototype.readUInt8=function(H,K){return H>>>=0,K||ee(H,1,this.length),this[H]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(H,K){return H>>>=0,K||ee(H,2,this.length),this[H]|this[H+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(H,K){return H>>>=0,K||ee(H,2,this.length),this[H]<<8|this[H+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(H,K){return H>>>=0,K||ee(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(H,K){return H>>>=0,K||ee(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},u.prototype.readBigUInt64LE=ht(function(H){xe(H>>>=0,"offset");const K=this[H],ne=this[H+7];K!==void 0&&ne!==void 0||Se(H,this.length-8);const Ce=K+256*this[++H]+65536*this[++H]+this[++H]*2**24,Ae=this[++H]+256*this[++H]+65536*this[++H]+ne*2**24;return BigInt(Ce)+(BigInt(Ae)<<BigInt(32))}),u.prototype.readBigUInt64BE=ht(function(H){xe(H>>>=0,"offset");const K=this[H],ne=this[H+7];K!==void 0&&ne!==void 0||Se(H,this.length-8);const Ce=K*2**24+65536*this[++H]+256*this[++H]+this[++H],Ae=this[++H]*2**24+65536*this[++H]+256*this[++H]+ne;return(BigInt(Ce)<<BigInt(32))+BigInt(Ae)}),u.prototype.readIntLE=function(H,K,ne){H>>>=0,K>>>=0,ne||ee(H,K,this.length);let Ce=this[H],Ae=1,ze=0;for(;++ze<K&&(Ae*=256);)Ce+=this[H+ze]*Ae;return Ae*=128,Ce>=Ae&&(Ce-=Math.pow(2,8*K)),Ce},u.prototype.readIntBE=function(H,K,ne){H>>>=0,K>>>=0,ne||ee(H,K,this.length);let Ce=K,Ae=1,ze=this[H+--Ce];for(;Ce>0&&(Ae*=256);)ze+=this[H+--Ce]*Ae;return Ae*=128,ze>=Ae&&(ze-=Math.pow(2,8*K)),ze},u.prototype.readInt8=function(H,K){return H>>>=0,K||ee(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},u.prototype.readInt16LE=function(H,K){H>>>=0,K||ee(H,2,this.length);const ne=this[H]|this[H+1]<<8;return 32768&ne?4294901760|ne:ne},u.prototype.readInt16BE=function(H,K){H>>>=0,K||ee(H,2,this.length);const ne=this[H+1]|this[H]<<8;return 32768&ne?4294901760|ne:ne},u.prototype.readInt32LE=function(H,K){return H>>>=0,K||ee(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},u.prototype.readInt32BE=function(H,K){return H>>>=0,K||ee(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},u.prototype.readBigInt64LE=ht(function(H){xe(H>>>=0,"offset");const K=this[H],ne=this[H+7];K!==void 0&&ne!==void 0||Se(H,this.length-8);const Ce=this[H+4]+256*this[H+5]+65536*this[H+6]+(ne<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(K+256*this[++H]+65536*this[++H]+this[++H]*2**24)}),u.prototype.readBigInt64BE=ht(function(H){xe(H>>>=0,"offset");const K=this[H],ne=this[H+7];K!==void 0&&ne!==void 0||Se(H,this.length-8);const Ce=(K<<24)+65536*this[++H]+256*this[++H]+this[++H];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++H]*2**24+65536*this[++H]+256*this[++H]+ne)}),u.prototype.readFloatLE=function(H,K){return H>>>=0,K||ee(H,4,this.length),i.read(this,H,!0,23,4)},u.prototype.readFloatBE=function(H,K){return H>>>=0,K||ee(H,4,this.length),i.read(this,H,!1,23,4)},u.prototype.readDoubleLE=function(H,K){return H>>>=0,K||ee(H,8,this.length),i.read(this,H,!0,52,8)},u.prototype.readDoubleBE=function(H,K){return H>>>=0,K||ee(H,8,this.length),i.read(this,H,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(H,K,ne,Ce){H=+H,K>>>=0,ne>>>=0,Ce||te(this,H,K,ne,Math.pow(2,8*ne)-1,0);let Ae=1,ze=0;for(this[K]=255&H;++ze<ne&&(Ae*=256);)this[K+ze]=H/Ae&255;return K+ne},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(H,K,ne,Ce){H=+H,K>>>=0,ne>>>=0,Ce||te(this,H,K,ne,Math.pow(2,8*ne)-1,0);let Ae=ne-1,ze=1;for(this[K+Ae]=255&H;--Ae>=0&&(ze*=256);)this[K+Ae]=H/ze&255;return K+ne},u.prototype.writeUint8=u.prototype.writeUInt8=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,1,255,0),this[K]=255&H,K+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,2,65535,0),this[K]=255&H,this[K+1]=H>>>8,K+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,2,65535,0),this[K]=H>>>8,this[K+1]=255&H,K+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,4,4294967295,0),this[K+3]=H>>>24,this[K+2]=H>>>16,this[K+1]=H>>>8,this[K]=255&H,K+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,4,4294967295,0),this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=255&H,K+4},u.prototype.writeBigUInt64LE=ht(function(H,K=0){return re(this,H,K,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ht(function(H,K=0){return de(this,H,K,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(H,K,ne,Ce){if(H=+H,K>>>=0,!Ce){const le=Math.pow(2,8*ne-1);te(this,H,K,ne,le-1,-le)}let Ae=0,ze=1,Le=0;for(this[K]=255&H;++Ae<ne&&(ze*=256);)H<0&&Le===0&&this[K+Ae-1]!==0&&(Le=1),this[K+Ae]=(H/ze>>0)-Le&255;return K+ne},u.prototype.writeIntBE=function(H,K,ne,Ce){if(H=+H,K>>>=0,!Ce){const le=Math.pow(2,8*ne-1);te(this,H,K,ne,le-1,-le)}let Ae=ne-1,ze=1,Le=0;for(this[K+Ae]=255&H;--Ae>=0&&(ze*=256);)H<0&&Le===0&&this[K+Ae+1]!==0&&(Le=1),this[K+Ae]=(H/ze>>0)-Le&255;return K+ne},u.prototype.writeInt8=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,1,127,-128),H<0&&(H=255+H+1),this[K]=255&H,K+1},u.prototype.writeInt16LE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,2,32767,-32768),this[K]=255&H,this[K+1]=H>>>8,K+2},u.prototype.writeInt16BE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,2,32767,-32768),this[K]=H>>>8,this[K+1]=255&H,K+2},u.prototype.writeInt32LE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,4,2147483647,-2147483648),this[K]=255&H,this[K+1]=H>>>8,this[K+2]=H>>>16,this[K+3]=H>>>24,K+4},u.prototype.writeInt32BE=function(H,K,ne){return H=+H,K>>>=0,ne||te(this,H,K,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=255&H,K+4},u.prototype.writeBigInt64LE=ht(function(H,K=0){return re(this,H,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ht(function(H,K=0){return de(this,H,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(H,K,ne){return fe(this,H,K,!0,ne)},u.prototype.writeFloatBE=function(H,K,ne){return fe(this,H,K,!1,ne)},u.prototype.writeDoubleLE=function(H,K,ne){return ye(this,H,K,!0,ne)},u.prototype.writeDoubleBE=function(H,K,ne){return ye(this,H,K,!1,ne)},u.prototype.copy=function(H,K,ne,Ce){if(!u.isBuffer(H))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),Ce||Ce===0||(Ce=this.length),K>=H.length&&(K=H.length),K||(K=0),Ce>0&&Ce<ne&&(Ce=ne),Ce===ne||H.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),H.length-K<Ce-ne&&(Ce=H.length-K+ne);const Ae=Ce-ne;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,ne,Ce):Uint8Array.prototype.set.call(H,this.subarray(ne,Ce),K),Ae},u.prototype.fill=function(H,K,ne,Ce){if(typeof H=="string"){if(typeof K=="string"?(Ce=K,K=0,ne=this.length):typeof ne=="string"&&(Ce=ne,ne=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!u.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(H.length===1){const ze=H.charCodeAt(0);(Ce==="utf8"&&ze<128||Ce==="latin1")&&(H=ze)}}else typeof H=="number"?H&=255:typeof H=="boolean"&&(H=Number(H));if(K<0||this.length<K||this.length<ne)throw new RangeError("Out of range index");if(ne<=K)return this;let Ae;if(K>>>=0,ne=ne===void 0?this.length:ne>>>0,H||(H=0),typeof H=="number")for(Ae=K;Ae<ne;++Ae)this[Ae]=H;else{const ze=u.isBuffer(H)?H:u.from(H,Ce),Le=ze.length;if(Le===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(Ae=0;Ae<ne-K;++Ae)this[Ae+K]=ze[Ae%Le]}return this};const Me={};function Ne(H,K,ne){Me[H]=class extends ne{constructor(){super(),Object.defineProperty(this,"message",{value:K.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}function ke(H){let K="",ne=H.length;const Ce=H[0]==="-"?1:0;for(;ne>=Ce+4;ne-=3)K=`_${H.slice(ne-3,ne)}${K}`;return`${H.slice(0,ne)}${K}`}function je(H,K,ne,Ce,Ae,ze){if(H>ne||H<K){const Le=typeof K=="bigint"?"n":"";let le;throw le=ze>3?K===0||K===BigInt(0)?`>= 0${Le} and < 2${Le} ** ${8*(ze+1)}${Le}`:`>= -(2${Le} ** ${8*(ze+1)-1}${Le}) and < 2 ** ${8*(ze+1)-1}${Le}`:`>= ${K}${Le} and <= ${ne}${Le}`,new Me.ERR_OUT_OF_RANGE("value",le,H)}(function(Le,le,Ve){xe(le,"offset"),Le[le]!==void 0&&Le[le+Ve]!==void 0||Se(le,Le.length-(Ve+1))})(Ce,Ae,ze)}function xe(H,K){if(typeof H!="number")throw new Me.ERR_INVALID_ARG_TYPE(K,"number",H)}function Se(H,K,ne){throw Math.floor(H)!==H?(xe(H,ne),new Me.ERR_OUT_OF_RANGE(ne||"offset","an integer",H)):K<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(ne||"offset",`>= ${ne?1:0} and <= ${K}`,H)}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(H,K){return`The "${H}" argument must be of type number. Received type ${typeof K}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(H,K,ne){let Ce=`The value of "${H}" is out of range.`,Ae=ne;return Number.isInteger(ne)&&Math.abs(ne)>2**32?Ae=ke(String(ne)):typeof ne=="bigint"&&(Ae=String(ne),(ne>BigInt(2)**BigInt(32)||ne<-(BigInt(2)**BigInt(32)))&&(Ae=ke(Ae)),Ae+="n"),Ce+=` It must be ${K}. Received ${Ae}`,Ce},RangeError);const Re=/[^+/0-9A-Za-z-_]/g;function Oe(H,K){let ne;K=K||1/0;const Ce=H.length;let Ae=null;const ze=[];for(let Le=0;Le<Ce;++Le){if(ne=H.charCodeAt(Le),ne>55295&&ne<57344){if(!Ae){if(ne>56319){(K-=3)>-1&&ze.push(239,191,189);continue}if(Le+1===Ce){(K-=3)>-1&&ze.push(239,191,189);continue}Ae=ne;continue}if(ne<56320){(K-=3)>-1&&ze.push(239,191,189),Ae=ne;continue}ne=65536+(Ae-55296<<10|ne-56320)}else Ae&&(K-=3)>-1&&ze.push(239,191,189);if(Ae=null,ne<128){if((K-=1)<0)break;ze.push(ne)}else if(ne<2048){if((K-=2)<0)break;ze.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((K-=3)<0)break;ze.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((K-=4)<0)break;ze.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return ze}function Pe(H){return n.toByteArray(function(K){if((K=(K=K.split("=")[0]).trim().replace(Re,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(H))}function Ue(H,K,ne,Ce){let Ae;for(Ae=0;Ae<Ce&&!(Ae+ne>=K.length||Ae>=H.length);++Ae)K[Ae+ne]=H[Ae];return Ae}function ot(H,K){return H instanceof K||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===K.name}function $e(H){return H!=H}const rt=function(){const H="0123456789abcdef",K=new Array(256);for(let ne=0;ne<16;++ne){const Ce=16*ne;for(let Ae=0;Ae<16;++Ae)K[Ce+Ae]=H[ne]+H[Ae]}return K}();function ht(H){return typeof BigInt>"u"?Ze:H}function Ze(){throw new Error("BigInt not supported")}},6931:r=>{r.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3269:(r,e,t)=>{var n=t(6931),i=t(9975),a=Object.hasOwnProperty,o=Object.create(null);for(var s in n)a.call(n,s)&&(o[n[s]]=s);var u=r.exports={to:{},get:{}};function l(f,h,d){return Math.min(Math.max(h,f),d)}function c(f){var h=Math.round(f).toString(16).toUpperCase();return h.length<2?"0"+h:h}u.get=function(f){var h,d;switch(f.substring(0,3).toLowerCase()){case"hsl":h=u.get.hsl(f),d="hsl";break;case"hwb":h=u.get.hwb(f),d="hwb";break;default:h=u.get.rgb(f),d="rgb"}return h?{model:d,value:h}:null},u.get.rgb=function(f){if(!f)return null;var h,d,v,y=[0,0,0,1];if(h=f.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(v=h[2],h=h[1],d=0;d<3;d++){var w=2*d;y[d]=parseInt(h.slice(w,w+2),16)}v&&(y[3]=parseInt(v,16)/255)}else if(h=f.match(/^#([a-f0-9]{3,4})$/i)){for(v=(h=h[1])[3],d=0;d<3;d++)y[d]=parseInt(h[d]+h[d],16);v&&(y[3]=parseInt(v+v,16)/255)}else if(h=f.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(d=0;d<3;d++)y[d]=parseInt(h[d+1],0);h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}else{if(!(h=f.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(h=f.match(/^(\w+)$/))?h[1]==="transparent"?[0,0,0,0]:a.call(n,h[1])?((y=n[h[1]])[3]=1,y):null:null;for(d=0;d<3;d++)y[d]=Math.round(2.55*parseFloat(h[d+1]));h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}for(d=0;d<3;d++)y[d]=l(y[d],0,255);return y[3]=l(y[3],0,1),y},u.get.hsl=function(f){if(!f)return null;var h=f.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var d=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(d)?1:d,0,1)]}return null},u.get.hwb=function(f){if(!f)return null;var h=f.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var d=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(d)?1:d,0,1)]}return null},u.to.hex=function(){var f=i(arguments);return"#"+c(f[0])+c(f[1])+c(f[2])+(f[3]<1?c(Math.round(255*f[3])):"")},u.to.rgb=function(){var f=i(arguments);return f.length<4||f[3]===1?"rgb("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+")":"rgba("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+", "+f[3]+")"},u.to.rgb.percent=function(){var f=i(arguments),h=Math.round(f[0]/255*100),d=Math.round(f[1]/255*100),v=Math.round(f[2]/255*100);return f.length<4||f[3]===1?"rgb("+h+"%, "+d+"%, "+v+"%)":"rgba("+h+"%, "+d+"%, "+v+"%, "+f[3]+")"},u.to.hsl=function(){var f=i(arguments);return f.length<4||f[3]===1?"hsl("+f[0]+", "+f[1]+"%, "+f[2]+"%)":"hsla("+f[0]+", "+f[1]+"%, "+f[2]+"%, "+f[3]+")"},u.to.hwb=function(){var f=i(arguments),h="";return f.length>=4&&f[3]!==1&&(h=", "+f[3]),"hwb("+f[0]+", "+f[1]+"%, "+f[2]+"%"+h+")"},u.to.keyword=function(f){return o[f.slice(0,3)]}},9792:(r,e,t)=>{var n=t(7045),i=t(4360),a=t(6804);r.exports=function(o,s){if(!s)return o;var u=Object.keys(s);if(u.length===0)return o;for(var l=n(o),c=u.length-1;c>=0;c--){var f=u[c],h=String(s[f]);h&&(h=" "+h),a(l,{type:"preprocessor",data:"#define "+f+h})}return i(l)}},6804:r=>{r.exports=function(i,a){Array.isArray(a)||(a=[a]);var o=function(l){for(var c=-1,f=0;f<l.length;f++){var h=l[f];if(h.type==="preprocessor")/^#(extension|version)/.test(h.data)&&(c=Math.max(c,f));else if(h.type==="keyword"&&h.data==="precision"){var d=n(l,f);if(d===-1)throw new Error("precision statement not followed by any semicolons!");c=Math.max(c,d)}}return c+1}(i),s=o>0?i[o-1]:null;s&&t.test(s.data)&&i.splice(o++,0,e),i.splice.apply(i,[o,0].concat(a));var u=o+a.length;return i[u]&&/[^\r\n]$/.test(i[u].data)&&i.splice(u,0,e),i};var e={data:`
`,type:"whitespace"},t=/[^\r\n]$/;function n(i,a){for(var o=a;o<i.length;o++)if(i[o].type==="operator"&&i[o].data===";")return o;return-1}},4360:r=>{r.exports=function(e){for(var t=[],n=0;n<e.length;n++)e[n].type!=="eof"&&t.push(e[n].data);return t.join("")}},3206:(r,e,t)=>{r.exports=function(T){var A,D,N,j=0,B=0,W=u,V=[],J=[],ee=1,te=0,re=0,de=!1,pe=!1,fe="",ye=a,Me=n;(T=T||{}).version==="300 es"&&(ye=s,Me=o);var Ne={},ke={};for(j=0;j<ye.length;j++)Ne[ye[j]]=!0;for(j=0;j<Me.length;j++)ke[Me[j]]=!0;return function(Ze){return J=[],Ze!==null?function(H){var K;for(j=0,H.toString&&(H=H.toString()),fe+=H.replace(/\r\n/g,`
`),N=fe.length;A=fe[j],j<N;){switch(K=j,W){case c:j=Oe();break;case f:case h:j=Re();break;case d:j=Pe();break;case v:j=$e();break;case P:j=ot();break;case y:j=rt();break;case l:j=ht();break;case _:j=Se();break;case u:j=xe()}K!==j&&(fe[K]===`
`?(te=0,++ee):++te)}return B+=j,fe=fe.slice(j),J}(Ze):(V.length&&je(V.join("")),W=x,je("(eof)"),J)};function je(Ze){Ze.length&&J.push({type:I[W],data:Ze,position:re,line:ee,column:te})}function xe(){return V=V.length?[]:V,D==="/"&&A==="*"?(re=B+j-1,W=c,D=A,j+1):D==="/"&&A==="/"?(re=B+j-1,W=f,D=A,j+1):A==="#"?(W=h,re=B+j,j):/\s/.test(A)?(W=_,re=B+j,j):(de=/\d/.test(A),pe=/[^\w_]/.test(A),re=B+j,W=de?v:pe?d:l,j)}function Se(){return/[^\s]/g.test(A)?(je(V.join("")),W=u,j):(V.push(A),D=A,j+1)}function Re(){return A!=="\r"&&A!==`
`||D==="\\"?(V.push(A),D=A,j+1):(je(V.join("")),W=u,j)}function Oe(){return A==="/"&&D==="*"?(V.push(A),je(V.join("")),W=u,j+1):(V.push(A),D=A,j+1)}function Pe(){if(D==="."&&/\d/.test(A))return W=y,j;if(D==="/"&&A==="*")return W=c,j;if(D==="/"&&A==="/")return W=f,j;if(A==="."&&V.length){for(;Ue(V););return W=y,j}if(A===";"||A===")"||A==="("){if(V.length)for(;Ue(V););return je(A),W=u,j+1}var Ze=V.length===2&&A!=="=";if(/[\w_\d\s]/.test(A)||Ze){for(;Ue(V););return W=u,j}return V.push(A),D=A,j+1}function Ue(Ze){for(var H,K,ne=0;;){if(H=i.indexOf(Ze.slice(0,Ze.length+ne).join("")),K=i[H],H===-1){if(ne--+Ze.length>0)continue;K=Ze.slice(0,1).join("")}return je(K),re+=K.length,(V=V.slice(K.length)).length}}function ot(){return/[^a-fA-F0-9]/.test(A)?(je(V.join("")),W=u,j):(V.push(A),D=A,j+1)}function $e(){return A==="."||/[eE]/.test(A)?(V.push(A),W=y,D=A,j+1):A==="x"&&V.length===1&&V[0]==="0"?(W=P,V.push(A),D=A,j+1):/[^\d]/.test(A)?(je(V.join("")),W=u,j):(V.push(A),D=A,j+1)}function rt(){return A==="f"&&(V.push(A),D=A,j+=1),/[eE]/.test(A)?(V.push(A),D=A,j+1):(A!=="-"&&A!=="+"||!/[eE]/.test(D))&&/[^\d]/.test(A)?(je(V.join("")),W=u,j):(V.push(A),D=A,j+1)}function ht(){if(/[^\d\w_]/.test(A)){var Ze=V.join("");return W=ke[Ze]?g:Ne[Ze]?b:w,je(V.join("")),W=u,j}return V.push(A),D=A,j+1}};var n=t(4704),i=t(2063),a=t(7192),o=t(8784),s=t(5592),u=999,l=9999,c=0,f=1,h=2,d=3,v=4,y=5,w=6,b=7,g=8,_=9,x=10,P=11,I=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},5592:(r,e,t)=>{var n=t(7192);n=n.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),r.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},7192:r=>{r.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},8784:(r,e,t)=>{var n=t(4704);r.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},4704:r=>{r.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},2063:r=>{r.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7045:(r,e,t)=>{var n=t(3206);r.exports=function(i,a){var o=n(a),s=[];return(s=s.concat(o(i))).concat(o(null))}},9318:(r,e)=>{e.read=function(t,n,i,a,o){var s,u,l=8*o-a-1,c=(1<<l)-1,f=c>>1,h=-7,d=i?o-1:0,v=i?-1:1,y=t[n+d];for(d+=v,s=y&(1<<-h)-1,y>>=-h,h+=l;h>0;s=256*s+t[n+d],d+=v,h-=8);for(u=s&(1<<-h)-1,s>>=-h,h+=a;h>0;u=256*u+t[n+d],d+=v,h-=8);if(s===0)s=1-f;else{if(s===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,a),s-=f}return(y?-1:1)*u*Math.pow(2,s-a)},e.write=function(t,n,i,a,o,s){var u,l,c,f=8*s-o-1,h=(1<<f)-1,d=h>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=a?0:s-1,w=a?1:-1,b=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,u=h):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+d>=1?v/c:v*Math.pow(2,1-d))*c>=2&&(u++,c/=2),u+d>=h?(l=0,u=h):u+d>=1?(l=(n*c-1)*Math.pow(2,o),u+=d):(l=n*Math.pow(2,d-1)*Math.pow(2,o),u=0));o>=8;t[i+y]=255&l,y+=w,l/=256,o-=8);for(u=u<<o|l,f+=o;f>0;t[i+y]=255&u,y+=w,u/=256,f-=8);t[i+y-w]|=128*b}},5250:function(r,e,t){var n;r=t.nmd(r),(function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,f=9007199254740991,h=NaN,d=4294967295,v=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],y="[object Arguments]",w="[object Array]",b="[object Boolean]",g="[object Date]",_="[object Error]",x="[object Function]",P="[object GeneratorFunction]",I="[object Map]",T="[object Number]",A="[object Object]",D="[object Promise]",N="[object RegExp]",j="[object Set]",B="[object String]",W="[object Symbol]",V="[object WeakMap]",J="[object ArrayBuffer]",ee="[object DataView]",te="[object Float32Array]",re="[object Float64Array]",de="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",ye="[object Uint8Array]",Me="[object Uint8ClampedArray]",Ne="[object Uint16Array]",ke="[object Uint32Array]",je=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,Pe=RegExp(Re.source),Ue=RegExp(Oe.source),ot=/<%-([\s\S]+?)%>/g,$e=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ze=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(K.source),Ce=/^\s+/,Ae=/\s/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,sr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Yr="\\ud800-\\udfff",Gr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kn="\\u2700-\\u27bf",Rn="a-z\\xdf-\\xf6\\xf8-\\xff",kn="A-Z\\xc0-\\xd6\\xd8-\\xde",un="\\ufe0e\\ufe0f",fn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Un="["+Yr+"]",Pi="["+fn+"]",pi="["+Gr+"]",li="\\d+",to="["+Kn+"]",Wi="["+Rn+"]",Hi="[^"+Yr+fn+li+Kn+Rn+kn+"]",hn="\\ud83c[\\udffb-\\udfff]",zn="[^"+Yr+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",jr="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="["+kn+"]",wo="\\u200d",Aa="(?:"+Wi+"|"+Hi+")",Uo="(?:"+_n+"|"+Hi+")",$s="(?:['’](?:d|ll|m|re|s|t|ve))?",co="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ia="(?:"+pi+"|"+hn+")?",Xs="["+un+"]?",aa=Xs+Ia+"(?:"+wo+"(?:"+[zn,qn,jr].join("|")+")"+Xs+Ia+")*",Ka="(?:"+[to,qn,jr].join("|")+")"+aa,zo="(?:"+[zn+pi+"?",pi,qn,jr,Un].join("|")+")",Oi=RegExp("['’]","g"),Ra=RegExp(pi,"g"),qo=RegExp(hn+"(?="+hn+")|"+zo+aa,"g"),Mn=RegExp([_n+"?"+Wi+"+"+$s+"(?="+[Pi,_n,"$"].join("|")+")",Uo+"+"+co+"(?="+[Pi,_n+Aa,"$"].join("|")+")",_n+"?"+Aa+"+"+$s,_n+"+"+co,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",li,Ka].join("|"),"g"),Jr=RegExp("["+wo+Yr+Gr+un+"]"),ur=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ks=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yi=-1,xr={};xr[te]=xr[re]=xr[de]=xr[pe]=xr[fe]=xr[ye]=xr[Me]=xr[Ne]=xr[ke]=!0,xr[y]=xr[w]=xr[J]=xr[b]=xr[ee]=xr[g]=xr[_]=xr[x]=xr[I]=xr[T]=xr[A]=xr[N]=xr[j]=xr[B]=xr[V]=!1;var $r={};$r[y]=$r[w]=$r[J]=$r[ee]=$r[b]=$r[g]=$r[te]=$r[re]=$r[de]=$r[pe]=$r[fe]=$r[I]=$r[T]=$r[A]=$r[N]=$r[j]=$r[B]=$r[W]=$r[ye]=$r[Me]=$r[Ne]=$r[ke]=!0,$r[_]=$r[x]=$r[V]=!1;var ku={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hl=parseFloat,mf=parseInt,Zs=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,bf=typeof self=="object"&&self&&self.Object===Object&&self,Ai=Zs||bf||Function("return this")(),Mu=e&&!e.nodeType&&e,fo=Mu&&r&&!r.nodeType&&r,Du=fo&&fo.exports===Mu,dl=Du&&Zs.process,ji=function(){try{return fo&&fo.require&&fo.require("util").types||dl&&dl.binding&&dl.binding("util")}catch{}}(),Za=ji&&ji.isArrayBuffer,Qs=ji&&ji.isDate,vc=ji&&ji.isMap,pc=ji&&ji.isRegExp,Lr=ji&&ji.isSet,Go=ji&&ji.isTypedArray;function ho(ft,gt,yt){switch(yt.length){case 0:return ft.call(gt);case 1:return ft.call(gt,yt[0]);case 2:return ft.call(gt,yt[0],yt[1]);case 3:return ft.call(gt,yt[0],yt[1],yt[2])}return ft.apply(gt,yt)}function gc(ft,gt,yt,qt){for(var er=-1,Xr=ft==null?0:ft.length;++er<Xr;){var Ii=ft[er];gt(qt,Ii,yt(Ii),ft)}return qt}function Wt(ft,gt){for(var yt=-1,qt=ft==null?0:ft.length;++yt<qt&&gt(ft[yt],yt,ft)!==!1;);return ft}function Js(ft,gt){for(var yt=ft==null?0:ft.length;yt--&&gt(ft[yt],yt,ft)!==!1;);return ft}function yc(ft,gt){for(var yt=-1,qt=ft==null?0:ft.length;++yt<qt;)if(!gt(ft[yt],yt,ft))return!1;return!0}function ka(ft,gt){for(var yt=-1,qt=ft==null?0:ft.length,er=0,Xr=[];++yt<qt;){var Ii=ft[yt];gt(Ii,yt,ft)&&(Xr[er++]=Ii)}return Xr}function Lu(ft,gt){return!(ft==null||!ft.length)&&eu(ft,gt,0)>-1}function Eo(ft,gt,yt){for(var qt=-1,er=ft==null?0:ft.length;++qt<er;)if(yt(gt,ft[qt]))return!0;return!1}function Vr(ft,gt){for(var yt=-1,qt=ft==null?0:ft.length,er=Array(qt);++yt<qt;)er[yt]=gt(ft[yt],yt,ft);return er}function sa(ft,gt){for(var yt=-1,qt=gt.length,er=ft.length;++yt<qt;)ft[er+yt]=gt[yt];return ft}function vl(ft,gt,yt,qt){var er=-1,Xr=ft==null?0:ft.length;for(qt&&Xr&&(yt=ft[++er]);++er<Xr;)yt=gt(yt,ft[er],er,ft);return yt}function Ih(ft,gt,yt,qt){var er=ft==null?0:ft.length;for(qt&&er&&(yt=ft[--er]);er--;)yt=gt(yt,ft[er],er,ft);return yt}function mc(ft,gt){for(var yt=-1,qt=ft==null?0:ft.length;++yt<qt;)if(gt(ft[yt],yt,ft))return!0;return!1}var Rh=bc("length");function _f(ft,gt,yt){var qt;return yt(ft,function(er,Xr,Ii){if(gt(er,Xr,Ii))return qt=Xr,!1}),qt}function pl(ft,gt,yt,qt){for(var er=ft.length,Xr=yt+(qt?1:-1);qt?Xr--:++Xr<er;)if(gt(ft[Xr],Xr,ft))return Xr;return-1}function eu(ft,gt,yt){return gt==gt?function(qt,er,Xr){for(var Ii=Xr-1,no=qt.length;++Ii<no;)if(qt[Ii]===er)return Ii;return-1}(ft,gt,yt):pl(ft,Qa,yt)}function Os(ft,gt,yt,qt){for(var er=yt-1,Xr=ft.length;++er<Xr;)if(qt(ft[er],gt))return er;return-1}function Qa(ft){return ft!=ft}function gl(ft,gt){var yt=ft==null?0:ft.length;return yt?tu(ft,gt)/yt:h}function bc(ft){return function(gt){return gt==null?i:gt[ft]}}function _c(ft){return function(gt){return ft==null?i:ft[gt]}}function yl(ft,gt,yt,qt,er){return er(ft,function(Xr,Ii,no){yt=qt?(qt=!1,Xr):gt(yt,Xr,Ii,no)}),yt}function tu(ft,gt){for(var yt,qt=-1,er=ft.length;++qt<er;){var Xr=gt(ft[qt]);Xr!==i&&(yt=yt===i?Xr:yt+Xr)}return yt}function ml(ft,gt){for(var yt=-1,qt=Array(ft);++yt<ft;)qt[yt]=gt(yt);return qt}function dn(ft){return ft&&ft.slice(0,Ma(ft)+1).replace(Ce,"")}function Tr(ft){return function(gt){return ft(gt)}}function wc(ft,gt){return Vr(gt,function(yt){return ft[yt]})}function ru(ft,gt){return ft.has(gt)}function wf(ft,gt){for(var yt=-1,qt=ft.length;++yt<qt&&eu(gt,ft[yt],0)>-1;);return yt}function xs(ft,gt){for(var yt=ft.length;yt--&&eu(gt,ft[yt],0)>-1;);return yt}var Ja=_c({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),kh=_c({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Hd(ft){return"\\"+ku[ft]}function nu(ft){return Jr.test(ft)}function Gn(ft){var gt=-1,yt=Array(ft.size);return ft.forEach(function(qt,er){yt[++gt]=[er,qt]}),yt}function Ec(ft,gt){return function(yt){return ft(gt(yt))}}function ro(ft,gt){for(var yt=-1,qt=ft.length,er=0,Xr=[];++yt<qt;){var Ii=ft[yt];Ii!==gt&&Ii!==s||(ft[yt]=s,Xr[er++]=yt)}return Xr}function iu(ft){var gt=-1,yt=Array(ft.size);return ft.forEach(function(qt){yt[++gt]=qt}),yt}function Oc(ft){var gt=-1,yt=Array(ft.size);return ft.forEach(function(qt){yt[++gt]=[qt,qt]}),yt}function Fi(ft){return nu(ft)?function(gt){for(var yt=qo.lastIndex=0;qo.test(gt);)++yt;return yt}(ft):Rh(ft)}function Zn(ft){return nu(ft)?function(gt){return gt.match(qo)||[]}(ft):function(gt){return gt.split("")}(ft)}function Ma(ft){for(var gt=ft.length;gt--&&Ae.test(ft.charAt(gt)););return gt}var Da=_c({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ua=function ft(gt){var yt,qt=(gt=gt==null?Ai:ua.defaults(Ai.Object(),gt,ua.pick(Ai,Ks))).Array,er=gt.Date,Xr=gt.Error,Ii=gt.Function,no=gt.Math,vn=gt.Object,Ef=gt.RegExp,Vn=gt.String,gi=gt.TypeError,xc=qt.prototype,bp=Ii.prototype,Nu=vn.prototype,bl=gt["__core-js_shared__"],ju=bp.toString,Kr=Nu.hasOwnProperty,Sc=0,ou=(yt=/[^.]+$/.exec(bl&&bl.keys&&bl.keys.IE_PROTO||""))?"Symbol(src)_1."+yt:"",Ss=Nu.toString,Mh=ju.call(vn),Fu=Ai._,Of=Ef("^"+ju.call(Kr).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ts=Du?gt.Buffer:i,es=gt.Symbol,Tc=gt.Uint8Array,_p=Ts?Ts.allocUnsafe:i,Bu=Ec(vn.getPrototypeOf,vn),xf=vn.create,Yd=Nu.propertyIsEnumerable,Sf=xc.splice,vo=es?es.isConcatSpreadable:i,Uu=es?es.iterator:i,ts=es?es.toStringTag:i,Tf=function(){try{var C=vu(vn,"defineProperty");return C({},"",{}),C}catch{}}(),wp=gt.clearTimeout!==Ai.clearTimeout&&gt.clearTimeout,Ep=er&&er.now!==Ai.Date.now&&er.now,Oo=gt.setTimeout!==Ai.setTimeout&&gt.setTimeout,Dh=no.ceil,Lh=no.floor,Cf=vn.getOwnPropertySymbols,zu=Ts?Ts.isBuffer:i,$d=gt.isFinite,xo=xc.join,io=Ec(vn.keys,vn),Tn=no.max,Wn=no.min,Nh=er.now,Kg=gt.parseInt,Op=no.random,xp=xc.reverse,Jt=vu(gt,"DataView"),oo=vu(gt,"Map"),Qn=vu(gt,"Promise"),_l=vu(gt,"Set"),Cc=vu(gt,"WeakMap"),Pc=vu(vn,"create"),Pf=Cc&&new Cc,wl={},El=yu(Jt),tt=yu(oo),pt=yu(Qn),st=yu(_l),$t=yu(Cc),dr=es?es.prototype:i,zr=dr?dr.valueOf:i,yi=dr?dr.toString:i;function ce(C){if(Dn(C)&&!_r(C)&&!(C instanceof Mr)){if(C instanceof Jn)return C;if(Kr.call(C,"__wrapped__"))return iv(C)}return new Jn(C)}var Cs=function(){function C(){}return function(L){if(!$n(L))return{};if(xf)return xf(L);C.prototype=L;var q=new C;return C.prototype=i,q}}();function jh(){}function Jn(C,L){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=i}function Mr(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function au(C){var L=-1,q=C==null?0:C.length;for(this.clear();++L<q;){var Q=C[L];this.set(Q[0],Q[1])}}function Vo(C){var L=-1,q=C==null?0:C.length;for(this.clear();++L<q;){var Q=C[L];this.set(Q[0],Q[1])}}function $i(C){var L=-1,q=C==null?0:C.length;for(this.clear();++L<q;){var Q=C[L];this.set(Q[0],Q[1])}}function rs(C){var L=-1,q=C==null?0:C.length;for(this.__data__=new $i;++L<q;)this.add(C[L])}function Ar(C){var L=this.__data__=new Vo(C);this.size=L.size}function Sp(C,L){var q=_r(C),Q=!q&&Ko(C),ae=!q&&!Q&&Qi(C),be=!q&&!Q&&!ae&&vs(C),qe=q||Q||ae||be,Ye=qe?ml(C.length,Vn):[],ct=Ye.length;for(var wt in C)!L&&!Kr.call(C,wt)||qe&&(wt=="length"||ae&&(wt=="offset"||wt=="parent")||be&&(wt=="buffer"||wt=="byteLength"||wt=="byteOffset")||Ki(wt,ct))||Ye.push(wt);return Ye}function Fh(C){var L=C.length;return L?C[Wu(0,L-1)]:i}function la(C,L){return Wf(To(C),La(L,0,C.length))}function Xd(C){return Wf(To(C))}function Kd(C,L,q){(q!==i&&!ao(C[L],q)||q===i&&!(L in C))&&Ps(C,L,q)}function Af(C,L,q){var Q=C[L];Kr.call(C,L)&&ao(Q,q)&&(q!==i||L in C)||Ps(C,L,q)}function qu(C,L){for(var q=C.length;q--;)if(ao(C[q][0],L))return q;return-1}function Nr(C,L,q,Q){return Ho(C,function(ae,be,qe){L(Q,ae,q(ae),qe)}),Q}function Ol(C,L){return C&&is(L,zi(L),C)}function Ps(C,L,q){L=="__proto__"&&Tf?Tf(C,L,{configurable:!0,enumerable:!0,value:q,writable:!0}):C[L]=q}function xl(C,L){for(var q=-1,Q=L.length,ae=qt(Q),be=C==null;++q<Q;)ae[q]=be?i:gv(C,L[q]);return ae}function La(C,L,q){return C==C&&(q!==i&&(C=C<=q?C:q),L!==i&&(C=C>=L?C:L)),C}function Wo(C,L,q,Q,ae,be){var qe,Ye=1&L,ct=2&L,wt=4&L;if(q&&(qe=ae?q(C,Q,ae,be):q(C)),qe!==i)return qe;if(!$n(C))return C;var _t=_r(C);if(_t){if(qe=function(Ot){var Mt=Ot.length,cr=new Ot.constructor(Mt);return Mt&&typeof Ot[0]=="string"&&Kr.call(Ot,"index")&&(cr.index=Ot.index,cr.input=Ot.input),cr}(C),!Ye)return To(C,qe)}else{var It=Cn(C),Xt=It==x||It==P;if(Qi(C))return kl(C,Ye);if(It==A||It==y||Xt&&!ae){if(qe=ct||Xt?{}:Nl(C),!Ye)return ct?function(Ot,Mt){return is(Ot,Ll(Ot),Mt)}(C,function(Ot,Mt){return Ot&&is(Mt,Dr(Mt),Ot)}(qe,C)):function(Ot,Mt){return is(Ot,tv(Ot),Mt)}(C,Ol(qe,C))}else{if(!$r[It])return ae?C:{};qe=function(Ot,Mt,cr){var Nt,gr=Ot.constructor;switch(Mt){case J:return Dc(Ot);case b:case g:return new gr(+Ot);case ee:return function(pr,Zr){var rr=Zr?Dc(pr.buffer):pr.buffer;return new pr.constructor(rr,pr.byteOffset,pr.byteLength)}(Ot,cr);case te:case re:case de:case pe:case fe:case ye:case Me:case Ne:case ke:return Ff(Ot,cr);case I:return new gr;case T:case B:return new gr(Ot);case N:return function(pr){var Zr=new pr.constructor(pr.source,Pt.exec(pr));return Zr.lastIndex=pr.lastIndex,Zr}(Ot);case j:return new gr;case W:return Nt=Ot,zr?vn(zr.call(Nt)):{}}}(C,It,Ye)}}be||(be=new Ar);var Kt=be.get(C);if(Kt)return Kt;be.set(C,qe),ya(C)?C.forEach(function(Ot){qe.add(Wo(Ot,L,q,Ot,C,be))}):ad(C)&&C.forEach(function(Ot,Mt){qe.set(Mt,Wo(Ot,L,q,Mt,C,be))});var ir=_t?i:(wt?ct?cs:Uc:ct?Dr:zi)(C);return Wt(ir||C,function(Ot,Mt){ir&&(Ot=C[Mt=Ot]),Af(qe,Mt,Wo(Ot,L,q,Mt,C,be))}),qe}function Sl(C,L,q){var Q=q.length;if(C==null)return!Q;for(C=vn(C);Q--;){var ae=q[Q],be=L[ae],qe=C[ae];if(qe===i&&!(ae in C)||!be(qe))return!1}return!0}function If(C,L,q){if(typeof C!="function")throw new gi(a);return Bl(function(){C.apply(i,q)},L)}function As(C,L,q,Q){var ae=-1,be=Lu,qe=!0,Ye=C.length,ct=[],wt=L.length;if(!Ye)return ct;q&&(L=Vr(L,Tr(q))),Q?(be=Eo,qe=!1):L.length>=200&&(be=ru,qe=!1,L=new rs(L));e:for(;++ae<Ye;){var _t=C[ae],It=q==null?_t:q(_t);if(_t=Q||_t!==0?_t:0,qe&&It==It){for(var Xt=wt;Xt--;)if(L[Xt]===It)continue e;ct.push(_t)}else be(L,It,Q)||ct.push(_t)}return ct}ce.templateSettings={escape:ot,evaluate:$e,interpolate:rt,variable:"",imports:{_:ce}},ce.prototype=jh.prototype,ce.prototype.constructor=ce,Jn.prototype=Cs(jh.prototype),Jn.prototype.constructor=Jn,Mr.prototype=Cs(jh.prototype),Mr.prototype.constructor=Mr,au.prototype.clear=function(){this.__data__=Pc?Pc(null):{},this.size=0},au.prototype.delete=function(C){var L=this.has(C)&&delete this.__data__[C];return this.size-=L?1:0,L},au.prototype.get=function(C){var L=this.__data__;if(Pc){var q=L[C];return q===o?i:q}return Kr.call(L,C)?L[C]:i},au.prototype.has=function(C){var L=this.__data__;return Pc?L[C]!==i:Kr.call(L,C)},au.prototype.set=function(C,L){var q=this.__data__;return this.size+=this.has(C)?0:1,q[C]=Pc&&L===i?o:L,this},Vo.prototype.clear=function(){this.__data__=[],this.size=0},Vo.prototype.delete=function(C){var L=this.__data__,q=qu(L,C);return!(q<0||(q==L.length-1?L.pop():Sf.call(L,q,1),--this.size,0))},Vo.prototype.get=function(C){var L=this.__data__,q=qu(L,C);return q<0?i:L[q][1]},Vo.prototype.has=function(C){return qu(this.__data__,C)>-1},Vo.prototype.set=function(C,L){var q=this.__data__,Q=qu(q,C);return Q<0?(++this.size,q.push([C,L])):q[Q][1]=L,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new au,map:new(oo||Vo),string:new au}},$i.prototype.delete=function(C){var L=du(this,C).delete(C);return this.size-=L?1:0,L},$i.prototype.get=function(C){return du(this,C).get(C)},$i.prototype.has=function(C){return du(this,C).has(C)},$i.prototype.set=function(C,L){var q=du(this,C),Q=q.size;return q.set(C,L),this.size+=q.size==Q?0:1,this},rs.prototype.add=rs.prototype.push=function(C){return this.__data__.set(C,o),this},rs.prototype.has=function(C){return this.__data__.has(C)},Ar.prototype.clear=function(){this.__data__=new Vo,this.size=0},Ar.prototype.delete=function(C){var L=this.__data__,q=L.delete(C);return this.size=L.size,q},Ar.prototype.get=function(C){return this.__data__.get(C)},Ar.prototype.has=function(C){return this.__data__.has(C)},Ar.prototype.set=function(C,L){var q=this.__data__;if(q instanceof Vo){var Q=q.__data__;if(!oo||Q.length<199)return Q.push([C,L]),this.size=++q.size,this;q=this.__data__=new $i(Q)}return q.set(C,L),this.size=q.size,this};var Ho=ks(Is),So=ks(kf,!0);function Tp(C,L){var q=!0;return Ho(C,function(Q,ae,be){return q=!!L(Q,ae,be)}),q}function Rf(C,L,q){for(var Q=-1,ae=C.length;++Q<ae;){var be=C[Q],qe=L(be);if(qe!=null&&(Ye===i?qe==qe&&!Po(qe):q(qe,Ye)))var Ye=qe,ct=be}return ct}function Zd(C,L){var q=[];return Ho(C,function(Q,ae,be){L(Q,ae,be)&&q.push(Q)}),q}function Hn(C,L,q,Q,ae){var be=-1,qe=C.length;for(q||(q=jl),ae||(ae=[]);++be<qe;){var Ye=C[be];L>0&&q(Ye)?L>1?Hn(Ye,L-1,q,Q,ae):sa(ae,Ye):Q||(ae[ae.length]=Ye)}return ae}var Tl=Nc(),Bh=Nc(!0);function Is(C,L){return C&&Tl(C,L,zi)}function kf(C,L){return C&&Bh(C,L,zi)}function Mf(C,L){return ka(L,function(q){return za(C[q])})}function su(C,L){for(var q=0,Q=(L=yo(L,C)).length;C!=null&&q<Q;)C=C[xi(L[q++])];return q&&q==Q?C:i}function Ri(C,L,q){var Q=L(C);return _r(C)?Q:sa(Q,q(C))}function ln(C){return C==null?C===i?"[object Undefined]":"[object Null]":ts&&ts in vn(C)?function(L){var q=Kr.call(L,ts),Q=L[ts];try{L[ts]=i;var ae=!0}catch{}var be=Ss.call(L);return ae&&(q?L[ts]=Q:delete L[ts]),be}(C):function(L){return Ss.call(L)}(C)}function Uh(C,L){return C>L}function Cl(C,L){return C!=null&&Kr.call(C,L)}function zh(C,L){return C!=null&&L in vn(C)}function Gu(C,L,q){for(var Q=q?Eo:Lu,ae=C[0].length,be=C.length,qe=be,Ye=qt(be),ct=1/0,wt=[];qe--;){var _t=C[qe];qe&&L&&(_t=Vr(_t,Tr(L))),ct=Wn(_t.length,ct),Ye[qe]=!q&&(L||ae>=120&&_t.length>=120)?new rs(qe&&_t):i}_t=C[0];var It=-1,Xt=Ye[0];e:for(;++It<ae&&wt.length<ct;){var Kt=_t[It],ir=L?L(Kt):Kt;if(Kt=q||Kt!==0?Kt:0,!(Xt?ru(Xt,ir):Q(wt,ir,q))){for(qe=be;--qe;){var Ot=Ye[qe];if(!(Ot?ru(Ot,ir):Q(C[qe],ir,q)))continue e}Xt&&Xt.push(ir),wt.push(Kt)}}return wt}function uu(C,L,q){var Q=(C=kp(C,L=yo(L,C)))==null?C:C[xi(ci(L))];return Q==null?i:ho(Q,C,q)}function Na(C){return Dn(C)&&ln(C)==y}function Vu(C,L,q,Q,ae){return C===L||(C==null||L==null||!Dn(C)&&!Dn(L)?C!=C&&L!=L:function(be,qe,Ye,ct,wt,_t){var It=_r(be),Xt=_r(qe),Kt=It?w:Cn(be),ir=Xt?w:Cn(qe),Ot=(Kt=Kt==y?A:Kt)==A,Mt=(ir=ir==y?A:ir)==A,cr=Kt==ir;if(cr&&Qi(be)){if(!Qi(qe))return!1;It=!0,Ot=!1}if(cr&&!Ot)return _t||(_t=new Ar),It||vs(be)?Xo(be,qe,Ye,ct,wt,_t):function(rr,lr,Si,Xn,Ro,Ln,_o){switch(Si){case ee:if(rr.byteLength!=lr.byteLength||rr.byteOffset!=lr.byteOffset)return!1;rr=rr.buffer,lr=lr.buffer;case J:return!(rr.byteLength!=lr.byteLength||!Ln(new Tc(rr),new Tc(lr)));case b:case g:case T:return ao(+rr,+lr);case _:return rr.name==lr.name&&rr.message==lr.message;case N:case B:return rr==lr+"";case I:var Ls=Gn;case j:var Ns=1&Xn;if(Ls||(Ls=iu),rr.size!=lr.size&&!Ns)return!1;var ys=_o.get(rr);if(ys)return ys==lr;Xn|=2,_o.set(rr,lr);var ms=Xo(Ls(rr),Ls(lr),Xn,Ro,Ln,_o);return _o.delete(rr),ms;case W:if(zr)return zr.call(rr)==zr.call(lr)}return!1}(be,qe,Kt,Ye,ct,wt,_t);if(!(1&Ye)){var Nt=Ot&&Kr.call(be,"__wrapped__"),gr=Mt&&Kr.call(qe,"__wrapped__");if(Nt||gr){var pr=Nt?be.value():be,Zr=gr?qe.value():qe;return _t||(_t=new Ar),wt(pr,Zr,Ye,ct,_t)}}return!!cr&&(_t||(_t=new Ar),function(rr,lr,Si,Xn,Ro,Ln){var _o=1&Si,Ls=Uc(rr),Ns=Ls.length;if(Ns!=Uc(lr).length&&!_o)return!1;for(var ys=Ns;ys--;){var ms=Ls[ys];if(!(_o?ms in lr:Kr.call(lr,ms)))return!1}var js=Ln.get(rr),Iv=Ln.get(lr);if(js&&Iv)return js==lr&&Iv==rr;var oh=!0;Ln.set(rr,lr),Ln.set(lr,rr);for(var Rv=_o;++ys<Ns;){var Fs=rr[ms=Ls[ys]],Kc=lr[ms];if(Xn)var kv=_o?Xn(Kc,Fs,ms,lr,rr,Ln):Xn(Fs,Kc,ms,rr,lr,Ln);if(!(kv===i?Fs===Kc||Ro(Fs,Kc,Si,Xn,Ln):kv)){oh=!1;break}Rv||(Rv=ms=="constructor")}if(oh&&!Rv){var ah=rr.constructor,sh=lr.constructor;ah==sh||!("constructor"in rr)||!("constructor"in lr)||typeof ah=="function"&&ah instanceof ah&&typeof sh=="function"&&sh instanceof sh||(oh=!1)}return Ln.delete(rr),Ln.delete(lr),oh}(be,qe,Ye,ct,wt,_t))}(C,L,q,Q,Vu,ae))}function lu(C,L,q,Q){var ae=q.length,be=ae,qe=!Q;if(C==null)return!be;for(C=vn(C);ae--;){var Ye=q[ae];if(qe&&Ye[2]?Ye[1]!==C[Ye[0]]:!(Ye[0]in C))return!1}for(;++ae<be;){var ct=(Ye=q[ae])[0],wt=C[ct],_t=Ye[1];if(qe&&Ye[2]){if(wt===i&&!(ct in C))return!1}else{var It=new Ar;if(Q)var Xt=Q(wt,_t,ct,C,L,It);if(!(Xt===i?Vu(_t,wt,3,Q,It):Xt))return!1}}return!0}function Ac(C){return!(!$n(C)||(L=C,ou&&ou in L))&&(za(C)?Of:Ft).test(yu(C));var L}function Pl(C){return typeof C=="function"?C:C==null?Jo:typeof C=="object"?_r(C)?Ic(C[0],C[1]):Qd(C):xv(C)}function cu(C){if(!pu(C))return io(C);var L=[];for(var q in vn(C))Kr.call(C,q)&&q!="constructor"&&L.push(q);return L}function Rs(C,L){return C<L}function Cp(C,L){var q=-1,Q=Co(C)?qt(C.length):[];return Ho(C,function(ae,be,qe){Q[++q]=L(ae,be,qe)}),Q}function Qd(C){var L=Gf(C);return L.length==1&&L[0][2]?Ba(L[0][0],L[0][1]):function(q){return q===C||lu(q,C,L)}}function Ic(C,L){return Bi(C)&&Rp(L)?Ba(xi(C),L):function(q){var Q=gv(q,C);return Q===i&&Q===L?yv(q,C):Vu(L,Q,3)}}function qh(C,L,q,Q,ae){C!==L&&Tl(L,function(be,qe){if(ae||(ae=new Ar),$n(be))(function(ct,wt,_t,It,Xt,Kt,ir){var Ot=gu(ct,_t),Mt=gu(wt,_t),cr=ir.get(Mt);if(cr)Kd(ct,_t,cr);else{var Nt=Kt?Kt(Ot,Mt,_t+"",ct,wt,ir):i,gr=Nt===i;if(gr){var pr=_r(Mt),Zr=!pr&&Qi(Mt),rr=!pr&&!Zr&&vs(Mt);Nt=Mt,pr||Zr||rr?_r(Ot)?Nt=Ot:Yn(Ot)?Nt=To(Ot):Zr?(gr=!1,Nt=kl(Mt,!0)):rr?(gr=!1,Nt=Ff(Mt,!0)):Nt=[]:Wc(Mt)||Ko(Mt)?(Nt=Ot,Ko(Ot)?Nt=ld(Ot):$n(Ot)&&!za(Ot)||(Nt=Nl(Mt))):gr=!1}gr&&(ir.set(Mt,Nt),Xt(Nt,Mt,It,Kt,ir),ir.delete(Mt)),Kd(ct,_t,Nt)}})(C,L,qe,q,qh,Q,ae);else{var Ye=Q?Q(gu(C,qe),be,qe+"",C,L,ae):i;Ye===i&&(Ye=be),Kd(C,qe,Ye)}},Dr)}function Rc(C,L){var q=C.length;if(q)return Ki(L+=L<0?q:0,q)?C[L]:i}function kc(C,L,q){L=L.length?Vr(L,function(be){return _r(be)?function(qe){return su(qe,be.length===1?be[0]:be)}:be}):[Jo];var Q=-1;L=Vr(L,Tr(vr()));var ae=Cp(C,function(be,qe,Ye){var ct=Vr(L,function(wt){return wt(be)});return{criteria:ct,index:++Q,value:be}});return function(be,qe){var Ye=be.length;for(be.sort(function(ct,wt){return function(_t,It,Xt){for(var Kt=-1,ir=_t.criteria,Ot=It.criteria,Mt=ir.length,cr=Xt.length;++Kt<Mt;){var Nt=Ip(ir[Kt],Ot[Kt]);if(Nt)return Kt>=cr?Nt:Nt*(Xt[Kt]=="desc"?-1:1)}return _t.index-It.index}(ct,wt,q)});Ye--;)be[Ye]=be[Ye].value;return be}(ae)}function ca(C,L,q){for(var Q=-1,ae=L.length,be={};++Q<ae;){var qe=L[Q],Ye=su(C,qe);q(Ye,qe)&&Al(be,yo(qe,C),Ye)}return be}function fu(C,L,q,Q){var ae=Q?Os:eu,be=-1,qe=L.length,Ye=C;for(C===L&&(L=To(L)),q&&(Ye=Vr(C,Tr(q)));++be<qe;)for(var ct=0,wt=L[be],_t=q?q(wt):wt;(ct=ae(Ye,_t,ct,Q))>-1;)Ye!==C&&Sf.call(Ye,ct,1),Sf.call(C,ct,1);return C}function ge(C,L){for(var q=C?L.length:0,Q=q-1;q--;){var ae=L[q];if(q==Q||ae!==be){var be=ae;Ki(ae)?Sf.call(C,ae,1):Gh(C,ae)}}return C}function Wu(C,L){return C+Lh(Op()*(L-C+1))}function Hu(C,L){var q="";if(!C||L<1||L>f)return q;do L%2&&(q+=C),(L=Lh(L/2))&&(C+=C);while(L);return q}function fr(C,L){return Kh(Vf(C,L,Jo),C+"")}function Ir(C){return Fh(Eu(C))}function Df(C,L){var q=Eu(C);return Wf(q,La(L,0,q.length))}function Al(C,L,q,Q){if(!$n(C))return C;for(var ae=-1,be=(L=yo(L,C)).length,qe=be-1,Ye=C;Ye!=null&&++ae<be;){var ct=xi(L[ae]),wt=q;if(ct==="__proto__"||ct==="constructor"||ct==="prototype")return C;if(ae!=qe){var _t=Ye[ct];(wt=Q?Q(_t,ct,Ye):i)===i&&(wt=$n(_t)?_t:Ki(L[ae+1])?[]:{})}Af(Ye,ct,wt),Ye=Ye[ct]}return C}var Lf=Pf?function(C,L){return Pf.set(C,L),C}:Jo,ns=Tf?function(C,L){return Tf(C,"toString",{configurable:!0,enumerable:!1,value:fi(L),writable:!0})}:Jo;function Zg(C){return Wf(Eu(C))}function ja(C,L,q){var Q=-1,ae=C.length;L<0&&(L=-L>ae?0:ae+L),(q=q>ae?ae:q)<0&&(q+=ae),ae=L>q?0:q-L>>>0,L>>>=0;for(var be=qt(ae);++Q<ae;)be[Q]=C[Q+L];return be}function Pp(C,L){var q;return Ho(C,function(Q,ae,be){return!(q=L(Q,ae,be))}),!!q}function Nf(C,L,q){var Q=0,ae=C==null?Q:C.length;if(typeof L=="number"&&L==L&&ae<=2147483647){for(;Q<ae;){var be=Q+ae>>>1,qe=C[be];qe!==null&&!Po(qe)&&(q?qe<=L:qe<L)?Q=be+1:ae=be}return ae}return Il(C,L,Jo,q)}function Il(C,L,q,Q){var ae=0,be=C==null?0:C.length;if(be===0)return 0;for(var qe=(L=q(L))!=L,Ye=L===null,ct=Po(L),wt=L===i;ae<be;){var _t=Lh((ae+be)/2),It=q(C[_t]),Xt=It!==i,Kt=It===null,ir=It==It,Ot=Po(It);if(qe)var Mt=Q||ir;else Mt=wt?ir&&(Q||Xt):Ye?ir&&Xt&&(Q||!Kt):ct?ir&&Xt&&!Kt&&(Q||!Ot):!Kt&&!Ot&&(Q?It<=L:It<L);Mt?ae=_t+1:be=_t}return Wn(be,4294967294)}function Fa(C,L){for(var q=-1,Q=C.length,ae=0,be=[];++q<Q;){var qe=C[q],Ye=L?L(qe):qe;if(!q||!ao(Ye,ct)){var ct=Ye;be[ae++]=qe===0?0:qe}}return be}function Jd(C){return typeof C=="number"?C:Po(C)?h:+C}function fa(C){if(typeof C=="string")return C;if(_r(C))return Vr(C,fa)+"";if(Po(C))return yi?yi.call(C):"";var L=C+"";return L=="0"&&1/C==-1/0?"-0":L}function tr(C,L,q){var Q=-1,ae=Lu,be=C.length,qe=!0,Ye=[],ct=Ye;if(q)qe=!1,ae=Eo;else if(be>=200){var wt=L?null:qf(C);if(wt)return iu(wt);qe=!1,ae=ru,ct=new rs}else ct=L?[]:Ye;e:for(;++Q<be;){var _t=C[Q],It=L?L(_t):_t;if(_t=q||_t!==0?_t:0,qe&&It==It){for(var Xt=ct.length;Xt--;)if(ct[Xt]===It)continue e;L&&ct.push(It),Ye.push(_t)}else ae(ct,It,q)||(ct!==Ye&&ct.push(It),Ye.push(_t))}return Ye}function Gh(C,L){return(C=kp(C,L=yo(L,C)))==null||delete C[xi(ci(L))]}function po(C,L,q,Q){return Al(C,L,q(su(C,L)),Q)}function go(C,L,q,Q){for(var ae=C.length,be=Q?ae:-1;(Q?be--:++be<ae)&&L(C[be],be,C););return q?ja(C,Q?0:be,Q?be+1:ae):ja(C,Q?be+1:0,Q?ae:be)}function ha(C,L){var q=C;return q instanceof Mr&&(q=q.value()),vl(L,function(Q,ae){return ae.func.apply(ae.thisArg,sa([Q],ae.args))},q)}function jf(C,L,q){var Q=C.length;if(Q<2)return Q?tr(C[0]):[];for(var ae=-1,be=qt(Q);++ae<Q;)for(var qe=C[ae],Ye=-1;++Ye<Q;)Ye!=ae&&(be[ae]=As(be[ae]||qe,C[Ye],L,q));return tr(Hn(be,1),L,q)}function Ap(C,L,q){for(var Q=-1,ae=C.length,be=L.length,qe={};++Q<ae;){var Ye=Q<be?L[Q]:i;q(qe,C[Q],Ye)}return qe}function Rl(C){return Yn(C)?C:[]}function Mc(C){return typeof C=="function"?C:Jo}function yo(C,L){return _r(C)?C:Bi(C,L)?[C]:Zh(an(C))}var Qg=fr;function da(C,L,q){var Q=C.length;return q=q===i?Q:q,!L&&q>=Q?C:ja(C,L,q)}var va=wp||function(C){return Ai.clearTimeout(C)};function kl(C,L){if(L)return C.slice();var q=C.length,Q=_p?_p(q):new C.constructor(q);return C.copy(Q),Q}function Dc(C){var L=new C.constructor(C.byteLength);return new Tc(L).set(new Tc(C)),L}function Ff(C,L){var q=L?Dc(C.buffer):C.buffer;return new C.constructor(q,C.byteOffset,C.length)}function Ip(C,L){if(C!==L){var q=C!==i,Q=C===null,ae=C==C,be=Po(C),qe=L!==i,Ye=L===null,ct=L==L,wt=Po(L);if(!Ye&&!wt&&!be&&C>L||be&&qe&&ct&&!Ye&&!wt||Q&&qe&&ct||!q&&ct||!ae)return 1;if(!Q&&!be&&!wt&&C<L||wt&&q&&ae&&!Q&&!be||Ye&&q&&ae||!qe&&ae||!ct)return-1}return 0}function Lc(C,L,q,Q){for(var ae=-1,be=C.length,qe=q.length,Ye=-1,ct=L.length,wt=Tn(be-qe,0),_t=qt(ct+wt),It=!Q;++Ye<ct;)_t[Ye]=L[Ye];for(;++ae<qe;)(It||ae<be)&&(_t[q[ae]]=C[ae]);for(;wt--;)_t[Ye++]=C[ae++];return _t}function Vh(C,L,q,Q){for(var ae=-1,be=C.length,qe=-1,Ye=q.length,ct=-1,wt=L.length,_t=Tn(be-Ye,0),It=qt(_t+wt),Xt=!Q;++ae<_t;)It[ae]=C[ae];for(var Kt=ae;++ct<wt;)It[Kt+ct]=L[ct];for(;++qe<Ye;)(Xt||ae<be)&&(It[Kt+q[qe]]=C[ae++]);return It}function To(C,L){var q=-1,Q=C.length;for(L||(L=qt(Q));++q<Q;)L[q]=C[q];return L}function is(C,L,q,Q){var ae=!q;q||(q={});for(var be=-1,qe=L.length;++be<qe;){var Ye=L[be],ct=Q?Q(q[Ye],C[Ye],Ye,q,C):i;ct===i&&(ct=C[Ye]),ae?Ps(q,Ye,ct):Af(q,Ye,ct)}return q}function Bf(C,L){return function(q,Q){var ae=_r(q)?gc:Nr,be=L?L():{};return ae(q,C,vr(Q,2),be)}}function Yu(C){return fr(function(L,q){var Q=-1,ae=q.length,be=ae>1?q[ae-1]:i,qe=ae>2?q[2]:i;for(be=C.length>3&&typeof be=="function"?(ae--,be):i,qe&&mo(q[0],q[1],qe)&&(be=ae<3?i:be,ae=1),L=vn(L);++Q<ae;){var Ye=q[Q];Ye&&C(L,Ye,Q,be)}return L})}function ks(C,L){return function(q,Q){if(q==null)return q;if(!Co(q))return C(q,Q);for(var ae=q.length,be=L?ae:-1,qe=vn(q);(L?be--:++be<ae)&&Q(qe[be],be,qe)!==!1;);return q}}function Nc(C){return function(L,q,Q){for(var ae=-1,be=vn(L),qe=Q(L),Ye=qe.length;Ye--;){var ct=qe[C?Ye:++ae];if(q(be[ct],ct,be)===!1)break}return L}}function os(C){return function(L){var q=nu(L=an(L))?Zn(L):i,Q=q?q[0]:L.charAt(0),ae=q?da(q,1).join(""):L.slice(1);return Q[C]()+ae}}function Ml(C){return function(L){return vl(rh(ps(L).replace(Oi,"")),C,"")}}function hu(C){return function(){var L=arguments;switch(L.length){case 0:return new C;case 1:return new C(L[0]);case 2:return new C(L[0],L[1]);case 3:return new C(L[0],L[1],L[2]);case 4:return new C(L[0],L[1],L[2],L[3]);case 5:return new C(L[0],L[1],L[2],L[3],L[4]);case 6:return new C(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new C(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var q=Cs(C.prototype),Q=C.apply(q,L);return $n(Q)?Q:q}}function as(C){return function(L,q,Q){var ae=vn(L);if(!Co(L)){var be=vr(q,3);L=zi(L),q=function(Ye){return be(ae[Ye],Ye,ae)}}var qe=C(L,q,Q);return qe>-1?ae[be?L[qe]:qe]:i}}function Uf(C){return pa(function(L){var q=L.length,Q=q,ae=Jn.prototype.thru;for(C&&L.reverse();Q--;){var be=L[Q];if(typeof be!="function")throw new gi(a);if(ae&&!qe&&Xi(be)=="wrapper")var qe=new Jn([],!0)}for(Q=qe?Q:q;++Q<q;){var Ye=Xi(be=L[Q]),ct=Ye=="wrapper"?Yh(be):i;qe=ct&&Fl(ct[0])&&ct[1]==424&&!ct[4].length&&ct[9]==1?qe[Xi(ct[0])].apply(qe,ct[3]):be.length==1&&Fl(be)?qe[Ye]():qe.thru(be)}return function(){var wt=arguments,_t=wt[0];if(qe&&wt.length==1&&_r(_t))return qe.plant(_t).value();for(var It=0,Xt=q?L[It].apply(this,wt):_t;++It<q;)Xt=L[It].call(this,Xt);return Xt}})}function ss(C,L,q,Q,ae,be,qe,Ye,ct,wt){var _t=L&l,It=1&L,Xt=2&L,Kt=24&L,ir=512&L,Ot=Xt?i:hu(C);return function Mt(){for(var cr=arguments.length,Nt=qt(cr),gr=cr;gr--;)Nt[gr]=arguments[gr];if(Kt)var pr=$u(Mt),Zr=function(Xn,Ro){for(var Ln=Xn.length,_o=0;Ln--;)Xn[Ln]===Ro&&++_o;return _o}(Nt,pr);if(Q&&(Nt=Lc(Nt,Q,ae,Kt)),be&&(Nt=Vh(Nt,be,qe,Kt)),cr-=Zr,Kt&&cr<wt){var rr=ro(Nt,pr);return Hh(C,L,ss,Mt.placeholder,q,Nt,rr,Ye,ct,wt-cr)}var lr=It?q:this,Si=Xt?lr[C]:C;return cr=Nt.length,Ye?Nt=function(Xn,Ro){for(var Ln=Xn.length,_o=Wn(Ro.length,Ln),Ls=To(Xn);_o--;){var Ns=Ro[_o];Xn[_o]=Ki(Ns,Ln)?Ls[Ns]:i}return Xn}(Nt,Ye):ir&&cr>1&&Nt.reverse(),_t&&ct<cr&&(Nt.length=ct),this&&this!==Ai&&this instanceof Mt&&(Si=Ot||hu(Si)),Si.apply(lr,Nt)}}function Yo(C,L){return function(q,Q){return function(ae,be,qe,Ye){return Is(ae,function(ct,wt,_t){be(Ye,qe(ct),wt,_t)}),Ye}(q,C,L(Q),{})}}function Wh(C,L){return function(q,Q){var ae;if(q===i&&Q===i)return L;if(q!==i&&(ae=q),Q!==i){if(ae===i)return Q;typeof q=="string"||typeof Q=="string"?(q=fa(q),Q=fa(Q)):(q=Jd(q),Q=Jd(Q)),ae=C(q,Q)}return ae}}function zf(C){return pa(function(L){return L=Vr(L,Tr(vr())),fr(function(q){var Q=this;return C(L,function(ae){return ho(ae,Q,q)})})})}function $o(C,L){var q=(L=L===i?" ":fa(L)).length;if(q<2)return q?Hu(L,C):L;var Q=Hu(L,Dh(C/Fi(L)));return nu(L)?da(Zn(Q),0,C).join(""):Q.slice(0,C)}function jc(C){return function(L,q,Q){return Q&&typeof Q!="number"&&mo(L,q,Q)&&(q=Q=i),L=ma(L),q===i?(q=L,L=0):q=ma(q),function(ae,be,qe,Ye){for(var ct=-1,wt=Tn(Dh((be-ae)/(qe||1)),0),_t=qt(wt);wt--;)_t[Ye?wt:++ct]=ae,ae+=qe;return _t}(L,q,Q=Q===i?L<q?1:-1:ma(Q),C)}}function us(C){return function(L,q){return typeof L=="string"&&typeof q=="string"||(L=ba(L),q=ba(q)),C(L,q)}}function Hh(C,L,q,Q,ae,be,qe,Ye,ct,wt){var _t=8&L;L|=_t?u:64,4&(L&=~(_t?64:u))||(L&=-4);var It=[C,L,ae,_t?be:i,_t?qe:i,_t?i:be,_t?i:qe,Ye,ct,wt],Xt=q.apply(i,It);return Fl(C)&&Xh(Xt,It),Xt.placeholder=Q,fs(Xt,C,L)}function Dl(C){var L=no[C];return function(q,Q){if(q=ba(q),(Q=Q==null?0:Wn(Sr(Q),292))&&$d(q)){var ae=(an(q)+"e").split("e");return+((ae=(an(L(ae[0]+"e"+(+ae[1]+Q)))+"e").split("e"))[0]+"e"+(+ae[1]-Q))}return L(q)}}var qf=_l&&1/iu(new _l([,-0]))[1]==c?function(C){return new _l(C)}:pd;function ev(C){return function(L){var q=Cn(L);return q==I?Gn(L):q==j?Oc(L):function(Q,ae){return Vr(ae,function(be){return[be,Q[be]]})}(L,C(L))}}function ls(C,L,q,Q,ae,be,qe,Ye){var ct=2&L;if(!ct&&typeof C!="function")throw new gi(a);var wt=Q?Q.length:0;if(wt||(L&=-97,Q=ae=i),qe=qe===i?qe:Tn(Sr(qe),0),Ye=Ye===i?Ye:Sr(Ye),wt-=ae?ae.length:0,64&L){var _t=Q,It=ae;Q=ae=i}var Xt=ct?i:Yh(C),Kt=[C,L,q,Q,ae,_t,It,be,qe,Ye];if(Xt&&function(Ot,Mt){var cr=Ot[1],Nt=Mt[1],gr=cr|Nt,pr=gr<131,Zr=Nt==l&&cr==8||Nt==l&&cr==256&&Ot[7].length<=Mt[8]||Nt==384&&Mt[7].length<=Mt[8]&&cr==8;if(!pr&&!Zr)return Ot;1&Nt&&(Ot[2]=Mt[2],gr|=1&cr?0:4);var rr=Mt[3];if(rr){var lr=Ot[3];Ot[3]=lr?Lc(lr,rr,Mt[4]):rr,Ot[4]=lr?ro(Ot[3],s):Mt[4]}(rr=Mt[5])&&(lr=Ot[5],Ot[5]=lr?Vh(lr,rr,Mt[6]):rr,Ot[6]=lr?ro(Ot[5],s):Mt[6]),(rr=Mt[7])&&(Ot[7]=rr),Nt&l&&(Ot[8]=Ot[8]==null?Mt[8]:Wn(Ot[8],Mt[8])),Ot[9]==null&&(Ot[9]=Mt[9]),Ot[0]=Mt[0],Ot[1]=gr}(Kt,Xt),C=Kt[0],L=Kt[1],q=Kt[2],Q=Kt[3],ae=Kt[4],!(Ye=Kt[9]=Kt[9]===i?ct?0:C.length:Tn(Kt[9]-wt,0))&&24&L&&(L&=-25),L&&L!=1)ir=L==8||L==16?function(Ot,Mt,cr){var Nt=hu(Ot);return function gr(){for(var pr=arguments.length,Zr=qt(pr),rr=pr,lr=$u(gr);rr--;)Zr[rr]=arguments[rr];var Si=pr<3&&Zr[0]!==lr&&Zr[pr-1]!==lr?[]:ro(Zr,lr);return(pr-=Si.length)<cr?Hh(Ot,Mt,ss,gr.placeholder,i,Zr,Si,i,i,cr-pr):ho(this&&this!==Ai&&this instanceof gr?Nt:Ot,this,Zr)}}(C,L,Ye):L!=u&&L!=33||ae.length?ss.apply(i,Kt):function(Ot,Mt,cr,Nt){var gr=1&Mt,pr=hu(Ot);return function Zr(){for(var rr=-1,lr=arguments.length,Si=-1,Xn=Nt.length,Ro=qt(Xn+lr),Ln=this&&this!==Ai&&this instanceof Zr?pr:Ot;++Si<Xn;)Ro[Si]=Nt[Si];for(;lr--;)Ro[Si++]=arguments[++rr];return ho(Ln,gr?cr:this,Ro)}}(C,L,q,Q);else var ir=function(Ot,Mt,cr){var Nt=1&Mt,gr=hu(Ot);return function pr(){return(this&&this!==Ai&&this instanceof pr?gr:Ot).apply(Nt?cr:this,arguments)}}(C,L,q);return fs((Xt?Lf:Xh)(ir,Kt),C,L)}function ki(C,L,q,Q){return C===i||ao(C,Nu[q])&&!Kr.call(Q,q)?L:C}function Fc(C,L,q,Q,ae,be){return $n(C)&&$n(L)&&(be.set(L,C),qh(C,L,i,Fc,be),be.delete(L)),C}function Bc(C){return Wc(C)?i:C}function Xo(C,L,q,Q,ae,be){var qe=1&q,Ye=C.length,ct=L.length;if(Ye!=ct&&!(qe&&ct>Ye))return!1;var wt=be.get(C),_t=be.get(L);if(wt&&_t)return wt==L&&_t==C;var It=-1,Xt=!0,Kt=2&q?new rs:i;for(be.set(C,L),be.set(L,C);++It<Ye;){var ir=C[It],Ot=L[It];if(Q)var Mt=qe?Q(Ot,ir,It,L,C,be):Q(ir,Ot,It,C,L,be);if(Mt!==i){if(Mt)continue;Xt=!1;break}if(Kt){if(!mc(L,function(cr,Nt){if(!ru(Kt,Nt)&&(ir===cr||ae(ir,cr,q,Q,be)))return Kt.push(Nt)})){Xt=!1;break}}else if(ir!==Ot&&!ae(ir,Ot,q,Q,be)){Xt=!1;break}}return be.delete(C),be.delete(L),Xt}function pa(C){return Kh(Vf(C,i,Mp),C+"")}function Uc(C){return Ri(C,zi,tv)}function cs(C){return Ri(C,Dr,Ll)}var Yh=Pf?function(C){return Pf.get(C)}:pd;function Xi(C){for(var L=C.name+"",q=wl[L],Q=Kr.call(wl,L)?q.length:0;Q--;){var ae=q[Q],be=ae.func;if(be==null||be==C)return ae.name}return L}function $u(C){return(Kr.call(ce,"placeholder")?ce:C).placeholder}function vr(){var C=ce.iteratee||uo;return C=C===uo?Pl:C,arguments.length?C(arguments[0],arguments[1]):C}function du(C,L){var q,Q,ae=C.__data__;return((Q=typeof(q=L))=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?q!=="__proto__":q===null)?ae[typeof L=="string"?"string":"hash"]:ae.map}function Gf(C){for(var L=zi(C),q=L.length;q--;){var Q=L[q],ae=C[Q];L[q]=[Q,ae,Rp(ae)]}return L}function vu(C,L){var q=function(Q,ae){return Q==null?i:Q[ae]}(C,L);return Ac(q)?q:i}var tv=Cf?function(C){return C==null?[]:(C=vn(C),ka(Cf(C),function(L){return Yd.call(C,L)}))}:Io,Ll=Cf?function(C){for(var L=[];C;)sa(L,tv(C)),C=Bu(C);return L}:Io,Cn=ln;function $h(C,L,q){for(var Q=-1,ae=(L=yo(L,C)).length,be=!1;++Q<ae;){var qe=xi(L[Q]);if(!(be=C!=null&&q(C,qe)))break;C=C[qe]}return be||++Q!=ae?be:!!(ae=C==null?0:C.length)&&Zo(ae)&&Ki(qe,ae)&&(_r(C)||Ko(C))}function Nl(C){return typeof C.constructor!="function"||pu(C)?{}:Cs(Bu(C))}function jl(C){return _r(C)||Ko(C)||!!(vo&&C&&C[vo])}function Ki(C,L){var q=typeof C;return!!(L=L??f)&&(q=="number"||q!="symbol"&&Vt.test(C))&&C>-1&&C%1==0&&C<L}function mo(C,L,q){if(!$n(q))return!1;var Q=typeof L;return!!(Q=="number"?Co(q)&&Ki(L,q.length):Q=="string"&&L in q)&&ao(q[L],C)}function Bi(C,L){if(_r(C))return!1;var q=typeof C;return!(q!="number"&&q!="symbol"&&q!="boolean"&&C!=null&&!Po(C))||Ze.test(C)||!ht.test(C)||L!=null&&C in vn(L)}function Fl(C){var L=Xi(C),q=ce[L];if(typeof q!="function"||!(L in Mr.prototype))return!1;if(C===q)return!0;var Q=Yh(q);return!!Q&&C===Q[0]}(Jt&&Cn(new Jt(new ArrayBuffer(1)))!=ee||oo&&Cn(new oo)!=I||Qn&&Cn(Qn.resolve())!=D||_l&&Cn(new _l)!=j||Cc&&Cn(new Cc)!=V)&&(Cn=function(C){var L=ln(C),q=L==A?C.constructor:i,Q=q?yu(q):"";if(Q)switch(Q){case El:return ee;case tt:return I;case pt:return D;case st:return j;case $t:return V}return L});var Jg=bl?za:gd;function pu(C){var L=C&&C.constructor;return C===(typeof L=="function"&&L.prototype||Nu)}function Rp(C){return C==C&&!$n(C)}function Ba(C,L){return function(q){return q!=null&&q[C]===L&&(L!==i||C in vn(q))}}function Vf(C,L,q){return L=Tn(L===i?C.length-1:L,0),function(){for(var Q=arguments,ae=-1,be=Tn(Q.length-L,0),qe=qt(be);++ae<be;)qe[ae]=Q[L+ae];ae=-1;for(var Ye=qt(L+1);++ae<L;)Ye[ae]=Q[ae];return Ye[L]=q(qe),ho(C,this,Ye)}}function kp(C,L){return L.length<2?C:su(C,ja(L,0,-1))}function gu(C,L){if((L!=="constructor"||typeof C[L]!="function")&&L!="__proto__")return C[L]}var Xh=rv(Lf),Bl=Oo||function(C,L){return Ai.setTimeout(C,L)},Kh=rv(ns);function fs(C,L,q){var Q=L+"";return Kh(C,function(ae,be){var qe=be.length;if(!qe)return ae;var Ye=qe-1;return be[Ye]=(qe>1?"& ":"")+be[Ye],be=be.join(qe>2?", ":" "),ae.replace(ze,`{
/* [wrapped with `+be+`] */
`)}(Q,function(ae,be){return Wt(v,function(qe){var Ye="_."+qe[0];be&qe[1]&&!Lu(ae,Ye)&&ae.push(Ye)}),ae.sort()}(function(ae){var be=ae.match(Le);return be?be[1].split(le):[]}(Q),q)))}function rv(C){var L=0,q=0;return function(){var Q=Nh(),ae=16-(Q-q);if(q=Q,ae>0){if(++L>=800)return arguments[0]}else L=0;return C.apply(i,arguments)}}function Wf(C,L){var q=-1,Q=C.length,ae=Q-1;for(L=L===i?Q:L;++q<L;){var be=Wu(q,ae),qe=C[be];C[be]=C[q],C[q]=qe}return C.length=L,C}var Xu,nv,Zh=(Xu=ds(function(C){var L=[];return C.charCodeAt(0)===46&&L.push(""),C.replace(H,function(q,Q,ae,be){L.push(ae?be.replace(et,"$1"):Q||q)}),L},function(C){return nv.size===500&&nv.clear(),C}),nv=Xu.cache,Xu);function xi(C){if(typeof C=="string"||Po(C))return C;var L=C+"";return L=="0"&&1/C==-1/0?"-0":L}function yu(C){if(C!=null){try{return ju.call(C)}catch{}try{return C+""}catch{}}return""}function iv(C){if(C instanceof Mr)return C.clone();var L=new Jn(C.__wrapped__,C.__chain__);return L.__actions__=To(C.__actions__),L.__index__=C.__index__,L.__values__=C.__values__,L}var Ul=fr(function(C,L){return Yn(C)?As(C,Hn(L,1,Yn,!0)):[]}),ov=fr(function(C,L){var q=ci(L);return Yn(q)&&(q=i),Yn(C)?As(C,Hn(L,1,Yn,!0),vr(q,2)):[]}),av=fr(function(C,L){var q=ci(L);return Yn(q)&&(q=i),Yn(C)?As(C,Hn(L,1,Yn,!0),i,q):[]});function yr(C,L,q){var Q=C==null?0:C.length;if(!Q)return-1;var ae=q==null?0:Sr(q);return ae<0&&(ae=Tn(Q+ae,0)),pl(C,vr(L,3),ae)}function sv(C,L,q){var Q=C==null?0:C.length;if(!Q)return-1;var ae=Q-1;return q!==i&&(ae=Sr(q),ae=q<0?Tn(Q+ae,0):Wn(ae,Q-1)),pl(C,vr(L,3),ae,!0)}function Mp(C){return C!=null&&C.length?Hn(C,1):[]}function zl(C){return C&&C.length?C[0]:i}var uv=fr(function(C){var L=Vr(C,Rl);return L.length&&L[0]===C[0]?Gu(L):[]}),Dp=fr(function(C){var L=ci(C),q=Vr(C,Rl);return L===ci(q)?L=i:q.pop(),q.length&&q[0]===C[0]?Gu(q,vr(L,2)):[]}),Hf=fr(function(C){var L=ci(C),q=Vr(C,Rl);return(L=typeof L=="function"?L:i)&&q.pop(),q.length&&q[0]===C[0]?Gu(q,i,L):[]});function ci(C){var L=C==null?0:C.length;return L?C[L-1]:i}var Lp=fr(Yf);function Yf(C,L){return C&&C.length&&L&&L.length?fu(C,L):C}var Qh=pa(function(C,L){var q=C==null?0:C.length,Q=xl(C,L);return ge(C,Vr(L,function(ae){return Ki(ae,q)?+ae:ae}).sort(Ip)),Q});function $f(C){return C==null?C:xp.call(C)}var Np=fr(function(C){return tr(Hn(C,1,Yn,!0))}),ga=fr(function(C){var L=ci(C);return Yn(L)&&(L=i),tr(Hn(C,1,Yn,!0),vr(L,2))}),Ku=fr(function(C){var L=ci(C);return L=typeof L=="function"?L:i,tr(Hn(C,1,Yn,!0),i,L)});function mu(C){if(!C||!C.length)return[];var L=0;return C=ka(C,function(q){if(Yn(q))return L=Tn(q.length,L),!0}),ml(L,function(q){return Vr(C,bc(q))})}function Jh(C,L){if(!C||!C.length)return[];var q=mu(C);return L==null?q:Vr(q,function(Q){return ho(L,i,Q)})}var ed=fr(function(C,L){return Yn(C)?As(C,L):[]}),Zu=fr(function(C){return jf(ka(C,Yn))}),td=fr(function(C){var L=ci(C);return Yn(L)&&(L=i),jf(ka(C,Yn),vr(L,2))}),Xf=fr(function(C){var L=ci(C);return L=typeof L=="function"?L:i,jf(ka(C,Yn),i,L)}),zc=fr(mu),Zi=fr(function(C){var L=C.length,q=L>1?C[L-1]:i;return q=typeof q=="function"?(C.pop(),q):i,Jh(C,q)});function hs(C){var L=ce(C);return L.__chain__=!0,L}function rd(C,L){return L(C)}var Ms=pa(function(C){var L=C.length,q=L?C[0]:0,Q=this.__wrapped__,ae=function(be){return xl(be,C)};return!(L>1||this.__actions__.length)&&Q instanceof Mr&&Ki(q)?((Q=Q.slice(q,+q+(L?1:0))).__actions__.push({func:rd,args:[ae],thisArg:i}),new Jn(Q,this.__chain__).thru(function(be){return L&&!be.length&&be.push(i),be})):this.thru(ae)}),jp=Bf(function(C,L,q){Kr.call(C,q)?++C[q]:Ps(C,q,1)}),lv=as(yr),ql=as(sv);function qc(C,L){return(_r(C)?Wt:Ho)(C,vr(L,3))}function cv(C,L){return(_r(C)?Js:So)(C,vr(L,3))}var nd=Bf(function(C,L,q){Kr.call(C,q)?C[q].push(L):Ps(C,q,[L])}),fv=fr(function(C,L,q){var Q=-1,ae=typeof L=="function",be=Co(C)?qt(C.length):[];return Ho(C,function(qe){be[++Q]=ae?ho(L,qe,q):uu(qe,L,q)}),be}),id=Bf(function(C,L,q){Ps(C,q,L)});function Gl(C,L){return(_r(C)?Vr:Cp)(C,vr(L,3))}var hv=Bf(function(C,L,q){C[q?0:1].push(L)},function(){return[[],[]]}),Fp=fr(function(C,L){if(C==null)return[];var q=L.length;return q>1&&mo(C,L[0],L[1])?L=[]:q>2&&mo(L[0],L[1],L[2])&&(L=[L[0]]),kc(C,Hn(L,1),[])}),Ui=Ep||function(){return Ai.Date.now()};function Ua(C,L,q){return L=q?i:L,L=C&&L==null?C.length:L,ls(C,l,i,i,i,i,L)}function dv(C,L){var q;if(typeof L!="function")throw new gi(a);return C=Sr(C),function(){return--C>0&&(q=L.apply(this,arguments)),C<=1&&(L=i),q}}var Kf=fr(function(C,L,q){var Q=1;if(q.length){var ae=ro(q,$u(Kf));Q|=u}return ls(C,Q,L,q,ae)}),Zf=fr(function(C,L,q){var Q=3;if(q.length){var ae=ro(q,$u(Zf));Q|=u}return ls(L,Q,C,q,ae)});function Ds(C,L,q){var Q,ae,be,qe,Ye,ct,wt=0,_t=!1,It=!1,Xt=!0;if(typeof C!="function")throw new gi(a);function Kt(Nt){var gr=Q,pr=ae;return Q=ae=i,wt=Nt,qe=C.apply(pr,gr)}function ir(Nt){var gr=Nt-ct;return ct===i||gr>=L||gr<0||It&&Nt-wt>=be}function Ot(){var Nt=Ui();if(ir(Nt))return Mt(Nt);Ye=Bl(Ot,function(gr){var pr=L-(gr-ct);return It?Wn(pr,be-(gr-wt)):pr}(Nt))}function Mt(Nt){return Ye=i,Xt&&Q?Kt(Nt):(Q=ae=i,qe)}function cr(){var Nt=Ui(),gr=ir(Nt);if(Q=arguments,ae=this,ct=Nt,gr){if(Ye===i)return function(pr){return wt=pr,Ye=Bl(Ot,L),_t?Kt(pr):qe}(ct);if(It)return va(Ye),Ye=Bl(Ot,L),Kt(ct)}return Ye===i&&(Ye=Bl(Ot,L)),qe}return L=ba(L)||0,$n(q)&&(_t=!!q.leading,be=(It="maxWait"in q)?Tn(ba(q.maxWait)||0,L):be,Xt="trailing"in q?!!q.trailing:Xt),cr.cancel=function(){Ye!==i&&va(Ye),wt=0,Q=ct=ae=Ye=i},cr.flush=function(){return Ye===i?qe:Mt(Ui())},cr}var Bp=fr(function(C,L){return If(C,1,L)}),Qu=fr(function(C,L,q){return If(C,ba(L)||0,q)});function ds(C,L){if(typeof C!="function"||L!=null&&typeof L!="function")throw new gi(a);var q=function(){var Q=arguments,ae=L?L.apply(this,Q):Q[0],be=q.cache;if(be.has(ae))return be.get(ae);var qe=C.apply(this,Q);return q.cache=be.set(ae,qe)||be,qe};return q.cache=new(ds.Cache||$i),q}function Gc(C){if(typeof C!="function")throw new gi(a);return function(){var L=arguments;switch(L.length){case 0:return!C.call(this);case 1:return!C.call(this,L[0]);case 2:return!C.call(this,L[0],L[1]);case 3:return!C.call(this,L[0],L[1],L[2])}return!C.apply(this,L)}}ds.Cache=$i;var Vl=Qg(function(C,L){var q=(L=L.length==1&&_r(L[0])?Vr(L[0],Tr(vr())):Vr(Hn(L,1),Tr(vr()))).length;return fr(function(Q){for(var ae=-1,be=Wn(Q.length,q);++ae<be;)Q[ae]=L[ae].call(this,Q[ae]);return ho(C,this,Q)})}),Ju=fr(function(C,L){var q=ro(L,$u(Ju));return ls(C,u,i,L,q)}),od=fr(function(C,L){var q=ro(L,$u(od));return ls(C,64,i,L,q)}),vv=pa(function(C,L){return ls(C,256,i,i,i,L)});function ao(C,L){return C===L||C!=C&&L!=L}var Qf=us(Uh),Wl=us(function(C,L){return C>=L}),Ko=Na(function(){return arguments}())?Na:function(C){return Dn(C)&&Kr.call(C,"callee")&&!Yd.call(C,"callee")},_r=qt.isArray,Jf=Za?Tr(Za):function(C){return Dn(C)&&ln(C)==J};function Co(C){return C!=null&&Zo(C.length)&&!za(C)}function Yn(C){return Dn(C)&&Co(C)}var Qi=zu||gd,pv=Qs?Tr(Qs):function(C){return Dn(C)&&ln(C)==g};function Hl(C){if(!Dn(C))return!1;var L=ln(C);return L==_||L=="[object DOMException]"||typeof C.message=="string"&&typeof C.name=="string"&&!Wc(C)}function za(C){if(!$n(C))return!1;var L=ln(C);return L==x||L==P||L=="[object AsyncFunction]"||L=="[object Proxy]"}function Vc(C){return typeof C=="number"&&C==Sr(C)}function Zo(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=f}function $n(C){var L=typeof C;return C!=null&&(L=="object"||L=="function")}function Dn(C){return C!=null&&typeof C=="object"}var ad=vc?Tr(vc):function(C){return Dn(C)&&Cn(C)==I};function sd(C){return typeof C=="number"||Dn(C)&&ln(C)==T}function Wc(C){if(!Dn(C)||ln(C)!=A)return!1;var L=Bu(C);if(L===null)return!0;var q=Kr.call(L,"constructor")&&L.constructor;return typeof q=="function"&&q instanceof q&&ju.call(q)==Mh}var eh=pc?Tr(pc):function(C){return Dn(C)&&ln(C)==N},ya=Lr?Tr(Lr):function(C){return Dn(C)&&Cn(C)==j};function Hc(C){return typeof C=="string"||!_r(C)&&Dn(C)&&ln(C)==B}function Po(C){return typeof C=="symbol"||Dn(C)&&ln(C)==W}var vs=Go?Tr(Go):function(C){return Dn(C)&&Zo(C.length)&&!!xr[ln(C)]},ud=us(Rs),Yc=us(function(C,L){return C<=L});function Tt(C){if(!C)return[];if(Co(C))return Hc(C)?Zn(C):To(C);if(Uu&&C[Uu])return function(q){for(var Q,ae=[];!(Q=q.next()).done;)ae.push(Q.value);return ae}(C[Uu]());var L=Cn(C);return(L==I?Gn:L==j?iu:Eu)(C)}function ma(C){return C?(C=ba(C))===c||C===-1/0?17976931348623157e292*(C<0?-1:1):C==C?C:0:C===0?C:0}function Sr(C){var L=ma(C),q=L%1;return L==L?q?L-q:L:0}function bu(C){return C?La(Sr(C),0,d):0}function ba(C){if(typeof C=="number")return C;if(Po(C))return h;if($n(C)){var L=typeof C.valueOf=="function"?C.valueOf():C;C=$n(L)?L+"":L}if(typeof C!="string")return C===0?C:+C;C=dn(C);var q=Ct.test(C);return q||Yt.test(C)?mf(C.slice(2),q?2:8):dt.test(C)?h:+C}function ld(C){return is(C,Dr(C))}function an(C){return C==null?"":fa(C)}var bo=Yu(function(C,L){if(pu(L)||Co(L))is(L,zi(L),C);else for(var q in L)Kr.call(L,q)&&Af(C,q,L[q])}),Up=Yu(function(C,L){is(L,Dr(L),C)}),cd=Yu(function(C,L,q,Q){is(L,Dr(L),C,Q)}),zp=Yu(function(C,L,q,Q){is(L,zi(L),C,Q)}),ey=pa(xl),qp=fr(function(C,L){C=vn(C);var q=-1,Q=L.length,ae=Q>2?L[2]:i;for(ae&&mo(L[0],L[1],ae)&&(Q=1);++q<Q;)for(var be=L[q],qe=Dr(be),Ye=-1,ct=qe.length;++Ye<ct;){var wt=qe[Ye],_t=C[wt];(_t===i||ao(_t,Nu[wt])&&!Kr.call(C,wt))&&(C[wt]=be[wt])}return C}),Gp=fr(function(C){return C.push(i,Fc),ho(Qo,i,C)});function gv(C,L,q){var Q=C==null?i:su(C,L);return Q===i?q:Q}function yv(C,L){return C!=null&&$h(C,L,zh)}var _u=Yo(function(C,L,q){L!=null&&typeof L.toString!="function"&&(L=Ss.call(L)),C[L]=q},fi(Jo)),so=Yo(function(C,L,q){L!=null&&typeof L.toString!="function"&&(L=Ss.call(L)),Kr.call(C,L)?C[L].push(q):C[L]=[q]},vr),mv=fr(uu);function zi(C){return Co(C)?Sp(C):cu(C)}function Dr(C){return Co(C)?Sp(C,!0):function(L){if(!$n(L))return function(be){var qe=[];if(be!=null)for(var Ye in vn(be))qe.push(Ye);return qe}(L);var q=pu(L),Q=[];for(var ae in L)(ae!="constructor"||!q&&Kr.call(L,ae))&&Q.push(ae);return Q}(C)}var fd=Yu(function(C,L,q){qh(C,L,q)}),Qo=Yu(function(C,L,q,Q){qh(C,L,q,Q)}),Ao=pa(function(C,L){var q={};if(C==null)return q;var Q=!1;L=Vr(L,function(be){return be=yo(be,C),Q||(Q=be.length>1),be}),is(C,cs(C),q),Q&&(q=Wo(q,7,Bc));for(var ae=L.length;ae--;)Gh(q,L[ae]);return q}),$c=pa(function(C,L){return C==null?{}:function(q,Q){return ca(q,Q,function(ae,be){return yv(q,be)})}(C,L)});function hd(C,L){if(C==null)return{};var q=Vr(cs(C),function(Q){return[Q]});return L=vr(L),ca(C,q,function(Q,ae){return L(Q,ae[0])})}var bv=ev(zi),wu=ev(Dr);function Eu(C){return C==null?[]:wc(C,zi(C))}var dd=Ml(function(C,L,q){return L=L.toLowerCase(),C+(q?_a(L):L)});function _a(C){return vd(an(C).toLowerCase())}function ps(C){return(C=an(C))&&C.replace(sr,Ja).replace(Ra,"")}var Vp=Ml(function(C,L,q){return C+(q?"-":"")+L.toLowerCase()}),Yl=Ml(function(C,L,q){return C+(q?" ":"")+L.toLowerCase()}),th=os("toLowerCase"),el=Ml(function(C,L,q){return C+(q?"_":"")+L.toLowerCase()}),_v=Ml(function(C,L,q){return C+(q?" ":"")+vd(L)}),wv=Ml(function(C,L,q){return C+(q?" ":"")+L.toUpperCase()}),vd=os("toUpperCase");function rh(C,L,q){return C=an(C),(L=q?i:L)===i?function(Q){return ur.test(Q)}(C)?function(Q){return Q.match(Mn)||[]}(C):function(Q){return Q.match(Ve)||[]}(C):C.match(L)||[]}var $l=fr(function(C,L){try{return ho(C,i,L)}catch(q){return Hl(q)?q:new Xr(q)}}),gs=pa(function(C,L){return Wt(L,function(q){q=xi(q),Ps(C,q,Kf(C[q],C))}),C});function fi(C){return function(){return C}}var Xc=Uf(),Ev=Uf(!0);function Jo(C){return C}function uo(C){return Pl(typeof C=="function"?C:Wo(C,1))}var Wp=fr(function(C,L){return function(q){return uu(q,C,L)}}),tl=fr(function(C,L){return function(q){return uu(C,q,L)}});function Ov(C,L,q){var Q=zi(L),ae=Mf(L,Q);q!=null||$n(L)&&(ae.length||!Q.length)||(q=L,L=C,C=this,ae=Mf(L,zi(L)));var be=!($n(q)&&"chain"in q&&!q.chain),qe=za(C);return Wt(ae,function(Ye){var ct=L[Ye];C[Ye]=ct,qe&&(C.prototype[Ye]=function(){var wt=this.__chain__;if(be||wt){var _t=C(this.__wrapped__);return(_t.__actions__=To(this.__actions__)).push({func:ct,args:arguments,thisArg:C}),_t.__chain__=wt,_t}return ct.apply(C,sa([this.value()],arguments))})}),C}function pd(){}var nh=zf(Vr),Hp=zf(yc),Yp=zf(mc);function xv(C){return Bi(C)?bc(xi(C)):function(L){return function(q){return su(q,L)}}(C)}var qa=jc(),Sv=jc(!0);function Io(){return[]}function gd(){return!1}var Tv,ih=Wh(function(C,L){return C+L},0),Cv=Dl("ceil"),Pv=Wh(function(C,L){return C/L},1),ty=Dl("floor"),ei=Wh(function(C,L){return C*L},1),$p=Dl("round"),Av=Wh(function(C,L){return C-L},0);return ce.after=function(C,L){if(typeof L!="function")throw new gi(a);return C=Sr(C),function(){if(--C<1)return L.apply(this,arguments)}},ce.ary=Ua,ce.assign=bo,ce.assignIn=Up,ce.assignInWith=cd,ce.assignWith=zp,ce.at=ey,ce.before=dv,ce.bind=Kf,ce.bindAll=gs,ce.bindKey=Zf,ce.castArray=function(){if(!arguments.length)return[];var C=arguments[0];return _r(C)?C:[C]},ce.chain=hs,ce.chunk=function(C,L,q){L=(q?mo(C,L,q):L===i)?1:Tn(Sr(L),0);var Q=C==null?0:C.length;if(!Q||L<1)return[];for(var ae=0,be=0,qe=qt(Dh(Q/L));ae<Q;)qe[be++]=ja(C,ae,ae+=L);return qe},ce.compact=function(C){for(var L=-1,q=C==null?0:C.length,Q=0,ae=[];++L<q;){var be=C[L];be&&(ae[Q++]=be)}return ae},ce.concat=function(){var C=arguments.length;if(!C)return[];for(var L=qt(C-1),q=arguments[0],Q=C;Q--;)L[Q-1]=arguments[Q];return sa(_r(q)?To(q):[q],Hn(L,1))},ce.cond=function(C){var L=C==null?0:C.length,q=vr();return C=L?Vr(C,function(Q){if(typeof Q[1]!="function")throw new gi(a);return[q(Q[0]),Q[1]]}):[],fr(function(Q){for(var ae=-1;++ae<L;){var be=C[ae];if(ho(be[0],this,Q))return ho(be[1],this,Q)}})},ce.conforms=function(C){return function(L){var q=zi(L);return function(Q){return Sl(Q,L,q)}}(Wo(C,1))},ce.constant=fi,ce.countBy=jp,ce.create=function(C,L){var q=Cs(C);return L==null?q:Ol(q,L)},ce.curry=function C(L,q,Q){var ae=ls(L,8,i,i,i,i,i,q=Q?i:q);return ae.placeholder=C.placeholder,ae},ce.curryRight=function C(L,q,Q){var ae=ls(L,16,i,i,i,i,i,q=Q?i:q);return ae.placeholder=C.placeholder,ae},ce.debounce=Ds,ce.defaults=qp,ce.defaultsDeep=Gp,ce.defer=Bp,ce.delay=Qu,ce.difference=Ul,ce.differenceBy=ov,ce.differenceWith=av,ce.drop=function(C,L,q){var Q=C==null?0:C.length;return Q?ja(C,(L=q||L===i?1:Sr(L))<0?0:L,Q):[]},ce.dropRight=function(C,L,q){var Q=C==null?0:C.length;return Q?ja(C,0,(L=Q-(L=q||L===i?1:Sr(L)))<0?0:L):[]},ce.dropRightWhile=function(C,L){return C&&C.length?go(C,vr(L,3),!0,!0):[]},ce.dropWhile=function(C,L){return C&&C.length?go(C,vr(L,3),!0):[]},ce.fill=function(C,L,q,Q){var ae=C==null?0:C.length;return ae?(q&&typeof q!="number"&&mo(C,L,q)&&(q=0,Q=ae),function(be,qe,Ye,ct){var wt=be.length;for((Ye=Sr(Ye))<0&&(Ye=-Ye>wt?0:wt+Ye),(ct=ct===i||ct>wt?wt:Sr(ct))<0&&(ct+=wt),ct=Ye>ct?0:bu(ct);Ye<ct;)be[Ye++]=qe;return be}(C,L,q,Q)):[]},ce.filter=function(C,L){return(_r(C)?ka:Zd)(C,vr(L,3))},ce.flatMap=function(C,L){return Hn(Gl(C,L),1)},ce.flatMapDeep=function(C,L){return Hn(Gl(C,L),c)},ce.flatMapDepth=function(C,L,q){return q=q===i?1:Sr(q),Hn(Gl(C,L),q)},ce.flatten=Mp,ce.flattenDeep=function(C){return C!=null&&C.length?Hn(C,c):[]},ce.flattenDepth=function(C,L){return C!=null&&C.length?Hn(C,L=L===i?1:Sr(L)):[]},ce.flip=function(C){return ls(C,512)},ce.flow=Xc,ce.flowRight=Ev,ce.fromPairs=function(C){for(var L=-1,q=C==null?0:C.length,Q={};++L<q;){var ae=C[L];Q[ae[0]]=ae[1]}return Q},ce.functions=function(C){return C==null?[]:Mf(C,zi(C))},ce.functionsIn=function(C){return C==null?[]:Mf(C,Dr(C))},ce.groupBy=nd,ce.initial=function(C){return C!=null&&C.length?ja(C,0,-1):[]},ce.intersection=uv,ce.intersectionBy=Dp,ce.intersectionWith=Hf,ce.invert=_u,ce.invertBy=so,ce.invokeMap=fv,ce.iteratee=uo,ce.keyBy=id,ce.keys=zi,ce.keysIn=Dr,ce.map=Gl,ce.mapKeys=function(C,L){var q={};return L=vr(L,3),Is(C,function(Q,ae,be){Ps(q,L(Q,ae,be),Q)}),q},ce.mapValues=function(C,L){var q={};return L=vr(L,3),Is(C,function(Q,ae,be){Ps(q,ae,L(Q,ae,be))}),q},ce.matches=function(C){return Qd(Wo(C,1))},ce.matchesProperty=function(C,L){return Ic(C,Wo(L,1))},ce.memoize=ds,ce.merge=fd,ce.mergeWith=Qo,ce.method=Wp,ce.methodOf=tl,ce.mixin=Ov,ce.negate=Gc,ce.nthArg=function(C){return C=Sr(C),fr(function(L){return Rc(L,C)})},ce.omit=Ao,ce.omitBy=function(C,L){return hd(C,Gc(vr(L)))},ce.once=function(C){return dv(2,C)},ce.orderBy=function(C,L,q,Q){return C==null?[]:(_r(L)||(L=L==null?[]:[L]),_r(q=Q?i:q)||(q=q==null?[]:[q]),kc(C,L,q))},ce.over=nh,ce.overArgs=Vl,ce.overEvery=Hp,ce.overSome=Yp,ce.partial=Ju,ce.partialRight=od,ce.partition=hv,ce.pick=$c,ce.pickBy=hd,ce.property=xv,ce.propertyOf=function(C){return function(L){return C==null?i:su(C,L)}},ce.pull=Lp,ce.pullAll=Yf,ce.pullAllBy=function(C,L,q){return C&&C.length&&L&&L.length?fu(C,L,vr(q,2)):C},ce.pullAllWith=function(C,L,q){return C&&C.length&&L&&L.length?fu(C,L,i,q):C},ce.pullAt=Qh,ce.range=qa,ce.rangeRight=Sv,ce.rearg=vv,ce.reject=function(C,L){return(_r(C)?ka:Zd)(C,Gc(vr(L,3)))},ce.remove=function(C,L){var q=[];if(!C||!C.length)return q;var Q=-1,ae=[],be=C.length;for(L=vr(L,3);++Q<be;){var qe=C[Q];L(qe,Q,C)&&(q.push(qe),ae.push(Q))}return ge(C,ae),q},ce.rest=function(C,L){if(typeof C!="function")throw new gi(a);return fr(C,L=L===i?L:Sr(L))},ce.reverse=$f,ce.sampleSize=function(C,L,q){return L=(q?mo(C,L,q):L===i)?1:Sr(L),(_r(C)?la:Df)(C,L)},ce.set=function(C,L,q){return C==null?C:Al(C,L,q)},ce.setWith=function(C,L,q,Q){return Q=typeof Q=="function"?Q:i,C==null?C:Al(C,L,q,Q)},ce.shuffle=function(C){return(_r(C)?Xd:Zg)(C)},ce.slice=function(C,L,q){var Q=C==null?0:C.length;return Q?(q&&typeof q!="number"&&mo(C,L,q)?(L=0,q=Q):(L=L==null?0:Sr(L),q=q===i?Q:Sr(q)),ja(C,L,q)):[]},ce.sortBy=Fp,ce.sortedUniq=function(C){return C&&C.length?Fa(C):[]},ce.sortedUniqBy=function(C,L){return C&&C.length?Fa(C,vr(L,2)):[]},ce.split=function(C,L,q){return q&&typeof q!="number"&&mo(C,L,q)&&(L=q=i),(q=q===i?d:q>>>0)?(C=an(C))&&(typeof L=="string"||L!=null&&!eh(L))&&!(L=fa(L))&&nu(C)?da(Zn(C),0,q):C.split(L,q):[]},ce.spread=function(C,L){if(typeof C!="function")throw new gi(a);return L=L==null?0:Tn(Sr(L),0),fr(function(q){var Q=q[L],ae=da(q,0,L);return Q&&sa(ae,Q),ho(C,this,ae)})},ce.tail=function(C){var L=C==null?0:C.length;return L?ja(C,1,L):[]},ce.take=function(C,L,q){return C&&C.length?ja(C,0,(L=q||L===i?1:Sr(L))<0?0:L):[]},ce.takeRight=function(C,L,q){var Q=C==null?0:C.length;return Q?ja(C,(L=Q-(L=q||L===i?1:Sr(L)))<0?0:L,Q):[]},ce.takeRightWhile=function(C,L){return C&&C.length?go(C,vr(L,3),!1,!0):[]},ce.takeWhile=function(C,L){return C&&C.length?go(C,vr(L,3)):[]},ce.tap=function(C,L){return L(C),C},ce.throttle=function(C,L,q){var Q=!0,ae=!0;if(typeof C!="function")throw new gi(a);return $n(q)&&(Q="leading"in q?!!q.leading:Q,ae="trailing"in q?!!q.trailing:ae),Ds(C,L,{leading:Q,maxWait:L,trailing:ae})},ce.thru=rd,ce.toArray=Tt,ce.toPairs=bv,ce.toPairsIn=wu,ce.toPath=function(C){return _r(C)?Vr(C,xi):Po(C)?[C]:To(Zh(an(C)))},ce.toPlainObject=ld,ce.transform=function(C,L,q){var Q=_r(C),ae=Q||Qi(C)||vs(C);if(L=vr(L,4),q==null){var be=C&&C.constructor;q=ae?Q?new be:[]:$n(C)&&za(be)?Cs(Bu(C)):{}}return(ae?Wt:Is)(C,function(qe,Ye,ct){return L(q,qe,Ye,ct)}),q},ce.unary=function(C){return Ua(C,1)},ce.union=Np,ce.unionBy=ga,ce.unionWith=Ku,ce.uniq=function(C){return C&&C.length?tr(C):[]},ce.uniqBy=function(C,L){return C&&C.length?tr(C,vr(L,2)):[]},ce.uniqWith=function(C,L){return L=typeof L=="function"?L:i,C&&C.length?tr(C,i,L):[]},ce.unset=function(C,L){return C==null||Gh(C,L)},ce.unzip=mu,ce.unzipWith=Jh,ce.update=function(C,L,q){return C==null?C:po(C,L,Mc(q))},ce.updateWith=function(C,L,q,Q){return Q=typeof Q=="function"?Q:i,C==null?C:po(C,L,Mc(q),Q)},ce.values=Eu,ce.valuesIn=function(C){return C==null?[]:wc(C,Dr(C))},ce.without=ed,ce.words=rh,ce.wrap=function(C,L){return Ju(Mc(L),C)},ce.xor=Zu,ce.xorBy=td,ce.xorWith=Xf,ce.zip=zc,ce.zipObject=function(C,L){return Ap(C||[],L||[],Af)},ce.zipObjectDeep=function(C,L){return Ap(C||[],L||[],Al)},ce.zipWith=Zi,ce.entries=bv,ce.entriesIn=wu,ce.extend=Up,ce.extendWith=cd,Ov(ce,ce),ce.add=ih,ce.attempt=$l,ce.camelCase=dd,ce.capitalize=_a,ce.ceil=Cv,ce.clamp=function(C,L,q){return q===i&&(q=L,L=i),q!==i&&(q=(q=ba(q))==q?q:0),L!==i&&(L=(L=ba(L))==L?L:0),La(ba(C),L,q)},ce.clone=function(C){return Wo(C,4)},ce.cloneDeep=function(C){return Wo(C,5)},ce.cloneDeepWith=function(C,L){return Wo(C,5,L=typeof L=="function"?L:i)},ce.cloneWith=function(C,L){return Wo(C,4,L=typeof L=="function"?L:i)},ce.conformsTo=function(C,L){return L==null||Sl(C,L,zi(L))},ce.deburr=ps,ce.defaultTo=function(C,L){return C==null||C!=C?L:C},ce.divide=Pv,ce.endsWith=function(C,L,q){C=an(C),L=fa(L);var Q=C.length,ae=q=q===i?Q:La(Sr(q),0,Q);return(q-=L.length)>=0&&C.slice(q,ae)==L},ce.eq=ao,ce.escape=function(C){return(C=an(C))&&Ue.test(C)?C.replace(Oe,kh):C},ce.escapeRegExp=function(C){return(C=an(C))&&ne.test(C)?C.replace(K,"\\$&"):C},ce.every=function(C,L,q){var Q=_r(C)?yc:Tp;return q&&mo(C,L,q)&&(L=i),Q(C,vr(L,3))},ce.find=lv,ce.findIndex=yr,ce.findKey=function(C,L){return _f(C,vr(L,3),Is)},ce.findLast=ql,ce.findLastIndex=sv,ce.findLastKey=function(C,L){return _f(C,vr(L,3),kf)},ce.floor=ty,ce.forEach=qc,ce.forEachRight=cv,ce.forIn=function(C,L){return C==null?C:Tl(C,vr(L,3),Dr)},ce.forInRight=function(C,L){return C==null?C:Bh(C,vr(L,3),Dr)},ce.forOwn=function(C,L){return C&&Is(C,vr(L,3))},ce.forOwnRight=function(C,L){return C&&kf(C,vr(L,3))},ce.get=gv,ce.gt=Qf,ce.gte=Wl,ce.has=function(C,L){return C!=null&&$h(C,L,Cl)},ce.hasIn=yv,ce.head=zl,ce.identity=Jo,ce.includes=function(C,L,q,Q){C=Co(C)?C:Eu(C),q=q&&!Q?Sr(q):0;var ae=C.length;return q<0&&(q=Tn(ae+q,0)),Hc(C)?q<=ae&&C.indexOf(L,q)>-1:!!ae&&eu(C,L,q)>-1},ce.indexOf=function(C,L,q){var Q=C==null?0:C.length;if(!Q)return-1;var ae=q==null?0:Sr(q);return ae<0&&(ae=Tn(Q+ae,0)),eu(C,L,ae)},ce.inRange=function(C,L,q){return L=ma(L),q===i?(q=L,L=0):q=ma(q),function(Q,ae,be){return Q>=Wn(ae,be)&&Q<Tn(ae,be)}(C=ba(C),L,q)},ce.invoke=mv,ce.isArguments=Ko,ce.isArray=_r,ce.isArrayBuffer=Jf,ce.isArrayLike=Co,ce.isArrayLikeObject=Yn,ce.isBoolean=function(C){return C===!0||C===!1||Dn(C)&&ln(C)==b},ce.isBuffer=Qi,ce.isDate=pv,ce.isElement=function(C){return Dn(C)&&C.nodeType===1&&!Wc(C)},ce.isEmpty=function(C){if(C==null)return!0;if(Co(C)&&(_r(C)||typeof C=="string"||typeof C.splice=="function"||Qi(C)||vs(C)||Ko(C)))return!C.length;var L=Cn(C);if(L==I||L==j)return!C.size;if(pu(C))return!cu(C).length;for(var q in C)if(Kr.call(C,q))return!1;return!0},ce.isEqual=function(C,L){return Vu(C,L)},ce.isEqualWith=function(C,L,q){var Q=(q=typeof q=="function"?q:i)?q(C,L):i;return Q===i?Vu(C,L,i,q):!!Q},ce.isError=Hl,ce.isFinite=function(C){return typeof C=="number"&&$d(C)},ce.isFunction=za,ce.isInteger=Vc,ce.isLength=Zo,ce.isMap=ad,ce.isMatch=function(C,L){return C===L||lu(C,L,Gf(L))},ce.isMatchWith=function(C,L,q){return q=typeof q=="function"?q:i,lu(C,L,Gf(L),q)},ce.isNaN=function(C){return sd(C)&&C!=+C},ce.isNative=function(C){if(Jg(C))throw new Xr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ac(C)},ce.isNil=function(C){return C==null},ce.isNull=function(C){return C===null},ce.isNumber=sd,ce.isObject=$n,ce.isObjectLike=Dn,ce.isPlainObject=Wc,ce.isRegExp=eh,ce.isSafeInteger=function(C){return Vc(C)&&C>=-9007199254740991&&C<=f},ce.isSet=ya,ce.isString=Hc,ce.isSymbol=Po,ce.isTypedArray=vs,ce.isUndefined=function(C){return C===i},ce.isWeakMap=function(C){return Dn(C)&&Cn(C)==V},ce.isWeakSet=function(C){return Dn(C)&&ln(C)=="[object WeakSet]"},ce.join=function(C,L){return C==null?"":xo.call(C,L)},ce.kebabCase=Vp,ce.last=ci,ce.lastIndexOf=function(C,L,q){var Q=C==null?0:C.length;if(!Q)return-1;var ae=Q;return q!==i&&(ae=(ae=Sr(q))<0?Tn(Q+ae,0):Wn(ae,Q-1)),L==L?function(be,qe,Ye){for(var ct=Ye+1;ct--;)if(be[ct]===qe)return ct;return ct}(C,L,ae):pl(C,Qa,ae,!0)},ce.lowerCase=Yl,ce.lowerFirst=th,ce.lt=ud,ce.lte=Yc,ce.max=function(C){return C&&C.length?Rf(C,Jo,Uh):i},ce.maxBy=function(C,L){return C&&C.length?Rf(C,vr(L,2),Uh):i},ce.mean=function(C){return gl(C,Jo)},ce.meanBy=function(C,L){return gl(C,vr(L,2))},ce.min=function(C){return C&&C.length?Rf(C,Jo,Rs):i},ce.minBy=function(C,L){return C&&C.length?Rf(C,vr(L,2),Rs):i},ce.stubArray=Io,ce.stubFalse=gd,ce.stubObject=function(){return{}},ce.stubString=function(){return""},ce.stubTrue=function(){return!0},ce.multiply=ei,ce.nth=function(C,L){return C&&C.length?Rc(C,Sr(L)):i},ce.noConflict=function(){return Ai._===this&&(Ai._=Fu),this},ce.noop=pd,ce.now=Ui,ce.pad=function(C,L,q){C=an(C);var Q=(L=Sr(L))?Fi(C):0;if(!L||Q>=L)return C;var ae=(L-Q)/2;return $o(Lh(ae),q)+C+$o(Dh(ae),q)},ce.padEnd=function(C,L,q){C=an(C);var Q=(L=Sr(L))?Fi(C):0;return L&&Q<L?C+$o(L-Q,q):C},ce.padStart=function(C,L,q){C=an(C);var Q=(L=Sr(L))?Fi(C):0;return L&&Q<L?$o(L-Q,q)+C:C},ce.parseInt=function(C,L,q){return q||L==null?L=0:L&&(L=+L),Kg(an(C).replace(Ce,""),L||0)},ce.random=function(C,L,q){if(q&&typeof q!="boolean"&&mo(C,L,q)&&(L=q=i),q===i&&(typeof L=="boolean"?(q=L,L=i):typeof C=="boolean"&&(q=C,C=i)),C===i&&L===i?(C=0,L=1):(C=ma(C),L===i?(L=C,C=0):L=ma(L)),C>L){var Q=C;C=L,L=Q}if(q||C%1||L%1){var ae=Op();return Wn(C+ae*(L-C+hl("1e-"+((ae+"").length-1))),L)}return Wu(C,L)},ce.reduce=function(C,L,q){var Q=_r(C)?vl:yl,ae=arguments.length<3;return Q(C,vr(L,4),q,ae,Ho)},ce.reduceRight=function(C,L,q){var Q=_r(C)?Ih:yl,ae=arguments.length<3;return Q(C,vr(L,4),q,ae,So)},ce.repeat=function(C,L,q){return L=(q?mo(C,L,q):L===i)?1:Sr(L),Hu(an(C),L)},ce.replace=function(){var C=arguments,L=an(C[0]);return C.length<3?L:L.replace(C[1],C[2])},ce.result=function(C,L,q){var Q=-1,ae=(L=yo(L,C)).length;for(ae||(ae=1,C=i);++Q<ae;){var be=C==null?i:C[xi(L[Q])];be===i&&(Q=ae,be=q),C=za(be)?be.call(C):be}return C},ce.round=$p,ce.runInContext=ft,ce.sample=function(C){return(_r(C)?Fh:Ir)(C)},ce.size=function(C){if(C==null)return 0;if(Co(C))return Hc(C)?Fi(C):C.length;var L=Cn(C);return L==I||L==j?C.size:cu(C).length},ce.snakeCase=el,ce.some=function(C,L,q){var Q=_r(C)?mc:Pp;return q&&mo(C,L,q)&&(L=i),Q(C,vr(L,3))},ce.sortedIndex=function(C,L){return Nf(C,L)},ce.sortedIndexBy=function(C,L,q){return Il(C,L,vr(q,2))},ce.sortedIndexOf=function(C,L){var q=C==null?0:C.length;if(q){var Q=Nf(C,L);if(Q<q&&ao(C[Q],L))return Q}return-1},ce.sortedLastIndex=function(C,L){return Nf(C,L,!0)},ce.sortedLastIndexBy=function(C,L,q){return Il(C,L,vr(q,2),!0)},ce.sortedLastIndexOf=function(C,L){if(C!=null&&C.length){var q=Nf(C,L,!0)-1;if(ao(C[q],L))return q}return-1},ce.startCase=_v,ce.startsWith=function(C,L,q){return C=an(C),q=q==null?0:La(Sr(q),0,C.length),L=fa(L),C.slice(q,q+L.length)==L},ce.subtract=Av,ce.sum=function(C){return C&&C.length?tu(C,Jo):0},ce.sumBy=function(C,L){return C&&C.length?tu(C,vr(L,2)):0},ce.template=function(C,L,q){var Q=ce.templateSettings;q&&mo(C,L,q)&&(L=i),C=an(C),L=cd({},L,Q,ki);var ae,be,qe=cd({},L.imports,Q.imports,ki),Ye=zi(qe),ct=wc(qe,Ye),wt=0,_t=L.interpolate||Bt,It="__p += '",Xt=Ef((L.escape||Bt).source+"|"+_t.source+"|"+(_t===rt?nt:Bt).source+"|"+(L.evaluate||Bt).source+"|$","g"),Kt="//# sourceURL="+(Kr.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yi+"]")+`
`;C.replace(Xt,function(Mt,cr,Nt,gr,pr,Zr){return Nt||(Nt=gr),It+=C.slice(wt,Zr).replace(Zt,Hd),cr&&(ae=!0,It+=`' +
__e(`+cr+`) +
'`),pr&&(be=!0,It+=`';
`+pr+`;
__p += '`),Nt&&(It+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),wt=Zr+Mt.length,Mt}),It+=`';
`;var ir=Kr.call(L,"variable")&&L.variable;if(ir){if(ut.test(ir))throw new Xr("Invalid `variable` option passed into `_.template`")}else It=`with (obj) {
`+It+`
}
`;It=(be?It.replace(je,""):It).replace(xe,"$1").replace(Se,"$1;"),It="function("+(ir||"obj")+`) {
`+(ir?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+It+`return __p
}`;var Ot=$l(function(){return Ii(Ye,Kt+"return "+It).apply(i,ct)});if(Ot.source=It,Hl(Ot))throw Ot;return Ot},ce.times=function(C,L){if((C=Sr(C))<1||C>f)return[];var q=d,Q=Wn(C,d);L=vr(L),C-=d;for(var ae=ml(Q,L);++q<C;)L(q);return ae},ce.toFinite=ma,ce.toInteger=Sr,ce.toLength=bu,ce.toLower=function(C){return an(C).toLowerCase()},ce.toNumber=ba,ce.toSafeInteger=function(C){return C?La(Sr(C),-9007199254740991,f):C===0?C:0},ce.toString=an,ce.toUpper=function(C){return an(C).toUpperCase()},ce.trim=function(C,L,q){if((C=an(C))&&(q||L===i))return dn(C);if(!C||!(L=fa(L)))return C;var Q=Zn(C),ae=Zn(L);return da(Q,wf(Q,ae),xs(Q,ae)+1).join("")},ce.trimEnd=function(C,L,q){if((C=an(C))&&(q||L===i))return C.slice(0,Ma(C)+1);if(!C||!(L=fa(L)))return C;var Q=Zn(C);return da(Q,0,xs(Q,Zn(L))+1).join("")},ce.trimStart=function(C,L,q){if((C=an(C))&&(q||L===i))return C.replace(Ce,"");if(!C||!(L=fa(L)))return C;var Q=Zn(C);return da(Q,wf(Q,Zn(L))).join("")},ce.truncate=function(C,L){var q=30,Q="...";if($n(L)){var ae="separator"in L?L.separator:ae;q="length"in L?Sr(L.length):q,Q="omission"in L?fa(L.omission):Q}var be=(C=an(C)).length;if(nu(C)){var qe=Zn(C);be=qe.length}if(q>=be)return C;var Ye=q-Fi(Q);if(Ye<1)return Q;var ct=qe?da(qe,0,Ye).join(""):C.slice(0,Ye);if(ae===i)return ct+Q;if(qe&&(Ye+=ct.length-Ye),eh(ae)){if(C.slice(Ye).search(ae)){var wt,_t=ct;for(ae.global||(ae=Ef(ae.source,an(Pt.exec(ae))+"g")),ae.lastIndex=0;wt=ae.exec(_t);)var It=wt.index;ct=ct.slice(0,It===i?Ye:It)}}else if(C.indexOf(fa(ae),Ye)!=Ye){var Xt=ct.lastIndexOf(ae);Xt>-1&&(ct=ct.slice(0,Xt))}return ct+Q},ce.unescape=function(C){return(C=an(C))&&Pe.test(C)?C.replace(Re,Da):C},ce.uniqueId=function(C){var L=++Sc;return an(C)+L},ce.upperCase=wv,ce.upperFirst=vd,ce.each=qc,ce.eachRight=cv,ce.first=zl,Ov(ce,(Tv={},Is(ce,function(C,L){Kr.call(ce.prototype,L)||(Tv[L]=C)}),Tv),{chain:!1}),ce.VERSION="4.17.21",Wt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){ce[C].placeholder=ce}),Wt(["drop","take"],function(C,L){Mr.prototype[C]=function(q){q=q===i?1:Tn(Sr(q),0);var Q=this.__filtered__&&!L?new Mr(this):this.clone();return Q.__filtered__?Q.__takeCount__=Wn(q,Q.__takeCount__):Q.__views__.push({size:Wn(q,d),type:C+(Q.__dir__<0?"Right":"")}),Q},Mr.prototype[C+"Right"]=function(q){return this.reverse()[C](q).reverse()}}),Wt(["filter","map","takeWhile"],function(C,L){var q=L+1,Q=q==1||q==3;Mr.prototype[C]=function(ae){var be=this.clone();return be.__iteratees__.push({iteratee:vr(ae,3),type:q}),be.__filtered__=be.__filtered__||Q,be}}),Wt(["head","last"],function(C,L){var q="take"+(L?"Right":"");Mr.prototype[C]=function(){return this[q](1).value()[0]}}),Wt(["initial","tail"],function(C,L){var q="drop"+(L?"":"Right");Mr.prototype[C]=function(){return this.__filtered__?new Mr(this):this[q](1)}}),Mr.prototype.compact=function(){return this.filter(Jo)},Mr.prototype.find=function(C){return this.filter(C).head()},Mr.prototype.findLast=function(C){return this.reverse().find(C)},Mr.prototype.invokeMap=fr(function(C,L){return typeof C=="function"?new Mr(this):this.map(function(q){return uu(q,C,L)})}),Mr.prototype.reject=function(C){return this.filter(Gc(vr(C)))},Mr.prototype.slice=function(C,L){C=Sr(C);var q=this;return q.__filtered__&&(C>0||L<0)?new Mr(q):(C<0?q=q.takeRight(-C):C&&(q=q.drop(C)),L!==i&&(q=(L=Sr(L))<0?q.dropRight(-L):q.take(L-C)),q)},Mr.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},Mr.prototype.toArray=function(){return this.take(d)},Is(Mr.prototype,function(C,L){var q=/^(?:filter|find|map|reject)|While$/.test(L),Q=/^(?:head|last)$/.test(L),ae=ce[Q?"take"+(L=="last"?"Right":""):L],be=Q||/^find/.test(L);ae&&(ce.prototype[L]=function(){var qe=this.__wrapped__,Ye=Q?[1]:arguments,ct=qe instanceof Mr,wt=Ye[0],_t=ct||_r(qe),It=function(cr){var Nt=ae.apply(ce,sa([cr],Ye));return Q&&Xt?Nt[0]:Nt};_t&&q&&typeof wt=="function"&&wt.length!=1&&(ct=_t=!1);var Xt=this.__chain__,Kt=!!this.__actions__.length,ir=be&&!Xt,Ot=ct&&!Kt;if(!be&&_t){qe=Ot?qe:new Mr(this);var Mt=C.apply(qe,Ye);return Mt.__actions__.push({func:rd,args:[It],thisArg:i}),new Jn(Mt,Xt)}return ir&&Ot?C.apply(this,Ye):(Mt=this.thru(It),ir?Q?Mt.value()[0]:Mt.value():Mt)})}),Wt(["pop","push","shift","sort","splice","unshift"],function(C){var L=xc[C],q=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",Q=/^(?:pop|shift)$/.test(C);ce.prototype[C]=function(){var ae=arguments;if(Q&&!this.__chain__){var be=this.value();return L.apply(_r(be)?be:[],ae)}return this[q](function(qe){return L.apply(_r(qe)?qe:[],ae)})}}),Is(Mr.prototype,function(C,L){var q=ce[L];if(q){var Q=q.name+"";Kr.call(wl,Q)||(wl[Q]=[]),wl[Q].push({name:L,func:q})}}),wl[ss(i,2).name]=[{name:"wrapper",func:i}],Mr.prototype.clone=function(){var C=new Mr(this.__wrapped__);return C.__actions__=To(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=To(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=To(this.__views__),C},Mr.prototype.reverse=function(){if(this.__filtered__){var C=new Mr(this);C.__dir__=-1,C.__filtered__=!0}else(C=this.clone()).__dir__*=-1;return C},Mr.prototype.value=function(){var C=this.__wrapped__.value(),L=this.__dir__,q=_r(C),Q=L<0,ae=q?C.length:0,be=function(Zr,rr,lr){for(var Si=-1,Xn=lr.length;++Si<Xn;){var Ro=lr[Si],Ln=Ro.size;switch(Ro.type){case"drop":Zr+=Ln;break;case"dropRight":rr-=Ln;break;case"take":rr=Wn(rr,Zr+Ln);break;case"takeRight":Zr=Tn(Zr,rr-Ln)}}return{start:Zr,end:rr}}(0,ae,this.__views__),qe=be.start,Ye=be.end,ct=Ye-qe,wt=Q?Ye:qe-1,_t=this.__iteratees__,It=_t.length,Xt=0,Kt=Wn(ct,this.__takeCount__);if(!q||!Q&&ae==ct&&Kt==ct)return ha(C,this.__actions__);var ir=[];e:for(;ct--&&Xt<Kt;){for(var Ot=-1,Mt=C[wt+=L];++Ot<It;){var cr=_t[Ot],Nt=cr.iteratee,gr=cr.type,pr=Nt(Mt);if(gr==2)Mt=pr;else if(!pr){if(gr==1)continue e;break e}}ir[Xt++]=Mt}return ir},ce.prototype.at=Ms,ce.prototype.chain=function(){return hs(this)},ce.prototype.commit=function(){return new Jn(this.value(),this.__chain__)},ce.prototype.next=function(){this.__values__===i&&(this.__values__=Tt(this.value()));var C=this.__index__>=this.__values__.length;return{done:C,value:C?i:this.__values__[this.__index__++]}},ce.prototype.plant=function(C){for(var L,q=this;q instanceof jh;){var Q=iv(q);Q.__index__=0,Q.__values__=i,L?ae.__wrapped__=Q:L=Q;var ae=Q;q=q.__wrapped__}return ae.__wrapped__=C,L},ce.prototype.reverse=function(){var C=this.__wrapped__;if(C instanceof Mr){var L=C;return this.__actions__.length&&(L=new Mr(this)),(L=L.reverse()).__actions__.push({func:rd,args:[$f],thisArg:i}),new Jn(L,this.__chain__)}return this.thru($f)},ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=function(){return ha(this.__wrapped__,this.__actions__)},ce.prototype.first=ce.prototype.head,Uu&&(ce.prototype[Uu]=function(){return this}),ce}();Ai._=ua,(n=(function(){return ua}).call(e,t,e,r))===i||(r.exports=n)}).call(this)},5880:function(r,e,t){var n,i;n=function(){var a=function(){},o="undefined",s=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),u=["trace","debug","info","warn","error"],l={},c=null;function f(g,_){var x=g[_];if(typeof x.bind=="function")return x.bind(g);try{return Function.prototype.bind.call(x,g)}catch{return function(){return Function.prototype.apply.apply(x,[g,arguments])}}}function h(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(){for(var g=this.getLevel(),_=0;_<u.length;_++){var x=u[_];this[x]=_<g?a:this.methodFactory(x,g,this.name)}if(this.log=this.debug,typeof console===o&&g<this.levels.SILENT)return"No console available for logging"}function v(g){return function(){typeof console!==o&&(d.call(this),this[g].apply(this,arguments))}}function y(g,_,x){return function(P){return P==="debug"&&(P="log"),typeof console!==o&&(P==="trace"&&s?h:console[P]!==void 0?f(console,P):console.log!==void 0?f(console,"log"):a)}(g)||v.apply(this,arguments)}function w(g,_){var x,P,I,T=this,A="loglevel";function D(){var B;if(typeof window!==o&&A){try{B=window.localStorage[A]}catch{}if(typeof B===o)try{var W=window.document.cookie,V=encodeURIComponent(A),J=W.indexOf(V+"=");J!==-1&&(B=/^([^;]+)/.exec(W.slice(J+V.length+1))[1])}catch{}return T.levels[B]===void 0&&(B=void 0),B}}function N(B){var W=B;if(typeof W=="string"&&T.levels[W.toUpperCase()]!==void 0&&(W=T.levels[W.toUpperCase()]),typeof W=="number"&&W>=0&&W<=T.levels.SILENT)return W;throw new TypeError("log.setLevel() called with invalid level: "+B)}typeof g=="string"?A+=":"+g:typeof g=="symbol"&&(A=void 0),T.name=g,T.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},T.methodFactory=_||y,T.getLevel=function(){return I??P??x},T.setLevel=function(B,W){return I=N(B),W!==!1&&function(V){var J=(u[V]||"silent").toUpperCase();if(typeof window!==o&&A){try{return void(window.localStorage[A]=J)}catch{}try{window.document.cookie=encodeURIComponent(A)+"="+J+";"}catch{}}}(I),d.call(T)},T.setDefaultLevel=function(B){P=N(B),D()||T.setLevel(B,!1)},T.resetLevel=function(){I=null,function(){if(typeof window!==o&&A){try{window.localStorage.removeItem(A)}catch{}try{window.document.cookie=encodeURIComponent(A)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),d.call(T)},T.enableAll=function(B){T.setLevel(T.levels.TRACE,B)},T.disableAll=function(B){T.setLevel(T.levels.SILENT,B)},T.rebuild=function(){if(c!==T&&(x=N(c.getLevel())),d.call(T),c===T)for(var B in l)l[B].rebuild()},x=N(c?c.getLevel():"WARN");var j=D();j!=null&&(I=N(j)),d.call(T)}(c=new w).getLogger=function(g){if(typeof g!="symbol"&&typeof g!="string"||g==="")throw new TypeError("You must supply a name when creating a logger.");var _=l[g];return _||(_=l[g]=new w(g,c.methodFactory)),_};var b=typeof window!==o?window.log:void 0;return c.noConflict=function(){return typeof window!==o&&window.log===c&&(window.log=b),c},c.getLoggers=function(){return l},c.default=c,c},(i=n.call(e,t,e,r))===void 0||(r.exports=i)},397:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assertNotificationFilterIsEmpty=e.assertImpersonatedUserIsEmpty=e.assertTxConfigIsEmpty=e.assertDatabaseIsEmpty=void 0;var n=t(9305);t(9014),e.assertTxConfigIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i&&!i.isEmpty()){var s=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw a(s.message),o.onError(s),s}},e.assertDatabaseIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var s=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw a(s.message),o.onError(s),s}},e.assertImpersonatedUserIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var s=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(i,"."));throw a(s.message),o.onError(s),s}},e.assertNotificationFilterIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i!==void 0){var s=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(i),"."));throw a(s.message),o.onError(s),s}}},8320:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(I){for(var T,A=1,D=arguments.length;A<D;A++)for(var N in T=arguments[A])Object.prototype.hasOwnProperty.call(T,N)&&(I[N]=T[N]);return I},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(I,T,A,D){D===void 0&&(D=A);var N=Object.getOwnPropertyDescriptor(T,A);N&&!("get"in N?!T.__esModule:N.writable||N.configurable)||(N={enumerable:!0,get:function(){return T[A]}}),Object.defineProperty(I,D,N)}:function(I,T,A,D){D===void 0&&(D=A),I[D]=T[A]}),a=this&&this.__setModuleDefault||(Object.create?function(I,T){Object.defineProperty(I,"default",{enumerable:!0,value:T})}:function(I,T){I.default=T}),o=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var T={};if(I!=null)for(var A in I)A!=="default"&&Object.prototype.hasOwnProperty.call(I,A)&&i(T,I,A);return a(T,I),T},s=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var u=t(397),l=(t(7452),t(7168)),c=o(t(7021)),f=t(9014),h=t(9305),d=s(t(6661)),v=s(t(3321)),y=h.internal.bookmarks.Bookmarks,w=h.internal.constants,b=w.ACCESS_MODE_WRITE,g=w.BOLT_PROTOCOL_V1,_=(h.internal.logger.Logger,h.internal.txConfig.TxConfig),x=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),P=function(){function I(T,A,D,N,j,B){var W=D===void 0?{}:D,V=W.disableLosslessIntegers,J=W.useBigInt;N===void 0&&(N=function(){return null}),this._server=T||{},this._chunker=A,this._packer=this._createPacker(A),this._unpacker=this._createUnpacker(V,J),this._responseHandler=N(this),this._log=j,this._onProtocolError=B,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:V,useBigInt:J}}return Object.defineProperty(I.prototype,"transformer",{get:function(){var T=this;return this._transformer===void 0&&(this._transformer=new v.default(Object.values(d.default).map(function(A){return A(T._config,T._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"version",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),I.prototype.packer=function(){return this._packer},I.prototype.packable=function(T){return this._packer.packable(T,this.transformer.toStructure)},I.prototype.unpacker=function(){return this._unpacker},I.prototype.unpack=function(T){return this._unpacker.unpack(T,this.transformer.fromStructure)},I.prototype.transformMetadata=function(T){return T},I.prototype.enrichErrorMetadata=function(T){return n(n({},T),{diagnostic_record:T.diagnostic_record!==null?n(n({},x),T.diagnostic_record):null})},I.prototype.initialize=function(T){var A=this,D=T===void 0?{}:T,N=D.userAgent,j=(D.boltAgent,D.authToken),B=D.notificationFilter,W=D.onError,V=D.onComplete,J=new f.LoginObserver({onError:function(ee){return A._onLoginError(ee,W)},onCompleted:function(ee){return A._onLoginCompleted(ee,V)}});return(0,u.assertNotificationFilterIsEmpty)(B,this._onProtocolError,J),this.write(c.default.init(N,j),J,!0),J},I.prototype.logoff=function(T){var A=T===void 0?{}:T,D=A.onComplete,N=A.onError,j=(A.flush,new f.LogoffObserver({onCompleted:D,onError:N})),B=(0,h.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(B.message),j.onError(B),B},I.prototype.logon=function(T){var A=this,D=T===void 0?{}:T,N=D.authToken,j=D.onComplete,B=D.onError,W=(D.flush,new f.LoginObserver({onCompleted:function(){return A._onLoginCompleted({},N,j)},onError:function(J){return A._onLoginError(J,B)}})),V=(0,h.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(V.message),W.onError(V),V},I.prototype.prepareToClose=function(){},I.prototype.beginTransaction=function(T){var A=T===void 0?{}:T,D=A.bookmarks,N=A.txConfig,j=A.database,B=A.mode,W=A.impersonatedUser,V=A.notificationFilter,J=A.beforeError,ee=A.afterError,te=A.beforeComplete,re=A.afterComplete;return this.run("BEGIN",D?D.asBeginTransactionParameters():{},{bookmarks:D,txConfig:N,database:j,mode:B,impersonatedUser:W,notificationFilter:V,beforeError:J,afterError:ee,beforeComplete:te,afterComplete:re,flush:!1})},I.prototype.commitTransaction=function(T){var A=T===void 0?{}:T,D=A.beforeError,N=A.afterError,j=A.beforeComplete,B=A.afterComplete;return this.run("COMMIT",{},{bookmarks:y.empty(),txConfig:_.empty(),mode:b,beforeError:D,afterError:N,beforeComplete:j,afterComplete:B})},I.prototype.rollbackTransaction=function(T){var A=T===void 0?{}:T,D=A.beforeError,N=A.afterError,j=A.beforeComplete,B=A.afterComplete;return this.run("ROLLBACK",{},{bookmarks:y.empty(),txConfig:_.empty(),mode:b,beforeError:D,afterError:N,beforeComplete:j,afterComplete:B})},I.prototype.run=function(T,A,D){var N=D===void 0?{}:D,j=(N.bookmarks,N.txConfig),B=N.database,W=(N.mode,N.impersonatedUser),V=N.notificationFilter,J=N.beforeKeys,ee=N.afterKeys,te=N.beforeError,re=N.afterError,de=N.beforeComplete,pe=N.afterComplete,fe=N.flush,ye=fe===void 0||fe,Me=N.highRecordWatermark,Ne=Me===void 0?Number.MAX_VALUE:Me,ke=N.lowRecordWatermark,je=ke===void 0?Number.MAX_VALUE:ke,xe=new f.ResultStreamObserver({server:this._server,beforeKeys:J,afterKeys:ee,beforeError:te,afterError:re,beforeComplete:de,afterComplete:pe,highRecordWatermark:Ne,lowRecordWatermark:je});return(0,u.assertTxConfigIsEmpty)(j,this._onProtocolError,xe),(0,u.assertDatabaseIsEmpty)(B,this._onProtocolError,xe),(0,u.assertImpersonatedUserIsEmpty)(W,this._onProtocolError,xe),(0,u.assertNotificationFilterIsEmpty)(V,this._onProtocolError,xe),this.write(c.default.run(T,A),xe,!1),this.write(c.default.pullAll(),xe,ye),xe},Object.defineProperty(I.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),I.prototype.reset=function(T){var A=T===void 0?{}:T,D=A.onError,N=A.onComplete,j=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:D,onComplete:N});return this.write(c.default.reset(),j,!0),j},I.prototype.telemetry=function(T,A){T.api;var D=A===void 0?{}:A,N=(D.onError,D.onCompleted),j=new f.CompletedObserver;return N&&N(),j},I.prototype._createPacker=function(T){return new l.v1.Packer(T)},I.prototype._createUnpacker=function(T,A){return new l.v1.Unpacker(T,A)},I.prototype.write=function(T,A,D){if(this.queueObserverIfProtocolIsNotBroken(A)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(T)),this._lastMessageSignature=T.signature;var N=new l.structure.Structure(T.signature,T.fields);this.packable(N)(),this._chunker.messageBoundary(),D&&this._chunker.flush()}},I.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},I.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},I.prototype.notifyFatalError=function(T){return this._fatalError=T,this._responseHandler._notifyErrorToObservers(T)},I.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},I.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},I.prototype.queueObserverIfProtocolIsNotBroken=function(T){return this.isBroken()?(this.notifyFatalErrorToObserver(T),!1):this._responseHandler._queueObserver(T)},I.prototype.isBroken=function(){return!!this._fatalError},I.prototype.notifyFatalErrorToObserver=function(T){T&&T.onError&&T.onError(this._fatalError)},I.prototype.resetFailure=function(){this._responseHandler._resetFailure()},I.prototype._onLoginCompleted=function(T,A,D){if(this._initialized=!0,this._authToken=A,T){var N=T.server;this._server.version||(this._server.version=N)}D&&D(T)},I.prototype._onLoginError=function(T,A){this._onProtocolError(T.message),A&&A(T)},I}();e.default=P},6661:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,h,d=c.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),a=t(7168),o=t(3321),s=i.error.PROTOCOL_ERROR;e.default={createNodeTransformer:function(){return new o.TypeTransformer({signature:78,isTypeInstance:function(u){return u instanceof i.Node},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Node",3,u.size);var l=n(u.fields,3),c=l[0],f=l[1],h=l[2];return new i.Node(c,f,h)}})},createRelationshipTransformer:function(){return new o.TypeTransformer({signature:82,isTypeInstance:function(u){return u instanceof i.Relationship},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Relationship",5,u.size);var l=n(u.fields,5),c=l[0],f=l[1],h=l[2],d=l[3],v=l[4];return new i.Relationship(c,f,h,d,v)}})},createUnboundRelationshipTransformer:function(){return new o.TypeTransformer({signature:114,isTypeInstance:function(u){return u instanceof i.UnboundRelationship},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("UnboundRelationship",3,u.size);var l=n(u.fields,3),c=l[0],f=l[1],h=l[2];return new i.UnboundRelationship(c,f,h)}})},createPathTransformer:function(){return new o.TypeTransformer({signature:80,isTypeInstance:function(u){return u instanceof i.Path},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Path",3,u.size);for(var l=n(u.fields,3),c=l[0],f=l[1],h=l[2],d=[],v=c[0],y=0;y<h.length;y+=2){var w=c[h[y+1]],b=(0,i.toNumber)(h[y]),g=void 0;b>0?(g=f[b-1])instanceof i.UnboundRelationship&&(f[b-1]=g=g.bindTo(v,w)):(g=f[-b-1])instanceof i.UnboundRelationship&&(f[-b-1]=g=g.bindTo(w,v)),d.push(new i.PathSegment(v,g,w)),v=w}return new i.Path(c[0],c[c.length-1],d)}})}}},2857:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(8320)),s=a(t(7168)),u=t(9305),l=a(t(3448)),c=a(t(3321)),f=u.internal.constants.BOLT_PROTOCOL_V2,h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),v.prototype._createPacker=function(y){return new s.default.Packer(y)},v.prototype._createUnpacker=function(y,w){return new s.default.Unpacker(y,w)},Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(l.default).map(function(w){return w(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),v}(o.default);e.default=h},3448:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(w){for(var b,g=1,_=arguments.length;g<_;g++)for(var x in b=arguments[g])Object.prototype.hasOwnProperty.call(b,x)&&(w[x]=b[x]);return w},n.apply(this,arguments)},i=this&&this.__read||function(w,b){var g=typeof Symbol=="function"&&w[Symbol.iterator];if(!g)return w;var _,x,P=g.call(w),I=[];try{for(;(b===void 0||b-- >0)&&!(_=P.next()).done;)I.push(_.value)}catch(T){x={error:T}}finally{try{_&&!_.done&&(g=P.return)&&g.call(P)}finally{if(x)throw x.error}}return I},a=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9305),s=t(7168),u=t(3321),l=t(5973),c=a(t(6661)),f=o.internal.temporalUtil,h=f.dateToEpochDay,d=f.localDateTimeToEpochSecond,v=f.localTimeToNanoOfDay;function y(w,b,g){if(!b&&!g)return w;var _=function(T){return g?T.toBigInt():T.toNumberOrInfinity()},x=Object.create(Object.getPrototypeOf(w));for(var P in w)if(Object.prototype.hasOwnProperty.call(w,P)===!0){var I=w[P];x[P]=(0,o.isInt)(I)?_(I):I}return Object.freeze(x),x}e.default=n(n({},c.default),{createPoint2DTransformer:function(){return new u.TypeTransformer({signature:88,isTypeInstance:function(w){return(0,o.isPoint)(w)&&(w.z===null||w.z===void 0)},toStructure:function(w){return new s.structure.Structure(88,[(0,o.int)(w.srid),w.x,w.y])},fromStructure:function(w){s.structure.verifyStructSize("Point2D",3,w.size);var b=i(w.fields,3),g=b[0],_=b[1],x=b[2];return new o.Point(g,_,x,void 0)}})},createPoint3DTransformer:function(){return new u.TypeTransformer({signature:89,isTypeInstance:function(w){return(0,o.isPoint)(w)&&w.z!==null&&w.z!==void 0},toStructure:function(w){return new s.structure.Structure(89,[(0,o.int)(w.srid),w.x,w.y,w.z])},fromStructure:function(w){s.structure.verifyStructSize("Point3D",4,w.size);var b=i(w.fields,4),g=b[0],_=b[1],x=b[2],P=b[3];return new o.Point(g,_,x,P)}})},createDurationTransformer:function(){return new u.TypeTransformer({signature:69,isTypeInstance:o.isDuration,toStructure:function(w){var b=(0,o.int)(w.months),g=(0,o.int)(w.days),_=(0,o.int)(w.seconds),x=(0,o.int)(w.nanoseconds);return new s.structure.Structure(69,[b,g,_,x])},fromStructure:function(w){s.structure.verifyStructSize("Duration",4,w.size);var b=i(w.fields,4),g=b[0],_=b[1],x=b[2],P=b[3];return new o.Duration(g,_,x,P)}})},createLocalTimeTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:116,isTypeInstance:o.isLocalTime,toStructure:function(_){var x=v(_.hour,_.minute,_.second,_.nanosecond);return new s.structure.Structure(116,[x])},fromStructure:function(_){s.structure.verifyStructSize("LocalTime",1,_.size);var x=i(_.fields,1)[0];return y((0,l.nanoOfDayToLocalTime)(x),b,g)}})},createTimeTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:84,isTypeInstance:o.isTime,toStructure:function(_){var x=v(_.hour,_.minute,_.second,_.nanosecond),P=(0,o.int)(_.timeZoneOffsetSeconds);return new s.structure.Structure(84,[x,P])},fromStructure:function(_){s.structure.verifyStructSize("Time",2,_.size);var x=i(_.fields,2),P=x[0],I=x[1],T=(0,l.nanoOfDayToLocalTime)(P);return y(new o.Time(T.hour,T.minute,T.second,T.nanosecond,I),b,g)}})},createDateTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:68,isTypeInstance:o.isDate,toStructure:function(_){var x=h(_.year,_.month,_.day);return new s.structure.Structure(68,[x])},fromStructure:function(_){s.structure.verifyStructSize("Date",1,_.size);var x=i(_.fields,1)[0];return y((0,l.epochDayToDate)(x),b,g)}})},createLocalDateTimeTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:100,isTypeInstance:o.isLocalDateTime,toStructure:function(_){var x=d(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),P=(0,o.int)(_.nanosecond);return new s.structure.Structure(100,[x,P])},fromStructure:function(_){s.structure.verifyStructSize("LocalDateTime",2,_.size);var x=i(_.fields,2),P=x[0],I=x[1];return y((0,l.epochSecondAndNanoToLocalDateTime)(P,I),b,g)}})},createDateTimeWithZoneIdTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:102,isTypeInstance:function(_){return(0,o.isDateTime)(_)&&_.timeZoneId!=null},toStructure:function(_){var x=d(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),P=(0,o.int)(_.nanosecond),I=_.timeZoneId;return new s.structure.Structure(102,[x,P,I])},fromStructure:function(_){s.structure.verifyStructSize("DateTimeWithZoneId",3,_.size);var x=i(_.fields,3),P=x[0],I=x[1],T=x[2],A=(0,l.epochSecondAndNanoToLocalDateTime)(P,I);return y(new o.DateTime(A.year,A.month,A.day,A.hour,A.minute,A.second,A.nanosecond,null,T),b,g)}})},createDateTimeWithOffsetTransformer:function(w){var b=w.disableLosslessIntegers,g=w.useBigInt;return new u.TypeTransformer({signature:70,isTypeInstance:function(_){return(0,o.isDateTime)(_)&&_.timeZoneId==null},toStructure:function(_){var x=d(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),P=(0,o.int)(_.nanosecond),I=(0,o.int)(_.timeZoneOffsetSeconds);return new s.structure.Structure(70,[x,P,I])},fromStructure:function(_){s.structure.verifyStructSize("DateTimeWithZoneOffset",3,_.size);var x=i(_.fields,3),P=x[0],I=x[1],T=x[2],A=(0,l.epochSecondAndNanoToLocalDateTime)(P,I);return y(new o.DateTime(A.year,A.month,A.day,A.hour,A.minute,A.second,A.nanosecond,T,null),b,g)}})}})},5642:function(r,e,t){var n,i=this&&this.__extends||(n=function(x,P){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(I[A]=T[A])},n(x,P)},function(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function I(){this.constructor=x}n(x,P),x.prototype=P===null?Object.create(P):(I.prototype=P.prototype,new I)}),a=this&&this.__assign||function(){return a=Object.assign||function(x){for(var P,I=1,T=arguments.length;I<T;I++)for(var A in P=arguments[I])Object.prototype.hasOwnProperty.call(P,A)&&(x[A]=P[A]);return x},a.apply(this,arguments)},o=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(2857)),u=o(t(7021)),l=t(397),c=t(9014),f=o(t(1175)),h=o(t(3321)),d=t(9305),v=(d.internal.bookmarks.Bookmarks,d.internal.constants.BOLT_PROTOCOL_V3),y=d.internal.txConfig.TxConfig,w="context",b="CALL dbms.cluster.routing.getRoutingTable($".concat(w,")"),g=new c.StreamObserver,_=function(x){function P(){return x!==null&&x.apply(this,arguments)||this}return i(P,x),Object.defineProperty(P.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"transformer",{get:function(){var I=this;return this._transformer===void 0&&(this._transformer=new h.default(Object.values(f.default).map(function(T){return T(I._config,I._log)}))),this._transformer},enumerable:!1,configurable:!0}),P.prototype.transformMetadata=function(I){return"t_first"in I&&(I.result_available_after=I.t_first,delete I.t_first),"t_last"in I&&(I.result_consumed_after=I.t_last,delete I.t_last),I},P.prototype.initialize=function(I){var T=this,A=I===void 0?{}:I,D=A.userAgent,N=(A.boltAgent,A.authToken),j=A.notificationFilter,B=A.onError,W=A.onComplete,V=new c.LoginObserver({onError:function(J){return T._onLoginError(J,B)},onCompleted:function(J){return T._onLoginCompleted(J,N,W)}});return(0,l.assertNotificationFilterIsEmpty)(j,this._onProtocolError,V),this.write(u.default.hello(D,N),V,!0),V},P.prototype.prepareToClose=function(){this.write(u.default.goodbye(),g,!0)},P.prototype.beginTransaction=function(I){var T=I===void 0?{}:I,A=T.bookmarks,D=T.txConfig,N=T.database,j=T.impersonatedUser,B=T.notificationFilter,W=T.mode,V=T.beforeError,J=T.afterError,ee=T.beforeComplete,te=T.afterComplete,re=new c.ResultStreamObserver({server:this._server,beforeError:V,afterError:J,beforeComplete:ee,afterComplete:te});return re.prepareToHandleSingleResponse(),(0,l.assertDatabaseIsEmpty)(N,this._onProtocolError,re),(0,l.assertImpersonatedUserIsEmpty)(j,this._onProtocolError,re),(0,l.assertNotificationFilterIsEmpty)(B,this._onProtocolError,re),this.write(u.default.begin({bookmarks:A,txConfig:D,mode:W}),re,!0),re},P.prototype.commitTransaction=function(I){var T=I===void 0?{}:I,A=T.beforeError,D=T.afterError,N=T.beforeComplete,j=T.afterComplete,B=new c.ResultStreamObserver({server:this._server,beforeError:A,afterError:D,beforeComplete:N,afterComplete:j});return B.prepareToHandleSingleResponse(),this.write(u.default.commit(),B,!0),B},P.prototype.rollbackTransaction=function(I){var T=I===void 0?{}:I,A=T.beforeError,D=T.afterError,N=T.beforeComplete,j=T.afterComplete,B=new c.ResultStreamObserver({server:this._server,beforeError:A,afterError:D,beforeComplete:N,afterComplete:j});return B.prepareToHandleSingleResponse(),this.write(u.default.rollback(),B,!0),B},P.prototype.run=function(I,T,A){var D=A===void 0?{}:A,N=D.bookmarks,j=D.txConfig,B=D.database,W=D.impersonatedUser,V=D.notificationFilter,J=D.mode,ee=D.beforeKeys,te=D.afterKeys,re=D.beforeError,de=D.afterError,pe=D.beforeComplete,fe=D.afterComplete,ye=D.flush,Me=ye===void 0||ye,Ne=D.highRecordWatermark,ke=Ne===void 0?Number.MAX_VALUE:Ne,je=D.lowRecordWatermark,xe=je===void 0?Number.MAX_VALUE:je,Se=new c.ResultStreamObserver({server:this._server,beforeKeys:ee,afterKeys:te,beforeError:re,afterError:de,beforeComplete:pe,afterComplete:fe,highRecordWatermark:ke,lowRecordWatermark:xe});return(0,l.assertDatabaseIsEmpty)(B,this._onProtocolError,Se),(0,l.assertImpersonatedUserIsEmpty)(W,this._onProtocolError,Se),(0,l.assertNotificationFilterIsEmpty)(V,this._onProtocolError,Se),this.write(u.default.runWithMetadata(I,T,{bookmarks:N,txConfig:j,mode:J}),Se,!1),this.write(u.default.pullAll(),Se,Me),Se},P.prototype.requestRoutingInformation=function(I){var T,A=I.routingContext,D=A===void 0?{}:A,N=I.sessionContext,j=N===void 0?{}:N,B=I.onError,W=I.onCompleted,V=this.run(b,((T={})[w]=D,T),a(a({},j),{txConfig:y.empty()}));return new c.ProcedureRouteObserver({resultObserver:V,onProtocolError:this._onProtocolError,onError:B,onCompleted:W})},P}(s.default);e.default=_},1175:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(3448));e.default=n({},a.default)},2539:function(r,e,t){var n,i=this&&this.__extends||(n=function(I,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,D){A.__proto__=D}||function(A,D){for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(A[N]=D[N])},n(I,T)},function(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function A(){this.constructor=I}n(I,T),I.prototype=T===null?Object.create(T):(A.prototype=T.prototype,new A)}),a=this&&this.__assign||function(){return a=Object.assign||function(I){for(var T,A=1,D=arguments.length;A<D;A++)for(var N in T=arguments[A])Object.prototype.hasOwnProperty.call(T,N)&&(I[N]=T[N]);return I},a.apply(this,arguments)},o=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(5642)),u=o(t(7021)),l=t(397),c=t(9014),f=o(t(2066)),h=o(t(3321)),d=t(9305),v=(d.internal.bookmarks.Bookmarks,d.internal.constants),y=v.BOLT_PROTOCOL_V4_0,w=v.FETCH_ALL,b=d.internal.txConfig.TxConfig,g="context",_="database",x="CALL dbms.routing.getRoutingTable($".concat(g,", $").concat(_,")"),P=function(I){function T(){return I!==null&&I.apply(this,arguments)||this}return i(T,I),Object.defineProperty(T.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"transformer",{get:function(){var A=this;return this._transformer===void 0&&(this._transformer=new h.default(Object.values(f.default).map(function(D){return D(A._config,A._log)}))),this._transformer},enumerable:!1,configurable:!0}),T.prototype.beginTransaction=function(A){var D=A===void 0?{}:A,N=D.bookmarks,j=D.txConfig,B=D.database,W=D.impersonatedUser,V=D.notificationFilter,J=D.mode,ee=D.beforeError,te=D.afterError,re=D.beforeComplete,de=D.afterComplete,pe=new c.ResultStreamObserver({server:this._server,beforeError:ee,afterError:te,beforeComplete:re,afterComplete:de});return pe.prepareToHandleSingleResponse(),(0,l.assertImpersonatedUserIsEmpty)(W,this._onProtocolError,pe),(0,l.assertNotificationFilterIsEmpty)(V,this._onProtocolError,pe),this.write(u.default.begin({bookmarks:N,txConfig:j,database:B,mode:J}),pe,!0),pe},T.prototype.run=function(A,D,N){var j=N===void 0?{}:N,B=j.bookmarks,W=j.txConfig,V=j.database,J=j.impersonatedUser,ee=j.notificationFilter,te=j.mode,re=j.beforeKeys,de=j.afterKeys,pe=j.beforeError,fe=j.afterError,ye=j.beforeComplete,Me=j.afterComplete,Ne=j.flush,ke=Ne===void 0||Ne,je=j.reactive,xe=je!==void 0&&je,Se=j.fetchSize,Re=Se===void 0?w:Se,Oe=j.highRecordWatermark,Pe=Oe===void 0?Number.MAX_VALUE:Oe,Ue=j.lowRecordWatermark,ot=Ue===void 0?Number.MAX_VALUE:Ue,$e=new c.ResultStreamObserver({server:this._server,reactive:xe,fetchSize:Re,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:re,afterKeys:de,beforeError:pe,afterError:fe,beforeComplete:ye,afterComplete:Me,highRecordWatermark:Pe,lowRecordWatermark:ot});(0,l.assertImpersonatedUserIsEmpty)(J,this._onProtocolError,$e),(0,l.assertNotificationFilterIsEmpty)(ee,this._onProtocolError,$e);var rt=xe;return this.write(u.default.runWithMetadata(A,D,{bookmarks:B,txConfig:W,database:V,mode:te}),$e,rt&&ke),xe||this.write(u.default.pull({n:Re}),$e,ke),$e},T.prototype._requestMore=function(A,D,N){this.write(u.default.pull({stmtId:A,n:D}),N,!0)},T.prototype._requestDiscard=function(A,D){this.write(u.default.discard({stmtId:A}),D,!0)},T.prototype._noOp=function(){},T.prototype.requestRoutingInformation=function(A){var D,N=A.routingContext,j=N===void 0?{}:N,B=A.databaseName,W=B===void 0?null:B,V=A.sessionContext,J=V===void 0?{}:V,ee=A.onError,te=A.onCompleted,re=this.run(x,((D={})[g]=j,D[_]=W,D),a(a({},J),{txConfig:b.empty()}));return new c.ProcedureRouteObserver({resultObserver:re,onProtocolError:this._onProtocolError,onError:ee,onCompleted:te})},T}(s.default);e.default=P},2066:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(1175));e.default=n({},a.default)},4596:function(r,e,t){var n,i=this&&this.__extends||(n=function(y,w){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(b[_]=g[_])},n(y,w)},function(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function b(){this.constructor=y}n(y,w),y.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}),a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(2539)),s=a(t(7021)),u=t(9014),l=t(9305),c=t(397),f=a(t(7521)),h=a(t(3321)),d=l.internal.constants.BOLT_PROTOCOL_V4_1,v=function(y){function w(b,g,_,x,P,I,T){x===void 0&&(x=function(){return null});var A=y.call(this,b,g,_,x,P,I)||this;return A._serversideRouting=T,A}return i(w,y),Object.defineProperty(w.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new h.default(Object.values(f.default).map(function(g){return g(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),w.prototype.initialize=function(b){var g=this,_=b===void 0?{}:b,x=_.userAgent,P=(_.boltAgent,_.authToken),I=_.notificationFilter,T=_.onError,A=_.onComplete,D=new u.LoginObserver({onError:function(N){return g._onLoginError(N,T)},onCompleted:function(N){return g._onLoginCompleted(N,P,A)}});return(0,c.assertNotificationFilterIsEmpty)(I,this._onProtocolError,D),this.write(s.default.hello(x,P,this._serversideRouting),D,!0),D},w}(o.default);e.default=v},7521:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(2066));e.default=n({},a.default)},6445:function(r,e,t){var n,i=this&&this.__extends||(n=function(h,d){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[w]=y[w])},n(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=h}n(h,d),h.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}),a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(4596)),s=t(9305),u=a(t(5348)),l=a(t(3321)),c=s.internal.constants.BOLT_PROTOCOL_V4_2,f=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return i(d,h),Object.defineProperty(d.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(y){return y(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),d}(o.default);e.default=f},5348:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7521));e.default=n({},a.default)},9054:function(r,e,t){var n,i=this&&this.__extends||(n=function(g,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,P){x.__proto__=P}||function(x,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(x[I]=P[I])},n(g,_)},function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function x(){this.constructor=g}n(g,_),g.prototype=_===null?Object.create(_):(x.prototype=_.prototype,new x)}),a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var _,x=1,P=arguments.length;x<P;x++)for(var I in _=arguments[x])Object.prototype.hasOwnProperty.call(_,I)&&(g[I]=_[I]);return g},a.apply(this,arguments)},o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6445)),u=o(t(7021)),l=t(9014),c=t(397),f=o(t(7331)),h=o(t(5045)),d=o(t(3321)),v=t(9305),y=v.internal.bookmarks.Bookmarks,w=v.internal.constants.BOLT_PROTOCOL_V4_3,b=function(g){function _(){return g!==null&&g.apply(this,arguments)||this}return i(_,g),Object.defineProperty(_.prototype,"version",{get:function(){return w},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var x=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(f.default).map(function(P){return P(x._config,x._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.requestRoutingInformation=function(x){var P=x.routingContext,I=P===void 0?{}:P,T=x.databaseName,A=T===void 0?null:T,D=x.sessionContext,N=D===void 0?{}:D,j=x.onError,B=x.onCompleted,W=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:j,onCompleted:B}),V=N.bookmarks||y.empty();return this.write(u.default.route(I,V.values(),A),W,!0),W},_.prototype.initialize=function(x){var P=this,I=x===void 0?{}:x,T=I.userAgent,A=(I.boltAgent,I.authToken),D=I.notificationFilter,N=I.onError,j=I.onComplete,B=new l.LoginObserver({onError:function(W){return P._onLoginError(W,N)},onCompleted:function(W){return W.patch_bolt!==void 0&&P._applyPatches(W.patch_bolt),P._onLoginCompleted(W,A,j)}});return(0,c.assertNotificationFilterIsEmpty)(D,this._onProtocolError,B),this.write(u.default.hello(T,A,this._serversideRouting,["utc"]),B,!0),B},_.prototype._applyPatches=function(x){x.includes("utc")&&this._applyUtcPatch()},_.prototype._applyUtcPatch=function(){var x=this;this._transformer=new d.default(Object.values(a(a({},f.default),h.default)).map(function(P){return P(x._config,x._log)}))},_}(s.default);e.default=b},7331:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(5348));e.default=n({},a.default)},1711:function(r,e,t){var n,i=this&&this.__extends||(n=function(x,P){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(I[A]=T[A])},n(x,P)},function(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function I(){this.constructor=x}n(x,P),x.prototype=P===null?Object.create(P):(I.prototype=P.prototype,new I)}),a=this&&this.__assign||function(){return a=Object.assign||function(x){for(var P,I=1,T=arguments.length;I<T;I++)for(var A in P=arguments[I])Object.prototype.hasOwnProperty.call(P,A)&&(x[A]=P[A]);return x},a.apply(this,arguments)},o=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(9054)),u=t(9305),l=o(t(7021)),c=t(9014),f=t(397),h=o(t(7518)),d=o(t(5045)),v=o(t(3321)),y=u.internal.constants,w=y.BOLT_PROTOCOL_V4_4,b=y.FETCH_ALL,g=u.internal.bookmarks.Bookmarks,_=function(x){function P(){return x!==null&&x.apply(this,arguments)||this}return i(P,x),Object.defineProperty(P.prototype,"version",{get:function(){return w},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"transformer",{get:function(){var I=this;return this._transformer===void 0&&(this._transformer=new v.default(Object.values(h.default).map(function(T){return T(I._config,I._log)}))),this._transformer},enumerable:!1,configurable:!0}),P.prototype.requestRoutingInformation=function(I){var T=I.routingContext,A=T===void 0?{}:T,D=I.databaseName,N=D===void 0?null:D,j=I.impersonatedUser,B=j===void 0?null:j,W=I.sessionContext,V=W===void 0?{}:W,J=I.onError,ee=I.onCompleted,te=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:J,onCompleted:ee}),re=V.bookmarks||g.empty();return this.write(l.default.routeV4x4(A,re.values(),{databaseName:N,impersonatedUser:B}),te,!0),te},P.prototype.run=function(I,T,A){var D=A===void 0?{}:A,N=D.bookmarks,j=D.txConfig,B=D.database,W=D.mode,V=D.impersonatedUser,J=D.notificationFilter,ee=D.beforeKeys,te=D.afterKeys,re=D.beforeError,de=D.afterError,pe=D.beforeComplete,fe=D.afterComplete,ye=D.flush,Me=ye===void 0||ye,Ne=D.reactive,ke=Ne!==void 0&&Ne,je=D.fetchSize,xe=je===void 0?b:je,Se=D.highRecordWatermark,Re=Se===void 0?Number.MAX_VALUE:Se,Oe=D.lowRecordWatermark,Pe=Oe===void 0?Number.MAX_VALUE:Oe,Ue=new c.ResultStreamObserver({server:this._server,reactive:ke,fetchSize:xe,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:ee,afterKeys:te,beforeError:re,afterError:de,beforeComplete:pe,afterComplete:fe,highRecordWatermark:Re,lowRecordWatermark:Pe});(0,f.assertNotificationFilterIsEmpty)(J,this._onProtocolError,Ue);var ot=ke;return this.write(l.default.runWithMetadata(I,T,{bookmarks:N,txConfig:j,database:B,mode:W,impersonatedUser:V}),Ue,ot&&Me),ke||this.write(l.default.pull({n:xe}),Ue,Me),Ue},P.prototype.beginTransaction=function(I){var T=I===void 0?{}:I,A=T.bookmarks,D=T.txConfig,N=T.database,j=T.mode,B=T.impersonatedUser,W=T.notificationFilter,V=T.beforeError,J=T.afterError,ee=T.beforeComplete,te=T.afterComplete,re=new c.ResultStreamObserver({server:this._server,beforeError:V,afterError:J,beforeComplete:ee,afterComplete:te});return re.prepareToHandleSingleResponse(),(0,f.assertNotificationFilterIsEmpty)(W,this._onProtocolError,re),this.write(l.default.begin({bookmarks:A,txConfig:D,database:N,mode:j,impersonatedUser:B}),re,!0),re},P.prototype._applyUtcPatch=function(){var I=this;this._transformer=new v.default(Object.values(a(a({},h.default),d.default)).map(function(T){return T(I._config,I._log)}))},P}(s.default);e.default=_},7518:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7331));e.default=n({},a.default)},844:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,y){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(w[g]=b[g])},n(v,y)},function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function w(){this.constructor=v}n(v,y),v.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}),a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(1711)),s=t(397),u=a(t(7449)),l=a(t(3321)),c=a(t(7021)),f=t(9014),h=t(9305).internal.constants.BOLT_PROTOCOL_V5_0,d=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return i(y,v),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(b){return b(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.initialize=function(w){var b=this,g=w===void 0?{}:w,_=g.userAgent,x=(g.boltAgent,g.authToken),P=g.notificationFilter,I=g.onError,T=g.onComplete,A=new f.LoginObserver({onError:function(D){return b._onLoginError(D,I)},onCompleted:function(D){return b._onLoginCompleted(D,x,T)}});return(0,s.assertNotificationFilterIsEmpty)(P,this._onProtocolError,A),this.write(c.default.hello(_,x,this._serversideRouting),A,!0),A},y}(o.default);e.default=d},7449:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++)for(var v in f=arguments[h])Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)w.push(d.value)}catch(b){v={error:b}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return w},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(7168),s=t(9305),u=a(t(7518)),l=a(t(5045));e.default=n(n(n({},u.default),l.default),{createNodeTransformer:function(c){return u.default.createNodeTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Node",4,f.size);var h=i(f.fields,4),d=h[0],v=h[1],y=h[2],w=h[3];return new s.Node(d,v,y,w)}})},createRelationshipTransformer:function(c){return u.default.createRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Relationship",8,f.size);var h=i(f.fields,8),d=h[0],v=h[1],y=h[2],w=h[3],b=h[4],g=h[5],_=h[6],x=h[7];return new s.Relationship(d,v,y,w,b,g,_,x)}})},createUnboundRelationshipTransformer:function(c){return u.default.createUnboundRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("UnboundRelationship",4,f.size);var h=i(f.fields,4),d=h[0],v=h[1],y=h[2],w=h[3];return new s.UnboundRelationship(d,v,y,w)}})}})},5045:function(r,e,t){var n=this&&this.__read||function(v,y){var w=typeof Symbol=="function"&&v[Symbol.iterator];if(!w)return v;var b,g,_=w.call(v),x=[];try{for(;(y===void 0||y-- >0)&&!(b=_.next()).done;)x.push(b.value)}catch(P){g={error:P}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(g)throw g.error}}return x},i=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(7168),o=t(9305),s=i(t(7518)),u=t(5973),l=t(6492),c=o.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function h(v,y,w){var b=function(P){if(!f.has(P)){var I=new Intl.DateTimeFormat("en-US",{timeZone:P,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(P,I)}return f.get(P)}(v),g=(0,o.int)(y).multiply(1e3).add((0,o.int)(w).div(1e6)).toNumber(),_=b.formatToParts(g).reduce(function(P,I){return I.type==="era"?P.adjustEra=I.value.toUpperCase()==="B"?function(T){return T.subtract(1).negate()}:l.identity:I.type==="hour"?P.hour=(0,o.int)(I.value).modulo(24):I.type!=="literal"&&(P[I.type]=(0,o.int)(I.value)),P},{});_.year=_.adjustEra(_.year);var x=c(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond);return _.timeZoneOffsetSeconds=x.subtract(y),_.hour=_.hour.modulo(24),_}function d(v,y,w){if(!y&&!w)return v;var b=function(P){return w?P.toBigInt():P.toNumberOrInfinity()},g=Object.create(Object.getPrototypeOf(v));for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_)===!0){var x=v[_];g[_]=(0,o.isInt)(x)?b(x):x}return Object.freeze(g),g}e.default={createDateTimeWithZoneIdTransformer:function(v,y){var w=v.disableLosslessIntegers,b=v.useBigInt;return s.default.createDateTimeWithZoneIdTransformer(v).extendsWith({signature:105,fromStructure:function(g){a.structure.verifyStructSize("DateTimeWithZoneId",3,g.size);var _=n(g.fields,3),x=_[0],P=_[1],I=_[2],T=h(I,x,P);return d(new o.DateTime(T.year,T.month,T.day,T.hour,T.minute,T.second,(0,o.int)(P),T.timeZoneOffsetSeconds,I),w,b)},toStructure:function(g){var _=c(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond),x=g.timeZoneOffsetSeconds!=null?g.timeZoneOffsetSeconds:function(A,D,N){var j=h(A,D,N),B=c(j.year,j.month,j.day,j.hour,j.minute,j.second,N).subtract(D),W=D.subtract(B),V=h(A,W,N);return c(V.year,V.month,V.day,V.hour,V.minute,V.second,N).subtract(W)}(g.timeZoneId,_,g.nanosecond);g.timeZoneOffsetSeconds==null&&y.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var P=_.subtract(x),I=(0,o.int)(g.nanosecond),T=g.timeZoneId;return new a.structure.Structure(105,[P,I,T])}})},createDateTimeWithOffsetTransformer:function(v){var y=v.disableLosslessIntegers,w=v.useBigInt;return s.default.createDateTimeWithOffsetTransformer(v).extendsWith({signature:73,toStructure:function(b){var g=c(b.year,b.month,b.day,b.hour,b.minute,b.second,b.nanosecond),_=(0,o.int)(b.nanosecond),x=(0,o.int)(b.timeZoneOffsetSeconds),P=g.subtract(x);return new a.structure.Structure(73,[P,_,x])},fromStructure:function(b){a.structure.verifyStructSize("DateTimeWithZoneOffset",3,b.size);var g=n(b.fields,3),_=g[0],x=g[1],P=g[2],I=(0,o.int)(_).add(P),T=(0,u.epochSecondAndNanoToLocalDateTime)(I,x);return d(new o.DateTime(T.year,T.month,T.day,T.hour,T.minute,T.second,T.nanosecond,P,null),y,w)}})}}},6345:function(r,e,t){var n,i=this&&this.__extends||(n=function(y,w){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(b[_]=g[_])},n(y,w)},function(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function b(){this.constructor=y}n(y,w),y.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}),a=this&&this.__assign||function(){return a=Object.assign||function(y){for(var w,b=1,g=arguments.length;b<g;b++)for(var _ in w=arguments[b])Object.prototype.hasOwnProperty.call(w,_)&&(y[_]=w[_]);return y},a.apply(this,arguments)},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(844)),u=t(397),l=o(t(9994)),c=o(t(3321)),f=o(t(7021)),h=t(9014),d=t(9305).internal.constants.BOLT_PROTOCOL_V5_1,v=function(y){function w(){return y!==null&&y.apply(this,arguments)||this}return i(w,y),Object.defineProperty(w.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(l.default).map(function(g){return g(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),w.prototype.initialize=function(b){var g=this,_=b===void 0?{}:b,x=_.userAgent,P=(_.boltAgent,_.authToken),I=_.notificationFilter,T=_.onError,A=_.onComplete,D={},N=new h.LoginObserver({onError:function(j){return g._onLoginError(j,T)},onCompleted:function(j){return D.metadata=j,g._onLoginCompleted(j)}});return(0,u.assertNotificationFilterIsEmpty)(I,this._onProtocolError,N),this.write(f.default.hello5x1(x,this._serversideRouting),N,!1),this.logon({authToken:P,onComplete:function(j){return A(a(a({},j),D.metadata))},onError:T,flush:!0})},w.prototype.logon=function(b){var g=this,_=b===void 0?{}:b,x=_.authToken,P=_.onComplete,I=_.onError,T=_.flush,A=new h.LoginObserver({onCompleted:function(){return g._onLoginCompleted(null,x,P)},onError:function(D){return g._onLoginError(D,I)}});return this.write(f.default.logon(x),A,T),A},w.prototype.logoff=function(b){var g=b===void 0?{}:b,_=g.onComplete,x=g.onError,P=g.flush,I=new h.LogoffObserver({onCompleted:_,onError:x});return this.write(f.default.logoff(),I,P),I},w}(s.default);e.default=v},9994:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7449));e.default=n({},a.default)},934:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function g(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)}),a=this&&this.__assign||function(){return a=Object.assign||function(w){for(var b,g=1,_=arguments.length;g<_;g++)for(var x in b=arguments[g])Object.prototype.hasOwnProperty.call(b,x)&&(w[x]=b[x]);return w},a.apply(this,arguments)},o=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6345)),u=o(t(3019)),l=o(t(3321)),c=o(t(7021)),f=t(9014),h=t(9305).internal.constants,d=h.BOLT_PROTOCOL_V5_2,v=h.FETCH_ALL,y=function(w){function b(){return w!==null&&w.apply(this,arguments)||this}return i(b,w),Object.defineProperty(b.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"transformer",{get:function(){var g=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(_){return _(g._config,g._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.initialize=function(g){var _=this,x=g===void 0?{}:g,P=x.userAgent,I=(x.boltAgent,x.authToken),T=x.notificationFilter,A=x.onError,D=x.onComplete,N={},j=new f.LoginObserver({onError:function(B){return _._onLoginError(B,A)},onCompleted:function(B){return N.metadata=B,_._onLoginCompleted(B)}});return this.write(c.default.hello5x2(P,T,this._serversideRouting),j,!1),this.logon({authToken:I,onComplete:function(B){return D(a(a({},B),N.metadata))},onError:A,flush:!0})},b.prototype.beginTransaction=function(g){var _=g===void 0?{}:g,x=_.bookmarks,P=_.txConfig,I=_.database,T=_.mode,A=_.impersonatedUser,D=_.notificationFilter,N=_.beforeError,j=_.afterError,B=_.beforeComplete,W=_.afterComplete,V=new f.ResultStreamObserver({server:this._server,beforeError:N,afterError:j,beforeComplete:B,afterComplete:W});return V.prepareToHandleSingleResponse(),this.write(c.default.begin({bookmarks:x,txConfig:P,database:I,mode:T,impersonatedUser:A,notificationFilter:D}),V,!0),V},b.prototype.run=function(g,_,x){var P=x===void 0?{}:x,I=P.bookmarks,T=P.txConfig,A=P.database,D=P.mode,N=P.impersonatedUser,j=P.notificationFilter,B=P.beforeKeys,W=P.afterKeys,V=P.beforeError,J=P.afterError,ee=P.beforeComplete,te=P.afterComplete,re=P.flush,de=re===void 0||re,pe=P.reactive,fe=pe!==void 0&&pe,ye=P.fetchSize,Me=ye===void 0?v:ye,Ne=P.highRecordWatermark,ke=Ne===void 0?Number.MAX_VALUE:Ne,je=P.lowRecordWatermark,xe=je===void 0?Number.MAX_VALUE:je,Se=new f.ResultStreamObserver({server:this._server,reactive:fe,fetchSize:Me,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:B,afterKeys:W,beforeError:V,afterError:J,beforeComplete:ee,afterComplete:te,highRecordWatermark:ke,lowRecordWatermark:xe}),Re=fe;return this.write(c.default.runWithMetadata(g,_,{bookmarks:I,txConfig:T,database:A,mode:D,impersonatedUser:N,notificationFilter:j}),Se,Re&&de),fe||this.write(c.default.pull({n:Me}),Se,de),Se},b}(s.default);e.default=y},3019:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(9994));e.default=n({},a.default)},9125:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,y){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(w[g]=b[g])},n(v,y)},function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function w(){this.constructor=v}n(v,y),v.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}),a=this&&this.__assign||function(){return a=Object.assign||function(v){for(var y,w=1,b=arguments.length;w<b;w++)for(var g in y=arguments[w])Object.prototype.hasOwnProperty.call(y,g)&&(v[g]=y[g]);return v},a.apply(this,arguments)},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(934)),u=o(t(2204)),l=o(t(3321)),c=o(t(7021)),f=t(9014),h=t(9305).internal.constants.BOLT_PROTOCOL_V5_3,d=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return i(y,v),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(b){return b(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.initialize=function(w){var b=this,g=w===void 0?{}:w,_=g.userAgent,x=g.boltAgent,P=g.authToken,I=g.notificationFilter,T=g.onError,A=g.onComplete,D={},N=new f.LoginObserver({onError:function(j){return b._onLoginError(j,T)},onCompleted:function(j){return D.metadata=j,b._onLoginCompleted(j)}});return this.write(c.default.hello5x3(_,x,I,this._serversideRouting),N,!1),this.logon({authToken:P,onComplete:function(j){return A(a(a({},j),D.metadata))},onError:T,flush:!0})},y}(s.default);e.default=d},2204:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(3019));e.default=n({},a.default)},9744:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(9125)),s=a(t(4325)),u=a(t(7021)),l=t(9014),c=a(t(3321)),f=t(9305).internal.constants.BOLT_PROTOCOL_V5_4,h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(s.default).map(function(w){return w(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.telemetry=function(y,w){var b=y.api,g=w===void 0?{}:w,_=g.onError,x=g.onCompleted,P=new l.TelemetryObserver({onCompleted:x,onError:_});return this.write(u.default.telemetry({api:b}),P,!1),P},v}(o.default);e.default=h},4325:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(2204));e.default=n({},a.default)},5815:function(r,e,t){var n,i=this&&this.__extends||(n=function(b,g){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(_[P]=x[P])},n(b,g)},function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function _(){this.constructor=b}n(b,g),b.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}),a=this&&this.__assign||function(){return a=Object.assign||function(b){for(var g,_=1,x=arguments.length;_<x;_++)for(var P in g=arguments[_])Object.prototype.hasOwnProperty.call(g,P)&&(b[P]=g[P]);return b},a.apply(this,arguments)},o=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(9744)),u=o(t(9238)),l=o(t(3321)),c=o(t(7021)),f=t(9014),h=t(9305).internal.constants,d=h.BOLT_PROTOCOL_V5_5,v=h.FETCH_ALL,y=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(b){function g(){return b!==null&&b.apply(this,arguments)||this}return i(g,b),Object.defineProperty(g.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"transformer",{get:function(){var _=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(x){return x(_._config,_._log)}))),this._transformer},enumerable:!1,configurable:!0}),g.prototype.initialize=function(_){var x=this,P=_===void 0?{}:_,I=P.userAgent,T=P.boltAgent,A=P.authToken,D=P.notificationFilter,N=P.onError,j=P.onComplete,B={},W=new f.LoginObserver({onError:function(V){return x._onLoginError(V,N)},onCompleted:function(V){return B.metadata=V,x._onLoginCompleted(V)}});return this.write(c.default.hello5x5(I,T,D,this._serversideRouting),W,!1),this.logon({authToken:A,onComplete:function(V){return j(a(a({},V),B.metadata))},onError:N,flush:!0})},g.prototype.beginTransaction=function(_){var x=_===void 0?{}:_,P=x.bookmarks,I=x.txConfig,T=x.database,A=x.mode,D=x.impersonatedUser,N=x.notificationFilter,j=x.beforeError,B=x.afterError,W=x.beforeComplete,V=x.afterComplete,J=new f.ResultStreamObserver({server:this._server,beforeError:j,afterError:B,beforeComplete:W,afterComplete:V});return J.prepareToHandleSingleResponse(),this.write(c.default.begin5x5({bookmarks:P,txConfig:I,database:T,mode:A,impersonatedUser:D,notificationFilter:N}),J,!0),J},g.prototype.run=function(_,x,P){var I=P===void 0?{}:P,T=I.bookmarks,A=I.txConfig,D=I.database,N=I.mode,j=I.impersonatedUser,B=I.notificationFilter,W=I.beforeKeys,V=I.afterKeys,J=I.beforeError,ee=I.afterError,te=I.beforeComplete,re=I.afterComplete,de=I.flush,pe=de===void 0||de,fe=I.reactive,ye=fe!==void 0&&fe,Me=I.fetchSize,Ne=Me===void 0?v:Me,ke=I.highRecordWatermark,je=ke===void 0?Number.MAX_VALUE:ke,xe=I.lowRecordWatermark,Se=xe===void 0?Number.MAX_VALUE:xe,Re=new f.ResultStreamObserver({server:this._server,reactive:ye,fetchSize:Ne,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:W,afterKeys:V,beforeError:J,afterError:ee,beforeComplete:te,afterComplete:re,highRecordWatermark:je,lowRecordWatermark:Se,enrichMetadata:this._enrichMetadata}),Oe=ye;return this.write(c.default.runWithMetadata5x5(_,x,{bookmarks:T,txConfig:A,database:D,mode:N,impersonatedUser:j,notificationFilter:B}),Re,Oe&&pe),ye||this.write(c.default.pull({n:Ne}),Re,pe),Re},g.prototype._enrichMetadata=function(_){return Array.isArray(_.statuses)&&(_.statuses=_.statuses.map(function(x){return a(a({},x),{description:x.neo4j_code!=null?x.status_description:x.description,diagnostic_record:x.diagnostic_record!==null?a(a({},y),x.diagnostic_record):null})})),_},g}(s.default);e.default=w},9238:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(4325));e.default=n({},a.default)},6890:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__assign||function(){return a=Object.assign||function(d){for(var v,y=1,w=arguments.length;y<w;y++)for(var b in v=arguments[y])Object.prototype.hasOwnProperty.call(v,b)&&(d[b]=v[b]);return d},a.apply(this,arguments)},o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(5815)),u=o(t(9238)),l=o(t(3321)),c=t(9305).internal.constants.BOLT_PROTOCOL_V5_6,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(w){return w(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype._enrichMetadata=function(y){return Array.isArray(y.statuses)&&(y.statuses=y.statuses.map(function(w){return a(a({},w),{diagnostic_record:w.diagnostic_record!==null?a(a({},f),w.diagnostic_record):null})})),y},v}(s.default);e.default=h},6377:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__assign||function(){return a=Object.assign||function(d){for(var v,y=1,w=arguments.length;y<w;y++)for(var b in v=arguments[y])Object.prototype.hasOwnProperty.call(v,b)&&(d[b]=v[b]);return d},a.apply(this,arguments)},o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6890)),u=o(t(9238)),l=o(t(3321)),c=t(9305).internal.constants.BOLT_PROTOCOL_V5_7,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(w){return w(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.enrichErrorMetadata=function(y){return a(a({},y),{cause:y.cause!==null&&y.cause!==void 0?this.enrichErrorMetadata(y.cause):null,code:y.neo4j_code,diagnostic_record:y.diagnostic_record!==null?a(a({},f),y.diagnostic_record):null})},v}(s.default);e.default=h},6544:function(r,e,t){var n=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),a=n(t(8320)),o=n(t(2857)),s=n(t(5642)),u=n(t(2539)),l=n(t(4596)),c=n(t(6445)),f=n(t(9054)),h=n(t(1711)),d=n(t(844)),v=n(t(6345)),y=n(t(934)),w=n(t(9125)),b=n(t(9744)),g=n(t(5815)),_=n(t(6890)),x=n(t(6377)),P=(t(7452),n(t(2578)));e.default=function(I){var T=I===void 0?{}:I,A=T.version,D=T.chunker,N=T.dechunker,j=T.channel,B=T.disableLosslessIntegers,W=T.useBigInt,V=T.serversideRouting,J=T.server,ee=T.log,te=T.observer;return function(re,de,pe,fe,ye,Me,Ne,ke){switch(re){case 1:return new a.default(de,pe,fe,Me,ke,Ne);case 2:return new o.default(de,pe,fe,Me,ke,Ne);case 3:return new s.default(de,pe,fe,Me,ke,Ne);case 4:return new u.default(de,pe,fe,Me,ke,Ne);case 4.1:return new l.default(de,pe,fe,Me,ke,Ne,ye);case 4.2:return new c.default(de,pe,fe,Me,ke,Ne,ye);case 4.3:return new f.default(de,pe,fe,Me,ke,Ne,ye);case 4.4:return new h.default(de,pe,fe,Me,ke,Ne,ye);case 5:return new d.default(de,pe,fe,Me,ke,Ne,ye);case 5.1:return new v.default(de,pe,fe,Me,ke,Ne,ye);case 5.2:return new y.default(de,pe,fe,Me,ke,Ne,ye);case 5.3:return new w.default(de,pe,fe,Me,ke,Ne,ye);case 5.4:return new b.default(de,pe,fe,Me,ke,Ne,ye);case 5.5:return new g.default(de,pe,fe,Me,ke,Ne,ye);case 5.6:return new _.default(de,pe,fe,Me,ke,Ne,ye);case 5.7:return new x.default(de,pe,fe,Me,ke,Ne,ye);default:throw(0,i.newError)("Unknown Bolt protocol version: "+re)}}(A,J,D,{disableLosslessIntegers:B,useBigInt:W},V,function(re){var de=new P.default({transformMetadata:re.transformMetadata.bind(re),enrichErrorMetadata:re.enrichErrorMetadata.bind(re),log:ee,observer:te});return j.onerror=te.onError.bind(te),j.onmessage=function(pe){return N.write(pe)},N.onmessage=function(pe){try{de.handleResponse(re.unpack(pe))}catch(fe){return te.onError(fe)}},de},te.onProtocolError.bind(te),ee)}},8731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7452),i=t(9305);function a(o,s){return{major:o,minor:s}}e.default=function(o,s){var u=this;return new Promise(function(l,c){var f=function(h){c(h)};o.onerror=f.bind(u),o._error&&f(o._error),o.onmessage=function(h){try{var d=function(v,y){var w=[v.readUInt8(),v.readUInt8(),v.readUInt8(),v.readUInt8()];if(w[0]===72&&w[1]===84&&w[2]===84&&w[3]===80)throw y.error("Handshake failed since server responded with HTTP."),(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(w[3]+"."+w[2])}(h,s);l({protocolVersion:d,consumeRemainingBuffer:function(v){h.hasRemaining()&&v(h.readSlice(h.remaining()))}})}catch(v){c(v)}},o.write(function(h){if(h.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var d=(0,n.alloc)(20);return d.writeInt32(1616949271),h.forEach(function(v){if(v instanceof Array){var y=v[0],w=y.major,b=(g=y.minor)-v[1].minor;d.writeInt32(b<<16|g<<8|w)}else{w=v.major;var g=v.minor;d.writeInt32(g<<8|w)}}),d.reset(),d}([[a(5,7),a(5,0)],[a(4,4),a(4,2)],a(4,1),a(3,0)]))})}},7666:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(c,f,h,d){d===void 0&&(d=h);var v=Object.getOwnPropertyDescriptor(f,h);v&&!("get"in v?!f.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,d,v)}:function(c,f,h,d){d===void 0&&(d=h),c[d]=f[h]}),i=this&&this.__exportStar||function(c,f){for(var h in c)h==="default"||Object.prototype.hasOwnProperty.call(f,h)||n(f,c,h)},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var o=a(t(8731)),s=a(t(6544)),u=a(t(9054)),l=a(t(7790));i(t(9014),e),e.BoltProtocol=u.default,e.RawRoutingTable=l.default,e.default={handshake:o.default,create:s.default}},7021:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SIGNATURES=void 0;var n=t(9305),i=n.internal.constants,a=i.ACCESS_MODE_READ,o=i.FETCH_ALL,s=n.internal.util.assertString,u=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});e.SIGNATURES=u;var l=function(){function _(x,P,I){this.signature=x,this.fields=P,this.toString=I}return _.init=function(x,P){return new _(1,[x,P],function(){return"INIT ".concat(x," {...}")})},_.run=function(x,P){return new _(16,[x,P],function(){return"RUN ".concat(x," ").concat(n.json.stringify(P))})},_.pullAll=function(){return v},_.reset=function(){return y},_.hello=function(x,P,I,T){I===void 0&&(I=null),T===void 0&&(T=null);var A=Object.assign({user_agent:x},P);return I&&(A.routing=I),T&&(A.patch_bolt=T),new _(1,[A],function(){return"HELLO {user_agent: '".concat(x,"', ...}")})},_.hello5x1=function(x,P){P===void 0&&(P=null);var I={user_agent:x};return P&&(I.routing=P),new _(1,[I],function(){return"HELLO {user_agent: '".concat(x,"', ...}")})},_.hello5x2=function(x,P,I){P===void 0&&(P=null),I===void 0&&(I=null);var T={user_agent:x};return h(T,P),I&&(T.routing=I),new _(1,[T],function(){return"HELLO ".concat(n.json.stringify(T))})},_.hello5x3=function(x,P,I,T){I===void 0&&(I=null),T===void 0&&(T=null);var A={};return x&&(A.user_agent=x),P&&(A.bolt_agent={product:P.product,platform:P.platform,language:P.language,language_details:P.languageDetails}),h(A,I),T&&(A.routing=T),new _(1,[A],function(){return"HELLO ".concat(n.json.stringify(A))})},_.hello5x5=function(x,P,I,T){I===void 0&&(I=null),T===void 0&&(T=null);var A={};return x&&(A.user_agent=x),P&&(A.bolt_agent={product:P.product,platform:P.platform,language:P.language,language_details:P.languageDetails}),d(A,I),T&&(A.routing=T),new _(1,[A],function(){return"HELLO ".concat(n.json.stringify(A))})},_.logon=function(x){return new _(106,[x],function(){return"LOGON { ... }"})},_.logoff=function(){return new _(107,[],function(){return"LOGOFF"})},_.begin=function(x){var P=x===void 0?{}:x,I=c(P.bookmarks,P.txConfig,P.database,P.mode,P.impersonatedUser,P.notificationFilter);return new _(17,[I],function(){return"BEGIN ".concat(n.json.stringify(I))})},_.begin5x5=function(x){var P=x===void 0?{}:x,I=c(P.bookmarks,P.txConfig,P.database,P.mode,P.impersonatedUser,P.notificationFilter,{appendNotificationFilter:d});return new _(17,[I],function(){return"BEGIN ".concat(n.json.stringify(I))})},_.commit=function(){return w},_.rollback=function(){return b},_.runWithMetadata=function(x,P,I){var T=I===void 0?{}:I,A=c(T.bookmarks,T.txConfig,T.database,T.mode,T.impersonatedUser,T.notificationFilter);return new _(16,[x,P,A],function(){return"RUN ".concat(x," ").concat(n.json.stringify(P)," ").concat(n.json.stringify(A))})},_.runWithMetadata5x5=function(x,P,I){var T=I===void 0?{}:I,A=c(T.bookmarks,T.txConfig,T.database,T.mode,T.impersonatedUser,T.notificationFilter,{appendNotificationFilter:d});return new _(16,[x,P,A],function(){return"RUN ".concat(x," ").concat(n.json.stringify(P)," ").concat(n.json.stringify(A))})},_.goodbye=function(){return g},_.pull=function(x){var P=x===void 0?{}:x,I=P.stmtId,T=I===void 0?-1:I,A=P.n,D=f(T??-1,(A===void 0?o:A)||o);return new _(63,[D],function(){return"PULL ".concat(n.json.stringify(D))})},_.discard=function(x){var P=x===void 0?{}:x,I=P.stmtId,T=I===void 0?-1:I,A=P.n,D=f(T??-1,(A===void 0?o:A)||o);return new _(47,[D],function(){return"DISCARD ".concat(n.json.stringify(D))})},_.telemetry=function(x){var P=x.api,I=(0,n.int)(P);return new _(84,[I],function(){return"TELEMETRY ".concat(I.toString())})},_.route=function(x,P,I){return x===void 0&&(x={}),P===void 0&&(P=[]),I===void 0&&(I=null),new _(102,[x,P,I],function(){return"ROUTE ".concat(n.json.stringify(x)," ").concat(n.json.stringify(P)," ").concat(I)})},_.routeV4x4=function(x,P,I){x===void 0&&(x={}),P===void 0&&(P=[]),I===void 0&&(I={});var T={};return I.databaseName&&(T.db=I.databaseName),I.impersonatedUser&&(T.imp_user=I.impersonatedUser),new _(102,[x,P,T],function(){return"ROUTE ".concat(n.json.stringify(x)," ").concat(n.json.stringify(P)," ").concat(n.json.stringify(T))})},_}();function c(_,x,P,I,T,A,D){var N;D===void 0&&(D={});var j={};return _.isEmpty()||(j.bookmarks=_.values()),x.timeout!==null&&(j.tx_timeout=x.timeout),x.metadata&&(j.tx_metadata=x.metadata),P&&(j.db=s(P,"database")),T&&(j.imp_user=s(T,"impersonatedUser")),I===a&&(j.mode="r"),((N=D.appendNotificationFilter)!==null&&N!==void 0?N:h)(j,A),j}function f(_,x){var P={n:(0,n.int)(x)};return _!==-1&&(P.qid=(0,n.int)(_)),P}function h(_,x){x&&(x.minimumSeverityLevel&&(_.notifications_minimum_severity=x.minimumSeverityLevel),x.disabledCategories&&(_.notifications_disabled_categories=x.disabledCategories),x.disabledClassifications&&(_.notifications_disabled_categories=x.disabledClassifications))}function d(_,x){x&&(x.minimumSeverityLevel&&(_.notifications_minimum_severity=x.minimumSeverityLevel),x.disabledCategories&&(_.notifications_disabled_classifications=x.disabledCategories),x.disabledClassifications&&(_.notifications_disabled_classifications=x.disabledClassifications))}e.default=l;var v=new l(63,[],function(){return"PULL_ALL"}),y=new l(15,[],function(){return"RESET"}),w=new l(18,[],function(){return"COMMIT"}),b=new l(19,[],function(){return"ROLLBACK"}),g=new l(2,[],function(){return"GOODBYE"})},2578:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305);function i(){}function a(u){return u}var o={onNext:i,onCompleted:i,onError:i},s=function(){function u(l){var c=l===void 0?{}:l,f=c.transformMetadata,h=c.enrichErrorMetadata,d=c.log,v=c.observer;this._pendingObservers=[],this._log=d,this._transformMetadata=f||a,this._enrichErrorMetadata=h||a,this._observer=Object.assign({onObserversCountChange:i,onError:i,onFailure:i,onErrorApplyTransformation:a},v)}return Object.defineProperty(u.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),u.prototype.handleResponse=function(l){var c=l.fields[0];switch(l.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(l))),this._currentObserver.onNext(c);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(l)));try{var f=this._transformMetadata(c);this._currentObserver.onCompleted(f)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(l)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(c)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(l)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+l))}},u.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(u.prototype,"_observersCount",{get:function(){return this._currentObserver==null?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),u.prototype._queueObserver=function(l){return(l=l||o).onCompleted=l.onCompleted||i,l.onError=l.onError||i,l.onNext=l.onNext||i,this._currentObserver===void 0?this._currentObserver=l:this._pendingObservers.push(l),this._observer.onObserversCountChange(this._observersCount),!0},u.prototype._notifyErrorToObservers=function(l){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(l);this._pendingObservers.length>0;){var c=this._pendingObservers.shift();c&&c.onError&&c.onError(l)}},u.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},u.prototype._resetFailure=function(){this._currentFailure=null},u.prototype._handleErrorPayload=function(l){var c,f=(c=l.code)==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":c==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":c,h=l.cause!=null?this._handleErrorCause(l.cause):void 0,d=(0,n.newError)(l.message,f,h,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(d)},u.prototype._handleErrorCause=function(l){var c=l.cause!=null?this._handleErrorCause(l.cause):void 0,f=(0,n.newGQLError)(l.message,c,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(f)},u}();e.default=s},7790:function(r,e,t){var n,i=this&&this.__extends||(n=function(c,f){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(h[v]=d[v])},n(c,f)},function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=c}n(c,f),c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}),a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),a(t(9305));var o=function(){function c(){}return c.ofRecord=function(f){return f===null?c.ofNull():new l(f)},c.ofMessageResponse=function(f){return f===null?c.ofNull():new s(f)},c.ofNull=function(){return new u},Object.defineProperty(c.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),c}();e.default=o;var s=function(c){function f(h){var d=c.call(this)||this;return d._response=h,d}return i(f,c),Object.defineProperty(f.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),f}(o),u=function(c){function f(){return c!==null&&c.apply(this,arguments)||this}return i(f,c),Object.defineProperty(f.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),f}(o),l=function(c){function f(h){var d=c.call(this)||this;return d._record=h,d}return i(f,c),Object.defineProperty(f.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),f}(o)},9014:function(r,e,t){var n,i=this&&this.__extends||(n=function(I,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,D){A.__proto__=D}||function(A,D){for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(A[N]=D[N])},n(I,T)},function(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function A(){this.constructor=I}n(I,T),I.prototype=T===null?Object.create(T):(A.prototype=T.prototype,new A)}),a=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryObserver=e.ProcedureRouteObserver=e.RouteObserver=e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LogoffObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var o=t(9305),s=a(t(7790)),u=t(6781),l=o.internal.constants.FETCH_ALL,c=o.error.PROTOCOL_ERROR,f=function(){function I(){}return I.prototype.onNext=function(T){},I.prototype.onError=function(T){},I.prototype.onCompleted=function(T){},I}();e.StreamObserver=f;var h=function(I){function T(A){var D=A===void 0?{}:A,N=D.reactive,j=N!==void 0&&N,B=D.moreFunction,W=D.discardFunction,V=D.fetchSize,J=V===void 0?l:V,ee=D.beforeError,te=D.afterError,re=D.beforeKeys,de=D.afterKeys,pe=D.beforeComplete,fe=D.afterComplete,ye=D.server,Me=D.highRecordWatermark,Ne=Me===void 0?Number.MAX_VALUE:Me,ke=D.lowRecordWatermark,je=ke===void 0?Number.MAX_VALUE:ke,xe=D.enrichMetadata,Se=I.call(this)||this;return Se._fieldKeys=null,Se._fieldLookup=null,Se._head=null,Se._queuedRecords=[],Se._tail=null,Se._error=null,Se._observers=[],Se._meta={},Se._server=ye,Se._beforeError=ee,Se._afterError=te,Se._beforeKeys=re,Se._afterKeys=de,Se._beforeComplete=pe,Se._afterComplete=fe,Se._enrichMetadata=xe||u.functional.identity,Se._queryId=null,Se._moreFunction=B,Se._discardFunction=W,Se._discard=!1,Se._fetchSize=J,Se._lowRecordWatermark=je,Se._highRecordWatermark=Ne,Se._setState(j?P.READY:P.READY_STREAMING),Se._setupAutoPull(),Se._paused=!1,Se._pulled=!j,Se._haveRecordStreamed=!1,Se}return i(T,I),T.prototype.pause=function(){this._paused=!0},T.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},T.prototype.onNext=function(A){this._haveRecordStreamed=!0;var D=new o.Record(this._fieldKeys,A,this._fieldLookup);this._observers.some(function(N){return N.onNext})?this._observers.forEach(function(N){N.onNext&&N.onNext(D)}):(this._queuedRecords.push(D),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},T.prototype.onCompleted=function(A){this._state.onSuccess(this,A)},T.prototype.onError=function(A){this._state.onError(this,A)},T.prototype.cancel=function(){this._discard=!0},T.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(P.STREAMING)},T.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(P.SUCCEEDED)},T.prototype.subscribe=function(A){if(this._head&&A.onKeys&&A.onKeys(this._head),this._queuedRecords.length>0&&A.onNext)for(var D=0;D<this._queuedRecords.length;D++)A.onNext(this._queuedRecords[D]),this._queuedRecords.length-D-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===P.READY&&this._handleStreaming());this._tail&&A.onCompleted&&A.onCompleted(this._tail),this._error&&A.onError(this._error),this._observers.push(A),this._state===P.READY&&this._handleStreaming()},T.prototype._handleHasMore=function(A){this._setState(P.READY),this._handleStreaming(),delete A.has_more},T.prototype._handlePullSuccess=function(A){var D=this,N=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},A));if([void 0,null,"r","w","rw","s"].includes(N.type)){this._setState(P.SUCCEEDED);var j=null;this._beforeComplete&&(j=this._beforeComplete(N));var B=function(){D._tail=N,D._observers.some(function(W){return W.onCompleted})&&D._observers.forEach(function(W){W.onCompleted&&W.onCompleted(N)}),D._afterComplete&&D._afterComplete(N)};j?Promise.resolve(j).then(function(){return B()}):B()}else this.onError((0,o.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(N.type,"'"),c))},T.prototype._handleRunSuccess=function(A,D){var N=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},A.fields&&A.fields.length>0){this._fieldKeys=A.fields;for(var j=0;j<A.fields.length;j++)this._fieldLookup[A.fields[j]]=j}A.fields!=null&&delete A.fields,A.qid!==null&&A.qid!==void 0&&(this._queryId=A.qid,delete A.qid),this._storeMetadataForCompletion(A);var B=null;this._beforeKeys&&(B=this._beforeKeys(this._fieldKeys));var W=function(){N._head=N._fieldKeys,N._observers.some(function(V){return V.onKeys})&&N._observers.forEach(function(V){V.onKeys&&V.onKeys(N._fieldKeys)}),N._afterKeys&&N._afterKeys(N._fieldKeys),D()};B?Promise.resolve(B).then(function(){return W()}):W()}},T.prototype._handleError=function(A){var D=this;this._setState(P.FAILED),this._error=A;var N=null;this._beforeError&&(N=this._beforeError(A));var j=function(){D._observers.some(function(B){return B.onError})&&D._observers.forEach(function(B){B.onError&&B.onError(A)}),D._afterError&&D._afterError(A)};N?Promise.resolve(N).then(function(){return j()}):j()},T.prototype._handleStreaming=function(){this._head&&this._observers.some(function(A){return A.onNext||A.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},T.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(P.STREAMING)},T.prototype._storeMetadataForCompletion=function(A){for(var D=Object.keys(A),N=D.length,j="";N--;)j=D[N],this._meta[j]=A[j]},T.prototype._setState=function(A){this._state=A},T.prototype._setupAutoPull=function(){this._autoPull=!0},T}(f);e.ResultStreamObserver=h;var d=function(I){function T(A){var D=A===void 0?{}:A,N=D.onError,j=D.onCompleted,B=I.call(this)||this;return B._onError=N,B._onCompleted=j,B}return i(T,I),T.prototype.onNext=function(A){this.onError((0,o.newError)("Received RECORD when initializing "+o.json.stringify(A)))},T.prototype.onError=function(A){this._onError&&this._onError(A)},T.prototype.onCompleted=function(A){this._onCompleted&&this._onCompleted(A)},T}(f);e.LoginObserver=d;var v=function(I){function T(A){var D=A===void 0?{}:A,N=D.onError,j=D.onCompleted,B=I.call(this)||this;return B._onError=N,B._onCompleted=j,B}return i(T,I),T.prototype.onNext=function(A){this.onError((0,o.newError)("Received RECORD when logging off "+o.json.stringify(A)))},T.prototype.onError=function(A){this._onError&&this._onError(A)},T.prototype.onCompleted=function(A){this._onCompleted&&this._onCompleted(A)},T}(f);e.LogoffObserver=v;var y=function(I){function T(A){var D=A===void 0?{}:A,N=D.onProtocolError,j=D.onError,B=D.onComplete,W=I.call(this)||this;return W._onProtocolError=N,W._onError=j,W._onComplete=B,W}return i(T,I),T.prototype.onNext=function(A){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(A),c))},T.prototype.onError=function(A){A.code===c&&this._onProtocolError&&this._onProtocolError(A.message),this._onError&&this._onError(A)},T.prototype.onCompleted=function(A){this._onComplete&&this._onComplete(A)},T}(f);e.ResetObserver=y;var w=function(I){function T(A){var D=A===void 0?{}:A,N=D.onError,j=D.onCompleted,B=I.call(this)||this;return B._onError=N,B._onCompleted=j,B}return i(T,I),T.prototype.onNext=function(A){this.onError((0,o.newError)("Received RECORD when sending telemetry "+o.json.stringify(A),c))},T.prototype.onError=function(A){this._onError&&this._onError(A)},T.prototype.onCompleted=function(A){this._onCompleted&&this._onCompleted(A)},T}(h);e.TelemetryObserver=w;var b=function(I){function T(A){var D=A.error,N=A.onError,j=I.call(this,{beforeError:N})||this;return j.onError(D),j}return i(T,I),T}(h);e.FailedObserver=b;var g=function(I){function T(){var A=I.call(this)||this;return I.prototype.markCompleted.call(A),A}return i(T,I),T}(h);e.CompletedObserver=g;var _=function(I){function T(A){var D=A.resultObserver,N=A.onProtocolError,j=A.onError,B=A.onCompleted,W=I.call(this)||this;return W._resultObserver=D,W._onError=j,W._onCompleted=B,W._records=[],W._onProtocolError=N,D.subscribe(W),W}return i(T,I),T.prototype.onNext=function(A){this._records.push(A)},T.prototype.onError=function(A){A.code===c&&this._onProtocolError&&this._onProtocolError(A.message),this._onError&&this._onError(A)},T.prototype.onCompleted=function(){this._records===null||this._records.length===1?this._onCompleted&&this._onCompleted(s.default.ofRecord(this._records[0])):this.onError((0,o.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+o.json.stringify(this._records),c))},T}(f);e.ProcedureRouteObserver=_;var x=function(I){function T(A){var D=A===void 0?{}:A,N=D.onProtocolError,j=D.onError,B=D.onCompleted,W=I.call(this)||this;return W._onProtocolError=N,W._onError=j,W._onCompleted=B,W}return i(T,I),T.prototype.onNext=function(A){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(A),c))},T.prototype.onError=function(A){A.code===c&&this._onProtocolError&&this._onProtocolError(A.message),this._onError&&this._onError(A)},T.prototype.onCompleted=function(A){this._onCompleted&&this._onCompleted(s.default.ofMessageResponse(A))},T}(f);e.RouteObserver=x;var P={READY_STREAMING:{onSuccess:function(I,T){I._handleRunSuccess(T,function(){I._setState(P.STREAMING)})},onError:function(I,T){I._handleError(T)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(I,T){I._handleRunSuccess(T,function(){return I._handleStreaming()})},onError:function(I,T){I._handleError(T)},name:function(){return"READY"},pull:function(I){return I._more()}},STREAMING:{onSuccess:function(I,T){T.has_more?I._handleHasMore(T):I._handlePullSuccess(T)},onError:function(I,T){I._handleError(T)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(I){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},5973:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.epochSecondAndNanoToLocalDateTime=e.nanoOfDayToLocalTime=e.epochDayToDate=void 0;var n=t(9305),i=n.internal.temporalUtil,a=i.DAYS_0000_TO_1970,o=i.DAYS_PER_400_YEAR_CYCLE,s=i.NANOS_PER_HOUR,u=i.NANOS_PER_MINUTE,l=i.NANOS_PER_SECOND,c=i.SECONDS_PER_DAY,f=i.floorDiv,h=i.floorMod;function d(y){var w=(y=(0,n.int)(y)).add(a).subtract(60),b=(0,n.int)(0);if(w.lessThan(0)){var g=w.add(1).div(o).subtract(1);b=g.multiply(400),w=w.add(g.multiply(-o))}var _=w.multiply(400).add(591).div(o),x=w.subtract(_.multiply(365).add(_.div(4)).subtract(_.div(100)).add(_.div(400)));x.lessThan(0)&&(_=_.subtract(1),x=w.subtract(_.multiply(365).add(_.div(4)).subtract(_.div(100)).add(_.div(400)))),_=_.add(b);var P=x,I=P.multiply(5).add(2).div(153),T=I.add(2).modulo(12).add(1),A=P.subtract(I.multiply(306).add(5).div(10)).add(1);return _=_.add(I.div(10)),new n.Date(_,T,A)}function v(y){var w=(y=(0,n.int)(y)).div(s),b=(y=y.subtract(w.multiply(s))).div(u),g=(y=y.subtract(b.multiply(u))).div(l),_=y.subtract(g.multiply(l));return new n.LocalTime(w,b,g,_)}e.epochDayToDate=d,e.nanoOfDayToLocalTime=v,e.epochSecondAndNanoToLocalDateTime=function(y,w){var b=f(y,c),g=h(y,c).multiply(l).add(w),_=d(b),x=v(g);return new n.LocalDateTime(_.year,_.month,_.day,x.hour,x.minute,x.second,x.nanosecond)}},3321:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeTransformer=void 0;var n=t(7168),i=t(9305).internal.objectUtil,a=function(){function s(u){this._transformers=u,this._transformersPerSignature=new Map(u.map(function(l){return[l.signature,l]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return s.prototype.fromStructure=function(u){try{return u instanceof n.structure.Structure&&this._transformersPerSignature.has(u.signature)?(0,this._transformersPerSignature.get(u.signature).fromStructure)(u):u}catch(l){return i.createBrokenObject(l)}},s.prototype.toStructure=function(u){var l=this._transformers.find(function(c){return(0,c.isTypeInstance)(u)});return l!==void 0?l.toStructure(u):u},s}();e.default=a;var o=function(){function s(u){var l=u.signature,c=u.fromStructure,f=u.toStructure,h=u.isTypeInstance;this.signature=l,this.isTypeInstance=h,this.fromStructure=c,this.toStructure=f,Object.freeze(this)}return s.prototype.extendsWith=function(u){var l=u.signature,c=u.fromStructure,f=u.toStructure,h=u.isTypeInstance;return new s({signature:l||this.signature,fromStructure:c||this.fromStructure,toStructure:f||this.toStructure,isTypeInstance:h||this.isTypeInstance})},s}();e.TypeTransformer=o},45:function(r,e){var t,n=this&&this.__extends||(t=function(o,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},t(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}t(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(s){this.position=0,this.length=s}return o.prototype.getUInt8=function(s){throw new Error("Not implemented")},o.prototype.getInt8=function(s){throw new Error("Not implemented")},o.prototype.getFloat64=function(s){throw new Error("Not implemented")},o.prototype.putUInt8=function(s,u){throw new Error("Not implemented")},o.prototype.putInt8=function(s,u){throw new Error("Not implemented")},o.prototype.putFloat64=function(s,u){throw new Error("Not implemented")},o.prototype.getInt16=function(s){return this.getInt8(s)<<8|this.getUInt8(s+1)},o.prototype.getUInt16=function(s){return this.getUInt8(s)<<8|this.getUInt8(s+1)},o.prototype.getInt32=function(s){return this.getInt8(s)<<24|this.getUInt8(s+1)<<16|this.getUInt8(s+2)<<8|this.getUInt8(s+3)},o.prototype.getUInt32=function(s){return this.getUInt8(s)<<24|this.getUInt8(s+1)<<16|this.getUInt8(s+2)<<8|this.getUInt8(s+3)},o.prototype.getInt64=function(s){return this.getInt8(s)<<56|this.getUInt8(s+1)<<48|this.getUInt8(s+2)<<40|this.getUInt8(s+3)<<32|this.getUInt8(s+4)<<24|this.getUInt8(s+5)<<16|this.getUInt8(s+6)<<8|this.getUInt8(s+7)},o.prototype.getSlice=function(s,u){return new a(s,u,this)},o.prototype.putInt16=function(s,u){this.putInt8(s,u>>8),this.putUInt8(s+1,255&u)},o.prototype.putUInt16=function(s,u){this.putUInt8(s,u>>8&255),this.putUInt8(s+1,255&u)},o.prototype.putInt32=function(s,u){this.putInt8(s,u>>24),this.putUInt8(s+1,u>>16&255),this.putUInt8(s+2,u>>8&255),this.putUInt8(s+3,255&u)},o.prototype.putUInt32=function(s,u){this.putUInt8(s,u>>24&255),this.putUInt8(s+1,u>>16&255),this.putUInt8(s+2,u>>8&255),this.putUInt8(s+3,255&u)},o.prototype.putInt64=function(s,u){this.putInt8(s,u>>48),this.putUInt8(s+1,u>>42&255),this.putUInt8(s+2,u>>36&255),this.putUInt8(s+3,u>>30&255),this.putUInt8(s+4,u>>24&255),this.putUInt8(s+5,u>>16&255),this.putUInt8(s+6,u>>8&255),this.putUInt8(s+7,255&u)},o.prototype.putBytes=function(s,u){for(var l=0,c=u.remaining();l<c;l++)this.putUInt8(s+l,u.readUInt8())},o.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},o.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},o.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},o.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},o.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},o.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},o.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},o.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},o.prototype.writeUInt8=function(s){this.putUInt8(this._updatePos(1),s)},o.prototype.writeInt8=function(s){this.putInt8(this._updatePos(1),s)},o.prototype.writeInt16=function(s){this.putInt16(this._updatePos(2),s)},o.prototype.writeInt32=function(s){this.putInt32(this._updatePos(4),s)},o.prototype.writeUInt32=function(s){this.putUInt32(this._updatePos(4),s)},o.prototype.writeInt64=function(s){this.putInt64(this._updatePos(8),s)},o.prototype.writeFloat64=function(s){this.putFloat64(this._updatePos(8),s)},o.prototype.writeBytes=function(s){this.putBytes(this._updatePos(s.remaining()),s)},o.prototype.readSlice=function(s){return this.getSlice(this._updatePos(s),s)},o.prototype._updatePos=function(s){var u=this.position;return this.position+=s,u},o.prototype.remaining=function(){return this.length-this.position},o.prototype.hasRemaining=function(){return this.remaining()>0},o.prototype.reset=function(){this.position=0},o.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},o.prototype.toHex=function(){for(var s="",u=0;u<this.length;u++){var l=this.getUInt8(u).toString(16);l.length===1&&(l="0"+l),s+=l,u!==this.length-1&&(s+=" ")}return s},o}();e.default=i;var a=function(o){function s(u,l,c){var f=o.call(this,l)||this;return f._start=u,f._inner=c,f}return n(s,o),s.prototype.putUInt8=function(u,l){this._inner.putUInt8(this._start+u,l)},s.prototype.getUInt8=function(u){return this._inner.getUInt8(this._start+u)},s.prototype.putInt8=function(u,l){this._inner.putInt8(this._start+u,l)},s.prototype.putFloat64=function(u,l){this._inner.putFloat64(this._start+u,l)},s.prototype.getInt8=function(u){return this._inner.getInt8(this._start+u)},s.prototype.getFloat64=function(u){return this._inner.getFloat64(this._start+u)},s}(i)},7174:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBuffer=void 0;var i=n(t(45));e.BaseBuffer=i.default,e.default=i.default},6245:function(r,e,t){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),a=t(9305),o=a.internal.util,s=o.ENCRYPTION_OFF,u=o.ENCRYPTION_ON,l=function(){function f(h,d,v){d===void 0&&(d=c),v===void 0&&(v=function(x){return new WebSocket(x)});var y=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=h,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var w=function(x,P){var I=function(N){return N.encrypted===!0||N.encrypted===u}(x),T=function(N){return N.encrypted===!1||N.encrypted===s}(x),A=x.trust,D=function(N){var j=typeof N=="function"?N():"";return j&&j.toLowerCase().indexOf("https")>=0}(P);return function(N,j,B){B===null||(N&&!B?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):j&&B&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(I,T,D),T?{scheme:"ws",error:null}:D?{scheme:"wss",error:null}:I?A&&A!=="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"?{scheme:null,error:(0,a.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+A+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+s+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(h,d),b=w.scheme,g=w.error;if(g)this._error=g;else{this._ws=function(x,P,I){var T=x+"://"+P.asHostPort();try{return I(T)}catch(D){if(function(N,j){return N.name==="SyntaxError"&&(B=j.asHostPort()).charAt(0)==="["&&B.indexOf("]")!==-1;var B}(D,P)){var A=function(N,j){var B=j.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(N,"://").concat(B,":").concat(j.port())}(x,P);return I(A)}throw D}}(b,h.address,v),this._ws.binaryType="arraybuffer";var _=this;this._ws.onclose=function(x){x&&!x.wasClean&&_._handleConnectionError(),_._open=!1},this._ws.onopen=function(){_._clearConnectionTimeout();var x=_._pending;_._pending=null;for(var P=0;P<x.length;P++)_.write(x[P])},this._ws.onmessage=function(x){if(y._resetTimeout(),_.onmessage){var P=new i.default(x.data);_.onmessage(P)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return f.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,a.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,a.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},f.prototype.write=function(h){if(this._pending!==null)this._pending.push(h);else{if(!(h instanceof i.default))throw(0,a.newError)("Don't know how to send buffer: "+h);try{this._ws.send(h._buffer)}catch(d){if(this._ws.readyState===1)throw d;this._handleConnectionError()}}},f.prototype.close=function(){var h=this;return this._closingPromise===null&&(this._closingPromise=new Promise(function(d,v){h._clearConnectionTimeout(),h._ws&&h._ws.readyState!==3?(h._open=!1,h.stopReceiveTimeout(),h._ws.onclose=function(){d()},h._ws.close()):d()})),this._closingPromise},f.prototype.setupReceiveTimeout=function(h){this._receiveTimeout=h},f.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},f.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},f.prototype._resetTimeout=function(){var h=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){h._receiveTimeoutId=null,h._timedout=!0,h.stopReceiveTimeout(),h._error=(0,a.newError)("Connection lost. Server didn't respond in ".concat(h._receiveTimeout,"ms"),h._config.connectionErrorCode),h.close(),h.onerror&&h.onerror(h._error)},this._receiveTimeout))},f.prototype._setupConnectionTimeout=function(){var h=this,d=this._config.connectionTimeout;if(d){var v=this._ws;return setTimeout(function(){v.readyState!==1&&(h._connectionTimeoutFired=!0,v.close())},d)}return null},f.prototype._clearConnectionTimeout=function(){var h=this._connectionTimeoutId;(h||h===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(h))},f}();function c(){return typeof window<"u"&&window.location?window.location.protocol:null}e.default=l},614:function(r,e){var t=this&&this.__awaiter||function(i,a,o,s){return new(o||(o=Promise))(function(u,l){function c(d){try{h(s.next(d))}catch(v){l(v)}}function f(d){try{h(s.throw(d))}catch(v){l(v)}}function h(d){var v;d.done?u(d.value):(v=d.value,v instanceof o?v:new o(function(y){y(v)})).then(c,f)}h((s=s.apply(i,a||[])).next())})},n=this&&this.__generator||function(i,a){var o,s,u,l,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(d){return function(v){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(c=0)),c;)try{if(o=1,s&&(u=2&v[0]?s.return:v[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,v[1])).done)return u;switch(s=0,u&&(v=[2&v[0],u.value]),v[0]){case 0:case 1:u=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++,s=v[1],v=[0];continue;case 7:v=c.ops.pop(),c.trys.pop();continue;default:if(!((u=(u=c.trys).length>0&&u[u.length-1])||v[0]!==6&&v[0]!==2)){c=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){c.label=v[1];break}if(v[0]===6&&c.label<u[1]){c.label=u[1],u=v;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(v);break}u[2]&&c.ops.pop(),c.trys.pop();continue}v=a.call(i,c)}catch(y){v=[6,y],s=0}finally{o=u=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([h,d])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,i]})})}}},2199:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.resolve=function(u){return this._resolveToItself(u)},s}(t(9305).internal.resolver.BaseHostNameResolver);e.default=a},3951:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClientCertificatesLoader=e.HostNameResolver=e.Channel=void 0;var i=n(t(6245)),a=n(t(2199)),o=n(t(614));e.Channel=i.default,e.HostNameResolver=a.default,e.ClientCertificatesLoader=o.default},5319:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.alloc=void 0;var o=a(t(1048)),s=function(u){function l(c){var f=this,h=function(d){return d instanceof o.default.Buffer?d:typeof d=="number"&&typeof o.default.Buffer.alloc=="function"?o.default.Buffer.alloc(d):new o.default.Buffer(d)}(c);return(f=u.call(this,h.length)||this)._buffer=h,f}return i(l,u),l.prototype.getUInt8=function(c){return this._buffer.readUInt8(c)},l.prototype.getInt8=function(c){return this._buffer.readInt8(c)},l.prototype.getFloat64=function(c){return this._buffer.readDoubleBE(c)},l.prototype.putUInt8=function(c,f){this._buffer.writeUInt8(f,c)},l.prototype.putInt8=function(c,f){this._buffer.writeInt8(f,c)},l.prototype.putFloat64=function(c,f){this._buffer.writeDoubleBE(f,c)},l.prototype.putBytes=function(c,f){if(f instanceof l){var h=Math.min(f.length-f.position,this.length-c);f._buffer.copy(this._buffer,c,f.position,f.position+h),f.position+=h}else u.prototype.putBytes.call(this,c,f)},l.prototype.getSlice=function(c,f){return new l(this._buffer.slice(c,c+f))},l}(a(t(7174)).default);e.default=s,e.alloc=function(u){return new s(u)}},2481:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.internal.util,a=i.ENCRYPTION_OFF,o=i.ENCRYPTION_ON,s=n.error.SERVICE_UNAVAILABLE,u=[null,void 0,!0,!1,o,a],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function(c,f,h,d){this.address=c,this.encrypted=function(v){var y=v.encrypted;if(u.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the encrypted setting ".concat(y,". Expected one of ").concat(u));return y}(f),this.trust=function(v){var y=v.trust;if(l.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the trust setting ".concat(y,". Expected one of ").concat(l));return y}(f),this.trustedCertificates=function(v){return v.trustedCertificates||[]}(f),this.knownHostsPath=function(v){return v.knownHosts||null}(f),this.connectionErrorCode=h||s,this.connectionTimeout=f.connectionTimeout,this.clientCertificate=d}},373:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,h){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},n(f,h)},function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}n(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}),a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var o=a(t(45)),s=t(5319),u=a(t(5553)),l=function(f){function h(d,v){var y=f.call(this,0)||this;return y._bufferSize=v||1400,y._ch=d,y._buffer=(0,s.alloc)(y._bufferSize),y._currentChunkStart=0,y._chunkOpen=!1,y}return i(h,f),h.prototype.putUInt8=function(d,v){this._ensure(1),this._buffer.writeUInt8(v)},h.prototype.putInt8=function(d,v){this._ensure(1),this._buffer.writeInt8(v)},h.prototype.putFloat64=function(d,v){this._ensure(8),this._buffer.writeFloat64(v)},h.prototype.putBytes=function(d,v){for(;v.remaining()>0;)this._ensure(1),this._buffer.remaining()>v.remaining()?this._buffer.writeBytes(v):this._buffer.writeBytes(v.readSlice(this._buffer.remaining()));return this},h.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var d=this._buffer;this._buffer=null,this._ch.write(d.getSlice(0,d.position)),this._buffer=(0,s.alloc)(this._bufferSize),this._chunkOpen=!1}return this},h.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},h.prototype._ensure=function(d){var v=this._chunkOpen?d:d+2;this._buffer.remaining()<v&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},h.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var d=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,d),this._chunkOpen=!1}},h}(o.default);e.Chunker=l;var c=function(){function f(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return f.prototype.AWAITING_CHUNK=function(h){return h.remaining()>=2?this._onHeader(h.readUInt16()):(this._partialChunkHeader=h.readUInt8()<<8,this.IN_HEADER)},f.prototype.IN_HEADER=function(h){return this._onHeader(65535&(this._partialChunkHeader|h.readUInt8()))},f.prototype.IN_CHUNK=function(h){return this._chunkSize<=h.remaining()?(this._currentMessage.push(h.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=h.remaining(),this._currentMessage.push(h.readSlice(h.remaining())),this.IN_CHUNK)},f.prototype.CLOSED=function(h){},f.prototype._onHeader=function(h){if(h===0){var d=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:d=this._currentMessage[0];break;default:d=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(d),this.AWAITING_CHUNK}return this._chunkSize=h,this.IN_CHUNK},f.prototype.write=function(h){for(;h.hasRemaining();)this._state=this._state(h)},f}();e.Dechunker=c},5553:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0});var a=t(7174),o=t(5319),s=function(u){function l(c){for(var f=this,h=0,d=0;d<c.length;d++)h+=c[d].length;return(f=u.call(this,h)||this)._buffers=c,f}return i(l,u),l.prototype.getUInt8=function(c){for(var f=0;f<this._buffers.length;f++){var h=this._buffers[f];if(!(c>=h.length))return h.getUInt8(c);c-=h.length}},l.prototype.getInt8=function(c){for(var f=0;f<this._buffers.length;f++){var h=this._buffers[f];if(!(c>=h.length))return h.getInt8(c);c-=h.length}},l.prototype.getFloat64=function(c){for(var f=(0,o.alloc)(8),h=0;h<8;h++)f.putUInt8(h,this.getUInt8(c+h));return f.getFloat64(0)},l}(a.BaseBuffer);e.default=s},7452:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__exportStar||function(l,c){for(var f in l)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||n(c,l,f)},a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,i(t(3951),e),i(t(373),e);var o=t(2481);Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return a(o).default}});var s=t(5319);Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return s.alloc}});var u=t(3473);Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return a(u).default}})},3473:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),a=t(9305),o=n(t(1048)),s=new(t(8888)).StringDecoder("utf8");e.default={encode:function(u){return new i.default(function(l){return typeof o.default.Buffer.from=="function"?o.default.Buffer.from(l,"utf8"):new o.default.Buffer(l,"utf8")}(u))},decode:function(u,l){if(Object.prototype.hasOwnProperty.call(u,"_buffer"))return function(c,f){var h=c.position,d=h+f;return c.position=Math.min(d,c.length),c._buffer.toString("utf8",h,d)}(u,l);if(Object.prototype.hasOwnProperty.call(u,"_buffers"))return function(c,f){return function(h,d,v,y){var w=d,b=h.position;return h._updatePos(Math.min(d,h.length-b)),h._buffers.reduce(function(g,_){if(w<=0)return g;if(b>=_.length)return b-=_.length,"";_._updatePos(b-_.position);var x=Math.min(_.length-b,w),P=_.readSlice(x);return _._updatePos(x),w=Math.max(w-P.length,0),b=0,g+function(I){return s.write(I._buffer)}(P)},"")+s.end()}(c,f)}(u,l);throw(0,a.newError)("Don't know how to decode strings from '".concat(u,"'"))}}},1839:function(r,e,t){var n=this&&this.__awaiter||function(u,l,c,f){return new(c||(c=Promise))(function(h,d){function v(b){try{w(f.next(b))}catch(g){d(g)}}function y(b){try{w(f.throw(b))}catch(g){d(g)}}function w(b){var g;b.done?h(b.value):(g=b.value,g instanceof c?g:new c(function(_){_(g)})).then(v,y)}w((f=f.apply(u,l||[])).next())})},i=this&&this.__generator||function(u,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(w){return function(b){return function(g){if(c)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(v=0)),v;)try{if(c=1,f&&(h=2&g[0]?f.return:g[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,g[1])).done)return h;switch(f=0,h&&(g=[2&g[0],h.value]),g[0]){case 0:case 1:h=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,f=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!h||g[1]>h[0]&&g[1]<h[3])){v.label=g[1];break}if(g[0]===6&&v.label<h[1]){v.label=h[1],h=g;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(g);break}h[2]&&v.ops.pop(),v.trys.pop();continue}g=l.call(u,v)}catch(_){g=[6,_],f=0}finally{c=h=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([w,b])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9305),o=t(6781),s=function(){function u(l){var c=l.authTokenManager,f=l.userAgent,h=l.boltAgent;this._authTokenManager=c||(0,a.staticAuthTokenManager)({}),this._userAgent=f,this._boltAgent=h}return u.prototype.authenticate=function(l){var c=l.connection,f=l.auth,h=l.skipReAuth,d=l.waitReAuth,v=l.forceReAuth;return n(this,void 0,void 0,function(){var y,w;return i(this,function(b){switch(b.label){case 0:return f==null?[3,3]:(y=c.supportsReAuth===!0&&(!o.object.equals(c.authToken,f)&&h!==!0||v===!0),c.authToken==null||y?[4,c.connect(this._userAgent,this._boltAgent,f,d||!1)]:[3,2]);case 1:case 5:return[2,b.sent()];case 2:case 6:return[2,c];case 3:return[4,this._authTokenManager.getToken()];case 4:return w=b.sent(),o.object.equals(w,c.authToken)?[3,6]:[4,c.connect(this._userAgent,this._boltAgent,w,!1)]}})})},u.prototype.handleError=function(l){var c=l.connection,f=l.code;return!(!c||!f.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(c.authToken,f)},u}();e.default=s},4271:function(r,e,t){var n=this&&this.__awaiter||function(s,u,l,c){return new(l||(l=Promise))(function(f,h){function d(w){try{y(c.next(w))}catch(b){h(b)}}function v(w){try{y(c.throw(w))}catch(b){h(b)}}function y(w){var b;w.done?f(w.value):(b=w.value,b instanceof l?b:new l(function(g){g(b)})).then(d,v)}y((c=c.apply(s,u||[])).next())})},i=this&&this.__generator||function(s,u){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,b[0]&&(d=0)),d;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,c=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){d.label=b[1];break}if(b[0]===6&&d.label<f[1]){d.label=f[1],f=b;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(b);break}f[2]&&d.ops.pop(),d.trys.pop();continue}b=u.call(s,d)}catch(g){b=[6,g],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([y,w])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(7452),o=function(){function s(u){var l=u.clientCertificateProvider,c=u.loader;this._clientCertificateProvider=l,this._loader=c||a.ClientCertificatesLoader,this._clientCertificate=null}return s.prototype.getClientCertificate=function(){return n(this,void 0,void 0,function(){var u,l,c=this;return i(this,function(f){switch(f.label){case 0:return(u=this._clientCertificateProvider!=null)?(l=this._clientCertificate==null)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:l=f.sent(),f.label=2;case 2:u=l,f.label=3;case 3:return u&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(h){return c._clientCertificate=h,c._clientCertificate}).catch(function(h){throw c._clientCertificate=null,h})),[2,this._clientCertificate]}})})},s}();e.default=o},3545:function(r,e,t){var n,i=this&&this.__extends||(n=function(g,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,P){x.__proto__=P}||function(x,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(x[I]=P[I])},n(g,_)},function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function x(){this.constructor=g}n(g,_),g.prototype=_===null?Object.create(_):(x.prototype=_.prototype,new x)}),a=this&&this.__awaiter||function(g,_,x,P){return new(x||(x=Promise))(function(I,T){function A(j){try{N(P.next(j))}catch(B){T(B)}}function D(j){try{N(P.throw(j))}catch(B){T(B)}}function N(j){var B;j.done?I(j.value):(B=j.value,B instanceof x?B:new x(function(W){W(B)})).then(A,D)}N((P=P.apply(g,_||[])).next())})},o=this&&this.__generator||function(g,_){var x,P,I,T,A={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(N){return function(j){return function(B){if(x)throw new TypeError("Generator is already executing.");for(;T&&(T=0,B[0]&&(A=0)),A;)try{if(x=1,P&&(I=2&B[0]?P.return:B[0]?P.throw||((I=P.return)&&I.call(P),0):P.next)&&!(I=I.call(P,B[1])).done)return I;switch(P=0,I&&(B=[2&B[0],I.value]),B[0]){case 0:case 1:I=B;break;case 4:return A.label++,{value:B[1],done:!1};case 5:A.label++,P=B[1],B=[0];continue;case 7:B=A.ops.pop(),A.trys.pop();continue;default:if(!((I=(I=A.trys).length>0&&I[I.length-1])||B[0]!==6&&B[0]!==2)){A=0;continue}if(B[0]===3&&(!I||B[1]>I[0]&&B[1]<I[3])){A.label=B[1];break}if(B[0]===6&&A.label<I[1]){A.label=I[1],I=B;break}if(I&&A.label<I[2]){A.label=I[2],A.ops.push(B);break}I[2]&&A.ops.pop(),A.trys.pop();continue}B=_.call(g,A)}catch(W){B=[6,W],P=0}finally{x=I=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([N,j])}}},s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(t(8987)),l=t(7721),c=t(9305),f=c.internal.constants,h=f.BOLT_PROTOCOL_V3,d=f.BOLT_PROTOCOL_V4_0,v=f.BOLT_PROTOCOL_V4_4,y=f.BOLT_PROTOCOL_V5_1,w=c.error.SERVICE_UNAVAILABLE,b=function(g){function _(x){var P=x.id,I=x.config,T=x.log,A=x.address,D=x.userAgent,N=x.boltAgent,j=x.authTokenManager,B=x.newPool,W=g.call(this,{id:P,config:I,log:T,userAgent:D,boltAgent:N,authTokenManager:j,newPool:B})||this;return W._address=A,W}return i(_,g),_.prototype.acquireConnection=function(x){var P=x===void 0?{}:x,I=(P.accessMode,P.database),T=(P.bookmarks,P.auth),A=P.forceReAuth;return a(this,void 0,void 0,function(){var D,N,j=this;return o(this,function(B){switch(B.label){case 0:return D=l.ConnectionErrorHandler.create({errorCode:w,handleSecurityError:function(W,V,J){return j._handleSecurityError(W,V,J,I)}}),[4,this._connectionPool.acquire({auth:T,forceReAuth:A},this._address)];case 1:return N=B.sent(),T?[4,this._verifyStickyConnection({auth:T,connection:N,address:this._address})]:[3,3];case 2:return B.sent(),[2,N];case 3:return[2,new l.DelegateConnection(N,D)]}})})},_.prototype._handleSecurityError=function(x,P,I,T){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(P," for database '").concat(T,"' because of an error ").concat(x.code," '").concat(x.message,"'")),g.prototype._handleSecurityError.call(this,x,P,I)},_.prototype._hasProtocolVersion=function(x){return a(this,void 0,void 0,function(){var P,I;return o(this,function(T){switch(T.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return P=T.sent(),I=P.protocol()?P.protocol().version:null,[4,P.close()];case 2:return T.sent(),I?[2,x(I)]:[2,!1]}})})},_.prototype.supportsMultiDb=function(){return a(this,void 0,void 0,function(){return o(this,function(x){switch(x.label){case 0:return[4,this._hasProtocolVersion(function(P){return P>=d})];case 1:return[2,x.sent()]}})})},_.prototype.getNegotiatedProtocolVersion=function(){var x=this;return new Promise(function(P,I){x._hasProtocolVersion(P).catch(I)})},_.prototype.supportsTransactionConfig=function(){return a(this,void 0,void 0,function(){return o(this,function(x){switch(x.label){case 0:return[4,this._hasProtocolVersion(function(P){return P>=h})];case 1:return[2,x.sent()]}})})},_.prototype.supportsUserImpersonation=function(){return a(this,void 0,void 0,function(){return o(this,function(x){switch(x.label){case 0:return[4,this._hasProtocolVersion(function(P){return P>=v})];case 1:return[2,x.sent()]}})})},_.prototype.supportsSessionAuth=function(){return a(this,void 0,void 0,function(){return o(this,function(x){switch(x.label){case 0:return[4,this._hasProtocolVersion(function(P){return P>=y})];case 1:return[2,x.sent()]}})})},_.prototype.verifyAuthentication=function(x){var P=x.auth;return a(this,void 0,void 0,function(){var I=this;return o(this,function(T){return[2,this._verifyAuthentication({auth:P,getAddress:function(){return I._address}})]})})},_.prototype.verifyConnectivityAndGetServerInfo=function(){return a(this,void 0,void 0,function(){return o(this,function(x){switch(x.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,x.sent()]}})})},_}(u.default);e.default=b},8987:function(r,e,t){var n,i=this&&this.__extends||(n=function(I,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,D){A.__proto__=D}||function(A,D){for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(A[N]=D[N])},n(I,T)},function(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function A(){this.constructor=I}n(I,T),I.prototype=T===null?Object.create(T):(A.prototype=T.prototype,new A)}),a=this&&this.__awaiter||function(I,T,A,D){return new(A||(A=Promise))(function(N,j){function B(J){try{V(D.next(J))}catch(ee){j(ee)}}function W(J){try{V(D.throw(J))}catch(ee){j(ee)}}function V(J){var ee;J.done?N(J.value):(ee=J.value,ee instanceof A?ee:new A(function(te){te(ee)})).then(B,W)}V((D=D.apply(I,T||[])).next())})},o=this&&this.__generator||function(I,T){var A,D,N,j,B={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return j={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function W(V){return function(J){return function(ee){if(A)throw new TypeError("Generator is already executing.");for(;j&&(j=0,ee[0]&&(B=0)),B;)try{if(A=1,D&&(N=2&ee[0]?D.return:ee[0]?D.throw||((N=D.return)&&N.call(D),0):D.next)&&!(N=N.call(D,ee[1])).done)return N;switch(D=0,N&&(ee=[2&ee[0],N.value]),ee[0]){case 0:case 1:N=ee;break;case 4:return B.label++,{value:ee[1],done:!1};case 5:B.label++,D=ee[1],ee=[0];continue;case 7:ee=B.ops.pop(),B.trys.pop();continue;default:if(!((N=(N=B.trys).length>0&&N[N.length-1])||ee[0]!==6&&ee[0]!==2)){B=0;continue}if(ee[0]===3&&(!N||ee[1]>N[0]&&ee[1]<N[3])){B.label=ee[1];break}if(ee[0]===6&&B.label<N[1]){B.label=N[1],N=ee;break}if(N&&B.label<N[2]){B.label=N[2],B.ops.push(ee);break}N[2]&&B.ops.pop(),B.trys.pop();continue}ee=T.call(I,B)}catch(te){ee=[6,te],D=0}finally{A=N=0}if(5&ee[0])throw ee[1];return{value:ee[0]?ee[1]:void 0,done:!0}}([V,J])}}},s=this&&this.__read||function(I,T){var A=typeof Symbol=="function"&&I[Symbol.iterator];if(!A)return I;var D,N,j=A.call(I),B=[];try{for(;(T===void 0||T-- >0)&&!(D=j.next()).done;)B.push(D.value)}catch(W){N={error:W}}finally{try{D&&!D.done&&(A=j.return)&&A.call(j)}finally{if(N)throw N.error}}return B},u=this&&this.__spreadArray||function(I,T,A){if(A||arguments.length===2)for(var D,N=0,j=T.length;N<j;N++)!D&&N in T||(D||(D=Array.prototype.slice.call(T,0,N)),D[N]=T[N]);return I.concat(D||Array.prototype.slice.call(T))},l=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var c=t(7721),f=t(9305),h=l(t(1839)),d=t(6781),v=l(t(4531)),y=l(t(4271)),w=f.error.SERVICE_UNAVAILABLE,b=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],g=f.internal.pool,_=g.Pool,x=g.PoolConfig,P=function(I){function T(A,D){var N=A.id,j=A.config,B=A.log,W=A.userAgent,V=A.boltAgent,J=A.authTokenManager,ee=A.newPool,te=ee===void 0?function(){for(var de=[],pe=0;pe<arguments.length;pe++)de[pe]=arguments[pe];return new(_.bind.apply(_,u([void 0],s(de),!1)))}:ee;D===void 0&&(D=null);var re=I.call(this)||this;return re._id=N,re._config=j,re._log=B,re._clientCertificateHolder=new y.default({clientCertificateProvider:re._config.clientCertificate}),re._authenticationProvider=new h.default({authTokenManager:J,userAgent:W,boltAgent:V}),re._livenessCheckProvider=new v.default({connectionLivenessCheckTimeout:j.connectionLivenessCheckTimeout}),re._userAgent=W,re._boltAgent=V,re._createChannelConnection=D||function(de){return a(re,void 0,void 0,function(){var pe,fe;return o(this,function(ye){switch(ye.label){case 0:return pe=c.createChannelConnection,fe=[de,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,pe.apply(void 0,fe.concat([ye.sent()]))]}})})},re._connectionPool=te({create:re._createConnection.bind(re),destroy:re._destroyConnection.bind(re),validateOnAcquire:re._validateConnectionOnAcquire.bind(re),validateOnRelease:re._validateConnectionOnRelease.bind(re),installIdleObserver:T._installIdleObserverOnConnection.bind(re),removeIdleObserver:T._removeIdleObserverOnConnection.bind(re),config:x.fromDriverConfig(j),log:re._log}),re._openConnections={},re}return i(T,I),T.prototype._createConnectionErrorHandler=function(){return new c.ConnectionErrorHandler(w)},T.prototype._getClientCertificate=function(){return a(this,void 0,void 0,function(){return o(this,function(A){return[2,this._config.clientCertificate.getClientCertificate()]})})},T.prototype._createConnection=function(A,D,N){var j=this,B=A.auth;return this._createChannelConnection(D).then(function(W){return W.release=function(){return W.idleTimestamp=Date.now(),N(D,W)},j._openConnections[W.id]=W,j._authenticationProvider.authenticate({connection:W,auth:B}).catch(function(V){throw j._destroyConnection(W),V})})},T.prototype._validateConnectionOnAcquire=function(A,D){var N=A.auth,j=A.skipReAuth;return a(this,void 0,void 0,function(){var B,W;return o(this,function(V){switch(V.label){case 0:if(!this._validateConnection(D))return[2,!1];V.label=1;case 1:return V.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(D)];case 2:return V.sent(),[3,4];case 3:return B=V.sent(),this._log.debug("The connection ".concat(D.id," is not alive because of an error ").concat(B.code," '").concat(B.message,"'")),[2,!1];case 4:return V.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:D,auth:N,skipReAuth:j})];case 5:return V.sent(),[2,!0];case 6:return W=V.sent(),this._log.debug("The connection ".concat(D.id," is not valid because of an error ").concat(W.code," '").concat(W.message,"'")),[2,!1];case 7:return[2]}})})},T.prototype._validateConnectionOnRelease=function(A){return A._sticky!==!0&&this._validateConnection(A)},T.prototype._validateConnection=function(A){if(!A.isOpen())return!1;var D=this._config.maxConnectionLifetime;return!(Date.now()-A.creationTimestamp>D)},T.prototype._destroyConnection=function(A){return delete this._openConnections[A.id],A.close()},T.prototype._verifyConnectivityAndGetServerVersion=function(A){var D=A.address;return a(this,void 0,void 0,function(){var N,j;return o(this,function(B){switch(B.label){case 0:return[4,this._connectionPool.acquire({},D)];case 1:N=B.sent(),j=new f.ServerInfo(N.server,N.protocol().version),B.label=2;case 2:return B.trys.push([2,,5,7]),N.protocol().isLastMessageLogon()?[3,4]:[4,N.resetAndFlush()];case 3:B.sent(),B.label=4;case 4:return[3,7];case 5:return[4,N.release()];case 6:return B.sent(),[7];case 7:return[2,j]}})})},T.prototype._verifyAuthentication=function(A){var D=A.getAddress,N=A.auth;return a(this,void 0,void 0,function(){var j,B,W,V,J,ee;return o(this,function(te){switch(te.label){case 0:j=[],te.label=1;case 1:return te.trys.push([1,8,9,11]),[4,D()];case 2:return B=te.sent(),[4,this._connectionPool.acquire({auth:N,skipReAuth:!0},B)];case 3:if(W=te.sent(),j.push(W),V=!W.protocol().isLastMessageLogon(),!W.supportsReAuth)throw(0,f.newError)("Driver is connected to a database that does not support user switch.");return V&&W.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:W,auth:N,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return te.sent(),[3,7];case 5:return!V||W.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:N},B,{requireNew:!0})];case 6:(J=te.sent())._sticky=!0,j.push(J),te.label=7;case 7:return[2,!0];case 8:if(ee=te.sent(),b.includes(ee.code))return[2,!1];throw ee;case 9:return[4,Promise.all(j.map(function(re){return re.release()}))];case 10:return te.sent(),[7];case 11:return[2]}})})},T.prototype._verifyStickyConnection=function(A){var D=A.auth,N=A.connection;return A.address,a(this,void 0,void 0,function(){var j,B;return o(this,function(W){switch(W.label){case 0:return j=d.object.equals(D,N.authToken),B=!j,N._sticky=j&&!N.supportsReAuth,B||N._sticky?[4,N.release()]:[3,2];case 1:throw W.sent(),(0,f.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},T.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(A){switch(A.label){case 0:return[4,this._connectionPool.close()];case 1:return A.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(D){return D.close()}))];case 2:return A.sent(),[2]}})})},T._installIdleObserverOnConnection=function(A,D){A._setIdle(D)},T._removeIdleObserverOnConnection=function(A){A._unsetIdle()},T.prototype._handleSecurityError=function(A,D,N){return this._authenticationProvider.handleError({connection:N,code:A.code})&&(A.retriable=!0),A.code==="Neo.ClientError.Security.AuthorizationExpired"&&this._connectionPool.apply(D,function(j){j.authToken=null}),N&&N.close().catch(function(){}),A},T}(f.ConnectionProvider);e.default=P},7428:function(r,e,t){var n,i=this&&this.__extends||(n=function(Se,Re){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Pe){Oe.__proto__=Pe}||function(Oe,Pe){for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Oe[Ue]=Pe[Ue])},n(Se,Re)},function(Se,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Class extends value "+String(Re)+" is not a constructor or null");function Oe(){this.constructor=Se}n(Se,Re),Se.prototype=Re===null?Object.create(Re):(Oe.prototype=Re.prototype,new Oe)}),a=this&&this.__assign||function(){return a=Object.assign||function(Se){for(var Re,Oe=1,Pe=arguments.length;Oe<Pe;Oe++)for(var Ue in Re=arguments[Oe])Object.prototype.hasOwnProperty.call(Re,Ue)&&(Se[Ue]=Re[Ue]);return Se},a.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(Se,Re,Oe,Pe){Pe===void 0&&(Pe=Oe);var Ue=Object.getOwnPropertyDescriptor(Re,Oe);Ue&&!("get"in Ue?!Re.__esModule:Ue.writable||Ue.configurable)||(Ue={enumerable:!0,get:function(){return Re[Oe]}}),Object.defineProperty(Se,Pe,Ue)}:function(Se,Re,Oe,Pe){Pe===void 0&&(Pe=Oe),Se[Pe]=Re[Oe]}),s=this&&this.__setModuleDefault||(Object.create?function(Se,Re){Object.defineProperty(Se,"default",{enumerable:!0,value:Re})}:function(Se,Re){Se.default=Re}),u=this&&this.__importStar||function(Se){if(Se&&Se.__esModule)return Se;var Re={};if(Se!=null)for(var Oe in Se)Oe!=="default"&&Object.prototype.hasOwnProperty.call(Se,Oe)&&o(Re,Se,Oe);return s(Re,Se),Re},l=this&&this.__awaiter||function(Se,Re,Oe,Pe){return new(Oe||(Oe=Promise))(function(Ue,ot){function $e(Ze){try{ht(Pe.next(Ze))}catch(H){ot(H)}}function rt(Ze){try{ht(Pe.throw(Ze))}catch(H){ot(H)}}function ht(Ze){var H;Ze.done?Ue(Ze.value):(H=Ze.value,H instanceof Oe?H:new Oe(function(K){K(H)})).then($e,rt)}ht((Pe=Pe.apply(Se,Re||[])).next())})},c=this&&this.__generator||function(Se,Re){var Oe,Pe,Ue,ot,$e={label:0,sent:function(){if(1&Ue[0])throw Ue[1];return Ue[1]},trys:[],ops:[]};return ot={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function rt(ht){return function(Ze){return function(H){if(Oe)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,H[0]&&($e=0)),$e;)try{if(Oe=1,Pe&&(Ue=2&H[0]?Pe.return:H[0]?Pe.throw||((Ue=Pe.return)&&Ue.call(Pe),0):Pe.next)&&!(Ue=Ue.call(Pe,H[1])).done)return Ue;switch(Pe=0,Ue&&(H=[2&H[0],Ue.value]),H[0]){case 0:case 1:Ue=H;break;case 4:return $e.label++,{value:H[1],done:!1};case 5:$e.label++,Pe=H[1],H=[0];continue;case 7:H=$e.ops.pop(),$e.trys.pop();continue;default:if(!((Ue=(Ue=$e.trys).length>0&&Ue[Ue.length-1])||H[0]!==6&&H[0]!==2)){$e=0;continue}if(H[0]===3&&(!Ue||H[1]>Ue[0]&&H[1]<Ue[3])){$e.label=H[1];break}if(H[0]===6&&$e.label<Ue[1]){$e.label=Ue[1],Ue=H;break}if(Ue&&$e.label<Ue[2]){$e.label=Ue[2],$e.ops.push(H);break}Ue[2]&&$e.ops.pop(),$e.trys.pop();continue}H=Re.call(Se,$e)}catch(K){H=[6,K],Pe=0}finally{Oe=Ue=0}if(5&H[0])throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}([ht,Ze])}}},f=this&&this.__values||function(Se){var Re=typeof Symbol=="function"&&Symbol.iterator,Oe=Re&&Se[Re],Pe=0;if(Oe)return Oe.call(Se);if(Se&&typeof Se.length=="number")return{next:function(){return Se&&Pe>=Se.length&&(Se=void 0),{value:Se&&Se[Pe++],done:!Se}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")},h=this&&this.__read||function(Se,Re){var Oe=typeof Symbol=="function"&&Se[Symbol.iterator];if(!Oe)return Se;var Pe,Ue,ot=Oe.call(Se),$e=[];try{for(;(Re===void 0||Re-- >0)&&!(Pe=ot.next()).done;)$e.push(Pe.value)}catch(rt){Ue={error:rt}}finally{try{Pe&&!Pe.done&&(Oe=ot.return)&&Oe.call(ot)}finally{if(Ue)throw Ue.error}}return $e},d=this&&this.__importDefault||function(Se){return Se&&Se.__esModule?Se:{default:Se}};Object.defineProperty(e,"__esModule",{value:!0});var v=t(9305),y=u(t(206)),w=t(7452),b=d(t(4132)),g=d(t(8987)),_=t(4455),x=t(7721),P=t(6781),I=v.error.SERVICE_UNAVAILABLE,T=v.error.SESSION_EXPIRED,A=v.internal.bookmarks.Bookmarks,D=v.internal.constants,N=D.ACCESS_MODE_READ,j=D.ACCESS_MODE_WRITE,B=D.BOLT_PROTOCOL_V3,W=D.BOLT_PROTOCOL_V4_0,V=D.BOLT_PROTOCOL_V4_4,J=D.BOLT_PROTOCOL_V5_1,ee="Neo.ClientError.Database.DatabaseNotFound",te="Neo.ClientError.Transaction.InvalidBookmark",re="Neo.ClientError.Transaction.InvalidBookmarkMixture",de="Neo.ClientError.Security.AuthorizationExpired",pe="Neo.ClientError.Statement.ArgumentError",fe="Neo.ClientError.Request.Invalid",ye="Neo.ClientError.Statement.TypeError",Me="N/A",Ne=null,ke=(0,v.int)(3e4),je=function(Se){function Re(Oe){var Pe=Oe.id,Ue=Oe.address,ot=Oe.routingContext,$e=Oe.hostNameResolver,rt=Oe.config,ht=Oe.log,Ze=Oe.userAgent,H=Oe.boltAgent,K=Oe.authTokenManager,ne=Oe.routingTablePurgeDelay,Ce=Oe.newPool,Ae=Se.call(this,{id:Pe,config:rt,log:ht,userAgent:Ze,boltAgent:H,authTokenManager:K,newPool:Ce},function(ze){return l(Ae,void 0,void 0,function(){var Le,le;return c(this,function(Ve){switch(Ve.label){case 0:return Le=x.createChannelConnection,le=[ze,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,Le.apply(void 0,le.concat([Ve.sent(),this._routingContext]))]}})})})||this;return Ae._routingContext=a(a({},ot),{address:Ue.toString()}),Ae._seedRouter=Ue,Ae._rediscovery=new y.default(Ae._routingContext),Ae._loadBalancingStrategy=new _.LeastConnectedLoadBalancingStrategy(Ae._connectionPool),Ae._hostNameResolver=$e,Ae._dnsResolver=new w.HostNameResolver,Ae._log=ht,Ae._useSeedRouter=!0,Ae._routingTableRegistry=new xe(ne?(0,v.int)(ne):ke),Ae._refreshRoutingTable=P.functional.reuseOngoingRequest(Ae._refreshRoutingTable,Ae),Ae}return i(Re,Se),Re.prototype._createConnectionErrorHandler=function(){return new x.ConnectionErrorHandler(T)},Re.prototype._handleUnavailability=function(Oe,Pe,Ue){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(Pe," for database '").concat(Ue,"' because of an error ").concat(Oe.code," '").concat(Oe.message,"'")),this.forget(Pe,Ue||Ne),Oe},Re.prototype._handleSecurityError=function(Oe,Pe,Ue,ot){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(Pe," for database '").concat(ot,"' because of an error ").concat(Oe.code," '").concat(Oe.message,"'")),Se.prototype._handleSecurityError.call(this,Oe,Pe,Ue,ot)},Re.prototype._handleWriteFailure=function(Oe,Pe,Ue){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(Pe," for database '").concat(Ue,"' because of an error ").concat(Oe.code," '").concat(Oe.message,"'")),this.forgetWriter(Pe,Ue||Ne),(0,v.newError)("No longer possible to write to server at "+Pe,T,Oe)},Re.prototype.acquireConnection=function(Oe){var Pe=Oe===void 0?{}:Oe,Ue=Pe.accessMode,ot=Pe.database,$e=Pe.bookmarks,rt=Pe.impersonatedUser,ht=Pe.onDatabaseNameResolved,Ze=Pe.auth;return l(this,void 0,void 0,function(){var H,K,ne,Ce,Ae,ze,Le,le=this;return c(this,function(Ve){switch(Ve.label){case 0:return ne={database:ot||Ne},Ce=new x.ConnectionErrorHandler(T,function(ut,et){return le._handleUnavailability(ut,et,ne.database)},function(ut,et){return le._handleWriteFailure(ut,et,ne.database)},function(ut,et,nt){return le._handleSecurityError(ut,et,nt,ne.database)}),[4,this._freshRoutingTable({accessMode:Ue,database:ne.database,bookmarks:$e,impersonatedUser:rt,auth:Ze,onDatabaseNameResolved:function(ut){ne.database=ne.database||ut,ht&&ht(ut)}})];case 1:if(Ae=Ve.sent(),Ue===N)K=this._loadBalancingStrategy.selectReader(Ae.readers),H="read";else{if(Ue!==j)throw(0,v.newError)("Illegal mode "+Ue);K=this._loadBalancingStrategy.selectWriter(Ae.writers),H="write"}if(!K)throw(0,v.newError)("Failed to obtain connection towards ".concat(H," server. Known routing table is: ").concat(Ae),T);Ve.label=2;case 2:return Ve.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:Ze},K)];case 3:return ze=Ve.sent(),Ze?[4,this._verifyStickyConnection({auth:Ze,connection:ze,address:K})]:[3,5];case 4:return Ve.sent(),[2,ze];case 5:return[2,new x.DelegateConnection(ze,Ce)];case 6:throw Le=Ve.sent(),Ce.handleAndTransformError(Le,K);case 7:return[2]}})})},Re.prototype._hasProtocolVersion=function(Oe){return l(this,void 0,void 0,function(){var Pe,Ue,ot,$e,rt,ht;return c(this,function(Ze){switch(Ze.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:Pe=Ze.sent(),ot=0,Ze.label=2;case 2:if(!(ot<Pe.length))return[3,8];Ze.label=3;case 3:return Ze.trys.push([3,6,,7]),[4,this._createChannelConnection(Pe[ot])];case 4:return $e=Ze.sent(),rt=$e.protocol()?$e.protocol().version:null,[4,$e.close()];case 5:return Ze.sent(),rt?[2,Oe(rt)]:[2,!1];case 6:return ht=Ze.sent(),Ue=ht,[3,7];case 7:return ot++,[3,2];case 8:if(Ue)throw Ue;return[2,!1]}})})},Re.prototype.supportsMultiDb=function(){return l(this,void 0,void 0,function(){return c(this,function(Oe){switch(Oe.label){case 0:return[4,this._hasProtocolVersion(function(Pe){return Pe>=W})];case 1:return[2,Oe.sent()]}})})},Re.prototype.supportsTransactionConfig=function(){return l(this,void 0,void 0,function(){return c(this,function(Oe){switch(Oe.label){case 0:return[4,this._hasProtocolVersion(function(Pe){return Pe>=B})];case 1:return[2,Oe.sent()]}})})},Re.prototype.supportsUserImpersonation=function(){return l(this,void 0,void 0,function(){return c(this,function(Oe){switch(Oe.label){case 0:return[4,this._hasProtocolVersion(function(Pe){return Pe>=V})];case 1:return[2,Oe.sent()]}})})},Re.prototype.supportsSessionAuth=function(){return l(this,void 0,void 0,function(){return c(this,function(Oe){switch(Oe.label){case 0:return[4,this._hasProtocolVersion(function(Pe){return Pe>=J})];case 1:return[2,Oe.sent()]}})})},Re.prototype.getNegotiatedProtocolVersion=function(){var Oe=this;return new Promise(function(Pe,Ue){Oe._hasProtocolVersion(Pe).catch(Ue)})},Re.prototype.verifyAuthentication=function(Oe){var Pe=Oe.database,Ue=Oe.accessMode,ot=Oe.auth;return l(this,void 0,void 0,function(){var $e=this;return c(this,function(rt){return[2,this._verifyAuthentication({auth:ot,getAddress:function(){return l($e,void 0,void 0,function(){var ht,Ze,H;return c(this,function(K){switch(K.label){case 0:return ht={database:Pe||Ne},[4,this._freshRoutingTable({accessMode:Ue,database:ht.database,auth:ot,onDatabaseNameResolved:function(ne){ht.database=ht.database||ne}})];case 1:if(Ze=K.sent(),(H=Ue===j?Ze.writers:Ze.readers).length===0)throw(0,v.newError)("No servers available for database '".concat(ht.database,"' with access mode '").concat(Ue,"'"),I);return[2,H[0]]}})})}})]})})},Re.prototype.verifyConnectivityAndGetServerInfo=function(Oe){var Pe=Oe.database,Ue=Oe.accessMode;return l(this,void 0,void 0,function(){var ot,$e,rt,ht,Ze,H,K,ne,Ce,Ae,ze;return c(this,function(Le){switch(Le.label){case 0:return ot={database:Pe||Ne},[4,this._freshRoutingTable({accessMode:Ue,database:ot.database,onDatabaseNameResolved:function(le){ot.database=ot.database||le}})];case 1:$e=Le.sent(),rt=Ue===j?$e.writers:$e.readers,ht=(0,v.newError)("No servers available for database '".concat(ot.database,"' with access mode '").concat(Ue,"'"),I),Le.label=2;case 2:Le.trys.push([2,9,10,11]),Ze=f(rt),H=Ze.next(),Le.label=3;case 3:if(H.done)return[3,8];K=H.value,Le.label=4;case 4:return Le.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:K})];case 5:return[2,Le.sent()];case 6:return ne=Le.sent(),ht=ne,[3,7];case 7:return H=Ze.next(),[3,3];case 8:return[3,11];case 9:return Ce=Le.sent(),Ae={error:Ce},[3,11];case 10:try{H&&!H.done&&(ze=Ze.return)&&ze.call(Ze)}finally{if(Ae)throw Ae.error}return[7];case 11:throw ht}})})},Re.prototype.forget=function(Oe,Pe){this._routingTableRegistry.apply(Pe,{applyWhenExists:function(Ue){return Ue.forget(Oe)}}),this._connectionPool.purge(Oe).catch(function(){})},Re.prototype.forgetWriter=function(Oe,Pe){this._routingTableRegistry.apply(Pe,{applyWhenExists:function(Ue){return Ue.forgetWriter(Oe)}})},Re.prototype._freshRoutingTable=function(Oe){var Pe=Oe===void 0?{}:Oe,Ue=Pe.accessMode,ot=Pe.database,$e=Pe.bookmarks,rt=Pe.impersonatedUser,ht=Pe.onDatabaseNameResolved,Ze=Pe.auth,H=this._routingTableRegistry.get(ot,function(){return new y.RoutingTable({database:ot})});return H.isStaleFor(Ue)?(this._log.info('Routing table is stale for database: "'.concat(ot,'" and access mode: "').concat(Ue,'": ').concat(H)),this._refreshRoutingTable(H,$e,rt,Ze).then(function(K){return ht(K.database),K})):H},Re.prototype._refreshRoutingTable=function(Oe,Pe,Ue,ot){var $e=Oe.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters($e,Oe,Pe,Ue,ot):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter($e,Oe,Pe,Ue,ot)},Re.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(Oe,Pe,Ue,ot,$e){return l(this,void 0,void 0,function(){var rt,ht,Ze,H,K,ne,Ce;return c(this,function(Ae){switch(Ae.label){case 0:return rt=[],[4,this._fetchRoutingTableUsingSeedRouter(rt,this._seedRouter,Pe,Ue,ot,$e)];case 1:return ht=h.apply(void 0,[Ae.sent(),2]),Ze=ht[0],H=ht[1],Ze?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(Oe,Pe,Ue,ot,$e)];case 3:K=h.apply(void 0,[Ae.sent(),2]),ne=K[0],Ce=K[1],Ze=ne,H=Ce||H,Ae.label=4;case 4:return[4,this._applyRoutingTableIfPossible(Pe,Ze,H)];case 5:return[2,Ae.sent()]}})})},Re.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(Oe,Pe,Ue,ot,$e){return l(this,void 0,void 0,function(){var rt,ht,Ze,H;return c(this,function(K){switch(K.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(Oe,Pe,Ue,ot,$e)];case 1:return rt=h.apply(void 0,[K.sent(),2]),ht=rt[0],Ze=rt[1],ht?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(Oe,this._seedRouter,Pe,Ue,ot,$e)];case 2:H=h.apply(void 0,[K.sent(),2]),ht=H[0],Ze=H[1],K.label=3;case 3:return[4,this._applyRoutingTableIfPossible(Pe,ht,Ze)];case 4:return[2,K.sent()]}})})},Re.prototype._fetchRoutingTableUsingKnownRouters=function(Oe,Pe,Ue,ot,$e){return l(this,void 0,void 0,function(){var rt,ht,Ze,H;return c(this,function(K){switch(K.label){case 0:return[4,this._fetchRoutingTable(Oe,Pe,Ue,ot,$e)];case 1:return rt=h.apply(void 0,[K.sent(),2]),ht=rt[0],Ze=rt[1],ht?[2,[ht,null]]:(H=Oe.length-1,Re._forgetRouter(Pe,Oe,H),[2,[null,Ze]])}})})},Re.prototype._fetchRoutingTableUsingSeedRouter=function(Oe,Pe,Ue,ot,$e,rt){return l(this,void 0,void 0,function(){var ht,Ze;return c(this,function(H){switch(H.label){case 0:return[4,this._resolveSeedRouter(Pe)];case 1:return ht=H.sent(),Ze=ht.filter(function(K){return Oe.indexOf(K)<0}),[4,this._fetchRoutingTable(Ze,Ue,ot,$e,rt)];case 2:return[2,H.sent()]}})})},Re.prototype._resolveSeedRouter=function(Oe){return l(this,void 0,void 0,function(){var Pe,Ue,ot=this;return c(this,function($e){switch($e.label){case 0:return[4,this._hostNameResolver.resolve(Oe)];case 1:return Pe=$e.sent(),[4,Promise.all(Pe.map(function(rt){return ot._dnsResolver.resolve(rt)}))];case 2:return Ue=$e.sent(),[2,[].concat.apply([],Ue)]}})})},Re.prototype._fetchRoutingTable=function(Oe,Pe,Ue,ot,$e){return l(this,void 0,void 0,function(){var rt=this;return c(this,function(ht){return[2,Oe.reduce(function(Ze,H,K){return l(rt,void 0,void 0,function(){var ne,Ce,Ae,ze,Le,le,Ve;return c(this,function(ut){switch(ut.label){case 0:return[4,Ze];case 1:return ne=h.apply(void 0,[ut.sent(),1]),(Ce=ne[0])?[2,[Ce,null]]:(Ae=K-1,Re._forgetRouter(Pe,Oe,Ae),[4,this._createSessionForRediscovery(H,Ue,ot,$e)]);case 2:if(ze=h.apply(void 0,[ut.sent(),2]),Le=ze[0],le=ze[1],!Le)return[3,8];ut.label=3;case 3:return ut.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(Le,Pe.database,H,ot)];case 4:return[2,[ut.sent(),null]];case 5:return Ve=ut.sent(),[2,this._handleRediscoveryError(Ve,H)];case 6:return Le.close(),[7];case 7:return[3,9];case 8:return[2,[null,le]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},Re.prototype._createSessionForRediscovery=function(Oe,Pe,Ue,ot){return l(this,void 0,void 0,function(){var $e,rt,ht,Ze,H,K=this;return c(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:ot},Oe)];case 1:return $e=ne.sent(),ot?[4,this._verifyStickyConnection({auth:ot,connection:$e,address:Oe})]:[3,3];case 2:ne.sent(),ne.label=3;case 3:return rt=x.ConnectionErrorHandler.create({errorCode:T,handleSecurityError:function(Ce,Ae,ze){return K._handleSecurityError(Ce,Ae,ze)}}),ht=$e._sticky?new x.DelegateConnection($e):new x.DelegateConnection($e,rt),Ze=new b.default(ht),$e.protocol().version<4?[2,[new v.Session({mode:j,bookmarks:A.empty(),connectionProvider:Ze}),null]]:[2,[new v.Session({mode:N,database:"system",bookmarks:Pe,connectionProvider:Ze,impersonatedUser:Ue}),null]];case 4:return H=ne.sent(),[2,this._handleRediscoveryError(H,Oe)];case 5:return[2]}})})},Re.prototype._handleRediscoveryError=function(Oe,Pe){if(function(Ue){return[ee,te,re,pe,fe,ye,Me].includes(Ue.code)}(Oe)||function(Ue){return Ue.code.startsWith("Neo.ClientError.Security.")&&![de].includes(Ue.code)}(Oe))throw Oe;if(Oe.code==="Neo.ClientError.Procedure.ProcedureNotFound")throw(0,v.newError)("Server at ".concat(Pe.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),I,Oe);return this._log.warn("unable to fetch routing table because of an error ".concat(Oe)),[null,Oe]},Re.prototype._applyRoutingTableIfPossible=function(Oe,Pe,Ue){return l(this,void 0,void 0,function(){return c(this,function(ot){switch(ot.label){case 0:if(!Pe)throw(0,v.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(Oe),I,Ue);return Pe.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(Pe)];case 1:return ot.sent(),[2,Pe]}})})},Re.prototype._updateRoutingTable=function(Oe){return l(this,void 0,void 0,function(){return c(this,function(Pe){switch(Pe.label){case 0:return[4,this._connectionPool.keepAll(Oe.allServers())];case 1:return Pe.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(Oe),this._log.info("Updated routing table ".concat(Oe)),[2]}})})},Re._forgetRouter=function(Oe,Pe,Ue){var ot=Pe[Ue];Oe&&ot&&Oe.forgetRouter(ot)},Re}(g.default);e.default=je;var xe=function(){function Se(Re){this._tables=new Map,this._routingTablePurgeDelay=Re}return Se.prototype.register=function(Re){return this._tables.set(Re.database,Re),this},Se.prototype.apply=function(Re,Oe){var Pe=Oe===void 0?{}:Oe,Ue=Pe.applyWhenExists,ot=Pe.applyWhenDontExists,$e=ot===void 0?function(){}:ot;return this._tables.has(Re)?Ue(this._tables.get(Re)):typeof Re=="string"||Re===null?$e():this._forEach(Ue),this},Se.prototype.get=function(Re,Oe){return this._tables.has(Re)?this._tables.get(Re):typeof Oe=="function"?Oe():Oe},Se.prototype.removeExpired=function(){var Re=this;return this._removeIf(function(Oe){return Oe.isExpiredFor(Re._routingTablePurgeDelay)})},Se.prototype._forEach=function(Re){var Oe,Pe;try{for(var Ue=f(this._tables),ot=Ue.next();!ot.done;ot=Ue.next())Re(h(ot.value,2)[1])}catch($e){Oe={error:$e}}finally{try{ot&&!ot.done&&(Pe=Ue.return)&&Pe.call(Ue)}finally{if(Oe)throw Oe.error}}return this},Se.prototype._remove=function(Re){return this._tables.delete(Re),this},Se.prototype._removeIf=function(Re){var Oe,Pe;try{for(var Ue=f(this._tables),ot=Ue.next();!ot.done;ot=Ue.next()){var $e=h(ot.value,2),rt=$e[0];Re($e[1])&&this._remove(rt)}}catch(ht){Oe={error:ht}}finally{try{ot&&!ot.done&&(Pe=Ue.return)&&Pe.call(Ue)}finally{if(Oe)throw Oe.error}}return this},Se}()},4132:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function s(u){var l=o.call(this)||this;return l._connection=u,l}return i(s,o),s.prototype.acquireConnection=function(u){var l=u===void 0?{}:u,c=(l.accessMode,l.database,l.bookmarks,this._connection);return this._connection=null,Promise.resolve(c)},s}(t(9305).ConnectionProvider);e.default=a},9689:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var i=t(4132);Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var a=t(8987);Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var o=t(3545);Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var s=t(7428);Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(s).default}})},4531:function(r,e){var t=this&&this.__awaiter||function(a,o,s,u){return new(s||(s=Promise))(function(l,c){function f(v){try{d(u.next(v))}catch(y){c(y)}}function h(v){try{d(u.throw(v))}catch(y){c(y)}}function d(v){var y;v.done?l(v.value):(y=v.value,y instanceof s?y:new s(function(w){w(y)})).then(f,h)}d((u=u.apply(a,o||[])).next())})},n=this&&this.__generator||function(a,o){var s,u,l,c,f={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(v){return function(y){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(f=0)),f;)try{if(s=1,u&&(l=2&y[0]?u.return:y[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,y[1])).done)return l;switch(u=0,l&&(y=[2&y[0],l.value]),y[0]){case 0:case 1:l=y;break;case 4:return f.label++,{value:y[1],done:!1};case 5:f.label++,u=y[1],y=[0];continue;case 7:y=f.ops.pop(),f.trys.pop();continue;default:if(!((l=(l=f.trys).length>0&&l[l.length-1])||y[0]!==6&&y[0]!==2)){f=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){f.label=y[1];break}if(y[0]===6&&f.label<l[1]){f.label=l[1],l=y;break}if(l&&f.label<l[2]){f.label=l[2],f.ops.push(y);break}l[2]&&f.ops.pop(),f.trys.pop();continue}y=o.call(a,f)}catch(w){y=[6,w],u=0}finally{s=l=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([d,v])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function a(o){var s=o.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=s}return a.prototype.check=function(o){return t(this,void 0,void 0,function(){var s;return n(this,function(u){switch(u.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(o)?[2,!0]:(s=Date.now()-o.idleTimestamp,this._connectionLivenessCheckTimeout===0||s>this._connectionLivenessCheckTimeout?[4,o.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,u.sent()];case 2:return[2,!0]}})})},Object.defineProperty(a.prototype,"_isCheckDisabled",{get:function(){return this._connectionLivenessCheckTimeout==null||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),a.prototype._isNewlyCreatedConnection=function(o){return o.authToken==null},a}();e.default=i},8031:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function g(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)}),a=this&&this.__awaiter||function(w,b,g,_){return new(g||(g=Promise))(function(x,P){function I(D){try{A(_.next(D))}catch(N){P(N)}}function T(D){try{A(_.throw(D))}catch(N){P(N)}}function A(D){var N;D.done?x(D.value):(N=D.value,N instanceof g?N:new g(function(j){j(N)})).then(I,T)}A((_=_.apply(w,b||[])).next())})},o=this&&this.__generator||function(w,b){var g,_,x,P,I={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return P={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function T(A){return function(D){return function(N){if(g)throw new TypeError("Generator is already executing.");for(;P&&(P=0,N[0]&&(I=0)),I;)try{if(g=1,_&&(x=2&N[0]?_.return:N[0]?_.throw||((x=_.return)&&x.call(_),0):_.next)&&!(x=x.call(_,N[1])).done)return x;switch(_=0,x&&(N=[2&N[0],x.value]),N[0]){case 0:case 1:x=N;break;case 4:return I.label++,{value:N[1],done:!1};case 5:I.label++,_=N[1],N=[0];continue;case 7:N=I.ops.pop(),I.trys.pop();continue;default:if(!((x=(x=I.trys).length>0&&x[x.length-1])||N[0]!==6&&N[0]!==2)){I=0;continue}if(N[0]===3&&(!x||N[1]>x[0]&&N[1]<x[3])){I.label=N[1];break}if(N[0]===6&&I.label<x[1]){I.label=x[1],x=N;break}if(x&&I.label<x[2]){I.label=x[2],I.ops.push(N);break}x[2]&&I.ops.pop(),I.trys.pop();continue}N=b.call(w,I)}catch(j){N=[6,j],_=0}finally{g=x=0}if(5&N[0])throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}([A,D])}}},s=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=void 0;var u=t(7452),l=t(9305),c=s(t(6385)),f=s(t(7666)),h=l.error.PROTOCOL_ERROR,d=l.internal.logger.Logger,v=0;e.createChannelConnection=function(w,b,g,_,x,P,I){P===void 0&&(P=null),I===void 0&&(I=function(A){return new u.Channel(A)});var T=I(new u.ChannelConfig(w,b,g.errorCode(),x));return f.default.handshake(T,_).then(function(A){var D=A.protocolVersion,N=A.consumeRemainingBuffer,j=new u.Chunker(T),B=new u.Dechunker,W=new y(T,g,w,_,b.disableLosslessIntegers,P,j,b.notificationFilter,function(V){return f.default.create({version:D,channel:T,chunker:j,dechunker:B,disableLosslessIntegers:b.disableLosslessIntegers,useBigInt:b.useBigInt,serversideRouting:P,server:V.server,log:V.logger,observer:{onObserversCountChange:V._handleOngoingRequestsNumberChange.bind(V),onError:V._handleFatalError.bind(V),onFailure:V._resetOnFailure.bind(V),onProtocolError:V._handleProtocolError.bind(V),onErrorApplyTransformation:function(J){return V.handleAndTransformError(J,V._address)}}})},b.telemetryDisabled);return N(function(V){return B.write(V)}),W}).catch(function(A){return T.close().then(function(){throw A})})};var y=function(w){function b(g,_,x,P,I,T,A,D,N,j){I===void 0&&(I=!1),T===void 0&&(T=null);var B,W,V=w.call(this,_)||this;return V._authToken=null,V._idle=!1,V._reseting=!1,V._resetObservers=[],V._id=v++,V._address=x,V._server={address:x.asHostPort()},V._creationTimestamp=Date.now(),V._disableLosslessIntegers=I,V._ch=g,V._chunker=A,V._log=(B=V,new d((W=P)._level,function(J,ee){return W._loggerFunction(J,"".concat(B," ").concat(ee))})),V._serversideRouting=T,V._notificationFilter=D,V._telemetryDisabledDriverConfig=j===!0,V._telemetryDisabledConnection=!0,V._dbConnectionId=null,V._protocol=N(V),V._isBroken=!1,V._log.isDebugEnabled()&&V._log.debug("created towards ".concat(x)),V}return i(b,w),b.prototype.beginTransaction=function(g){return this._sendTelemetryIfEnabled(g),this._protocol.beginTransaction(g)},b.prototype.run=function(g,_,x){return this._sendTelemetryIfEnabled(x),this._protocol.run(g,_,x)},b.prototype._sendTelemetryIfEnabled=function(g){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||g==null||g.apiTelemetryConfig==null||this._protocol.telemetry({api:g.apiTelemetryConfig.api},{onCompleted:g.apiTelemetryConfig.onTelemetrySuccess,onError:g.beforeError})},b.prototype.commitTransaction=function(g){return this._protocol.commitTransaction(g)},b.prototype.rollbackTransaction=function(g){return this._protocol.rollbackTransaction(g)},b.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(b.prototype,"authToken",{get:function(){return this._authToken},set:function(g){this._authToken=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(g){this._dbConnectionId=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(g){this._idleTimestamp=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),b.prototype.connect=function(g,_,x,P){return a(this,void 0,void 0,function(){var I=this;return o(this,function(T){switch(T.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,l.newError)("Connection does not support re-auth");return this._authToken=x,this._protocol.initialized?[3,2]:[4,this._initialize(g,_,x)];case 1:case 3:return[2,T.sent()];case 2:return P?[4,new Promise(function(A,D){I._protocol.logoff({onError:D}),I._protocol.logon({authToken:x,onError:D,onComplete:function(){return A(I)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:x,flush:!0}),[2,this]}})})},b.prototype._initialize=function(g,_,x){var P=this,I=this;return new Promise(function(T,A){P._protocol.initialize({userAgent:g,boltAgent:_,authToken:x,notificationFilter:P._notificationFilter,onError:function(D){return A(D)},onComplete:function(D){if(D){var N=D.server;P.version&&!N||(P.version=N);var j=D.connection_id;if(P.databaseId||(P.databaseId=j),D.hints){var B=D.hints["connection.recv_timeout_seconds"];if(B!=null){var W=(0,l.toNumber)(B);Number.isInteger(W)&&W>0?P._ch.setupReceiveTimeout(1e3*W):P._log.info("Server located at ".concat(P._address," supplied an invalid connection receive timeout value (").concat(W,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}D.hints["telemetry.enabled"]===!0&&(P._telemetryDisabledConnection=!1)}}T(I)}})})},b.prototype.protocol=function(){return this._protocol},Object.defineProperty(b.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"version",{get:function(){return this._server.version},set:function(g){this._server.version=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),b.prototype._handleFatalError=function(g){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||g,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(l.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},b.prototype._setIdle=function(g){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(g)},b.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},b.prototype._queueObserver=function(g){return this._protocol.queueObserverIfProtocolIsNotBroken(g)},b.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},b.prototype.resetAndFlush=function(){var g=this;return new Promise(function(_,x){g._reset({onError:function(P){if(g._isBroken)x(P);else{var I=g._handleProtocolError("Received FAILURE as a response for RESET: ".concat(P));x(I)}},onComplete:function(){_()}})})},b.prototype._resetOnFailure=function(){var g=this;this.isOpen()&&this._reset({onError:function(){g._protocol.resetFailure()},onComplete:function(){g._protocol.resetFailure()}})},b.prototype._reset=function(g){var _=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(g):this._protocol.reset({onError:function(P){g.onError(P)},onComplete:function(){g.onComplete()}});else{this._resetObservers.push(g),this._reseting=!0;var x=function(P){_._reseting=!1;var I=_._resetObservers;_._resetObservers=[],I.forEach(P)};this._protocol.reset({onError:function(P){x(function(I){return I.onError(P)})},onComplete:function(){x(function(P){return P.onComplete()})}})}},b.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},b.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},b.prototype._handleOngoingRequestsNumberChange=function(g){this._idle||(g===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},b.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return g.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},b.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},b.prototype._handleProtocolError=function(g){this._protocol.resetFailure(),this._updateCurrentObserver();var _=(0,l.newError)(g,h);return this._handleFatalError(_),_},b}(c.default);e.default=y},9857:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}),a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(s){function u(l,c){var f=s.call(this,c)||this;return c&&(f._originalErrorHandler=l._errorHandler,l._errorHandler=f._errorHandler),f._delegate=l,f}return i(u,s),u.prototype.beginTransaction=function(l){return this._delegate.beginTransaction(l)},u.prototype.run=function(l,c,f){return this._delegate.run(l,c,f)},u.prototype.commitTransaction=function(l){return this._delegate.commitTransaction(l)},u.prototype.rollbackTransaction=function(l){return this._delegate.rollbackTransaction(l)},u.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(l){this._delegate.databaseId=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(l){this._delegate.authToken=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._delegate.version},set:function(l){this._delegate.version=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(l){this._delegate.idleTimestamp=l},enumerable:!1,configurable:!0}),u.prototype.isOpen=function(){return this._delegate.isOpen()},u.prototype.protocol=function(){return this._delegate.protocol()},u.prototype.connect=function(l,c,f,h){return this._delegate.connect(l,c,f,h)},u.prototype.write=function(l,c,f){return this._delegate.write(l,c,f)},u.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},u.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},u.prototype.close=function(){return this._delegate.close()},u.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},u}(a(t(6385)).default);e.default=o},2363:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.error.SERVICE_UNAVAILABLE,a=n.error.SESSION_EXPIRED,o=function(){function u(l,c,f,h){this._errorCode=l,this._handleUnavailability=c||s,this._handleWriteFailure=f||s,this._handleSecurityError=h||s}return u.create=function(l){return new u(l.errorCode,l.handleUnavailability,l.handleWriteFailure,l.handleSecurityError)},u.prototype.errorCode=function(){return this._errorCode},u.prototype.handleAndTransformError=function(l,c,f){return function(h){return h!=null&&h.code!=null&&h.code.startsWith("Neo.ClientError.Security.")}(l)?this._handleSecurityError(l,c,f):function(h){return!!h&&(h.code===a||h.code===i||h.code==="Neo.TransientError.General.DatabaseUnavailable")}(l)?this._handleUnavailability(l,c,f):function(h){return!!h&&(h.code==="Neo.ClientError.Cluster.NotALeader"||h.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase")}(l)?this._handleWriteFailure(l,c,f):l},u}();function s(u){return u}e.default=o},6385:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),t(7666);var a=function(o){function s(u){var l=o.call(this)||this;return l._errorHandler=u,l}return i(s,o),Object.defineProperty(s.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),s.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(s.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),s.prototype.connect=function(u,l,c,f){throw new Error("not implemented")},s.prototype.write=function(u,l,c){throw new Error("not implemented")},s.prototype.close=function(){throw new Error("not implemented")},s.prototype.handleAndTransformError=function(u,l){return this._errorHandler?this._errorHandler.handleAndTransformError(u,l,this):u},s}(t(9305).Connection);e.default=a},7721:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,h,d,v){v===void 0&&(v=d);var y=Object.getOwnPropertyDescriptor(h,d);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,v,y)}:function(f,h,d,v){v===void 0&&(v=d),f[v]=h[d]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&n(h,f,d);return i(h,f),h},o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var s=o(t(6385));e.Connection=s.default;var u=a(t(8031));e.ChannelConnection=u.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return u.createChannelConnection}});var l=o(t(9857));e.DelegateConnection=l.default;var c=o(t(2363));e.ConnectionErrorHandler=c.default,e.default=s.default},6672:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(s,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);f&&!("get"in f?!u.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(s,c,f)}:function(s,u,l,c){c===void 0&&(c=l),s[c]=u[l]}),i=this&&this.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),a=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&n(u,s,l);return i(u,s),u},o=this&&this.__exportStar||function(s,u){for(var l in s)l==="default"||Object.prototype.hasOwnProperty.call(u,l)||n(u,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=a(t(4455)),e.bolt=a(t(7666)),e.buf=a(t(7174)),e.channel=a(t(7452)),e.packstream=a(t(7168)),o(t(9689),e)},6492:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reuseOngoingRequest=e.identity=void 0;var n=t(9305);e.identity=function(i){return i},e.reuseOngoingRequest=function(i,a){a===void 0&&(a=null);var o=new Map;return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var l=n.json.stringify(s);if(o.has(l))return o.get(l);var c=i.apply(a,s);return o.set(l,c),c.finally(function(){o.delete(l)})}}},6781:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(o,s,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(s,u);c&&!("get"in c?!s.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,l,c)}:function(o,s,u,l){l===void 0&&(l=u),o[l]=s[u]}),i=this&&this.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),a=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&n(s,o,u);return i(s,o),s};Object.defineProperty(e,"__esModule",{value:!0}),e.object=e.functional=void 0,e.functional=a(t(6492)),e.object=a(t(6702))},6702:function(r,e){var t=this&&this.__values||function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.equals=void 0,e.equals=function(n,i){var a,o;if(n===i)return!0;if(n===null||i===null)return!1;if(typeof n=="object"&&typeof i=="object"){var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;try{for(var l=t(s),c=l.next();!c.done;c=l.next()){var f=c.value;if(n[f]!==i[f])return!1}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return!0}return!1}},4455:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.LeastConnectedLoadBalancingStrategy=e.LoadBalancingStrategy=void 0;var i=n(t(4311));e.LoadBalancingStrategy=i.default;var a=n(t(2533));e.LeastConnectedLoadBalancingStrategy=a.default,e.default=a.default},2533:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(715)),s=function(u){function l(c){var f=u.call(this)||this;return f._readersIndex=new o.default,f._writersIndex=new o.default,f._connectionPool=c,f}return i(l,u),l.prototype.selectReader=function(c){return this._select(c,this._readersIndex)},l.prototype.selectWriter=function(c){return this._select(c,this._writersIndex)},l.prototype._select=function(c,f){var h=c.length;if(h===0)return null;var d=f.next(h),v=d,y=null,w=Number.MAX_SAFE_INTEGER;do{var b=c[v],g=this._connectionPool.activeResourceCount(b);g<w&&(y=b,w=g),v===h-1?v=0:v++}while(v!==d);return y},l}(a(t(4311)).default);e.default=s},4311:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.selectReader=function(i){throw new Error("Abstract function")},n.prototype.selectWriter=function(i){throw new Error("Abstract function")},n}();e.default=t},715:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){this._offset=i||0}return n.prototype.next=function(i){if(i===0)return-1;var a=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),a%i},n}();e.default=t},7168:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.structure=e.v2=e.v1=void 0;var o=a(t(5361));e.v1=o;var s=a(t(2072));e.v2=s;var u=a(t(7665));e.structure=u,e.default=s},5361:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var n=t(7452),i=t(6781),a=t(7665),o=t(9305),s=o.error.PROTOCOL_ERROR,u=function(){function c(f){this._ch=f,this._byteArraysSupported=!0}return c.prototype.packable=function(f,h){var d,v=this;h===void 0&&(h=i.functional.identity);try{f=h(f)}catch(b){return function(){throw b}}if(f===null)return function(){return v._ch.writeUInt8(192)};if(f===!0)return function(){return v._ch.writeUInt8(195)};if(f===!1)return function(){return v._ch.writeUInt8(194)};if(typeof f=="number")return function(){return v.packFloat(f)};if(typeof f=="string")return function(){return v.packString(f)};if(typeof f=="bigint")return function(){return v.packInteger((0,o.int)(f))};if((0,o.isInt)(f))return function(){return v.packInteger(f)};if(f instanceof Int8Array)return function(){return v.packBytes(f)};if(f instanceof Array)return function(){v.packListHeader(f.length);for(var b=0;b<f.length;b++)v.packable(f[b]===void 0?null:f[b],h)()};if((d=f)!=null&&typeof d[Symbol.iterator]=="function")return this.packableIterable(f,h);if(f instanceof a.Structure){for(var y=[],w=0;w<f.fields.length;w++)y[w]=this.packable(f.fields[w],h);return function(){return v.packStruct(f.signature,y)}}return typeof f=="object"?function(){for(var b=Object.keys(f),g=0,_=0;_<b.length;_++)f[b[_]]!==void 0&&g++;for(v.packMapHeader(g),_=0;_<b.length;_++){var x=b[_];f[x]!==void 0&&(v.packString(x),v.packable(f[x],h)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(f))},c.prototype.packableIterable=function(f,h){try{var d=Array.from(f);return this.packable(d,h)}catch(v){throw(0,o.newError)("Cannot pack given iterable, ".concat(v.message,": ").concat(f))}},c.prototype.packStruct=function(f,h){h=h||[],this.packStructHeader(h.length,f);for(var d=0;d<h.length;d++)h[d]()},c.prototype.packInteger=function(f){var h=f.high,d=f.low;f.greaterThanOrEqual(-16)&&f.lessThan(128)?this._ch.writeInt8(d):f.greaterThanOrEqual(-128)&&f.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(d)):f.greaterThanOrEqual(-32768)&&f.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(d)):f.greaterThanOrEqual(-2147483648)&&f.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(d)):(this._ch.writeUInt8(203),this._ch.writeInt32(h),this._ch.writeInt32(d))},c.prototype.packFloat=function(f){this._ch.writeUInt8(193),this._ch.writeFloat64(f)},c.prototype.packString=function(f){var h=n.utf8.encode(f),d=h.length;if(d<16)this._ch.writeUInt8(128|d),this._ch.writeBytes(h);else if(d<256)this._ch.writeUInt8(208),this._ch.writeUInt8(d),this._ch.writeBytes(h);else if(d<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(d/256>>0),this._ch.writeUInt8(d%256),this._ch.writeBytes(h);else{if(!(d<4294967296))throw(0,o.newError)("UTF-8 strings of size "+d+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((d/16777216>>0)%256),this._ch.writeUInt8((d/65536>>0)%256),this._ch.writeUInt8((d/256>>0)%256),this._ch.writeUInt8(d%256),this._ch.writeBytes(h)}},c.prototype.packListHeader=function(f){if(f<16)this._ch.writeUInt8(144|f);else if(f<256)this._ch.writeUInt8(212),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Lists of size "+f+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packBytes=function(f){if(!this._byteArraysSupported)throw(0,o.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(f.length);for(var h=0;h<f.length;h++)this._ch.writeInt8(f[h])},c.prototype.packBytesHeader=function(f){if(f<256)this._ch.writeUInt8(204),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Byte arrays of size "+f+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packMapHeader=function(f){if(f<16)this._ch.writeUInt8(160|f);else if(f<256)this._ch.writeUInt8(216),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(f/256>>0),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Maps of size "+f+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packStructHeader=function(f,h){if(f<16)this._ch.writeUInt8(176|f),this._ch.writeUInt8(h);else if(f<256)this._ch.writeUInt8(220),this._ch.writeUInt8(f),this._ch.writeUInt8(h);else{if(!(f<65536))throw(0,o.newError)("Structures of size "+f+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(f/256>>0),this._ch.writeUInt8(f%256)}},c.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},c.prototype._nonPackableValue=function(f){return function(){throw(0,o.newError)(f,s)}},c}();e.Packer=u;var l=function(){function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=!1),this._disableLosslessIntegers=f,this._useBigInt=h}return c.prototype.unpack=function(f,h){h===void 0&&(h=i.functional.identity);var d=f.readUInt8(),v=240&d,y=15&d;if(d===192)return null;var w=this._unpackBoolean(d);if(w!==null)return w;var b=this._unpackNumberOrInteger(d,f);if(b!==null){if((0,o.isInt)(b)){if(this._useBigInt)return b.toBigInt();if(this._disableLosslessIntegers)return b.toNumberOrInfinity()}return b}var g=this._unpackString(d,v,y,f);if(g!==null)return g;var _=this._unpackList(d,v,y,f,h);if(_!==null)return _;var x=this._unpackByteArray(d,f);if(x!==null)return x;var P=this._unpackMap(d,v,y,f,h);if(P!==null)return P;var I=this._unpackStruct(d,v,y,f,h);if(I!==null)return I;throw(0,o.newError)("Unknown packed value with marker "+d.toString(16))},c.prototype.unpackInteger=function(f){var h=f.readUInt8(),d=this._unpackInteger(h,f);if(d==null)throw(0,o.newError)("Unable to unpack integer value with marker "+h.toString(16));return d},c.prototype._unpackBoolean=function(f){return f===195||f!==194&&null},c.prototype._unpackNumberOrInteger=function(f,h){return f===193?h.readFloat64():this._unpackInteger(f,h)},c.prototype._unpackInteger=function(f,h){if(f>=0&&f<128)return(0,o.int)(f);if(f>=240&&f<256)return(0,o.int)(f-256);if(f===200)return(0,o.int)(h.readInt8());if(f===201)return(0,o.int)(h.readInt16());if(f===202){var d=h.readInt32();return(0,o.int)(d)}if(f===203){var v=h.readInt32(),y=h.readInt32();return new o.Integer(y,v)}return null},c.prototype._unpackString=function(f,h,d,v){return h===128?n.utf8.decode(v,d):f===208?n.utf8.decode(v,v.readUInt8()):f===209?n.utf8.decode(v,v.readUInt16()):f===210?n.utf8.decode(v,v.readUInt32()):null},c.prototype._unpackList=function(f,h,d,v,y){return h===144?this._unpackListWithSize(d,v,y):f===212?this._unpackListWithSize(v.readUInt8(),v,y):f===213?this._unpackListWithSize(v.readUInt16(),v,y):f===214?this._unpackListWithSize(v.readUInt32(),v,y):null},c.prototype._unpackListWithSize=function(f,h,d){for(var v=[],y=0;y<f;y++)v.push(this.unpack(h,d));return v},c.prototype._unpackByteArray=function(f,h){return f===204?this._unpackByteArrayWithSize(h.readUInt8(),h):f===205?this._unpackByteArrayWithSize(h.readUInt16(),h):f===206?this._unpackByteArrayWithSize(h.readUInt32(),h):null},c.prototype._unpackByteArrayWithSize=function(f,h){for(var d=new Int8Array(f),v=0;v<f;v++)d[v]=h.readInt8();return d},c.prototype._unpackMap=function(f,h,d,v,y){return h===160?this._unpackMapWithSize(d,v,y):f===216?this._unpackMapWithSize(v.readUInt8(),v,y):f===217?this._unpackMapWithSize(v.readUInt16(),v,y):f===218?this._unpackMapWithSize(v.readUInt32(),v,y):null},c.prototype._unpackMapWithSize=function(f,h,d){for(var v={},y=0;y<f;y++)v[this.unpack(h,d)]=this.unpack(h,d);return v},c.prototype._unpackStruct=function(f,h,d,v,y){return h===176?this._unpackStructWithSize(d,v,y):f===220?this._unpackStructWithSize(v.readUInt8(),v,y):f===221?this._unpackStructWithSize(v.readUInt16(),v,y):null},c.prototype._unpackStructWithSize=function(f,h,d){for(var v=h.readUInt8(),y=new a.Structure(v,[]),w=0;w<f;w++)y.fields.push(this.unpack(h,d));return d(y)},c}();e.Unpacker=l},2072:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,h){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},n(f,h)},function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}n(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}),a=this&&this.__createBinding||(Object.create?function(f,h,d,v){v===void 0&&(v=d);var y=Object.getOwnPropertyDescriptor(h,d);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,v,y)}:function(f,h,d,v){v===void 0&&(v=d),f[v]=h[d]}),o=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),s=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&a(h,f,d);return o(h,f),h};Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var u=s(t(5361)),l=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return i(h,f),h.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},h}(u.Packer);e.Packer=l;var c=function(f){function h(d,v){return d===void 0&&(d=!1),v===void 0&&(v=!1),f.call(this,d,v)||this}return i(h,f),h}(u.Unpacker);e.Unpacker=c},7665:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.verifyStructSize=e.Structure=void 0;var n=t(9305),i=n.error.PROTOCOL_ERROR,a=function(){function o(s,u){this.signature=s,this.fields=u}return Object.defineProperty(o.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),o.prototype.toString=function(){for(var s="",u=0;u<this.fields.length;u++)u>0&&(s+=", "),s+=this.fields[u];return"Structure("+this.signature+", ["+s+"])"},o}();e.Structure=a,e.verifyStructSize=function(o,s,u){if(s!==u)throw(0,n.newError)("Wrong struct size for ".concat(o,", expected ").concat(s," but was ").concat(u),i)},e.default=a},206:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingTable=e.Rediscovery=void 0;var i=n(t(4151));e.Rediscovery=i.default;var a=n(t(9018));e.RoutingTable=a.default,e.default=i.default},4151:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(9018)),a=(t(9305),function(){function o(s){this._routingContext=s}return o.prototype.lookupRoutingTableOnRouter=function(s,u,l,c){var f=this;return s._acquireConnection(function(h){return f._requestRawRoutingTable(h,s,u,l,c).then(function(d){return d.isNull?null:i.default.fromRawRoutingTable(u,l,d)})})},o.prototype._requestRawRoutingTable=function(s,u,l,c,f){var h=this;return new Promise(function(d,v){s.protocol().requestRoutingInformation({routingContext:h._routingContext,databaseName:l,impersonatedUser:f,sessionContext:{bookmarks:u._lastBookmarks,mode:u._mode,database:u._database,afterComplete:u._onComplete},onCompleted:d,onError:v})})},o}());e.default=a},9018:function(r,e,t){var n=this&&this.__read||function(w,b){var g=typeof Symbol=="function"&&w[Symbol.iterator];if(!g)return w;var _,x,P=g.call(w),I=[];try{for(;(b===void 0||b-- >0)&&!(_=P.next()).done;)I.push(_.value)}catch(T){x={error:T}}finally{try{_&&!_.done&&(g=P.return)&&g.call(P)}finally{if(x)throw x.error}}return I},i=this&&this.__spreadArray||function(w,b,g){if(g||arguments.length===2)for(var _,x=0,P=b.length;x<P;x++)!_&&x in b||(_||(_=Array.prototype.slice.call(b,0,x)),_[x]=b[x]);return w.concat(_||Array.prototype.slice.call(b))};Object.defineProperty(e,"__esModule",{value:!0}),e.createValidRoutingTable=void 0;var a=t(9305),o=a.internal.constants,s=o.ACCESS_MODE_WRITE,u=o.ACCESS_MODE_READ,l=a.internal.serverAddress.ServerAddress,c=a.error.PROTOCOL_ERROR,f=function(){function w(b){var g=b===void 0?{}:b,_=g.database,x=g.routers,P=g.readers,I=g.writers,T=g.expirationTime,A=g.ttl;this.database=_||null,this.databaseName=_||"default database",this.routers=x||[],this.readers=P||[],this.writers=I||[],this.expirationTime=T||(0,a.int)(0),this.ttl=A}return w.fromRawRoutingTable=function(b,g,_){return d(b,g,_)},w.prototype.forget=function(b){this.readers=h(this.readers,b),this.writers=h(this.writers,b)},w.prototype.forgetRouter=function(b){this.routers=h(this.routers,b)},w.prototype.forgetWriter=function(b){this.writers=h(this.writers,b)},w.prototype.isStaleFor=function(b){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||b===u&&this.readers.length===0||b===s&&this.writers.length===0},w.prototype.isExpiredFor=function(b){return this.expirationTime.add(b).lessThan(Date.now())},w.prototype.allServers=function(){return i(i(i([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},w.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},w}();function h(w,b){return w.filter(function(g){return g.asKey()!==b.asKey()})}function d(w,b,g){var _=g.ttl,x=function(D,N){try{var j=(0,a.int)(Date.now()),B=(0,a.int)(D.ttl).multiply(1e3).add(j);return B.lessThan(j)?a.Integer.MAX_VALUE:B}catch(W){throw(0,a.newError)("Unable to parse TTL entry from router ".concat(N,` from raw routing table:
`).concat(a.json.stringify(D),`
Error message: `).concat(W.message),c)}}(g,b),P=function(D,N){try{var j=[],B=[],W=[];return D.servers.forEach(function(V){var J=V.role,ee=V.addresses;J==="ROUTE"?j=y(ee).map(function(te){return l.fromUrl(te)}):J==="WRITE"?W=y(ee).map(function(te){return l.fromUrl(te)}):J==="READ"&&(B=y(ee).map(function(te){return l.fromUrl(te)}))}),{routers:j,readers:B,writers:W}}catch(V){throw(0,a.newError)("Unable to parse servers entry from router ".concat(N,` from addresses:
`).concat(a.json.stringify(D.servers),`
Error message: `).concat(V.message),c)}}(g,b),I=P.routers,T=P.readers,A=P.writers;return v(I,"routers",b),v(T,"readers",b),new f({database:w||g.db,routers:I,readers:T,writers:A,expirationTime:x,ttl:_})}function v(w,b,g){if(w.length===0)throw(0,a.newError)("Received no "+b+" from router "+g,c)}function y(w){if(!Array.isArray(w))throw new TypeError("Array expected but got: "+w);return Array.from(w)}e.default=f,e.createValidRoutingTable=d},2069:function(r,e,t){var n=this&&this.__awaiter||function(d,v,y,w){return new(y||(y=Promise))(function(b,g){function _(I){try{P(w.next(I))}catch(T){g(T)}}function x(I){try{P(w.throw(I))}catch(T){g(T)}}function P(I){var T;I.done?b(I.value):(T=I.value,T instanceof y?T:new y(function(A){A(T)})).then(_,x)}P((w=w.apply(d,v||[])).next())})},i=this&&this.__generator||function(d,v){var y,w,b,g,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(P){return function(I){return function(T){if(y)throw new TypeError("Generator is already executing.");for(;g&&(g=0,T[0]&&(_=0)),_;)try{if(y=1,w&&(b=2&T[0]?w.return:T[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,T[1])).done)return b;switch(w=0,b&&(T=[2&T[0],b.value]),T[0]){case 0:case 1:b=T;break;case 4:return _.label++,{value:T[1],done:!1};case 5:_.label++,w=T[1],T=[0];continue;case 7:T=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||T[0]!==6&&T[0]!==2)){_=0;continue}if(T[0]===3&&(!b||T[1]>b[0]&&T[1]<b[3])){_.label=T[1];break}if(T[0]===6&&_.label<b[1]){_.label=b[1],b=T;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(T);break}b[2]&&_.ops.pop(),_.trys.pop();continue}T=v.call(d,_)}catch(A){T=[6,A],w=0}finally{y=b=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([P,I])}}},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.staticAuthTokenManager=e.authTokenManagers=e.AuthTokenAndExpiration=void 0;var o=a(t(1967)),s=t(6995),u=function(){function d(){}return d.prototype.getToken=function(){throw new Error("Not Implemented")},d.prototype.handleSecurityException=function(v,y){throw new Error("Not implemented")},d}();e.default=u,e.AuthTokenAndExpiration=function(){this.token=o.default.none(),this.expiration=void 0};var l=new(function(){function d(){}return d.prototype.bearer=function(v){var y=v.tokenProvider;if(typeof y!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof y));return new f(y,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},d.prototype.basic=function(v){var y=this,w=v.tokenProvider;if(typeof w!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof w));return new f(function(){return n(y,void 0,void 0,function(){var b;return i(this,function(g){switch(g.label){case 0:return b={},[4,w()];case 1:return[2,(b.token=g.sent(),b)]}})})},["Neo.ClientError.Security.Unauthorized"])},d}());e.authTokenManagers=l,Object.freeze(l),e.staticAuthTokenManager=function(d){var v=d.authToken;return new h(v)};var c=function(){function d(v){v===void 0&&(v=[]),this._subscribers=v}return d.prototype.subscribe=function(v){this._subscribers.push(v)},d.prototype.onCompleted=function(v){this._subscribers.forEach(function(y){return y.onCompleted(v)})},d.prototype.onError=function(v){this._subscribers.forEach(function(y){return y.onError(v)})},d}(),f=function(){function d(v,y,w,b){this._tokenProvider=v,this._handledSecurityCodes=y,this._currentAuthData=w,this._refreshObservable=b}return d.prototype.getToken=function(){var v;return n(this,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return this._currentAuthData===void 0||this._currentAuthData.expiration!==void 0&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2,(v=this._currentAuthData)===null||v===void 0?void 0:v.token]}})})},d.prototype.handleSecurityException=function(v,y){var w;return!!this._handledSecurityCodes.includes(y)&&(s.util.equals(v,(w=this._currentAuthData)===null||w===void 0?void 0:w.token)&&this._scheduleRefreshAuthToken(),!0)},d.prototype._scheduleRefreshAuthToken=function(v){var y=this;this._refreshObservable===void 0&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(w){var b;y._currentAuthData=w,(b=y._refreshObservable)===null||b===void 0||b.onCompleted(w)}).catch(function(w){var b;(b=y._refreshObservable)===null||b===void 0||b.onError(w)}).finally(function(){y._refreshObservable=void 0})),v!==void 0&&this._refreshObservable.subscribe(v)},d.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,function(){var v=this;return i(this,function(y){switch(y.label){case 0:return[4,new Promise(function(w,b){v._scheduleRefreshAuthToken({onCompleted:w,onError:b})})];case 1:return[2,y.sent()]}})})},d}(),h=function(){function d(v){this._authToken=v}return d.prototype.getToken=function(){return this._authToken},d.prototype.handleSecurityException=function(v,y){return!1},d}()},1967:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t={basic:function(i,a,o){return o!=null?{scheme:"basic",principal:i,credentials:a,realm:o}:{scheme:"basic",principal:i,credentials:a}},kerberos:function(i){return{scheme:"kerberos",principal:"",credentials:i}},bearer:function(i){return{scheme:"bearer",credentials:i}},none:function(){return{scheme:"none"}},custom:function(i,a,o,s,u){var l={scheme:s,principal:i};return n(a)&&(l.credentials=a),n(o)&&(l.realm=o),n(u)&&(l.parameters=u),l}};function n(i){return!(i==null||i===""||Object.getPrototypeOf(i)===Object.prototype&&Object.keys(i).length===0)}e.default=t},6755:function(r,e){var t=this&&this.__awaiter||function(l,c,f,h){return new(f||(f=Promise))(function(d,v){function y(g){try{b(h.next(g))}catch(_){v(_)}}function w(g){try{b(h.throw(g))}catch(_){v(_)}}function b(g){var _;g.done?d(g.value):(_=g.value,_ instanceof f?_:new f(function(x){x(_)})).then(y,w)}b((h=h.apply(l,c||[])).next())})},n=this&&this.__generator||function(l,c){var f,h,d,v,y={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(b){return function(g){return function(_){if(f)throw new TypeError("Generator is already executing.");for(;v&&(v=0,_[0]&&(y=0)),y;)try{if(f=1,h&&(d=2&_[0]?h.return:_[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,_[1])).done)return d;switch(h=0,d&&(_=[2&_[0],d.value]),_[0]){case 0:case 1:d=_;break;case 4:return y.label++,{value:_[1],done:!1};case 5:y.label++,h=_[1],_=[0];continue;case 7:_=y.ops.pop(),y.trys.pop();continue;default:if(!((d=(d=y.trys).length>0&&d[d.length-1])||_[0]!==6&&_[0]!==2)){y=0;continue}if(_[0]===3&&(!d||_[1]>d[0]&&_[1]<d[3])){y.label=_[1];break}if(_[0]===6&&y.label<d[1]){y.label=d[1],d=_;break}if(d&&y.label<d[2]){y.label=d[2],y.ops.push(_);break}d[2]&&y.ops.pop(),y.trys.pop();continue}_=c.call(l,y)}catch(x){_=[6,x],h=0}finally{f=d=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([b,g])}}},i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,f=c&&l[c],h=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,d,v=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=v.next()).done;)y.push(h.value)}catch(w){d={error:w}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(d)throw d.error}}return y},o=this&&this.__spreadArray||function(l,c,f){if(f||arguments.length===2)for(var h,d=0,v=c.length;d<v;d++)!h&&d in c||(h||(h=Array.prototype.slice.call(c,0,d)),h[d]=c[d]);return l.concat(h||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.bookmarkManager=void 0;var s=function(){function l(){throw new Error("Not implemented")}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){return n(this,function(h){throw new Error("Not implemented")})})},l.prototype.getBookmarks=function(){return t(this,void 0,void 0,function(){return n(this,function(c){throw new Error("Not implemented")})})},l}();e.default=s,e.bookmarkManager=function(l){l===void 0&&(l={});var c=new Set(l.initialBookmarks);return new u(c,l.bookmarksSupplier,l.bookmarksConsumer)};var u=function(){function l(c,f,h){this._bookmarks=c,this._bookmarksSupplier=f,this._bookmarksConsumer=h}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){var h,d,v,y,w,b,g,_,x,P;return n(this,function(I){switch(I.label){case 0:h=this._bookmarks;try{for(d=i(c),v=d.next();!v.done;v=d.next())b=v.value,h.delete(b)}catch(T){g={error:T}}finally{try{v&&!v.done&&(_=d.return)&&_.call(d)}finally{if(g)throw g.error}}try{for(y=i(f),w=y.next();!w.done;w=y.next())b=w.value,h.add(b)}catch(T){x={error:T}}finally{try{w&&!w.done&&(P=y.return)&&P.call(y)}finally{if(x)throw x.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(o([],a(h),!1))];case 1:I.sent(),I.label=2;case 2:return[2]}})})},l.prototype.getBookmarks=function(){var c;return t(this,void 0,void 0,function(){var f,h,d,v,y,w,b;return n(this,function(g){switch(g.label){case 0:return f=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:h=(c=g.sent())!==null&&c!==void 0?c:[];try{for(d=i(h),v=d.next();!v.done;v=d.next())y=v.value,f.add(y)}catch(_){w={error:_}}finally{try{v&&!v.done&&(b=d.return)&&b.call(d)}finally{if(w)throw w.error}}g.label=2;case 2:return[2,o([],a(f),!1)]}})})},l}()},8264:function(r,e,t){var n,i=this&&this.__extends||(n=function(g,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,P){x.__proto__=P}||function(x,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(x[I]=P[I])},n(g,_)},function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function x(){this.constructor=g}n(g,_),g.prototype=_===null?Object.create(_):(x.prototype=_.prototype,new x)}),a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var _,x=1,P=arguments.length;x<P;x++)for(var I in _=arguments[x])Object.prototype.hasOwnProperty.call(_,I)&&(g[I]=_[I]);return g},a.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(g,_,x,P){P===void 0&&(P=x);var I=Object.getOwnPropertyDescriptor(_,x);I&&!("get"in I?!_.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(g,P,I)}:function(g,_,x,P){P===void 0&&(P=x),g[P]=_[x]}),s=this&&this.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),u=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&o(_,g,x);return s(_,g),_};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveCertificateProvider=e.clientCertificateProviders=e.RotatingClientCertificateProvider=e.ClientCertificateProvider=void 0;var l=u(t(4027));e.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var c=function(){function g(){}return g.prototype.hasUpdate=function(){throw new Error("Not Implemented")},g.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},g}();e.ClientCertificateProvider=c;var f=function(g){function _(){return g!==null&&g.apply(this,arguments)||this}return i(_,g),_.prototype.updateCertificate=function(x){throw new Error("Not implemented")},_}(c);e.RotatingClientCertificateProvider=f;var h=new(function(){function g(){}return g.prototype.rotating=function(_){var x=_.initialCertificate;if(x==null||!d(x))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(l.stringify(x)));var P=a({},x);return new b(P)},g}());function d(g){return g!=null&&typeof g=="object"&&"certfile"in g&&(v(_=g.certfile)||y(_,v))&&"keyfile"in g&&function(x){function P(I){return typeof I=="string"||I!=null&&typeof I=="object"&&"path"in I&&typeof I.path=="string"&&w("password",I)}return P(x)||y(x,P)}(g.keyfile)&&w("password",g);var _}function v(g){return typeof g=="string"}function y(g,_,x){return x===void 0&&(x=!1),Array.isArray(g)&&(x||g.length>0)&&g.filter(_).length===g.length}function w(g,_){return!(g in _)||_[g]==null||typeof _[g]=="string"}e.clientCertificateProviders=h,Object.freeze(h),e.resolveCertificateProvider=function(g){if(g!=null){if(typeof g=="object"&&"hasUpdate"in g&&"getClientCertificate"in g&&typeof g.getClientCertificate=="function"&&typeof g.hasUpdate=="function")return g;if(d(g)){var _=a({},g);return{getClientCertificate:function(){return _},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(l.stringify(g)))}};var b=function(){function g(_,x){x===void 0&&(x=!1),this._certificate=_,this._updated=x}return g.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},g.prototype.getClientCertificate=function(){return this._certificate},g.prototype.updateCertificate=function(_){if(!d(_))throw new TypeError("certificate should be ClientCertificate, but got ".concat(l.stringify(_)));this._certificate=a({},_),this._updated=!0},g}()},2007:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Releasable=void 0;var t=function(){function i(){}return i.prototype.release=function(){throw new Error("Not implemented")},i}();e.Releasable=t;var n=function(){function i(){}return i.prototype.acquireConnection=function(a){throw Error("Not implemented")},i.prototype.supportsMultiDb=function(){throw Error("Not implemented")},i.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},i.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},i.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},i.prototype.verifyConnectivityAndGetServerInfo=function(a){throw Error("Not implemented")},i.prototype.verifyAuthentication=function(a){throw Error("Not implemented")},i.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},i.prototype.close=function(){throw Error("Not implemented")},i}();e.default=n},1409:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.beginTransaction=function(i){throw new Error("Not implemented")},n.prototype.run=function(i,a,o){throw new Error("Not implemented")},n.prototype.commitTransaction=function(i){throw new Error("Not implemented")},n.prototype.rollbackTransaction=function(i){throw new Error("Not implemented")},n.prototype.resetAndFlush=function(){throw new Error("Not implemented")},n.prototype.isOpen=function(){throw new Error("Not implemented")},n.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},n.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},n}();e.default=t},7264:function(r,e,t){var n=this&&this.__awaiter||function(T,A,D,N){return new(D||(D=Promise))(function(j,B){function W(ee){try{J(N.next(ee))}catch(te){B(te)}}function V(ee){try{J(N.throw(ee))}catch(te){B(te)}}function J(ee){var te;ee.done?j(ee.value):(te=ee.value,te instanceof D?te:new D(function(re){re(te)})).then(W,V)}J((N=N.apply(T,A||[])).next())})},i=this&&this.__generator||function(T,A){var D,N,j,B,W={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return B={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function V(J){return function(ee){return function(te){if(D)throw new TypeError("Generator is already executing.");for(;B&&(B=0,te[0]&&(W=0)),W;)try{if(D=1,N&&(j=2&te[0]?N.return:te[0]?N.throw||((j=N.return)&&j.call(N),0):N.next)&&!(j=j.call(N,te[1])).done)return j;switch(N=0,j&&(te=[2&te[0],j.value]),te[0]){case 0:case 1:j=te;break;case 4:return W.label++,{value:te[1],done:!1};case 5:W.label++,N=te[1],te=[0];continue;case 7:te=W.ops.pop(),W.trys.pop();continue;default:if(!((j=(j=W.trys).length>0&&j[j.length-1])||te[0]!==6&&te[0]!==2)){W=0;continue}if(te[0]===3&&(!j||te[1]>j[0]&&te[1]<j[3])){W.label=te[1];break}if(te[0]===6&&W.label<j[1]){W.label=j[1],j=te;break}if(j&&W.label<j[2]){W.label=j[2],W.ops.push(te);break}j[2]&&W.ops.pop(),W.trys.pop();continue}te=A.call(T,W)}catch(re){te=[6,re],N=0}finally{D=j=0}if(5&te[0])throw te[1];return{value:te[0]?te[1]:void 0,done:!0}}([J,ee])}}},a=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryConfig=e.SessionConfig=e.routing=e.WRITE=e.READ=e.Driver=void 0;var o=t(9730),s=a(t(8341)),u=t(326),l=t(4883),c=a(t(5481)),f=t(6587),h=t(6755),d=a(t(1573)),v=a(t(7041)),y=t(9691),w=u.ACCESS_MODE_READ;e.READ=w;var b=u.ACCESS_MODE_WRITE;e.WRITE=b;var g=0;e.SessionConfig=function(){this.defaultAccessMode=b,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var _={WRITE:"WRITE",READ:"READ"};e.routing=_,Object.freeze(_),e.QueryConfig=function(){this.routing=_.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var x=function(){function T(A,D,N,j,B){D===void 0&&(D={}),j===void 0&&(j=function(V){return new c.default(V)}),B===void 0&&(B=function(V){return new v.default(V)}),function(V){V.maxConnectionLifetime=P(V.maxConnectionLifetime,36e5),V.maxConnectionPoolSize=P(V.maxConnectionPoolSize,u.DEFAULT_POOL_MAX_SIZE),V.connectionAcquisitionTimeout=P(V.connectionAcquisitionTimeout,u.DEFAULT_POOL_ACQUISITION_TIMEOUT),V.fetchSize=I(V.fetchSize,1e3),V.connectionTimeout=function(J){var ee=parseInt(J.connectionTimeout,10);return ee===0||!isNaN(ee)&&ee<0?null:isNaN(ee)?u.DEFAULT_CONNECTION_TIMEOUT_MILLIS:ee}(V),V.connectionLivenessCheckTimeout=function(J){if(J!=null){var ee=parseInt(J,10);if(ee<0||Number.isNaN(ee))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(ee));return ee}}(V.connectionLivenessCheckTimeout)}(D);var W=l.Logger.create(D);(function(V,J){var ee,te,re=V.resolver;if(re!=null&&typeof re!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof re));if(V.connectionAcquisitionTimeout<V.connectionTimeout&&J.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),((ee=V.notificationFilter)===null||ee===void 0?void 0:ee.disabledCategories)!=null&&((te=V.notificationFilter)===null||te===void 0?void 0:te.disabledClassifications)!=null)throw new Error(`The notificationFilter can't have both "disabledCategories" and  "disabledClassifications" configured at the same time.`)})(D,W),this._id=g++,this._meta=A,this._config=D,this._log=W,this._createConnectionProvider=N,this._createSession=j,this._defaultExecuteQueryBookmarkManager=(0,h.bookmarkManager)(),this._queryExecutor=B(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(T.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),T.prototype.executeQuery=function(A,D,N){var j,B,W;return N===void 0&&(N={}),n(this,void 0,void 0,function(){var V,J,ee;return i(this,function(te){switch(te.label){case 0:if(V=N.bookmarkManager===null?void 0:(j=N.bookmarkManager)!==null&&j!==void 0?j:this.executeQueryBookmarkManager,J=(B=N.resultTransformer)!==null&&B!==void 0?B:d.default.eagerResultTransformer(),(ee=(W=N.routing)!==null&&W!==void 0?W:_.WRITE)!==_.READ&&ee!==_.WRITE)throw(0,y.newError)('Illegal query routing config: "'.concat(ee,'"'));return[4,this._queryExecutor.execute({resultTransformer:J,bookmarkManager:V,routing:ee,database:N.database,impersonatedUser:N.impersonatedUser,transactionConfig:N.transactionConfig,auth:N.auth,signal:N.signal},A,D)];case 1:return[2,te.sent()]}})})},T.prototype.verifyConnectivity=function(A){var D=(A===void 0?{}:A).database,N=D===void 0?"":D;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:N,accessMode:w})},T.prototype.verifyAuthentication=function(A){var D=A===void 0?{}:A,N=D.database,j=D.auth;return n(this,void 0,void 0,function(){return i(this,function(B){switch(B.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:N??"system",auth:j,accessMode:w})];case 1:return[2,B.sent()]}})})},T.prototype.getServerInfo=function(A){var D=(A===void 0?{}:A).database,N=D===void 0?"":D;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:N,accessMode:w})},T.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},T.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},T.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},T.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},T.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},T.prototype.isEncrypted=function(){return this._isEncrypted()},T.prototype._supportsRouting=function(){return this._meta.routing},T.prototype._isEncrypted=function(){return this._config.encrypted===f.ENCRYPTION_ON||this._config.encrypted===!0},T.prototype._getTrust=function(){return this._config.trust},T.prototype.session=function(A){var D=A===void 0?{}:A,N=D.defaultAccessMode,j=N===void 0?b:N,B=D.bookmarks,W=D.database,V=W===void 0?"":W,J=D.impersonatedUser,ee=D.fetchSize,te=D.bookmarkManager,re=D.notificationFilter,de=D.auth;return this._newSession({defaultAccessMode:j,bookmarkOrBookmarks:B,database:V,reactive:!1,impersonatedUser:J,fetchSize:I(ee,this._config.fetchSize),bookmarkManager:te,notificationFilter:re,auth:de})},T.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},T.prototype[Symbol.asyncDispose]=function(){return this.close()},T.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},T.prototype._newSession=function(A){var D=A.defaultAccessMode,N=A.bookmarkOrBookmarks,j=A.database,B=A.reactive,W=A.impersonatedUser,V=A.fetchSize,J=A.bookmarkManager,ee=A.notificationFilter,te=A.auth,re=c.default._validateSessionMode(D),de=this._getOrCreateConnectionProvider(),pe=N!=null?new o.Bookmarks(N):o.Bookmarks.empty();return this._createSession({mode:re,database:j??"",connectionProvider:de,bookmarks:pe,config:this._config,reactive:B,impersonatedUser:W,fetchSize:V,bookmarkManager:J,notificationFilter:ee,auth:te,log:this._log})},T.prototype._getOrCreateConnectionProvider=function(){var A;return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(A=this._config,new s.default(A.resolver)))),this._connectionProvider},T}();function P(T,A){var D=parseInt(T,10);return D>0||D===0?D:D<0?Number.MAX_SAFE_INTEGER:A}function I(T,A){var D=parseInt(T,10);if(D>0||D===u.FETCH_ALL)return D;if(D===0||D<0)throw new Error("The fetch size can only be a positive value or ".concat(u.FETCH_ALL," for ALL. However fetchSize = ").concat(D));return A}e.Driver=x,e.default=x},9691:function(r,e,t){var n,i=this&&this.__extends||(n=function(b,g){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(_[P]=x[P])},n(b,g)},function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function _(){this.constructor=b}n(b,g),b.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}),a=this&&this.__createBinding||(Object.create?function(b,g,_,x){x===void 0&&(x=_);var P=Object.getOwnPropertyDescriptor(g,_);P&&!("get"in P?!g.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(b,x,P)}:function(b,g,_,x){x===void 0&&(x=_),b[x]=g[_]}),o=this&&this.__setModuleDefault||(Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g}),s=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var _ in b)_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)&&a(g,b,_);return o(g,b),g};Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.GQLError=e.Neo4jError=e.isRetriableError=e.newGQLError=e.newError=void 0;var u=s(t(4027)),l=t(1053),c={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(c);var f=Object.values(c),h="ServiceUnavailable";e.SERVICE_UNAVAILABLE=h;var d="SessionExpired";e.SESSION_EXPIRED=d,e.PROTOCOL_ERROR="ProtocolError";var v=function(b){function g(_,x,P,I,T){var A,D=this;return(D=b.call(this,_,T!=null?{cause:T}:void 0)||this).constructor=g,D.__proto__=g.prototype,D.cause=T??void 0,D.gqlStatus=x,D.gqlStatusDescription=P,D.diagnosticRecord=I,D.classification=function(N){return N===void 0||N._classification===void 0?"UNKNOWN":f.includes(N._classification)?N==null?void 0:N._classification:"UNKNOWN"}(D.diagnosticRecord),D.rawClassification=(A=I==null?void 0:I._classification)!==null&&A!==void 0?A:void 0,D.name="GQLError",D}return i(g,b),Object.defineProperty(g.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),g}(Error);e.GQLError=v;var y=function(b){function g(_,x,P,I,T,A){var D=b.call(this,_,P,I,T,A)||this;return D.constructor=g,D.__proto__=g.prototype,D.code=x,D.name="Neo4jError",D.retriable=function(N){return N===h||N===d||function(j){return j==="Neo.ClientError.Security.AuthorizationExpired"}(N)||function(j){return(j==null?void 0:j.includes("TransientError"))===!0}(N)}(x),D}return i(g,b),g.isRetriable=function(_){return _!=null&&_ instanceof g&&_.retriable},g}(v);e.Neo4jError=y,e.newError=function(b,g,_,x,P,I){return new y(b,g??"N/A",x??"50N42",P??"error: general processing exception - unexpected error. "+b,I??l.rawPolyfilledDiagnosticRecord,_)},e.newGQLError=function(b,g,_,x,P){return new v(b,_??"50N42",x??"error: general processing exception - unexpected error. "+b,P??l.rawPolyfilledDiagnosticRecord,g)};var w=y.isRetriable;e.isRetriableError=w},1053:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rawPolyfilledDiagnosticRecord=void 0,e.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(e.rawPolyfilledDiagnosticRecord)},1517:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=void 0;var n=t(4027),i={value:!0,enumerable:!1,configurable:!1,writable:!1},a="__isNode__",o="__isRelationship__",s="__isUnboundRelationship__",u="__isPath__",l="__isPathSegment__";function c(b,g){return b!=null&&b[g]===!0}var f=function(){function b(g,_,x,P){this.identity=g,this.labels=_,this.properties=x,this.elementId=w(P,function(){return g.toString()})}return b.prototype.toString=function(){for(var g="("+this.elementId,_=0;_<this.labels.length;_++)g+=":"+this.labels[_];var x=Object.keys(this.properties);if(x.length>0){for(g+=" {",_=0;_<x.length;_++)_>0&&(g+=","),g+=x[_]+":"+(0,n.stringify)(this.properties[x[_]]);g+="}"}return g+")"},b}();e.Node=f,Object.defineProperty(f.prototype,a,i),e.isNode=function(b){return c(b,a)};var h=function(){function b(g,_,x,P,I,T,A,D){this.identity=g,this.start=_,this.end=x,this.type=P,this.properties=I,this.elementId=w(T,function(){return g.toString()}),this.startNodeElementId=w(A,function(){return _.toString()}),this.endNodeElementId=w(D,function(){return x.toString()})}return b.prototype.toString=function(){var g="("+this.startNodeElementId+")-[:"+this.type,_=Object.keys(this.properties);if(_.length>0){g+=" {";for(var x=0;x<_.length;x++)x>0&&(g+=","),g+=_[x]+":"+(0,n.stringify)(this.properties[_[x]]);g+="}"}return g+"]->("+this.endNodeElementId+")"},b}();e.Relationship=h,Object.defineProperty(h.prototype,o,i),e.isRelationship=function(b){return c(b,o)};var d=function(){function b(g,_,x,P){this.identity=g,this.type=_,this.properties=x,this.elementId=w(P,function(){return g.toString()})}return b.prototype.bind=function(g,_){return new h(this.identity,g,_,this.type,this.properties,this.elementId)},b.prototype.bindTo=function(g,_){return new h(this.identity,g.identity,_.identity,this.type,this.properties,this.elementId,g.elementId,_.elementId)},b.prototype.toString=function(){var g="-[:"+this.type,_=Object.keys(this.properties);if(_.length>0){g+=" {";for(var x=0;x<_.length;x++)x>0&&(g+=","),g+=_[x]+":"+(0,n.stringify)(this.properties[_[x]]);g+="}"}return g+"]->"},b}();e.UnboundRelationship=d,Object.defineProperty(d.prototype,s,i),e.isUnboundRelationship=function(b){return c(b,s)};var v=function(b,g,_){this.start=b,this.relationship=g,this.end=_};e.PathSegment=v,Object.defineProperty(v.prototype,l,i),e.isPathSegment=function(b){return c(b,l)};var y=function(b,g,_){this.start=b,this.end=g,this.segments=_,this.length=_.length};function w(b,g){return b??g()}e.Path=y,Object.defineProperty(y.prototype,u,i),e.isPath=function(b){return c(b,u)}},9305:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(fe,ye,Me,Ne){Ne===void 0&&(Ne=Me);var ke=Object.getOwnPropertyDescriptor(ye,Me);ke&&!("get"in ke?!ye.__esModule:ke.writable||ke.configurable)||(ke={enumerable:!0,get:function(){return ye[Me]}}),Object.defineProperty(fe,Ne,ke)}:function(fe,ye,Me,Ne){Ne===void 0&&(Ne=Me),fe[Ne]=ye[Me]}),i=this&&this.__setModuleDefault||(Object.create?function(fe,ye){Object.defineProperty(fe,"default",{enumerable:!0,value:ye})}:function(fe,ye){fe.default=ye}),a=this&&this.__importStar||function(fe){if(fe&&fe.__esModule)return fe;var ye={};if(fe!=null)for(var Me in fe)Me!=="default"&&Object.prototype.hasOwnProperty.call(fe,Me)&&n(ye,fe,Me);return i(ye,fe),ye},o=this&&this.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(e,"__esModule",{value:!0}),e.EagerResult=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.GqlStatusObject=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.GQLError=e.newGQLError=e.Neo4jError=e.newError=e.authTokenManagers=void 0,e.resolveCertificateProvider=e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.routing=e.staticAuthTokenManager=e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.Releasable=e.ConnectionProvider=void 0;var s=t(9691);Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return s.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(e,"newGQLError",{enumerable:!0,get:function(){return s.newGQLError}}),Object.defineProperty(e,"GQLError",{enumerable:!0,get:function(){return s.GQLError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}});var u=a(t(3371));e.Integer=u.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return u.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return u.toString}});var l=t(5459);Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return l.Time}});var c=t(1517);Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=o(t(4820));e.Record=f.default;var h=t(7093);Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h.Point}});var d=a(t(6033));e.ResultSummary=d.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return d.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return d.ServerInfo}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return d.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return d.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return d.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return d.Stats}});var v=a(t(1866));e.Notification=v.default,Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return v.GqlStatusObject}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return v.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return v.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return v.notificationSeverityLevel}});var y=t(1985);Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return y.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return y.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return y.notificationFilterMinimumSeverityLevel}});var w=o(t(9512));e.Result=w.default;var b=o(t(8917));e.EagerResult=b.default;var g=a(t(2007));e.ConnectionProvider=g.default,Object.defineProperty(e,"Releasable",{enumerable:!0,get:function(){return g.Releasable}});var _=o(t(1409));e.Connection=_.default;var x=o(t(9473));e.Transaction=x.default;var P=o(t(5909));e.ManagedTransaction=P.default;var I=o(t(4569));e.TransactionPromise=I.default;var T=o(t(5481));e.Session=T.default;var A=a(t(7264)),D=A;e.Driver=A.default,e.driver=D;var N=o(t(1967));e.auth=N.default;var j=t(6755);Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return j.bookmarkManager}});var B=t(2069);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return B.authTokenManagers}}),Object.defineProperty(e,"staticAuthTokenManager",{enumerable:!0,get:function(){return B.staticAuthTokenManager}});var W=t(7264);Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return W.routing}});var V=a(t(6872));e.types=V;var J=a(t(4027));e.json=J;var ee=o(t(1573));e.resultTransformers=ee.default;var te=t(8264);Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return te.clientCertificateProviders}}),Object.defineProperty(e,"resolveCertificateProvider",{enumerable:!0,get:function(){return te.resolveCertificateProvider}});var re=a(t(6995));e.internal=re;var de={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};e.error=de;var pe={authTokenManagers:B.authTokenManagers,newError:s.newError,Neo4jError:s.Neo4jError,newGQLError:s.newGQLError,GQLError:s.GQLError,isRetriableError:s.isRetriableError,error:de,Integer:u.default,int:u.int,isInt:u.isInt,inSafeRange:u.inSafeRange,toNumber:u.toNumber,toString:u.toString,internal:re,isPoint:h.isPoint,Point:h.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:d.default,queryType:d.queryType,ServerInfo:d.ServerInfo,Notification:v.default,GqlStatusObject:v.GqlStatusObject,Plan:d.Plan,ProfiledPlan:d.ProfiledPlan,QueryStatistics:d.QueryStatistics,Stats:d.Stats,Result:w.default,EagerResult:b.default,Transaction:x.default,ManagedTransaction:P.default,TransactionPromise:I.default,Session:T.default,Driver:A.default,Connection:_.default,Releasable:g.Releasable,types:V,driver:D,json:J,auth:N.default,bookmarkManager:j.bookmarkManager,routing:W.routing,resultTransformers:ee.default,notificationCategory:v.notificationCategory,notificationClassification:v.notificationClassification,notificationSeverityLevel:v.notificationSeverityLevel,notificationFilterDisabledCategory:y.notificationFilterDisabledCategory,notificationFilterDisabledClassification:y.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:y.notificationFilterMinimumSeverityLevel,clientCertificateProviders:te.clientCertificateProviders,resolveCertificateProvider:te.resolveCertificateProvider};e.default=pe},3371:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var n=t(9691),i=new Map,a=function(){function y(w,b){this.low=w??0,this.high=b??0}return y.prototype.inSafeRange=function(){return this.greaterThanOrEqual(y.MIN_SAFE_VALUE)&&this.lessThanOrEqual(y.MAX_SAFE_VALUE)},y.prototype.toInt=function(){return this.low},y.prototype.toNumber=function(){return this.high*s+(this.low>>>0)},y.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(s)+BigInt(this.low>>>0);var w=this.negate();return BigInt(-1)*(BigInt(w.high>>>0)*BigInt(s)+BigInt(w.low>>>0))},y.prototype.toNumberOrInfinity=function(){return this.lessThan(y.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(y.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},y.prototype.toString=function(w){if((w=w??10)<2||w>36)throw RangeError("radix out of range: "+w.toString());if(this.isZero())return"0";var b;if(this.isNegative()){if(this.equals(y.MIN_VALUE)){var g=y.fromNumber(w),_=this.div(g);return b=_.multiply(g).subtract(this),_.toString(w)+b.toInt().toString(w)}return"-"+this.negate().toString(w)}var x=y.fromNumber(Math.pow(w,6));b=this;for(var P="";;){var I=b.div(x),T=(b.subtract(I.multiply(x)).toInt()>>>0).toString(w);if((b=I).isZero())return T+P;for(;T.length<6;)T="0"+T;P=""+T+P}},y.prototype.valueOf=function(){return this.toBigInt()},y.prototype.getHighBits=function(){return this.high},y.prototype.getLowBits=function(){return this.low},y.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(y.MIN_VALUE)?64:this.negate().getNumBitsAbs();var w=this.high!==0?this.high:this.low,b=0;for(b=31;b>0&&!(w&1<<b);b--);return this.high!==0?b+33:b+1},y.prototype.isZero=function(){return this.high===0&&this.low===0},y.prototype.isNegative=function(){return this.high<0},y.prototype.isPositive=function(){return this.high>=0},y.prototype.isOdd=function(){return(1&this.low)==1},y.prototype.isEven=function(){return(1&this.low)==0},y.prototype.equals=function(w){var b=y.fromValue(w);return this.high===b.high&&this.low===b.low},y.prototype.notEquals=function(w){return!this.equals(w)},y.prototype.lessThan=function(w){return this.compare(w)<0},y.prototype.lessThanOrEqual=function(w){return this.compare(w)<=0},y.prototype.greaterThan=function(w){return this.compare(w)>0},y.prototype.greaterThanOrEqual=function(w){return this.compare(w)>=0},y.prototype.compare=function(w){var b=y.fromValue(w);if(this.equals(b))return 0;var g=this.isNegative(),_=b.isNegative();return g&&!_?-1:!g&&_?1:this.subtract(b).isNegative()?-1:1},y.prototype.negate=function(){return this.equals(y.MIN_VALUE)?y.MIN_VALUE:this.not().add(y.ONE)},y.prototype.add=function(w){var b=y.fromValue(w),g=this.high>>>16,_=65535&this.high,x=this.low>>>16,P=65535&this.low,I=b.high>>>16,T=65535&b.high,A=b.low>>>16,D=0,N=0,j=0,B=0;return j+=(B+=P+(65535&b.low))>>>16,B&=65535,N+=(j+=x+A)>>>16,j&=65535,D+=(N+=_+T)>>>16,N&=65535,D+=g+I,D&=65535,y.fromBits(j<<16|B,D<<16|N)},y.prototype.subtract=function(w){var b=y.fromValue(w);return this.add(b.negate())},y.prototype.multiply=function(w){if(this.isZero())return y.ZERO;var b=y.fromValue(w);if(b.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return b.isOdd()?y.MIN_VALUE:y.ZERO;if(b.equals(y.MIN_VALUE))return this.isOdd()?y.MIN_VALUE:y.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(l)&&b.lessThan(l))return y.fromNumber(this.toNumber()*b.toNumber());var g=this.high>>>16,_=65535&this.high,x=this.low>>>16,P=65535&this.low,I=b.high>>>16,T=65535&b.high,A=b.low>>>16,D=65535&b.low,N=0,j=0,B=0,W=0;return B+=(W+=P*D)>>>16,W&=65535,j+=(B+=x*D)>>>16,B&=65535,j+=(B+=P*A)>>>16,B&=65535,N+=(j+=_*D)>>>16,j&=65535,N+=(j+=x*A)>>>16,j&=65535,N+=(j+=P*T)>>>16,j&=65535,N+=g*D+_*A+x*T+P*I,N&=65535,y.fromBits(B<<16|W,N<<16|j)},y.prototype.div=function(w){var b,g,_,x=y.fromValue(w);if(x.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return x.equals(y.ONE)||x.equals(y.NEG_ONE)?y.MIN_VALUE:x.equals(y.MIN_VALUE)?y.ONE:(b=this.shiftRight(1).div(x).shiftLeft(1)).equals(y.ZERO)?x.isNegative()?y.ONE:y.NEG_ONE:(g=this.subtract(x.multiply(b)),_=b.add(g.div(x)));if(x.equals(y.MIN_VALUE))return y.ZERO;if(this.isNegative())return x.isNegative()?this.negate().div(x.negate()):this.negate().div(x).negate();if(x.isNegative())return this.div(x.negate()).negate();for(_=y.ZERO,g=this;g.greaterThanOrEqual(x);){b=Math.max(1,Math.floor(g.toNumber()/x.toNumber()));for(var P=Math.ceil(Math.log(b)/Math.LN2),I=P<=48?1:Math.pow(2,P-48),T=y.fromNumber(b),A=T.multiply(x);A.isNegative()||A.greaterThan(g);)b-=I,A=(T=y.fromNumber(b)).multiply(x);T.isZero()&&(T=y.ONE),_=_.add(T),g=g.subtract(A)}return _},y.prototype.modulo=function(w){var b=y.fromValue(w);return this.subtract(this.div(b).multiply(b))},y.prototype.not=function(){return y.fromBits(~this.low,~this.high)},y.prototype.and=function(w){var b=y.fromValue(w);return y.fromBits(this.low&b.low,this.high&b.high)},y.prototype.or=function(w){var b=y.fromValue(w);return y.fromBits(this.low|b.low,this.high|b.high)},y.prototype.xor=function(w){var b=y.fromValue(w);return y.fromBits(this.low^b.low,this.high^b.high)},y.prototype.shiftLeft=function(w){var b=y.toNumber(w);return(b&=63)==0?y.ZERO:b<32?y.fromBits(this.low<<b,this.high<<b|this.low>>>32-b):y.fromBits(0,this.low<<b-32)},y.prototype.shiftRight=function(w){var b=y.toNumber(w),g=y.toNumber(w);return(b&=63)==0?y.ZERO:g<32?y.fromBits(this.low>>>b|this.high<<32-b,this.high>>b):y.fromBits(this.high>>b-32,this.high>=0?0:-1)},y.isInteger=function(w){return(w==null?void 0:w.__isInteger__)===!0},y.fromInt=function(w){var b;if((w|=0)>=-128&&w<128&&(b=i.get(w))!=null)return b;var g=new y(w,w<0?-1:0);return w>=-128&&w<128&&i.set(w,g),g},y.fromBits=function(w,b){return new y(w,b)},y.fromNumber=function(w){return isNaN(w)||!isFinite(w)?y.ZERO:w<=-u?y.MIN_VALUE:w+1>=u?y.MAX_VALUE:w<0?y.fromNumber(-w).negate():new y(w%s|0,w/s|0)},y.fromString=function(w,b,g){var _,x=(g===void 0?{}:g).strictStringValidation;if(w.length===0)throw(0,n.newError)("number format error: empty string");if(w==="NaN"||w==="Infinity"||w==="+Infinity"||w==="-Infinity")return y.ZERO;if((b=b??10)<2||b>36)throw(0,n.newError)("radix out of range: "+b.toString());if((_=w.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+w);if(_===0)return y.fromString(w.substring(1),b).negate();for(var P=y.fromNumber(Math.pow(b,8)),I=y.ZERO,T=0;T<w.length;T+=8){var A=Math.min(8,w.length-T),D=w.substring(T,T+A),N=parseInt(D,b);if(x===!0&&!o(D,N,b))throw(0,n.newError)('number format error: "'.concat(D,'" is NaN in radix ').concat(b,": ").concat(w));if(A<8){var j=y.fromNumber(Math.pow(b,A));I=I.multiply(j).add(y.fromNumber(N))}else I=(I=I.multiply(P)).add(y.fromNumber(N))}return I},y.fromValue=function(w,b){return b===void 0&&(b={}),w instanceof y?w:typeof w=="number"?(b.ceilFloat===!0&&(w=Math.ceil(w)),y.fromNumber(w)):typeof w=="string"?y.fromString(w,void 0,b):typeof w=="bigint"?y.fromString(w.toString()):new y(w.low,w.high)},y.toNumber=function(w){switch(typeof w){case"number":return w;case"bigint":return Number(w);default:return y.fromValue(w).toNumber()}},y.toString=function(w,b){return y.fromValue(w).toString(b)},y.inSafeRange=function(w){return y.fromValue(w).inSafeRange()},y.ZERO=y.fromInt(0),y.ONE=y.fromInt(1),y.NEG_ONE=y.fromInt(-1),y.MAX_VALUE=y.fromBits(-1,2147483647),y.MIN_VALUE=y.fromBits(0,-2147483648),y.MIN_SAFE_VALUE=y.fromBits(1,-2097152),y.MAX_SAFE_VALUE=y.fromBits(-1,2097151),y.__isInteger__=!0,y}();function o(y,w,b){return!Number.isNaN(y)&&!Number.isNaN(w)&&function(g,_,x){var P=g.toString(_),I=Math.max(x-P.length,0),T="0".repeat(I);return"".concat(T).concat(P)}(w,b,y.length)===y.toLowerCase()}Object.defineProperty(a.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var s=4294967296,u=s*s/2,l=a.fromInt(1<<24),c=a.fromValue;e.int=c;var f=a.isInteger;e.isInt=f;var h=a.inSafeRange;e.inSafeRange=h;var d=a.toNumber;e.toNumber=d;var v=a.toString;e.toString=v,e.default=a},5837:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromVersion=void 0,e.fromVersion=function(t,n){n===void 0&&(n=function(){return{get userAgent(){}}});var i=n(),a=i.userAgent!=null?i.userAgent.split("(")[1].split(")")[0]:void 0,o=i.userAgent||void 0;return{product:"neo4j-javascript/".concat(t),platform:a,languageDetails:o}}},3488:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var l=Object.getOwnPropertyDescriptor(o,s);l&&!("get"in l?!o.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,l)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),i=this&&this.__exportStar||function(a,o){for(var s in a)s==="default"||Object.prototype.hasOwnProperty.call(o,s)||n(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(t(5837),e)},9730:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(h,d,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(d,v);w&&!("get"in w?!d.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(h,y,w)}:function(h,d,v,y){y===void 0&&(y=v),h[y]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),a=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&n(d,h,v);return i(d,h),d},o=this&&this.__read||function(h,d){var v=typeof Symbol=="function"&&h[Symbol.iterator];if(!v)return h;var y,w,b=v.call(h),g=[];try{for(;(d===void 0||d-- >0)&&!(y=b.next()).done;)g.push(y.value)}catch(_){w={error:_}}finally{try{y&&!y.done&&(v=b.return)&&v.call(b)}finally{if(w)throw w.error}}return g},s=this&&this.__spreadArray||function(h,d,v){if(v||arguments.length===2)for(var y,w=0,b=d.length;w<b;w++)!y&&w in d||(y||(y=Array.prototype.slice.call(d,0,w)),y[w]=d[w]);return h.concat(y||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.Bookmarks=void 0;var u=a(t(6587)),l=function(){function h(d){this._values=function(v){if(v==null||v==="")return[];if(u.isString(v))return[v];if(Array.isArray(v)){for(var y=new Set,w=f(v),b=0;b<w.length;b++){var g=w[b];if(g!=null){if(!u.isString(g))throw new TypeError("Bookmark value should be a string, given: '".concat(g,"'"));y.add(g)}}return s([],o(y),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(v,"'"))}(d)}return h.empty=function(){return c},h.prototype.isEmpty=function(){return this._values.length===0},h.prototype.values=function(){return this._values},h.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},h.prototype.asBeginTransactionParameters=function(){var d;return this.isEmpty()?{}:((d={}).bookmarks=this._values,d)},h}();e.Bookmarks=l;var c=new l(null);function f(h){return h.reduce(function(d,v){return Array.isArray(v)?d.concat(f(v)):d.concat(v)},[])}},3618:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function g(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)}),a=this&&this.__awaiter||function(w,b,g,_){return new(g||(g=Promise))(function(x,P){function I(D){try{A(_.next(D))}catch(N){P(N)}}function T(D){try{A(_.throw(D))}catch(N){P(N)}}function A(D){var N;D.done?x(D.value):(N=D.value,N instanceof g?N:new g(function(j){j(N)})).then(I,T)}A((_=_.apply(w,b||[])).next())})},o=this&&this.__generator||function(w,b){var g,_,x,P,I={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return P={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function T(A){return function(D){return function(N){if(g)throw new TypeError("Generator is already executing.");for(;P&&(P=0,N[0]&&(I=0)),I;)try{if(g=1,_&&(x=2&N[0]?_.return:N[0]?_.throw||((x=_.return)&&x.call(_),0):_.next)&&!(x=x.call(_,N[1])).done)return x;switch(_=0,x&&(N=[2&N[0],x.value]),N[0]){case 0:case 1:x=N;break;case 4:return I.label++,{value:N[1],done:!1};case 5:I.label++,_=N[1],N=[0];continue;case 7:N=I.ops.pop(),I.trys.pop();continue;default:if(!((x=(x=I.trys).length>0&&x[x.length-1])||N[0]!==6&&N[0]!==2)){I=0;continue}if(N[0]===3&&(!x||N[1]>x[0]&&N[1]<x[3])){I.label=N[1];break}if(N[0]===6&&I.label<x[1]){I.label=x[1],x=N;break}if(x&&I.label<x[2]){I.label=x[2],I.ops.push(N);break}x[2]&&I.ops.pop(),I.trys.pop();continue}N=b.call(w,I)}catch(j){N=[6,j],_=0}finally{g=x=0}if(5&N[0])throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}([A,D])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.ReadOnlyConnectionHolder=e.ConnectionHolder=void 0;var s=t(9691),u=t(6587),l=t(326),c=t(9730),f=t(4883),h=function(){function w(b){var g=b.mode,_=b.database,x=_===void 0?"":_,P=b.bookmarks,I=b.connectionProvider,T=b.impersonatedUser,A=b.onDatabaseNameResolved,D=b.getConnectionAcquistionBookmarks,N=b.auth,j=b.log;this._mode=g??l.ACCESS_MODE_WRITE,this._closed=!1,this._database=x!=null?(0,u.assertString)(x,"database"):"",this._bookmarks=P??c.Bookmarks.empty(),this._connectionProvider=I,this._impersonatedUser=T,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=A,this._auth=N,this._log=j,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=D??function(){return Promise.resolve(c.Bookmarks.empty())}}return w.prototype.mode=function(){return this._mode},w.prototype.database=function(){return this._database},w.prototype.setDatabase=function(b){this._database=b},w.prototype.bookmarks=function(){return this._bookmarks},w.prototype.connectionProvider=function(){return this._connectionProvider},w.prototype.referenceCount=function(){return this._referenceCount},w.prototype.initializeConnection=function(){return this._referenceCount!==0||this._connectionProvider==null?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},w.prototype._createConnectionPromise=function(b){return a(this,void 0,void 0,function(){var g,_,x;return o(this,function(P){switch(P.label){case 0:return _=(g=b).acquireConnection,x={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,_.apply(g,[(x.bookmarks=P.sent(),x.impersonatedUser=this._impersonatedUser,x.onDatabaseNameResolved=this._onDatabaseNameResolved,x.auth=this._auth,x)])];case 2:return[2,P.sent()]}})})},w.prototype._getBookmarks=function(){return a(this,void 0,void 0,function(){return o(this,function(b){switch(b.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,b.sent()]}})})},w.prototype.getConnection=function(){return this._connectionPromise},w.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},w.prototype.close=function(b){return this._closed=!0,this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(b))},w.prototype.log=function(){return this._log},w.prototype._releaseConnection=function(b){return this._connectionPromise=this._connectionPromise.then(function(g){return g!=null?g.isOpen()&&(g.hasOngoingObservableRequests()||b===!0)?g.resetAndFlush().catch(y).then(function(){return g.release().then(function(){return null})}):g.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},w.prototype._logError=function(b){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(b,". Stacktrace: ").concat(b.stack)),null},w}();e.ConnectionHolder=h;var d=function(w){function b(g){var _=w.call(this,{mode:g.mode(),database:g.database(),bookmarks:g.bookmarks(),getConnectionAcquistionBookmarks:g._getConnectionAcquistionBookmarks,connectionProvider:g.connectionProvider(),log:g.log()})||this;return _._connectionHolder=g,_}return i(b,w),b.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},b.prototype.getConnection=function(){return this._connectionHolder.getConnection()},b.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b}(h);e.ReadOnlyConnectionHolder=d,e.default=d;var v=new(function(w){function b(){return w.call(this,{log:f.Logger.create({})})||this}return i(b,w),b.prototype.mode=function(){},b.prototype.database=function(){},b.prototype.initializeConnection=function(){return!0},b.prototype.getConnection=function(){return a(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.reject((0,s.newError)("This connection holder does not serve connections"))];case 1:return[2,g.sent()]}})})},b.prototype.releaseConnection=function(){return a(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,g.sent()]}})})},b.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,g.sent()]}})})},b}(h));function y(w){return null}e.EMPTY_CONNECTION_HOLDER=v},326:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TELEMETRY_APIS=e.BOLT_PROTOCOL_V5_7=e.BOLT_PROTOCOL_V5_6=e.BOLT_PROTOCOL_V5_5=e.BOLT_PROTOCOL_V5_4=e.BOLT_PROTOCOL_V5_3=e.BOLT_PROTOCOL_V5_2=e.BOLT_PROTOCOL_V5_1=e.BOLT_PROTOCOL_V5_0=e.BOLT_PROTOCOL_V4_4=e.BOLT_PROTOCOL_V4_3=e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.DEFAULT_POOL_MAX_SIZE=e.DEFAULT_POOL_ACQUISITION_TIMEOUT=e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=e.FETCH_ALL=void 0,e.FETCH_ALL=-1,e.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,e.DEFAULT_POOL_MAX_SIZE=100,e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,e.ACCESS_MODE_READ="READ",e.ACCESS_MODE_WRITE="WRITE",e.BOLT_PROTOCOL_V1=1,e.BOLT_PROTOCOL_V2=2,e.BOLT_PROTOCOL_V3=3,e.BOLT_PROTOCOL_V4_0=4,e.BOLT_PROTOCOL_V4_1=4.1,e.BOLT_PROTOCOL_V4_2=4.2,e.BOLT_PROTOCOL_V4_3=4.3,e.BOLT_PROTOCOL_V4_4=4.4,e.BOLT_PROTOCOL_V5_0=5,e.BOLT_PROTOCOL_V5_1=5.1,e.BOLT_PROTOCOL_V5_2=5.2,e.BOLT_PROTOCOL_V5_3=5.3,e.BOLT_PROTOCOL_V5_4=5.4,e.BOLT_PROTOCOL_V5_5=5.5,e.BOLT_PROTOCOL_V5_6=5.6,e.BOLT_PROTOCOL_V5_7=5.7,e.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},6995:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(P,I,T,A){A===void 0&&(A=T);var D=Object.getOwnPropertyDescriptor(I,T);D&&!("get"in D?!I.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return I[T]}}),Object.defineProperty(P,A,D)}:function(P,I,T,A){A===void 0&&(A=T),P[A]=I[T]}),i=this&&this.__setModuleDefault||(Object.create?function(P,I){Object.defineProperty(P,"default",{enumerable:!0,value:I})}:function(P,I){P.default=I}),a=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var I={};if(P!=null)for(var T in P)T!=="default"&&Object.prototype.hasOwnProperty.call(P,T)&&n(I,P,T);return i(I,P),I};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.boltAgent=e.objectUtil=e.resolver=e.serverAddress=e.urlUtil=e.logger=e.transactionExecutor=e.txConfig=e.connectionHolder=e.constants=e.bookmarks=e.observer=e.temporalUtil=e.util=void 0;var o=a(t(6587));e.util=o;var s=a(t(5022));e.temporalUtil=s;var u=a(t(2696));e.observer=u;var l=a(t(9730));e.bookmarks=l;var c=a(t(326));e.constants=c;var f=a(t(3618));e.connectionHolder=f;var h=a(t(754));e.txConfig=h;var d=a(t(6189));e.transactionExecutor=d;var v=a(t(4883));e.logger=v;var y=a(t(407));e.urlUtil=y;var w=a(t(7509));e.serverAddress=w;var b=a(t(9470));e.resolver=b;var g=a(t(93));e.objectUtil=g;var _=a(t(3488));e.boltAgent=_;var x=a(t(2906));e.pool=x},4883:function(r,e,t){var n,i,a=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function g(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)});Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var o=t(9691),s="error",u="warn",l="info",c="debug",f=l,h=((i={})[s]=0,i[u]=1,i[l]=2,i[c]=3,i),d=function(){function w(b,g){this._level=b,this._loggerFunction=g}return w.create=function(b){if((b==null?void 0:b.logging)!=null){var g=b.logging,_=function(P){if((P==null?void 0:P.level)!=null){var I=P.level,T=h[I];if(T==null&&T!==0)throw(0,o.newError)("Illegal logging level: ".concat(I,". Supported levels are: ").concat(Object.keys(h).toString()));return I}return f}(g),x=function(P){var I,T;if((P==null?void 0:P.logger)!=null){var A=P.logger;if(A!=null&&typeof A=="function")return A}throw(0,o.newError)("Illegal logger function: ".concat((T=(I=P==null?void 0:P.logger)===null||I===void 0?void 0:I.toString())!==null&&T!==void 0?T:"undefined"))}(g);return new w(_,x)}return this.noOp()},w.noOp=function(){return v},w.prototype.isErrorEnabled=function(){return y(this._level,s)},w.prototype.error=function(b){this.isErrorEnabled()&&this._loggerFunction(s,b)},w.prototype.isWarnEnabled=function(){return y(this._level,u)},w.prototype.warn=function(b){this.isWarnEnabled()&&this._loggerFunction(u,b)},w.prototype.isInfoEnabled=function(){return y(this._level,l)},w.prototype.info=function(b){this.isInfoEnabled()&&this._loggerFunction(l,b)},w.prototype.isDebugEnabled=function(){return y(this._level,c)},w.prototype.debug=function(b){this.isDebugEnabled()&&this._loggerFunction(c,b)},w}();e.Logger=d;var v=new(function(w){function b(){return w.call(this,l,function(g,_){})||this}return a(b,w),b.prototype.isErrorEnabled=function(){return!1},b.prototype.error=function(g){},b.prototype.isWarnEnabled=function(){return!1},b.prototype.warn=function(g){},b.prototype.isInfoEnabled=function(){return!1},b.prototype.info=function(g){},b.prototype.isDebugEnabled=function(){return!1},b.prototype.debug=function(g){},b}(d));function y(w,b){return h[w]>=h[b]}},93:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBrokenObjectReason=e.isBrokenObject=e.createBrokenObject=void 0;var t="__isBrokenObject__",n="__reason__";e.createBrokenObject=function(i,a){a===void 0&&(a={});var o=function(){throw i};return new Proxy(a,{get:function(s,u){return u===t||(u===n?i:void(u!=="toJSON"&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},e.isBrokenObject=function(i){return i!==null&&typeof i=="object"&&i[t]===!0},e.getBrokenObjectReason=function(i){return i[n]}},2696:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FailedObserver=e.CompletedObserver=void 0;var t=function(){function a(){}return a.prototype.subscribe=function(o){i(o,o.onKeys,[]),i(o,o.onCompleted,{})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a.prototype.markCompleted=function(){},a.prototype.onError=function(o){throw new Error("CompletedObserver not supposed to call onError",{cause:o})},a}();e.CompletedObserver=t;var n=function(){function a(o){var s=o.error,u=o.onError;this._error=s,this._beforeError=u,this._observers=[],this.onError(s)}return a.prototype.subscribe=function(o){i(o,o.onError,this._error),this._observers.push(o)},a.prototype.onError=function(o){i(this,this._beforeError,o),this._observers.forEach(function(s){return i(s,s.onError,o)})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.markCompleted=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a}();function i(a,o,s){o!=null&&o.bind(a)(s)}e.FailedObserver=n},2906:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c},o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var s=a(t(7589));e.PoolConfig=s.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return s.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return s.DEFAULT_MAX_SIZE}});var u=o(t(6842));e.Pool=u.default,e.default=u.default},7589:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=void 0;var t=100;e.DEFAULT_MAX_SIZE=t;var n=6e4;e.DEFAULT_ACQUISITION_TIMEOUT=n;var i=function(){function s(u,l){this.maxSize=a(u,t),this.acquisitionTimeout=a(l,n)}return s.defaultConfig=function(){return new s(t,n)},s.fromDriverConfig=function(u){return new s(o(u.maxConnectionPoolSize)?u.maxConnectionPoolSize:t,o(u.connectionAcquisitionTimeout)?u.connectionAcquisitionTimeout:n)},s}();function a(s,u){return o(s)?s:u}function o(s){return s===0||s!=null}e.default=i},6842:function(r,e,t){var n=this&&this.__awaiter||function(v,y,w,b){return new(w||(w=Promise))(function(g,_){function x(T){try{I(b.next(T))}catch(A){_(A)}}function P(T){try{I(b.throw(T))}catch(A){_(A)}}function I(T){var A;T.done?g(T.value):(A=T.value,A instanceof w?A:new w(function(D){D(A)})).then(x,P)}I((b=b.apply(v,y||[])).next())})},i=this&&this.__generator||function(v,y){var w,b,g,_,x={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return _={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function P(I){return function(T){return function(A){if(w)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(x=0)),x;)try{if(w=1,b&&(g=2&A[0]?b.return:A[0]?b.throw||((g=b.return)&&g.call(b),0):b.next)&&!(g=g.call(b,A[1])).done)return g;switch(b=0,g&&(A=[2&A[0],g.value]),A[0]){case 0:case 1:g=A;break;case 4:return x.label++,{value:A[1],done:!1};case 5:x.label++,b=A[1],A=[0];continue;case 7:A=x.ops.pop(),x.trys.pop();continue;default:if(!((g=(g=x.trys).length>0&&g[g.length-1])||A[0]!==6&&A[0]!==2)){x=0;continue}if(A[0]===3&&(!g||A[1]>g[0]&&A[1]<g[3])){x.label=A[1];break}if(A[0]===6&&x.label<g[1]){x.label=g[1],g=A;break}if(g&&x.label<g[2]){x.label=g[2],x.ops.push(A);break}g[2]&&x.ops.pop(),x.trys.pop();continue}A=y.call(v,x)}catch(D){A=[6,D],b=0}finally{w=g=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([I,T])}}},a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(7589)),s=t(9691),u=t(4883),l=function(){function v(y){var w=y.create,b=w===void 0?function(te,re,de){return n(ee,void 0,void 0,function(){return i(this,function(pe){switch(pe.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,pe.sent()]}})})}:w,g=y.destroy,_=g===void 0?function(te){return n(ee,void 0,void 0,function(){return i(this,function(re){switch(re.label){case 0:return[4,Promise.resolve()];case 1:return[2,re.sent()]}})})}:g,x=y.validateOnAcquire,P=x===void 0?function(te,re){return!0}:x,I=y.validateOnRelease,T=I===void 0?function(te){return!0}:I,A=y.installIdleObserver,D=A===void 0?function(te,re){}:A,N=y.removeIdleObserver,j=N===void 0?function(te){}:N,B=y.config,W=B===void 0?o.default.defaultConfig():B,V=y.log,J=V===void 0?u.Logger.noOp():V,ee=this;this._create=b,this._destroy=_,this._validateOnAcquire=P,this._validateOnRelease=T,this._installIdleObserver=D,this._removeIdleObserver=j,this._maxSize=W.maxSize,this._acquisitionTimeout=W.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=J,this._closed=!1}return v.prototype.acquire=function(y,w,b){return n(this,void 0,void 0,function(){var g,_,x=this;return i(this,function(P){switch(P.label){case 0:return g=w.asKey(),(_=this._acquireRequests)[g]==null&&(_[g]=[]),[4,new Promise(function(I,T){var A=setTimeout(function(){var N=_[g];if(N!=null&&(_[g]=N.filter(function(W){return W!==D})),!D.isCompleted()){var j=x.activeResourceCount(w),B=x.has(w)?x._pools[g].length:0;D.reject((0,s.newError)("Connection acquisition timed out in ".concat(x._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(j,", Idle conn count = ").concat(B,".")))}},x._acquisitionTimeout);typeof A=="object"&&A.unref();var D=new h(g,y,b,I,T,A,x._log);_[g].push(D),x._processPendingAcquireRequests(w)})];case 1:return[2,P.sent()]}})})},v.prototype.purge=function(y){return n(this,void 0,void 0,function(){return i(this,function(w){switch(w.label){case 0:return[4,this._purgeKey(y.asKey())];case 1:return[2,w.sent()]}})})},v.prototype.apply=function(y,w){var b=y.asKey();b in this._pools&&this._pools[b].apply(w)},v.prototype.close=function(){return n(this,void 0,void 0,function(){var y=this;return i(this,function(w){switch(w.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(b){return n(y,void 0,void 0,function(){return i(this,function(g){switch(g.label){case 0:return[4,this._purgeKey(b)];case 1:return[2,g.sent()]}})})})).then()];case 1:return[2,w.sent()]}})})},v.prototype.keepAll=function(y){return n(this,void 0,void 0,function(){var w,b,g,_=this;return i(this,function(x){switch(x.label){case 0:return w=y.map(function(P){return P.asKey()}),b=Object.keys(this._pools),g=b.filter(function(P){return!w.includes(P)}),[4,Promise.all(g.map(function(P){return n(_,void 0,void 0,function(){return i(this,function(I){switch(I.label){case 0:return[4,this._purgeKey(P)];case 1:return[2,I.sent()]}})})})).then()];case 1:return[2,x.sent()]}})})},v.prototype.has=function(y){return y.asKey()in this._pools},v.prototype.activeResourceCount=function(y){var w;return(w=this._activeResourceCounts[y.asKey()])!==null&&w!==void 0?w:0},v.prototype._getOrInitializePoolFor=function(y){var w=this._pools[y];return w==null&&(w=new d,this._pools[y]=w,this._pendingCreates[y]=0),w},v.prototype._acquire=function(y,w,b){return n(this,void 0,void 0,function(){var g,_,x,P,I,T,A,D=this;return i(this,function(N){switch(N.label){case 0:if(this._closed)throw(0,s.newError)("Pool is closed, it is no more able to serve requests.");if(g=w.asKey(),_=this._getOrInitializePoolFor(g),b)return[3,10];N.label=1;case 1:if(!(_.length>0))return[3,10];if((x=_.pop())==null)return[3,1];c(g,this._activeResourceCounts),this._removeIdleObserver!=null&&this._removeIdleObserver(x),P=!1,N.label=2;case 2:return N.trys.push([2,4,,6]),[4,this._validateOnAcquire(y,x)];case 3:return P=N.sent(),[3,6];case 4:return I=N.sent(),f(g,this._activeResourceCounts),_.removeInUse(x),[4,this._destroy(x)];case 5:throw N.sent(),I;case 6:return P?(this._log.isDebugEnabled()&&this._log.debug("".concat(x," acquired from the pool ").concat(g)),[2,{resource:x,pool:_}]):[3,7];case 7:return f(g,this._activeResourceCounts),_.removeInUse(x),[4,this._destroy(x)];case 8:N.sent(),N.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(w)+this._pendingCreates[g]>=this._maxSize)return[2,{resource:null,pool:_}];this._pendingCreates[g]=this._pendingCreates[g]+1,N.label=11;case 11:return N.trys.push([11,,15,16]),this.activeResourceCount(w)+_.length>=this._maxSize&&b?(A=_.pop())==null?[3,13]:(this._removeIdleObserver!=null&&this._removeIdleObserver(A),_.removeInUse(A),[4,this._destroy(A)]):[3,13];case 12:N.sent(),N.label=13;case 13:return[4,this._create(y,w,function(j,B){return n(D,void 0,void 0,function(){return i(this,function(W){switch(W.label){case 0:return[4,this._release(j,B,_)];case 1:return[2,W.sent()]}})})})];case 14:return T=N.sent(),_.pushInUse(T),c(g,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(T," created for the pool ").concat(g)),[3,16];case 15:return this._pendingCreates[g]=this._pendingCreates[g]-1,[7];case 16:return[2,{resource:T,pool:_}]}})})},v.prototype._release=function(y,w,b){return n(this,void 0,void 0,function(){var g,_=this;return i(this,function(x){switch(x.label){case 0:g=y.asKey(),x.label=1;case 1:return x.trys.push([1,,9,10]),b.isActive()?[4,this._validateOnRelease(w)]:[3,6];case 2:return x.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(w," destroyed and can't be released to the pool ").concat(g," because it is not functional")),b.removeInUse(w),[4,this._destroy(w)]);case 3:return x.sent(),[3,5];case 4:this._installIdleObserver!=null&&this._installIdleObserver(w,{onError:function(P){_._log.debug("Idle connection ".concat(w," destroyed because of error: ").concat(P));var I=_._pools[g];I!=null&&(_._pools[g]=I.filter(function(T){return T!==w}),I.removeInUse(w)),_._destroy(w).catch(function(){})}}),b.push(w),this._log.isDebugEnabled()&&this._log.debug("".concat(w," released to the pool ").concat(g)),x.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(w," destroyed and can't be released to the pool ").concat(g," because pool has been purged")),b.removeInUse(w),[4,this._destroy(w)];case 7:x.sent(),x.label=8;case 8:return[3,10];case 9:return f(g,this._activeResourceCounts),this._processPendingAcquireRequests(y),[7];case 10:return[2]}})})},v.prototype._purgeKey=function(y){return n(this,void 0,void 0,function(){var w,b,g;return i(this,function(_){switch(_.label){case 0:if(w=this._pools[y],b=[],w==null)return[3,2];for(;w.length>0;)(g=w.pop())!=null&&(this._removeIdleObserver!=null&&this._removeIdleObserver(g),b.push(this._destroy(g)));return w.close(),delete this._pools[y],[4,Promise.all(b)];case 1:_.sent(),_.label=2;case 2:return[2]}})})},v.prototype._processPendingAcquireRequests=function(y){var w=this,b=y.asKey(),g=this._acquireRequests[b];if(g!=null){var _=g.shift();_!=null?this._acquire(_.context,y,_.requireNew).catch(function(x){return _.reject(x),{resource:null,pool:null}}).then(function(x){var P=x.resource,I=x.pool;P!=null&&I!=null?_.isCompleted()?w._release(y,P,I).catch(function(T){w._log.isDebugEnabled()&&w._log.debug("".concat(P," could not be release back to the pool. Cause: ").concat(T))}):_.resolve(P):_.isCompleted()||(w._acquireRequests[b]==null&&(w._acquireRequests[b]=[]),w._acquireRequests[b].unshift(_))}).catch(function(x){return _.reject(x)}):delete this._acquireRequests[b]}},v}();function c(v,y){var w,b=(w=y[v])!==null&&w!==void 0?w:0;y[v]=b+1}function f(v,y){var w,b=((w=y[v])!==null&&w!==void 0?w:0)-1;b>0?y[v]=b:delete y[v]}var h=function(){function v(y,w,b,g,_,x,P){this._key=y,this._context=w,this._resolve=g,this._reject=_,this._timeoutId=x,this._log=P,this._completed=!1,this._config=b??{}}return Object.defineProperty(v.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"requireNew",{get:function(){var y;return(y=this._config.requireNew)!==null&&y!==void 0&&y},enumerable:!1,configurable:!0}),v.prototype.isCompleted=function(){return this._completed},v.prototype.resolve=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(y," acquired from the pool ").concat(this._key)),this._resolve(y))},v.prototype.reject=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(y))},v}(),d=function(){function v(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return v.prototype.isActive=function(){return this._active},v.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},v.prototype.filter=function(y){return this._elements=this._elements.filter(y),this},v.prototype.apply=function(y){this._elements.forEach(y),this._elementsInUse.forEach(y)},Object.defineProperty(v.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),v.prototype.pop=function(){var y=this._elements.pop();return y!=null&&this._elementsInUse.add(y),y},v.prototype.push=function(y){return this._elementsInUse.delete(y),this._elements.push(y)},v.prototype.pushInUse=function(y){this._elementsInUse.add(y)},v.prototype.removeInUse=function(y){this._elementsInUse.delete(y)},v}();e.default=l},7041:function(r,e,t){var n=this&&this.__awaiter||function(s,u,l,c){return new(l||(l=Promise))(function(f,h){function d(w){try{y(c.next(w))}catch(b){h(b)}}function v(w){try{y(c.throw(w))}catch(b){h(b)}}function y(w){var b;w.done?f(w.value):(b=w.value,b instanceof l?b:new l(function(g){g(b)})).then(d,v)}y((c=c.apply(s,u||[])).next())})},i=this&&this.__generator||function(s,u){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,b[0]&&(d=0)),d;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,c=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){d.label=b[1];break}if(b[0]===6&&d.label<f[1]){d.label=f[1],f=b;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(b);break}f[2]&&d.ops.pop(),d.trys.pop();continue}b=u.call(s,d)}catch(g){b=[6,g],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([y,w])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(326),o=function(){function s(u){this._createSession=u}return s.prototype.execute=function(u,l,c){return n(this,void 0,void 0,function(){var f,h,d=this;return i(this,function(v){switch(v.label){case 0:f=this._createSession({database:u.database,bookmarkManager:u.bookmarkManager,impersonatedUser:u.impersonatedUser,auth:u.auth}),y=u.signal,w="abort",b=function(){return n(d,void 0,void 0,function(){return i(this,function(g){switch(g.label){case 0:return[4,f.close()];case 1:return[2,g.sent()]}})})},typeof(y==null?void 0:y.addEventListener)=="function"&&y.addEventListener(w,b),h={uninstall:function(){typeof(y==null?void 0:y.removeEventListener)=="function"&&y.removeEventListener(w,b)}},f._configureTransactionExecutor(!0,a.TELEMETRY_APIS.EXECUTE_QUERY),v.label=1;case 1:return v.trys.push([1,,3,5]),[4,(u.routing==="READ"?f.executeRead.bind(f):f.executeWrite.bind(f))(function(g){return n(d,void 0,void 0,function(){var _;return i(this,function(x){switch(x.label){case 0:return _=g.run(l,c),[4,u.resultTransformer(_)];case 1:return[2,x.sent()]}})})},u.transactionConfig)];case 2:return[2,v.sent()];case 3:return h.uninstall(),[4,f.close()];case 4:return v.sent(),[7];case 5:return[2]}var y,w,b})})},s}();e.default=o},3389:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.resolve=function(){throw new Error("Abstract function")},n.prototype._resolveToItself=function(i){return Promise.resolve([i])},n}();e.default=t},8341:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7509);function i(o){return Promise.resolve([o])}var a=function(){function o(s){this._resolverFunction=s??i}return o.prototype.resolve=function(s){var u=this;return new Promise(function(l){return l(u._resolverFunction(s.asHostPort()))}).then(function(l){if(!Array.isArray(l))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(l));return l.map(function(c){return n.ServerAddress.fromUrl(c)})})},o}();e.default=a},9470:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfiguredCustomResolver=e.BaseHostNameResolver=void 0;var i=n(t(3389));e.BaseHostNameResolver=i.default;var a=n(t(8341));e.ConfiguredCustomResolver=a.default},7509:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerAddress=void 0;var o=t(6587),s=a(t(407)),u=function(){function l(c,f,h,d){this._host=(0,o.assertString)(c,"host"),this._resolved=f!=null?(0,o.assertString)(f,"resolved"):null,this._port=(0,o.assertNumber)(h,"port"),this._hostPort=d,this._stringValue=f!=null?"".concat(d,"(").concat(f,")"):"".concat(d)}return l.prototype.host=function(){return this._host},l.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},l.prototype.port=function(){return this._port},l.prototype.resolveWith=function(c){return new l(this._host,c,this._port,this._hostPort)},l.prototype.asHostPort=function(){return this._hostPort},l.prototype.asKey=function(){return this._hostPort},l.prototype.toString=function(){return this._stringValue},l.fromUrl=function(c){var f=s.parseDatabaseUrl(c);return new l(f.host,null,f.port,f.hostAndPort)},l}();e.ServerAddress=u},5022:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(g,_,x,P){P===void 0&&(P=x);var I=Object.getOwnPropertyDescriptor(_,x);I&&!("get"in I?!_.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(g,P,I)}:function(g,_,x,P){P===void 0&&(P=x),g[P]=_[x]}),i=this&&this.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),a=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&n(_,g,x);return i(_,g),_};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var o=a(t(3371)),s=t(9691),u=t(6587),l=function(){function g(_,x){this._minNumber=_,this._maxNumber=x,this._minInteger=(0,o.int)(_),this._maxInteger=(0,o.int)(x)}return g.prototype.contains=function(_){if((0,o.isInt)(_)&&_ instanceof o.default)return _.greaterThanOrEqual(this._minInteger)&&_.lessThanOrEqual(this._maxInteger);if(typeof _=="bigint"){var x=(0,o.int)(_);return x.greaterThanOrEqual(this._minInteger)&&x.lessThanOrEqual(this._maxInteger)}return _>=this._minNumber&&_<=this._maxNumber},g.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},g}();function c(g,_,x){g=(0,o.int)(g),_=(0,o.int)(_),x=(0,o.int)(x);var P=g.multiply(365);return P=(P=(P=g.greaterThanOrEqual(0)?P.add(g.add(3).div(4).subtract(g.add(99).div(100)).add(g.add(399).div(400))):P.subtract(g.div(-4).subtract(g.div(-100)).add(g.div(-400)))).add(_.multiply(367).subtract(362).div(12))).add(x.subtract(1)),_.greaterThan(2)&&(P=P.subtract(1),function(I){return!(!(I=(0,o.int)(I)).modulo(4).equals(0)||I.modulo(100).equals(0)&&!I.modulo(400).equals(0))}(g)||(P=P.subtract(1))),P.subtract(e.DAYS_0000_TO_1970)}e.YEAR_RANGE=new l(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new l(1,12),e.DAY_OF_MONTH_RANGE=new l(1,31),e.HOUR_OF_DAY_RANGE=new l(0,23),e.MINUTE_OF_HOUR_RANGE=new l(0,59),e.SECOND_OF_MINUTE_RANGE=new l(0,59),e.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400,e.normalizeSecondsForDuration=function(g,_){return(0,o.int)(g).add(v(_,e.NANOS_PER_SECOND))},e.normalizeNanosecondsForDuration=function(g){return y(g,e.NANOS_PER_SECOND)},e.localTimeToNanoOfDay=function(g,_,x,P){g=(0,o.int)(g),_=(0,o.int)(_),x=(0,o.int)(x),P=(0,o.int)(P);var I=g.multiply(e.NANOS_PER_HOUR);return(I=(I=I.add(_.multiply(e.NANOS_PER_MINUTE))).add(x.multiply(e.NANOS_PER_SECOND))).add(P)},e.localDateTimeToEpochSecond=function(g,_,x,P,I,T,A){var D=c(g,_,x),N=function(j,B,W){j=(0,o.int)(j),B=(0,o.int)(B),W=(0,o.int)(W);var V=j.multiply(e.SECONDS_PER_HOUR);return(V=V.add(B.multiply(e.SECONDS_PER_MINUTE))).add(W)}(P,I,T);return D.multiply(e.SECONDS_PER_DAY).add(N)},e.dateToEpochDay=c,e.durationToIsoString=function(g,_,x,P){var I=b(g),T=b(_),A=function(D,N){var j,B;D=(0,o.int)(D),N=(0,o.int)(N);var W=D.isNegative(),V=N.greaterThan(0);return j=W&&V?D.equals(-1)?"-0":D.add(1).toString():D.toString(),V&&(B=w(W?N.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND):N.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),B!=null?j+B:j}(x,P);return"P".concat(I,"M").concat(T,"DT").concat(A,"S")},e.timeToIsoString=function(g,_,x,P){var I=b(g,2),T=b(_,2),A=b(x,2),D=w(P);return"".concat(I,":").concat(T,":").concat(A).concat(D)},e.timeZoneOffsetToIsoString=function(g){if((g=(0,o.int)(g)).equals(0))return"Z";var _=g.isNegative();_&&(g=g.multiply(-1));var x=_?"-":"+",P=b(g.div(e.SECONDS_PER_HOUR),2),I=b(g.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),T=g.modulo(e.SECONDS_PER_MINUTE),A=T.equals(0)?null:b(T,2);return A!=null?"".concat(x).concat(P,":").concat(I,":").concat(A):"".concat(x).concat(P,":").concat(I)},e.dateToIsoString=function(g,_,x){var P=function(A){var D=(0,o.int)(A);return D.isNegative()||D.greaterThan(9999)?b(D,6,{usePositiveSign:!0}):b(D,4)}(g),I=b(_,2),T=b(x,2);return"".concat(P,"-").concat(I,"-").concat(T)},e.isoStringToStandardDate=function(g){return new Date(g)},e.toStandardDate=function(g){return new Date(g)},e.newDate=function(g){return new Date(g)},e.totalNanoseconds=function(g,_){return x=_=_??0,P=g.getMilliseconds()*e.NANOS_PER_MILLISECOND,x instanceof o.default?x.add(P):typeof x=="bigint"?x+BigInt(P):x+P;var x,P},e.timeZoneOffsetInSeconds=function(g){var _=g.getSeconds()>=g.getUTCSeconds()?g.getSeconds()-g.getUTCSeconds():g.getSeconds()-g.getUTCSeconds()+60,x=g.getTimezoneOffset();return x===0?0+_:-1*x*e.SECONDS_PER_MINUTE+_},e.assertValidYear=function(g){return d(g,e.YEAR_RANGE,"Year")},e.assertValidMonth=function(g){return d(g,e.MONTH_OF_YEAR_RANGE,"Month")},e.assertValidDay=function(g){return d(g,e.DAY_OF_MONTH_RANGE,"Day")},e.assertValidHour=function(g){return d(g,e.HOUR_OF_DAY_RANGE,"Hour")},e.assertValidMinute=function(g){return d(g,e.MINUTE_OF_HOUR_RANGE,"Minute")},e.assertValidSecond=function(g){return d(g,e.SECOND_OF_MINUTE_RANGE,"Second")},e.assertValidNanosecond=function(g){return d(g,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var f=new Map,h=function(g,_){return(0,s.newError)("".concat(_,' is expected to be a valid ZoneId but was: "').concat(g,'"'))};function d(g,_,x){if((0,u.assertNumberOrInteger)(g,x),!_.contains(g))throw(0,s.newError)("".concat(x," is expected to be in range ").concat(_.toString()," but was: ").concat(g.toString()));return g}function v(g,_){g=(0,o.int)(g),_=(0,o.int)(_);var x=g.div(_);return g.isPositive()!==_.isPositive()&&x.multiply(_).notEquals(g)&&(x=x.subtract(1)),x}function y(g,_){return g=(0,o.int)(g),_=(0,o.int)(_),g.subtract(v(g,_).multiply(_))}function w(g){return(g=(0,o.int)(g)).equals(0)?"":"."+b(g,9)}function b(g,_,x){var P=(g=(0,o.int)(g)).isNegative();P&&(g=g.negate());var I=g.toString();if(_!=null)for(;I.length<_;)I="0"+I;return P?"-"+I:(x==null?void 0:x.usePositiveSign)===!0?"+"+I:I}e.assertValidZoneId=function(g,_){var x=f.get(_);if(x!==!0){if(x===!1)throw h(_,g);try{Intl.DateTimeFormat(void 0,{timeZone:_}),f.set(_,!0)}catch{throw f.set(_,!1),h(_,g)}}},e.floorDiv=v,e.floorMod=y},6189:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(v){for(var y,w=1,b=arguments.length;w<b;w++)for(var g in y=arguments[w])Object.prototype.hasOwnProperty.call(y,g)&&(v[g]=y[g]);return v},n.apply(this,arguments)},i=this&&this.__awaiter||function(v,y,w,b){return new(w||(w=Promise))(function(g,_){function x(T){try{I(b.next(T))}catch(A){_(A)}}function P(T){try{I(b.throw(T))}catch(A){_(A)}}function I(T){var A;T.done?g(T.value):(A=T.value,A instanceof w?A:new w(function(D){D(A)})).then(x,P)}I((b=b.apply(v,y||[])).next())})},a=this&&this.__generator||function(v,y){var w,b,g,_,x={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return _={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function P(I){return function(T){return function(A){if(w)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(x=0)),x;)try{if(w=1,b&&(g=2&A[0]?b.return:A[0]?b.throw||((g=b.return)&&g.call(b),0):b.next)&&!(g=g.call(b,A[1])).done)return g;switch(b=0,g&&(A=[2&A[0],g.value]),A[0]){case 0:case 1:g=A;break;case 4:return x.label++,{value:A[1],done:!1};case 5:x.label++,b=A[1],A=[0];continue;case 7:A=x.ops.pop(),x.trys.pop();continue;default:if(!((g=(g=x.trys).length>0&&g[g.length-1])||A[0]!==6&&A[0]!==2)){x=0;continue}if(A[0]===3&&(!g||A[1]>g[0]&&A[1]<g[3])){x.label=A[1];break}if(A[0]===6&&x.label<g[1]){x.label=g[1],g=A;break}if(g&&x.label<g[2]){x.label=g[2],x.ops.push(A);break}g[2]&&x.ops.pop(),x.trys.pop();continue}A=y.call(v,x)}catch(D){A=[6,D],b=0}finally{w=g=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([I,T])}}},o=this&&this.__read||function(v,y){var w=typeof Symbol=="function"&&v[Symbol.iterator];if(!w)return v;var b,g,_=w.call(v),x=[];try{for(;(y===void 0||y-- >0)&&!(b=_.next()).done;)x.push(b.value)}catch(P){g={error:P}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(g)throw g.error}}return x},s=this&&this.__spreadArray||function(v,y,w){if(w||arguments.length===2)for(var b,g=0,_=y.length;g<_;g++)!b&&g in y||(b||(b=Array.prototype.slice.call(y,0,g)),b[g]=y[g]);return v.concat(b||Array.prototype.slice.call(y))};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionExecutor=void 0;var u=t(9691),l=t(326);function c(v,y){for(var w=[],b=2;b<arguments.length;b++)w[b-2]=arguments[b];return setTimeout.apply(void 0,s([v,y],o(w),!1))}function f(v){return clearTimeout(v)}var h=function(){function v(y,w,b,g,_){_===void 0&&(_={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=d(y,3e4),this._initialRetryDelayMs=d(w,1e3),this._multiplier=d(b,2),this._jitterFactor=d(g,.2),this._setTimeout=_.setTimeout,this._clearTimeout=_.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return v.prototype.execute=function(y,w,b){var g=this,_={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){_.apiTransactionConfig=void 0}}};return new Promise(function(x,P){g._executeTransactionInsidePromise(y,w,x,P,b,_).catch(P)}).catch(function(x){var P=Date.now(),I=g._initialRetryDelayMs;return g._retryTransactionPromise(y,w,x,P,I,b,_)})},v.prototype.close=function(){var y=this;this._inFlightTimeoutIds.forEach(function(w){return y._clearTimeout(w)}),this._inFlightTimeoutIds=[]},v.prototype._retryTransactionPromise=function(y,w,b,g,_,x,P){var I=this;return Date.now()-g>this._maxRetryTimeMs||!(0,u.isRetriableError)(b)?Promise.reject(b):new Promise(function(T,A){var D=I._computeDelayWithJitter(_),N=I._setTimeout(function(){I._inFlightTimeoutIds=I._inFlightTimeoutIds.filter(function(j){return j!==N}),I._executeTransactionInsidePromise(y,w,T,A,x,P).catch(A)},D);I._inFlightTimeoutIds.push(N)}).catch(function(T){var A=_*I._multiplier;return I._retryTransactionPromise(y,w,T,g,A,x,P)})},v.prototype._executeTransactionInsidePromise=function(y,w,b,g,_,x){return i(this,void 0,void 0,function(){var P,I,T,A,D,N,j=this;return a(this,function(B){switch(B.label){case 0:return B.trys.push([0,4,,5]),I=y((x==null?void 0:x.apiTransactionConfig)!=null?n({},x==null?void 0:x.apiTransactionConfig):void 0),this.pipelineBegin?(T=I,[3,3]):[3,1];case 1:return[4,I];case 2:T=B.sent(),B.label=3;case 3:return P=T,[3,5];case 4:return A=B.sent(),g(A),[2];case 5:return D=_??function(W){return W},N=D(P),this._safeExecuteTransactionWork(N,w).then(function(W){return j._handleTransactionWorkSuccess(W,P,b,g)}).catch(function(W){return j._handleTransactionWorkFailure(W,P,g)}),[2]}})})},v.prototype._safeExecuteTransactionWork=function(y,w){try{var b=w(y);return Promise.resolve(b)}catch(g){return Promise.reject(g)}},v.prototype._handleTransactionWorkSuccess=function(y,w,b,g){w.isOpen()?w.commit().then(function(){b(y)}).catch(function(_){g(_)}):b(y)},v.prototype._handleTransactionWorkFailure=function(y,w,b){w.isOpen()?w.rollback().catch(function(g){}).then(function(){return b(y)}).catch(b):b(y)},v.prototype._computeDelayWithJitter=function(y){var w=y*this._jitterFactor,b=y-w,g=y+w;return Math.random()*(g-b)+b},v.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,u.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,u.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,u.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,u.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},v}();function d(v,y){return v??y}e.TransactionExecutor=h},754:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,h,d,v){v===void 0&&(v=d);var y=Object.getOwnPropertyDescriptor(h,d);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,v,y)}:function(f,h,d,v){v===void 0&&(v=d),f[v]=h[d]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&n(h,f,d);return i(h,f),h};Object.defineProperty(e,"__esModule",{value:!0}),e.TxConfig=void 0;var o=a(t(6587)),s=t(9691),u=t(3371),l=function(){function f(h,d){(function(v){v!=null&&o.assertObject(v,"Transaction config")})(h),this.timeout=function(v,y){if(o.isObject(v)&&v.timeout!=null){o.assertNumberOrInteger(v.timeout,"Transaction timeout"),function(b){return typeof b.timeout=="number"&&!Number.isInteger(b.timeout)}(v)&&(y==null?void 0:y.isInfoEnabled())===!0&&(y==null||y.info("Transaction timeout expected to be an integer, got: ".concat(v.timeout,". The value will be rounded up.")));var w=(0,u.int)(v.timeout,{ceilFloat:!0});if(w.isNegative())throw(0,s.newError)("Transaction timeout should not be negative");return w}return null}(h,d),this.metadata=function(v){if(o.isObject(v)&&v.metadata!=null){var y=v.metadata;if(o.assertObject(y,"config.metadata"),Object.keys(y).length!==0)return y}return null}(h)}return f.empty=function(){return c},f.prototype.isEmpty=function(){return Object.values(this).every(function(h){return h==null})},f}();e.TxConfig=l;var c=new l({})},407:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++)for(var v in f=arguments[h])Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)w.push(d.value)}catch(b){v={error:b}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return w};Object.defineProperty(e,"__esModule",{value:!0}),e.Url=e.formatIPv6Address=e.formatIPv4Address=e.defaultPortForScheme=e.parseDatabaseUrl=void 0;var a=t(6587),o=function(c,f,h,d,v){this.scheme=c,this.host=f,this.port=h,this.hostAndPort=d,this.query=v};function s(c,f,h){if((c=(c??"").trim())==="")throw new Error("Illegal empty ".concat(f," in URL query '").concat(h,"'"));return c}function u(c){var f=c.charAt(0)==="[",h=c.charAt(c.length-1)==="]";if(f||h){if(f&&h)return c;throw new Error("Illegal IPv6 address ".concat(c))}return"[".concat(c,"]")}function l(c){return c==="http"?7474:c==="https"?7473:7687}e.Url=o,e.parseDatabaseUrl=function(c){var f;(0,a.assertString)(c,"URL");var h,d=function(P){return(P=P.trim()).includes("://")?{schemeMissing:!1,url:P}:{schemeMissing:!0,url:"none://".concat(P)}}(c),v=function(P){function I(D,N){var j=D.indexOf(N);return j>=0?[D.substring(0,j),D[j],D.substring(j+1)]:[D,"",""]}var T,A={};return(T=I(P,":"))[1]===":"&&(A.scheme=decodeURIComponent(T[0]),P=T[2]),(T=I(P,"#"))[1]==="#"&&(A.fragment=decodeURIComponent(T[2]),P=T[0]),(T=I(P,"?"))[1]==="?"&&(A.query=T[2],P=T[0]),P.startsWith("//")?(T=I(P.substr(2),"/"),(A=n(n({},A),function(D){var N,j,B,W,V={};(j=D,B="@",W=j.lastIndexOf(B),N=W>=0?[j.substring(0,W),j[W],j.substring(W+1)]:["","",j])[1]==="@"&&(V.userInfo=decodeURIComponent(N[0]),D=N[2]);var J=i(function(re,de,pe){var fe=I(re,de),ye=I(fe[2],pe);return[ye[0],ye[2]]}(D,"[","]"),2),ee=J[0],te=J[1];return ee!==""?(V.host=ee,N=I(te,":")):(N=I(D,":"),V.host=N[0]),N[1]===":"&&(V.port=N[2]),V}(T[0]))).path=T[1]+T[2]):A.path=P,A}(d.url),y=d.schemeMissing?null:function(P){return P!=null?((P=P.trim()).charAt(P.length-1)===":"&&(P=P.substring(0,P.length-1)),P):null}(v.scheme),w=function(P,I){if(P==null)throw new Error("Unable to extract host from null or undefined URL");return P.trim()}(v.host),b=function(P){if(P===""||P==null)throw new Error("Illegal host ".concat(P));return P.includes(":")?u(P):P}(w),g=function(P,I){var T=typeof P=="string"?parseInt(P,10):P;return T==null||isNaN(T)?l(I):T}(v.port,y),_="".concat(b,":").concat(g),x=function(P,I){var T=P!=null?function(D){return((D=(D??"").trim())==null?void 0:D.charAt(0))==="?"&&(D=D.substring(1,D.length)),D}(P):null,A={};return T!=null&&T.split("&").forEach(function(D){var N=D.split("=");if(N.length!==2)throw new Error("Invalid parameters: '".concat(N.toString(),"' in URL '").concat(I,"'."));var j=s(N[0],"key",I),B=s(N[1],"value",I);if(A[j]!==void 0)throw new Error("Duplicated query parameters with key '".concat(j,"' in URL '").concat(I,"'"));A[j]=B}),A}((f=v.query)!==null&&f!==void 0?f:typeof(h=v.resourceName)!="string"?null:i(h.split("?"),2)[1],c);return new o(y,w,g,_,x)},e.formatIPv4Address=function(c,f){return"".concat(c,":").concat(f)},e.formatIPv6Address=function(c,f){var h=u(c);return"".concat(h,":").concat(f)},e.defaultPortForScheme=l},6587:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(h,d,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(d,v);w&&!("get"in w?!d.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(h,y,w)}:function(h,d,v,y){y===void 0&&(y=v),h[y]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),a=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&n(d,h,v);return i(d,h),d},o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&h[d],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ENCRYPTION_OFF=e.ENCRYPTION_ON=e.equals=e.validateQueryAndParameters=e.toNumber=e.assertValidDate=e.assertNumberOrInteger=e.assertNumber=e.assertString=e.assertObject=e.isString=e.isObject=e.isEmptyObjectOrNull=void 0;var s=a(t(3371)),u=t(4027);function l(h){return typeof h=="object"&&!Array.isArray(h)&&h!==null}function c(h,d){if(!f(h))throw new TypeError((0,u.stringify)(d)+" expected to be string but was: "+(0,u.stringify)(h));return h}function f(h){return Object.prototype.toString.call(h)==="[object String]"}e.ENCRYPTION_ON="ENCRYPTION_ON",e.ENCRYPTION_OFF="ENCRYPTION_OFF",e.isEmptyObjectOrNull=function(h){if(h===null)return!0;if(!l(h))return!1;for(var d in h)if(h[d]!==void 0)return!1;return!0},e.isObject=l,e.validateQueryAndParameters=function(h,d,v){var y,w,b="",g=d??{},_=(y=v==null?void 0:v.skipAsserts)!==null&&y!==void 0&&y;return typeof h=="string"?b=h:h instanceof String?b=h.toString():typeof h=="object"&&h.text!=null&&(b=h.text,g=(w=h.parameters)!==null&&w!==void 0?w:{}),_||(function(x){if(c(x,"Cypher query"),x.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}(b),function(x){if(!l(x)){var P=x.constructor!=null?" "+x.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(P," ").concat(JSON.stringify(x)))}}(g)),{validatedQuery:b,params:g}},e.assertObject=function(h,d){if(!l(h))throw new TypeError(d+" expected to be an object but was: "+(0,u.stringify)(h));return h},e.assertString=c,e.assertNumber=function(h,d){if(typeof h!="number")throw new TypeError(d+" expected to be a number but was: "+(0,u.stringify)(h));return h},e.assertNumberOrInteger=function(h,d){if(typeof h!="number"&&typeof h!="bigint"&&!(0,s.isInt)(h))throw new TypeError(d+" expected to be either a number or an Integer object but was: "+(0,u.stringify)(h));return h},e.assertValidDate=function(h,d){if(Object.prototype.toString.call(h)!=="[object Date]")throw new TypeError(d+" expected to be a standard JavaScript Date but was: "+(0,u.stringify)(h));if(Number.isNaN(h.getTime()))throw new TypeError(d+" expected to be valid JavaScript Date but its time was NaN: "+(0,u.stringify)(h));return h},e.isString=f,e.equals=function h(d,v){var y,w;if(d===v)return!0;if(d===null||v===null)return!1;if(typeof d=="object"&&typeof v=="object"){var b=Object.keys(d),g=Object.keys(v);if(b.length!==g.length)return!1;try{for(var _=o(b),x=_.next();!x.done;x=_.next()){var P=x.value;if(!h(d[P],v[P]))return!1}}catch(I){y={error:I}}finally{try{x&&!x.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}return!0}return!1},e.toNumber=function(h){return h instanceof s.default?h.toNumber():typeof h=="bigint"?(0,s.int)(h).toNumber():h}},4027:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;var n=t(93);e.stringify=function(i,a){return JSON.stringify(i,function(o,s){return(0,n.isBrokenObject)(s)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(s)}:typeof s=="bigint"?"".concat(s,"n"):(a==null?void 0:a.useCustomToString)!==!0||typeof s!="object"||Array.isArray(s)||typeof s.toString!="function"||s.toString===Object.prototype.toString?s:s==null?void 0:s.toString()})}},1985:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationFilterMinimumSeverityLevel=void 0;var t={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};e.notificationFilterMinimumSeverityLevel=t,Object.freeze(t);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};e.notificationFilterDisabledCategory=n,Object.freeze(n);var i=n;e.notificationFilterDisabledClassification=i,e.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},1866:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(B){for(var W,V=1,J=arguments.length;V<J;V++)for(var ee in W=arguments[V])Object.prototype.hasOwnProperty.call(W,ee)&&(B[ee]=W[ee]);return B},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(B,W,V,J){J===void 0&&(J=V);var ee=Object.getOwnPropertyDescriptor(W,V);ee&&!("get"in ee?!W.__esModule:ee.writable||ee.configurable)||(ee={enumerable:!0,get:function(){return W[V]}}),Object.defineProperty(B,J,ee)}:function(B,W,V,J){J===void 0&&(J=V),B[J]=W[V]}),a=this&&this.__setModuleDefault||(Object.create?function(B,W){Object.defineProperty(B,"default",{enumerable:!0,value:W})}:function(B,W){B.default=W}),o=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var W={};if(B!=null)for(var V in B)V!=="default"&&Object.prototype.hasOwnProperty.call(B,V)&&i(W,B,V);return a(W,B),W},s=this&&this.__read||function(B,W){var V=typeof Symbol=="function"&&B[Symbol.iterator];if(!V)return B;var J,ee,te=V.call(B),re=[];try{for(;(W===void 0||W-- >0)&&!(J=te.next()).done;)re.push(J.value)}catch(de){ee={error:de}}finally{try{J&&!J.done&&(V=te.return)&&V.call(te)}finally{if(ee)throw ee.error}}return re},u=this&&this.__spreadArray||function(B,W,V){if(V||arguments.length===2)for(var J,ee=0,te=W.length;ee<te;ee++)!J&&ee in W||(J||(J=Array.prototype.slice.call(W,0,ee)),J[ee]=W[ee]);return B.concat(J||Array.prototype.slice.call(W))};Object.defineProperty(e,"__esModule",{value:!0}),e.buildNotificationsFromMetadata=e.buildGqlStatusObjectFromMetadata=e.polyfillNotification=e.polyfillGqlStatusObject=e.GqlStatusObject=e.Notification=e.notificationClassification=e.notificationCategory=e.notificationSeverityLevel=void 0;var l=o(t(4027)),c=t(6995),f=t(1053),h={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},d={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};e.notificationSeverityLevel=d,Object.freeze(d);var v=Object.values(d),y={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};e.notificationCategory=y,Object.freeze(y);var w=Object.values(y),b=y;e.notificationClassification=b;var g=function(B){this.code=B.code,this.title=B.title,this.description=B.description,this.severity=B.severity,this.position=D(B.position),this.severityLevel=N(B.severity),this.rawSeverityLevel=B.severity,this.category=j(B.category),this.rawCategory=B.category};e.Notification=g;var _=function(){function B(W){var V;this.gqlStatus=W.gql_status,this.statusDescription=W.status_description,this.diagnosticRecord=(V=W.diagnostic_record)!==null&&V!==void 0?V:{},this.position=this.diagnosticRecord._position!=null?D(this.diagnosticRecord._position):void 0,this.severity=N(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=j(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=W.neo4j_code!=null,Object.freeze(this)}return Object.defineProperty(B.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),B}();function x(B){var W,V,J;if(B.neo4j_code!=null)return new g({code:B.neo4j_code,title:B.title,description:B.description,severity:(W=B.diagnostic_record)===null||W===void 0?void 0:W._severity,category:(V=B.diagnostic_record)===null||V===void 0?void 0:V._classification,position:(J=B.diagnostic_record)===null||J===void 0?void 0:J._position})}function P(B){var W,V=B.severity===d.WARNING?h.WARNING:h.INFORMATION,J={gql_status:V.gql_status,status_description:(W=B.description)!==null&&W!==void 0?W:V.status_description,neo4j_code:B.code,title:B.title,diagnostic_record:n({},f.rawPolyfilledDiagnosticRecord)};return B.severity!=null&&(J.diagnostic_record._severity=B.severity),B.category!=null&&(J.diagnostic_record._classification=B.category),B.position!=null&&(J.diagnostic_record._position=B.position),new _(J)}e.GqlStatusObject=_,e.polyfillNotification=x,e.polyfillGqlStatusObject=P;var I={SUCCESS:new _({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new _({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new _(n(n({},h.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new _({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(I),e.buildGqlStatusObjectFromMetadata=function(B){var W,V;if(B.statuses!=null)return B.statuses.map(function(te){return new _(te)});var J,ee=((J=B.stream_summary)==null?void 0:J.have_records_streamed)===!0?I.SUCCESS:(J==null?void 0:J.has_keys)===!1?I.OMITTED_RESULT:(J==null?void 0:J.pulled)===!0?I.NO_DATA:I.NO_DATA_UNKNOWN_SUBCONDITION;return u([ee],s((V=(W=B.notifications)===null||W===void 0?void 0:W.map(P))!==null&&V!==void 0?V:[]),!1).sort(function(te,re){return A(te)-A(re)})};var T=Object.freeze({"02":0,"01":1,"00":2});function A(B){var W,V,J=(W=B.gqlStatus)===null||W===void 0?void 0:W.slice(0,2);return(V=T[J])!==null&&V!==void 0?V:9999}function D(B){return B==null?{}:{offset:c.util.toNumber(B.offset),line:c.util.toNumber(B.line),column:c.util.toNumber(B.column)}}function N(B){return v.includes(B)?B:d.UNKNOWN}function j(B){return w.includes(B)?B:b.UNKNOWN}e.buildNotificationsFromMetadata=function(B){return B.notifications!=null?B.notifications.map(function(W){return new g(W)}):B.statuses!=null?B.statuses.map(x).filter(function(W){return W!=null}):[]},e.default=g},4820:function(r,e,t){var n=this&&this.__generator||function(u,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(w){return function(b){return function(g){if(c)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(v=0)),v;)try{if(c=1,f&&(h=2&g[0]?f.return:g[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,g[1])).done)return h;switch(f=0,h&&(g=[2&g[0],h.value]),g[0]){case 0:case 1:h=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,f=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!h||g[1]>h[0]&&g[1]<h[3])){v.label=g[1];break}if(g[0]===6&&v.label<h[1]){v.label=h[1],h=g;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(g);break}h[2]&&v.ops.pop(),v.trys.pop();continue}g=l.call(u,v)}catch(_){g=[6,_],f=0}finally{c=h=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([w,b])}}},i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&u[l],f=0;if(c)return c.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&f>=u.length&&(u=void 0),{value:u&&u[f++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,h,d=c.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9691),s=function(){function u(l,c,f){this.keys=l,this.length=l.length,this._fields=c,this._fieldLookup=f??function(h){var d={};return h.forEach(function(v,y){d[v]=y}),d}(l)}return u.prototype.forEach=function(l){var c,f;try{for(var h=i(this.entries()),d=h.next();!d.done;d=h.next()){var v=a(d.value,2),y=v[0];l(v[1],y,this)}}catch(w){c={error:w}}finally{try{d&&!d.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}},u.prototype.map=function(l){var c,f,h=[];try{for(var d=i(this.entries()),v=d.next();!v.done;v=d.next()){var y=a(v.value,2),w=y[0],b=y[1];h.push(l(b,w,this))}}catch(g){c={error:g}}finally{try{v&&!v.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}return h},u.prototype.entries=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,[this.keys[l],this._fields[l]]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype.values=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype[Symbol.iterator]=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype.toObject=function(){var l,c,f={};try{for(var h=i(this.entries()),d=h.next();!d.done;d=h.next()){var v=a(d.value,2),y=v[0],w=v[1];f[y]=w}}catch(b){l={error:b}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}return f},u.prototype.get=function(l){var c;if(typeof l!="number"){if((c=this._fieldLookup[l])===void 0)throw(0,o.newError)("This record has no field with key '".concat(l.toString(),"', available keys are: [")+this.keys.toString()+"].")}else c=l;if(c>this._fields.length-1||c<0)throw(0,o.newError)("This record has no field with index '"+c.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[c]},u.prototype.has=function(l){return typeof l=="number"?l>=0&&l<this._fields.length:this._fieldLookup[l]!==void 0},u}();e.default=s},8917:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,i){this.keys=t,this.records=n,this.summary=i}},6033:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ServerInfo=e.queryType=void 0;var n=t(6995),i=t(1866),a=function(){function f(h,d,v,y){var w,b,g;this.query={text:h,parameters:d},this.queryType=v.type,this.counters=new u((w=v.stats)!==null&&w!==void 0?w:{}),this.updateStatistics=this.counters,this.plan=(v.plan!=null||v.profile!=null)&&new o((b=v.plan)!==null&&b!==void 0?b:v.profile),this.profile=v.profile!=null&&new s(v.profile),this.notifications=(0,i.buildNotificationsFromMetadata)(v),this.gqlStatusObjects=(0,i.buildGqlStatusObjectFromMetadata)(v),this.server=new l(v.server,y),this.resultConsumedAfter=v.result_consumed_after,this.resultAvailableAfter=v.result_available_after,this.database={name:(g=v.db)!==null&&g!==void 0?g:null}}return f.prototype.hasPlan=function(){return this.plan instanceof o},f.prototype.hasProfile=function(){return this.profile instanceof s},f}(),o=function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.children=h.children!=null?h.children.map(function(d){return new f(d)}):[]};e.Plan=o;var s=function(){function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.dbHits=c("dbHits",h),this.rows=c("rows",h),this.pageCacheMisses=c("pageCacheMisses",h),this.pageCacheHits=c("pageCacheHits",h),this.pageCacheHitRatio=c("pageCacheHitRatio",h),this.time=c("time",h),this.children=h.children!=null?h.children.map(function(d){return new f(d)}):[]}return f.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},f}();e.ProfiledPlan=s,e.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var u=function(){function f(h){var d=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(h).forEach(function(v){var y=v.replace(/(-\w)/g,function(w){return w[1].toUpperCase()});y in d._stats?d._stats[y]=n.util.toNumber(h[v]):y==="systemUpdates"?d._systemUpdates=n.util.toNumber(h[v]):y==="containsSystemUpdates"?d._containsSystemUpdates=h[v]:y==="containsUpdates"&&(d._containsUpdates=h[v])}),this._stats=Object.freeze(this._stats)}return f.prototype.containsUpdates=function(){var h=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(d,v){return d+h._stats[v]},0)>0},f.prototype.updates=function(){return this._stats},f.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},f.prototype.systemUpdates=function(){return this._systemUpdates},f}();e.QueryStatistics=u;var l=function(f,h){f!=null&&(this.address=f.address,this.agent=f.version),this.protocolVersion=h};function c(f,h,d){if(d===void 0&&(d=0),h!==!1&&f in h){var v=h[f];return n.util.toNumber(v)}return d}e.ServerInfo=l,e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},e.default=a},1573:function(r,e,t){var n=this&&this.__awaiter||function(d,v,y,w){return new(y||(y=Promise))(function(b,g){function _(I){try{P(w.next(I))}catch(T){g(T)}}function x(I){try{P(w.throw(I))}catch(T){g(T)}}function P(I){var T;I.done?b(I.value):(T=I.value,T instanceof y?T:new y(function(A){A(T)})).then(_,x)}P((w=w.apply(d,v||[])).next())})},i=this&&this.__generator||function(d,v){var y,w,b,g,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(P){return function(I){return function(T){if(y)throw new TypeError("Generator is already executing.");for(;g&&(g=0,T[0]&&(_=0)),_;)try{if(y=1,w&&(b=2&T[0]?w.return:T[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,T[1])).done)return b;switch(w=0,b&&(T=[2&T[0],b.value]),T[0]){case 0:case 1:b=T;break;case 4:return _.label++,{value:T[1],done:!1};case 5:_.label++,w=T[1],T=[0];continue;case 7:T=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||T[0]!==6&&T[0]!==2)){_=0;continue}if(T[0]===3&&(!b||T[1]>b[0]&&T[1]<b[3])){_.label=T[1];break}if(T[0]===6&&_.label<b[1]){_.label=b[1],b=T;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(T);break}b[2]&&_.ops.pop(),_.trys.pop();continue}T=v.call(d,_)}catch(A){T=[6,A],w=0}finally{y=b=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([P,I])}}},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(8917)),s=t(9691),u=new(function(){function d(){}return d.prototype.eagerResultTransformer=function(){return l},d.prototype.eager=function(){return l},d.prototype.mappedResultTransformer=function(v){return c(v)},d.prototype.mapped=function(v){return c(v)},d.prototype.first=function(){return f},d.prototype.summary=function(){return h},d}());function l(d){return n(this,void 0,void 0,function(){var v,y,w,b;return i(this,function(g){switch(g.label){case 0:return[4,d];case 1:return v=g.sent(),y=v.summary,w=v.records,[4,d.keys()];case 2:return b=g.sent(),[2,new o.default(b,w,y)]}})})}function c(d){var v=this;if(d==null||d.collect==null&&d.map==null)throw(0,s.newError)("Requires a map or/and a collect functions.");return function(y){return n(v,void 0,void 0,function(){return i(this,function(w){switch(w.label){case 0:return[4,new Promise(function(b,g){var _={records:[],keys:[]};y.subscribe({onKeys:function(x){_.keys=x},onNext:function(x){if(d.map!=null){var P=d.map(x);P!==void 0&&_.records.push(P)}else _.records.push(x)},onCompleted:function(x){if(d.collect!=null)b(d.collect(_.records,x,_.keys));else{var P={records:_.records,summary:x,keys:_.keys};b(P)}},onError:function(x){g(x)}})})];case 1:return[2,w.sent()]}})})}}function f(d){return n(this,void 0,void 0,function(){var v,y,w,b;return i(this,function(g){switch(g.label){case 0:return[4,(v=d[Symbol.asyncIterator]()).next()];case 1:y=g.sent(),w=y.value,b=y.done,g.label=2;case 2:return g.trys.push([2,,3,6]),b===!0?[2,void 0]:[2,w];case 3:return v.return==null?[3,5]:[4,v.return()];case 4:g.sent(),g.label=5;case 5:return[7];case 6:return[2]}})})}function h(d){return n(this,void 0,void 0,function(){return i(this,function(v){switch(v.label){case 0:return[4,d.summary()];case 1:return[2,v.sent()]}})})}Object.freeze(u),e.default=u},9512:function(r,e,t){var n,i=this&&this.__awaiter||function(y,w,b,g){return new(b||(b=Promise))(function(_,x){function P(A){try{T(g.next(A))}catch(D){x(D)}}function I(A){try{T(g.throw(A))}catch(D){x(D)}}function T(A){var D;A.done?_(A.value):(D=A.value,D instanceof b?D:new b(function(N){N(D)})).then(P,I)}T((g=g.apply(y,w||[])).next())})},a=this&&this.__generator||function(y,w){var b,g,_,x,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return x={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function I(T){return function(A){return function(D){if(b)throw new TypeError("Generator is already executing.");for(;x&&(x=0,D[0]&&(P=0)),P;)try{if(b=1,g&&(_=2&D[0]?g.return:D[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,D[1])).done)return _;switch(g=0,_&&(D=[2&D[0],_.value]),D[0]){case 0:case 1:_=D;break;case 4:return P.label++,{value:D[1],done:!1};case 5:P.label++,g=D[1],D=[0];continue;case 7:D=P.ops.pop(),P.trys.pop();continue;default:if(!((_=(_=P.trys).length>0&&_[_.length-1])||D[0]!==6&&D[0]!==2)){P=0;continue}if(D[0]===3&&(!_||D[1]>_[0]&&D[1]<_[3])){P.label=D[1];break}if(D[0]===6&&P.label<_[1]){P.label=_[1],_=D;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(D);break}_[2]&&P.ops.pop(),P.trys.pop();continue}D=w.call(y,P)}catch(N){D=[6,N],g=0}finally{b=_=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([T,A])}}},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6033)),u=t(6995),l=t(9691),c=u.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(y){""+y},h=function(y){},d=function(y){},v=function(){function y(w,b,g,_,x){var P;x===void 0&&(x={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=(P=new Error("")).stack!=null?P.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=w,this._p=null,this._query=b,this._parameters=g??{},this._connectionHolder=_??c,this._keys=null,this._summary=null,this._error=null,this._watermarks=x}return y.prototype.keys=function(){var w=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(b,g){w._streamObserverPromise.then(function(_){return _.subscribe(w._decorateObserver({onKeys:function(x){return b(x)},onError:function(x){return g(x)}}))}).catch(g)})},y.prototype.summary=function(){var w=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(b,g){w._streamObserverPromise.then(function(_){_.cancel(),_.subscribe(w._decorateObserver({onCompleted:function(x){return b(x)},onError:function(x){return g(x)}}))}).catch(g)})},y.prototype._getOrCreatePromise=function(){var w=this;return this._p==null&&(this._p=new Promise(function(b,g){var _=[],x={onNext:function(P){_.push(P)},onCompleted:function(P){b({records:_,summary:P})},onError:function(P){g(P)}};w.subscribe(x)})),this._p},y.prototype[Symbol.asyncIterator]=function(){var w=this;if(!this.isOpen()){var b=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(b)},peek:function(){return Promise.reject(b)}}}var g={paused:!0,firstRun:!0,finished:!1},_=function(){var I,T;if(g.streaming!=null){var A=(T=(I=g.queuedObserver)===null||I===void 0?void 0:I.size)!==null&&T!==void 0?T:0,D=A>=w._watermarks.high,N=A<=w._watermarks.low;D&&!g.paused?(g.paused=!0,g.streaming.pause()):(N&&g.paused||g.firstRun&&!D)&&(g.firstRun=!1,g.paused=!1,g.streaming.resume())}},x=function(){return i(w,void 0,void 0,function(){var I;return a(this,function(T){switch(T.label){case 0:return g.queuedObserver!==void 0?[3,2]:(g.queuedObserver=this._createQueuedResultObserver(_),I=g,[4,this._subscribe(g.queuedObserver,!0).catch(function(){})]);case 1:I.streaming=T.sent(),_(),T.label=2;case 2:return[2,g.queuedObserver]}})})},P=function(I){if(I===void 0)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return i(w,void 0,void 0,function(){var I;return a(this,function(T){switch(T.label){case 0:return g.finished&&P(g.summary)?[2,{done:!0,value:g.summary}]:[4,x()];case 1:return[4,T.sent().dequeue()];case 2:return(I=T.sent()).done===!0&&(g.finished=I.done,g.summary=I.value),[2,I]}})})},return:function(I){return i(w,void 0,void 0,function(){var T,A;return a(this,function(D){switch(D.label){case 0:return g.finished&&P(g.summary)?[2,{done:!0,value:I??g.summary}]:((A=g.streaming)===null||A===void 0||A.cancel(),[4,x()]);case 1:return[4,D.sent().dequeueUntilDone()];case 2:return T=D.sent(),g.finished=!0,T.value=I??T.value,g.summary=T.value,[2,T]}})})},peek:function(){return i(w,void 0,void 0,function(){return a(this,function(I){switch(I.label){case 0:return g.finished&&P(g.summary)?[2,{done:!0,value:g.summary}]:[4,x()];case 1:return[4,I.sent().head()];case 2:return[2,I.sent()]}})})}}},y.prototype.then=function(w,b){return this._getOrCreatePromise().then(w,b)},y.prototype.catch=function(w){return this._getOrCreatePromise().catch(w)},y.prototype.finally=function(w){return this._getOrCreatePromise().finally(w)},y.prototype.subscribe=function(w){this._subscribe(w).catch(function(){})},y.prototype.isOpen=function(){return this._summary===null&&this._error===null},y.prototype._subscribe=function(w,b){b===void 0&&(b=!1);var g=this._decorateObserver(w);return this._streamObserverPromise.then(function(_){return b&&_.pause(),_.subscribe(g),_}).catch(function(_){return g.onError!=null&&g.onError(_),Promise.reject(_)})},y.prototype._decorateObserver=function(w){var b,g,_,x=this,P=(b=w.onCompleted)!==null&&b!==void 0?b:h,I=(g=w.onError)!==null&&g!==void 0?g:f,T=(_=w.onKeys)!==null&&_!==void 0?_:d;return{onNext:w.onNext!=null?w.onNext.bind(w):void 0,onKeys:function(A){return x._keys=A,T.call(w,A)},onCompleted:function(A){x._releaseConnectionAndGetSummary(A).then(function(D){return x._summary!==null?P.call(w,x._summary):(x._summary=D,P.call(w,D))}).catch(I)},onError:function(A){x._connectionHolder.releaseConnection().then(function(){(function(D,N){N!=null&&(D.stack=D.toString()+`
`+N)})(A,x._stack),x._error=A,I.call(w,A)}).catch(I)}}},y.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(w){return w.cancel()}).catch(function(){})},y.prototype._releaseConnectionAndGetSummary=function(w){var b=u.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),g=b.validatedQuery,_=b.params,x=this._connectionHolder;return x.getConnection().then(function(P){return x.releaseConnection().then(function(){return P==null?void 0:P.getProtocolVersion()})},function(P){}).then(function(P){return new s.default(g,_,w,P)})},y.prototype._createQueuedResultObserver=function(w){var b=this;function g(){var A={};return A.promise=new Promise(function(D,N){A.resolve=D,A.reject=N}),A}function _(A){return A instanceof Error}function x(){var A;return i(this,void 0,void 0,function(){var D;return a(this,function(N){switch(N.label){case 0:if(P.length>0){if(D=(A=P.shift())!==null&&A!==void 0?A:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),w(),_(D))throw D;return[2,D]}return I.resolvable=g(),[4,I.resolvable.promise];case 1:return[2,N.sent()]}})})}var P=[],I={resolvable:null},T={onNext:function(A){T._push({done:!1,value:A})},onCompleted:function(A){T._push({done:!0,value:A})},onError:function(A){T._push(A)},_push:function(A){if(I.resolvable!==null){var D=I.resolvable;I.resolvable=null,_(A)?D.reject(A):D.resolve(A)}else P.push(A),w()},dequeue:x,dequeueUntilDone:function(){return i(b,void 0,void 0,function(){var A;return a(this,function(D){switch(D.label){case 0:return[4,x()];case 1:return(A=D.sent()).done===!0?[2,A]:[3,0];case 2:return[2]}})})},head:function(){return i(b,void 0,void 0,function(){var A,D;return a(this,function(N){switch(N.label){case 0:if(P.length>0){if(_(A=P[0]))throw A;return[2,A]}I.resolvable=g(),N.label=1;case 1:return N.trys.push([1,3,4,5]),[4,I.resolvable.promise];case 2:return A=N.sent(),P.unshift(A),[2,A];case 3:throw D=N.sent(),P.unshift(D),D;case 4:return w(),[7];case 5:return[2]}})})},get size(){return P.length}};return T},y}();n=Symbol.toStringTag,e.default=v},5481:function(r,e,t){var n=this&&this.__awaiter||function(x,P,I,T){return new(I||(I=Promise))(function(A,D){function N(W){try{B(T.next(W))}catch(V){D(V)}}function j(W){try{B(T.throw(W))}catch(V){D(V)}}function B(W){var V;W.done?A(W.value):(V=W.value,V instanceof I?V:new I(function(J){J(V)})).then(N,j)}B((T=T.apply(x,P||[])).next())})},i=this&&this.__generator||function(x,P){var I,T,A,D,N={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return D={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function j(B){return function(W){return function(V){if(I)throw new TypeError("Generator is already executing.");for(;D&&(D=0,V[0]&&(N=0)),N;)try{if(I=1,T&&(A=2&V[0]?T.return:V[0]?T.throw||((A=T.return)&&A.call(T),0):T.next)&&!(A=A.call(T,V[1])).done)return A;switch(T=0,A&&(V=[2&V[0],A.value]),V[0]){case 0:case 1:A=V;break;case 4:return N.label++,{value:V[1],done:!1};case 5:N.label++,T=V[1],V=[0];continue;case 7:V=N.ops.pop(),N.trys.pop();continue;default:if(!((A=(A=N.trys).length>0&&A[A.length-1])||V[0]!==6&&V[0]!==2)){N=0;continue}if(V[0]===3&&(!A||V[1]>A[0]&&V[1]<A[3])){N.label=V[1];break}if(V[0]===6&&N.label<A[1]){N.label=A[1],A=V;break}if(A&&N.label<A[2]){N.label=A[2],N.ops.push(V);break}A[2]&&N.ops.pop(),N.trys.pop();continue}V=P.call(x,N)}catch(J){V=[6,J],T=0}finally{I=A=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([B,W])}}},a=this&&this.__read||function(x,P){var I=typeof Symbol=="function"&&x[Symbol.iterator];if(!I)return x;var T,A,D=I.call(x),N=[];try{for(;(P===void 0||P-- >0)&&!(T=D.next()).done;)N.push(T.value)}catch(j){A={error:j}}finally{try{T&&!T.done&&(I=D.return)&&I.call(D)}finally{if(A)throw A.error}}return N},o=this&&this.__spreadArray||function(x,P,I){if(I||arguments.length===2)for(var T,A=0,D=P.length;A<D;A++)!T&&A in P||(T||(T=Array.prototype.slice.call(P,0,A)),T[A]=P[A]);return x.concat(T||Array.prototype.slice.call(P))},s=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var u=t(2696),l=t(6587),c=t(326),f=t(9691),h=s(t(9512)),d=t(3618),v=t(6189),y=t(9730),w=t(754),b=s(t(4569)),g=s(t(5909)),_=function(){function x(P){var I=P.mode,T=P.connectionProvider,A=P.bookmarks,D=P.database,N=P.config,j=P.reactive,B=P.fetchSize,W=P.impersonatedUser,V=P.bookmarkManager,J=P.notificationFilter,ee=P.auth,te=P.log;this._mode=I,this._database=D,this._reactive=j,this._fetchSize=B,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new d.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:ee,database:D,bookmarks:A,connectionProvider:T,impersonatedUser:W,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:te}),this._writeConnectionHolder=new d.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:ee,database:D,bookmarks:A,connectionProvider:T,impersonatedUser:W,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:te}),this._open=!0,this._hasTx=!1,this._impersonatedUser=W,this._lastBookmarks=A??y.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(de){var pe,fe=(pe=de==null?void 0:de.maxTransactionRetryTime)!==null&&pe!==void 0?pe:null;return new v.TransactionExecutor(fe)}(N),this._databaseNameResolved=this._database!=="";var re=this._calculateWatermaks();this._lowRecordWatermark=re.low,this._highRecordWatermark=re.high,this._results=[],this._bookmarkManager=V,this._notificationFilter=J,this._log=te}return x.prototype.run=function(P,I,T){var A=this,D=(0,l.validateQueryAndParameters)(P,I),N=D.validatedQuery,j=D.params,B=T!=null?new w.TxConfig(T,this._log):w.TxConfig.empty(),W=this._run(N,j,function(V){return n(A,void 0,void 0,function(){var J,ee=this;return i(this,function(te){switch(te.label){case 0:return[4,this._bookmarks()];case 1:return J=te.sent(),this._assertSessionIsOpen(),[2,V.run(N,j,{bookmarks:J,txConfig:B,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(re){return ee._onCompleteCallback(re,J)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push(W),W},x.prototype._run=function(P,I,T){var A=this._acquireAndConsumeConnection(T),D=A.connectionHolder,N=A.resultPromise.catch(function(B){return Promise.resolve(new u.FailedObserver({error:B}))}),j={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new h.default(N,P,I,D,j)},x.prototype._acquireConnection=function(P){var I=this,T=this._acquireAndConsumeConnection(P),A=T.connectionHolder;return T.resultPromise.then(function(D){return n(I,void 0,void 0,function(){return i(this,function(N){switch(N.label){case 0:return[4,A.releaseConnection()];case 1:return N.sent(),[2,D]}})})})},x.prototype._acquireAndConsumeConnection=function(P){var I,T=this._connectionHolderWithMode(this._mode);return I=this._open?!this._hasTx&&T.initializeConnection()?T.getConnection().then(function(A){return P(A)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:T,resultPromise:I}},x.prototype.beginTransaction=function(P){var I=P,T=w.TxConfig.empty();return I!=null&&(T=new w.TxConfig(I,this._log)),this._beginTransaction(this._mode,T,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},x.prototype._beginTransaction=function(P,I,T){var A=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var D=x._validateSessionMode(P),N=this._connectionHolderWithMode(D);N.initializeConnection(),this._hasTx=!0;var j=new b.default({connectionHolder:N,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(B,W,V){return A._updateBookmarks(B,W,V)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:T});return j._begin(function(){return A._bookmarks()},I),j},x.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},x.prototype._transactionClosed=function(){this._hasTx=!1},x.prototype.lastBookmark=function(){return this.lastBookmarks()},x.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},x.prototype._bookmarks=function(){var P;return n(this,void 0,void 0,function(){var I;return i(this,function(T){switch(T.label){case 0:return[4,(P=this._bookmarkManager)===null||P===void 0?void 0:P.getBookmarks()];case 1:return(I=T.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(o(o([],a(I),!1),a(this._configuredBookmarks),!1))]}})})},x.prototype.readTransaction=function(P,I){var T=new w.TxConfig(I,this._log);return this._runTransaction(c.ACCESS_MODE_READ,T,P)},x.prototype.writeTransaction=function(P,I){var T=new w.TxConfig(I,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,T,P)},x.prototype._runTransaction=function(P,I,T){var A=this;return this._transactionExecutor.execute(function(D){return A._beginTransaction(P,I,D)},T)},x.prototype.executeRead=function(P,I){var T=new w.TxConfig(I,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,T,P)},x.prototype.executeWrite=function(P,I){var T=new w.TxConfig(I,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,T,P)},x.prototype._executeInTransaction=function(P,I,T){var A=this;return this._transactionExecutor.execute(function(D){return A._beginTransaction(P,I,D)},T,g.default.fromTransaction)},x.prototype._onDatabaseNameResolved=function(P){if(!this._databaseNameResolved){var I=P??"";this._database=I,this._readConnectionHolder.setDatabase(I),this._writeConnectionHolder.setDatabase(I),this._databaseNameResolved=!0}},x.prototype._getConnectionAcquistionBookmarks=function(){var P;return n(this,void 0,void 0,function(){var I;return i(this,function(T){switch(T.label){case 0:return[4,(P=this._bookmarkManager)===null||P===void 0?void 0:P.getBookmarks()];case 1:return(I=T.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(o(o([],a(this._configuredBookmarks),!1),a(I),!1))]}})})},x.prototype._updateBookmarks=function(P,I,T){var A,D,N;P==null||P.isEmpty()||((A=this._bookmarkManager)===null||A===void 0||A.updateBookmarks((D=I==null?void 0:I.values())!==null&&D!==void 0?D:[],(N=P==null?void 0:P.values())!==null&&N!==void 0?N:[]).catch(function(){}),this._lastBookmarks=P,this._configuredBookmarks=y.Bookmarks.empty())},x.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(P){switch(P.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(I){return I._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return P.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:P.sent(),P.label=3;case 3:return[2]}})})},x.prototype[Symbol.asyncDispose]=function(){return this.close()},x.prototype._connectionHolderWithMode=function(P){if(P===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(P===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+P)},x.prototype._onCompleteCallback=function(P,I){this._updateBookmarks(new y.Bookmarks(P.bookmark),I,P.db)},x.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},x.prototype._configureTransactionExecutor=function(P,I){this._transactionExecutor.pipelineBegin=P,this._transactionExecutor.telemetryApi=I},x._validateSessionMode=function(P){var I=P??c.ACCESS_MODE_WRITE;if(I!==c.ACCESS_MODE_READ&&I!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+I);return I},x}();e.default=_},7093:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=e.Point=void 0;var n=t(6587),i="__isPoint__",a=function(){function s(u,l,c,f){this.srid=(0,n.assertNumberOrInteger)(u,"SRID"),this.x=(0,n.assertNumber)(l,"X coordinate"),this.y=(0,n.assertNumber)(c,"Y coordinate"),this.z=f==null?f:(0,n.assertNumber)(f,"Z coordinate"),Object.freeze(this)}return s.prototype.toString=function(){return this.z==null||isNaN(this.z)?"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),"}"):"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),", z=").concat(o(this.z),"}")},s}();function o(s){return Number.isInteger(s)?s.toString()+".0":s.toString()}e.Point=a,Object.defineProperty(a.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1}),e.isPoint=function(s){return s!=null&&s[i]===!0}},5459:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(j,B,W,V){V===void 0&&(V=W);var J=Object.getOwnPropertyDescriptor(B,W);J&&!("get"in J?!B.__esModule:J.writable||J.configurable)||(J={enumerable:!0,get:function(){return B[W]}}),Object.defineProperty(j,V,J)}:function(j,B,W,V){V===void 0&&(V=W),j[V]=B[W]}),i=this&&this.__setModuleDefault||(Object.create?function(j,B){Object.defineProperty(j,"default",{enumerable:!0,value:B})}:function(j,B){j.default=B}),a=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var B={};if(j!=null)for(var W in j)W!=="default"&&Object.prototype.hasOwnProperty.call(j,W)&&n(B,j,W);return i(B,j),B},o=this&&this.__read||function(j,B){var W=typeof Symbol=="function"&&j[Symbol.iterator];if(!W)return j;var V,J,ee=W.call(j),te=[];try{for(;(B===void 0||B-- >0)&&!(V=ee.next()).done;)te.push(V.value)}catch(re){J={error:re}}finally{try{V&&!V.done&&(W=ee.return)&&W.call(ee)}finally{if(J)throw J.error}}return te};Object.defineProperty(e,"__esModule",{value:!0}),e.isDateTime=e.DateTime=e.isLocalDateTime=e.LocalDateTime=e.isDate=e.Date=e.isTime=e.Time=e.isLocalTime=e.LocalTime=e.isDuration=e.Duration=void 0;var s=a(t(5022)),u=t(6587),l=t(9691),c=a(t(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},h="__isDuration__",d="__isLocalTime__",v="__isTime__",y="__isDate__",w="__isLocalDateTime__",b="__isDateTime__",g=function(){function j(B,W,V,J){this.months=(0,u.assertNumberOrInteger)(B,"Months"),this.days=(0,u.assertNumberOrInteger)(W,"Days"),(0,u.assertNumberOrInteger)(V,"Seconds"),(0,u.assertNumberOrInteger)(J,"Nanoseconds"),this.seconds=s.normalizeSecondsForDuration(V,J),this.nanoseconds=s.normalizeNanosecondsForDuration(J),Object.freeze(this)}return j.prototype.toString=function(){return s.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},j}();e.Duration=g,Object.defineProperty(g.prototype,h,f),e.isDuration=function(j){return A(j,h)};var _=function(){function j(B,W,V,J){this.hour=s.assertValidHour(B),this.minute=s.assertValidMinute(W),this.second=s.assertValidSecond(V),this.nanosecond=s.assertValidNanosecond(J),Object.freeze(this)}return j.fromStandardDate=function(B,W){N(B,W);var V=s.totalNanoseconds(B,W);return new j(B.getHours(),B.getMinutes(),B.getSeconds(),V instanceof c.default?V.toInt():typeof V=="bigint"?(0,c.int)(V).toInt():V)},j.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},j}();e.LocalTime=_,Object.defineProperty(_.prototype,d,f),e.isLocalTime=function(j){return A(j,d)};var x=function(){function j(B,W,V,J,ee){this.hour=s.assertValidHour(B),this.minute=s.assertValidMinute(W),this.second=s.assertValidSecond(V),this.nanosecond=s.assertValidNanosecond(J),this.timeZoneOffsetSeconds=(0,u.assertNumberOrInteger)(ee,"Time zone offset in seconds"),Object.freeze(this)}return j.fromStandardDate=function(B,W){return N(B,W),new j(B.getHours(),B.getMinutes(),B.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(B,W)),s.timeZoneOffsetInSeconds(B))},j.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+s.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},j}();e.Time=x,Object.defineProperty(x.prototype,v,f),e.isTime=function(j){return A(j,v)};var P=function(){function j(B,W,V){this.year=s.assertValidYear(B),this.month=s.assertValidMonth(W),this.day=s.assertValidDay(V),Object.freeze(this)}return j.fromStandardDate=function(B){return N(B),new j(B.getFullYear(),B.getMonth()+1,B.getDate())},j.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},j.prototype.toString=function(){return s.dateToIsoString(this.year,this.month,this.day)},j}();e.Date=P,Object.defineProperty(P.prototype,y,f),e.isDate=function(j){return A(j,y)};var I=function(){function j(B,W,V,J,ee,te,re){this.year=s.assertValidYear(B),this.month=s.assertValidMonth(W),this.day=s.assertValidDay(V),this.hour=s.assertValidHour(J),this.minute=s.assertValidMinute(ee),this.second=s.assertValidSecond(te),this.nanosecond=s.assertValidNanosecond(re),Object.freeze(this)}return j.fromStandardDate=function(B,W){return N(B,W),new j(B.getFullYear(),B.getMonth()+1,B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(B,W)))},j.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},j.prototype.toString=function(){return D(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},j}();e.LocalDateTime=I,Object.defineProperty(I.prototype,w,f),e.isLocalDateTime=function(j){return A(j,w)};var T=function(){function j(B,W,V,J,ee,te,re,de,pe){this.year=s.assertValidYear(B),this.month=s.assertValidMonth(W),this.day=s.assertValidDay(V),this.hour=s.assertValidHour(J),this.minute=s.assertValidMinute(ee),this.second=s.assertValidSecond(te),this.nanosecond=s.assertValidNanosecond(re);var fe=o(function(Ne,ke){var je=Ne!=null,xe=ke!=null&&ke!=="";if(!je&&!xe)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(Ne," and id: ").concat(ke));var Se=[void 0,void 0];return je&&((0,u.assertNumberOrInteger)(Ne,"Time zone offset in seconds"),Se[0]=Ne),xe&&((0,u.assertString)(ke,"Time zone ID"),s.assertValidZoneId("Time zone ID",ke),Se[1]=ke),Se}(de,pe),2),ye=fe[0],Me=fe[1];this.timeZoneOffsetSeconds=ye,this.timeZoneId=Me??void 0,Object.freeze(this)}return j.fromStandardDate=function(B,W){return N(B,W),new j(B.getFullYear(),B.getMonth()+1,B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(B,W)),s.timeZoneOffsetInSeconds(B),null)},j.prototype.toStandardDate=function(){return s.toStandardDate(this._toUTC())},j.prototype.toString=function(){var B;return D(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneOffsetSeconds!=null?s.timeZoneOffsetToIsoString((B=this.timeZoneOffsetSeconds)!==null&&B!==void 0?B:0):"")+(this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"")},j.prototype._toUTC=function(){var B;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var W=s.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract((B=this.timeZoneOffsetSeconds)!==null&&B!==void 0?B:0);return(0,c.int)(W).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},j}();function A(j,B){return j!=null&&j[B]===!0}function D(j,B,W,V,J,ee,te){return s.dateToIsoString(j,B,W)+"T"+s.timeToIsoString(V,J,ee,te)}function N(j,B){(0,u.assertValidDate)(j,"Standard date"),B!=null&&(0,u.assertNumberOrInteger)(B,"Nanosecond")}e.DateTime=T,Object.defineProperty(T.prototype,b,f),e.isDateTime=function(j){return A(j,b)}},5909:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){var a=i.run;this._run=a}return n.fromTransaction=function(i){return new n({run:i.run.bind(i)})},n.prototype.run=function(i,a){return this._run(i,a)},n}();e.default=t},4569:function(r,e,t){var n,i,a=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}),o=this&&this.__assign||function(){return o=Object.assign||function(l){for(var c,f=1,h=arguments.length;f<h;f++)for(var d in c=arguments[f])Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d]);return l},o.apply(this,arguments)},s=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(l){function c(f){var h=f.connectionHolder,d=f.onClose,v=f.onBookmarks,y=f.onConnection,w=f.reactive,b=f.fetchSize,g=f.impersonatedUser,_=f.highRecordWatermark,x=f.lowRecordWatermark,P=f.notificationFilter,I=f.apiTelemetryConfig,T=l.call(this,{connectionHolder:h,onClose:d,onBookmarks:v,onConnection:y,reactive:w,fetchSize:b,impersonatedUser:g,highRecordWatermark:_,lowRecordWatermark:x,notificationFilter:P,apiTelemetryConfig:I})||this;return T[i]="TransactionPromise",T}return a(c,l),c.prototype.then=function(f,h){return this._getOrCreateBeginPromise().then(f,h)},c.prototype.catch=function(f){return this._getOrCreateBeginPromise().catch(f)},c.prototype.finally=function(f){return this._getOrCreateBeginPromise().finally(f)},c.prototype._getOrCreateBeginPromise=function(){var f=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(h,d){f._resolve=h,f._reject=d,f._beginError!=null&&d(f._beginError),f._beginMetadata!=null&&h(f._toTransaction())})),this._beginPromise},c.prototype._toTransaction=function(){return o(o({},this),{run:l.prototype.run.bind(this),commit:l.prototype.commit.bind(this),rollback:l.prototype.rollback.bind(this),close:l.prototype.close.bind(this),isOpen:l.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},c.prototype._begin=function(f,h){return l.prototype._begin.call(this,f,h,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},c.prototype._onBeginError=function(f){this._beginError=f,this._reject!=null&&this._reject(f)},c.prototype._onBeginMetadata=function(f){this._beginMetadata=f??{},this._resolve!=null&&this._resolve(this._toTransaction())},c}(s(t(9473)).default);i=Symbol.toStringTag,e.default=u},9473:function(r,e,t){var n=this&&this.__awaiter||function(b,g,_,x){return new(_||(_=Promise))(function(P,I){function T(N){try{D(x.next(N))}catch(j){I(j)}}function A(N){try{D(x.throw(N))}catch(j){I(j)}}function D(N){var j;N.done?P(N.value):(j=N.value,j instanceof _?j:new _(function(B){B(j)})).then(T,A)}D((x=x.apply(b,g||[])).next())})},i=this&&this.__generator||function(b,g){var _,x,P,I,T={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return I={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function A(D){return function(N){return function(j){if(_)throw new TypeError("Generator is already executing.");for(;I&&(I=0,j[0]&&(T=0)),T;)try{if(_=1,x&&(P=2&j[0]?x.return:j[0]?x.throw||((P=x.return)&&P.call(x),0):x.next)&&!(P=P.call(x,j[1])).done)return P;switch(x=0,P&&(j=[2&j[0],P.value]),j[0]){case 0:case 1:P=j;break;case 4:return T.label++,{value:j[1],done:!1};case 5:T.label++,x=j[1],j=[0];continue;case 7:j=T.ops.pop(),T.trys.pop();continue;default:if(!((P=(P=T.trys).length>0&&P[P.length-1])||j[0]!==6&&j[0]!==2)){T=0;continue}if(j[0]===3&&(!P||j[1]>P[0]&&j[1]<P[3])){T.label=j[1];break}if(j[0]===6&&T.label<P[1]){T.label=P[1],P=j;break}if(P&&T.label<P[2]){T.label=P[2],T.ops.push(j);break}P[2]&&T.ops.pop(),T.trys.pop();continue}j=g.call(b,T)}catch(B){j=[6,B],x=0}finally{_=P=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([D,N])}}},a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(6587),s=t(3618),u=t(9730),l=t(754),c=t(2696),f=t(9691),h=a(t(9512)),d=function(){function b(g){var _=g.connectionHolder,x=g.onClose,P=g.onBookmarks,I=g.onConnection,T=g.reactive,A=g.fetchSize,D=g.impersonatedUser,N=g.highRecordWatermark,j=g.lowRecordWatermark,B=g.notificationFilter,W=g.apiTelemetryConfig,V=this;this._connectionHolder=_,this._reactive=T,this._state=v.ACTIVE,this._onClose=x,this._onBookmarks=P,this._onConnection=I,this._onError=this._onErrorCallback.bind(this),this._fetchSize=A,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=D,this._lowRecordWatermak=j,this._highRecordWatermark=N,this._bookmarks=u.Bookmarks.empty(),this._notificationFilter=B,this._apiTelemetryConfig=W,this._acceptActive=function(){},this._activePromise=new Promise(function(J,ee){V._acceptActive=J})}return b.prototype._begin=function(g,_,x){var P=this;this._connectionHolder.getConnection().then(function(I){return n(P,void 0,void 0,function(){var T,A=this;return i(this,function(D){switch(D.label){case 0:return this._onConnection(),I==null?[3,2]:(T=this,[4,g()]);case 1:return T._bookmarks=D.sent(),[2,I.beginTransaction({bookmarks:this._bookmarks,txConfig:_,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(N){x!=null&&x.onError(N),A._onError(N).catch(function(){})},afterComplete:function(N){x!=null&&x.onComplete(N),A._onComplete(N)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(I){x!=null&&x.onError(I),P._onError(I).catch(function(){})}).finally(function(){return P._acceptActive()})},b.prototype.run=function(g,_){var x=(0,o.validateQueryAndParameters)(g,_),P=x.validatedQuery,I=x.params,T=this._state.run(P,I,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(T),T},b.prototype.commit=function(){var g=this,_=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(x){return g._onCompleteCallback(x,g._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=_.state,this._onClose(),new Promise(function(x,P){_.result.subscribe({onCompleted:function(){return x()},onError:function(I){return P(I)}})})},b.prototype.rollback=function(){var g=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=g.state,this._onClose(),new Promise(function(_,x){g.result.subscribe({onCompleted:function(){return _()},onError:function(P){return x(P)}})})},b.prototype.isOpen=function(){return this._state===v.ACTIVE},b.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(g){switch(g.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})},b.prototype[Symbol.asyncDispose]=function(){return this.close()},b.prototype._onErrorCallback=function(g){return this._state===v.FAILED?Promise.resolve(null):(this._state=v.FAILED,this._onClose(),this._results.forEach(function(_){_.isOpen()&&_._streamObserverPromise.then(function(x){return x.onError(g)}).catch(function(x){})}),this._connectionHolder.releaseConnection())},b.prototype._onCompleteCallback=function(g,_){this._onBookmarks(new u.Bookmarks(g==null?void 0:g.bookmark),_??u.Bookmarks.empty(),g==null?void 0:g.db)},b}(),v={ACTIVE:{commit:function(b){return{result:y(!0,b.connectionHolder,b.onError,b.onComplete,b.onConnection,b.pendingResults,b.preparationJob),state:v.SUCCEEDED}},rollback:function(b){return{result:y(!1,b.connectionHolder,b.onError,b.onComplete,b.onConnection,b.pendingResults,b.preparationJob),state:v.ROLLED_BACK}},run:function(b,g,_){var x=_.connectionHolder,P=_.onError,I=_.onComplete,T=_.onConnection,A=_.reactive,D=_.fetchSize,N=_.highRecordWatermark,j=_.lowRecordWatermark,B=_.preparationJob,W=B??Promise.resolve();return w(x.getConnection().then(function(V){return W.then(function(){return V})}).then(function(V){if(T(),V!=null)return V.run(b,g,{bookmarks:u.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:P,afterComplete:I,reactive:A,fetchSize:D,highRecordWatermark:N,lowRecordWatermark:j});throw(0,f.newError)("No connection available")}).catch(function(V){return new c.FailedObserver({error:V,onError:P})}),b,g,x,N,j)}},FAILED:{commit:function(b){var g=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:_}),"COMMIT",{},g,0,0),state:v.FAILED}},rollback:function(b){var g=b.connectionHolder;return b.onError,b.onComplete,{result:w(new c.CompletedObserver,"ROLLBACK",{},g,0,0),state:v.FAILED}},run:function(b,g,_){var x=_.connectionHolder,P=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:P}),b,g,x,0,0)}},SUCCEEDED:{commit:function(b){var g=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:_}),"COMMIT",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:v.SUCCEEDED,connectionHolder:g}},rollback:function(b){var g=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:_}),"ROLLBACK",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:v.SUCCEEDED,connectionHolder:g}},run:function(b,g,_){var x=_.connectionHolder,P=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:P}),b,g,x,0,0)}},ROLLED_BACK:{commit:function(b){var g=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:_}),"COMMIT",{},g,0,0),state:v.ROLLED_BACK}},rollback:function(b){var g=b.connectionHolder;return b.onError,b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},g,0,0),state:v.ROLLED_BACK}},run:function(b,g,_){var x=_.connectionHolder,P=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:P}),b,g,x,0,0)}}};function y(b,g,_,x,P,I,T){var A=T??Promise.resolve(),D=g.getConnection().then(function(N){return A.then(function(){return N})}).then(function(N){return P(),I.forEach(function(j){return j._cancel()}),Promise.all(I.map(function(j){return j.summary()})).then(function(j){if(N!=null)return b?N.commitTransaction({beforeError:_,afterComplete:x}):N.rollbackTransaction({beforeError:_,afterComplete:x});throw(0,f.newError)("No connection available")})}).catch(function(N){return new c.FailedObserver({error:N,onError:_})});return new h.default(D,b?"COMMIT":"ROLLBACK",{},g,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function w(b,g,_,x,P,I){return x===void 0&&(x=s.EMPTY_CONNECTION_HOLDER),new h.default(Promise.resolve(b),g,_,new s.ReadOnlyConnectionHolder(x??s.EMPTY_CONNECTION_HOLDER),{low:I,high:P})}e.default=d},6872:function(r,e){var t,n=this&&this.__extends||(t=function(o,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},t(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}t(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.InternalConfig=e.Config=void 0;var i=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};e.Config=i;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return n(s,o),s}(i);e.InternalConfig=a},7857:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.WRITE=e.READ=e.Driver=void 0;var o=t(9305),s=a(t(3466)),u=o.internal.constants.FETCH_ALL,l=o.driver.READ,c=o.driver.WRITE;e.READ=l,e.WRITE=c;var f=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),v.prototype.rxSession=function(y){var w=y===void 0?{}:y,b=w.defaultAccessMode,g=b===void 0?c:b,_=w.bookmarks,x=w.database,P=x===void 0?"":x,I=w.fetchSize,T=w.impersonatedUser,A=w.bookmarkManager,D=w.notificationFilter,N=w.auth;return new s.default({session:this._newSession({defaultAccessMode:g,bookmarkOrBookmarks:_,database:P,impersonatedUser:T,auth:N,reactive:!1,fetchSize:h(I,this._config.fetchSize),bookmarkManager:A,notificationFilter:D,log:this._log}),config:this._config,log:this._log})},v}(o.Driver);function h(d,v){var y=parseInt(d,10);if(y>0||y===u)return y;if(y===0||y<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(y));return v}e.Driver=f,e.default=f},1187:function(r,e,t){var n=this&&this.__awaiter||function(J,ee,te,re){return new(te||(te=Promise))(function(de,pe){function fe(Ne){try{Me(re.next(Ne))}catch(ke){pe(ke)}}function ye(Ne){try{Me(re.throw(Ne))}catch(ke){pe(ke)}}function Me(Ne){var ke;Ne.done?de(Ne.value):(ke=Ne.value,ke instanceof te?ke:new te(function(je){je(ke)})).then(fe,ye)}Me((re=re.apply(J,ee||[])).next())})},i=this&&this.__generator||function(J,ee){var te,re,de,pe,fe={label:0,sent:function(){if(1&de[0])throw de[1];return de[1]},trys:[],ops:[]};return pe={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function ye(Me){return function(Ne){return function(ke){if(te)throw new TypeError("Generator is already executing.");for(;pe&&(pe=0,ke[0]&&(fe=0)),fe;)try{if(te=1,re&&(de=2&ke[0]?re.return:ke[0]?re.throw||((de=re.return)&&de.call(re),0):re.next)&&!(de=de.call(re,ke[1])).done)return de;switch(re=0,de&&(ke=[2&ke[0],de.value]),ke[0]){case 0:case 1:de=ke;break;case 4:return fe.label++,{value:ke[1],done:!1};case 5:fe.label++,re=ke[1],ke=[0];continue;case 7:ke=fe.ops.pop(),fe.trys.pop();continue;default:if(!((de=(de=fe.trys).length>0&&de[de.length-1])||ke[0]!==6&&ke[0]!==2)){fe=0;continue}if(ke[0]===3&&(!de||ke[1]>de[0]&&ke[1]<de[3])){fe.label=ke[1];break}if(ke[0]===6&&fe.label<de[1]){fe.label=de[1],de=ke;break}if(de&&fe.label<de[2]){fe.label=de[2],fe.ops.push(ke);break}de[2]&&fe.ops.pop(),fe.trys.pop();continue}ke=ee.call(J,fe)}catch(je){ke=[6,je],re=0}finally{te=de=0}if(5&ke[0])throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}([Me,Ne])}}},a=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnboundRelationship=e.Relationship=e.Node=e.Record=e.ServerInfo=e.GqlStatusObject=e.Notification=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ResultSummary=e.RxResult=e.RxManagedTransaction=e.RxTransaction=e.RxSession=e.EagerResult=e.Result=e.ManagedTransaction=e.Transaction=e.Session=e.Driver=e.temporal=e.spatial=e.graph=e.error=e.routing=e.session=e.types=e.logging=e.auth=e.isRetryableError=e.Neo4jError=e.integer=e.isUnboundRelationship=e.isRelationship=e.isPathSegment=e.isPath=e.isNode=e.isDateTime=e.isLocalDateTime=e.isDate=e.isTime=e.isLocalTime=e.isDuration=e.isPoint=e.isInt=e.int=e.hasReachableServer=e.driver=e.authTokenManagers=void 0,e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.bookmarkManager=e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=e.Integer=e.Point=e.PathSegment=e.Path=void 0;var o=t(7857);Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return o.Driver}});var s=a(t(3659)),u=t(9305);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return u.authTokenManagers}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(e,"error",{enumerable:!0,get:function(){return u.error}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return u.Integer}}),Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return u.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return u.Point}}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return u.isNode}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return u.isPath}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return u.isPathSegment}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return u.isRelationship}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return u.isTime}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return u.isUnboundRelationship}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return u.Node}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return u.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return u.PathSegment}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return u.Relationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return u.UnboundRelationship}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return u.Record}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return u.ResultSummary}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return u.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return u.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return u.QueryStatistics}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return u.Notification}}),Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return u.GqlStatusObject}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return u.ServerInfo}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(e,"EagerResult",{enumerable:!0,get:function(){return u.EagerResult}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return u.auth}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return u.Session}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return u.Transaction}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return u.ManagedTransaction}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return u.bookmarkManager}}),Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return u.routing}}),Object.defineProperty(e,"resultTransformers",{enumerable:!0,get:function(){return u.resultTransformers}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return u.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return u.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return u.notificationSeverityLevel}}),Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return u.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return u.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return u.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return u.clientCertificateProviders}});var l=t(6672),c=a(t(3466));e.RxSession=c.default;var f=a(t(5742));e.RxTransaction=f.default;var h=a(t(1530));e.RxManagedTransaction=h.default;var d=a(t(3057));e.RxResult=d.default;var v=u.internal.util,y=v.ENCRYPTION_ON,w=v.assertString,b=v.isEmptyObjectOrNull,g=u.internal.serverAddress.ServerAddress,_=u.internal.urlUtil,x="neo4j-javascript/"+s.default;function P(J,ee,te){te===void 0&&(te={}),w(J,"Bolt URL");var re,de=_.parseDatabaseUrl(J),pe=!1,fe=!1;switch(de.scheme){case"bolt":break;case"bolt+s":fe=!0,re="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":fe=!0,re="TRUST_ALL_CERTIFICATES";break;case"neo4j":pe=!0;break;case"neo4j+s":fe=!0,re="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",pe=!0;break;case"neo4j+ssc":fe=!0,re="TRUST_ALL_CERTIFICATES",pe=!0;break;default:throw new Error("Unknown scheme: ".concat(de.scheme))}if(fe){if("encrypted"in te||"trust"in te)throw new Error("Encryption/trust can only be configured either through URL or config, not both");te.encrypted=y,te.trust=re,te.clientCertificate=(0,u.resolveCertificateProvider)(te.clientCertificate)}var ye=function(ke){if(typeof(je=ke)=="object"&&je!=null&&"getToken"in je&&"handleSecurityException"in je&&typeof je.getToken=="function"&&typeof je.handleSecurityException=="function")return ke;var je,xe=ke;return(xe=xe||{}).scheme=xe.scheme||"none",(0,u.staticAuthTokenManager)({authToken:xe})}(ee);te.userAgent=te.userAgent||x,te.boltAgent=u.internal.boltAgent.fromVersion(s.default);var Me=g.fromUrl(de.hostAndPort),Ne={address:Me,typename:pe?"Routing":"Direct",routing:pe};return new o.Driver(Ne,te,function(){if(pe)return function(ke,je,xe,Se){return new l.RoutingConnectionProvider({id:ke,config:je,log:xe,hostNameResolver:Se,authTokenManager:ye,address:Me,userAgent:je.userAgent,boltAgent:je.boltAgent,routingContext:de.query})};if(!b(de.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(J,"'"));return function(ke,je,xe){return new l.DirectConnectionProvider({id:ke,config:je,log:xe,authTokenManager:ye,address:Me,userAgent:je.userAgent,boltAgent:je.boltAgent})}}())}function I(J,ee){return n(this,void 0,void 0,function(){var te;return i(this,function(re){switch(re.label){case 0:te=P(J,{scheme:"none",principal:"",credentials:""},ee),re.label=1;case 1:return re.trys.push([1,,3,5]),[4,te.getNegotiatedProtocolVersion()];case 2:return re.sent(),[2,!0];case 3:return[4,te.close()];case 4:return re.sent(),[7];case 5:return[2]}})})}e.driver=P,e.hasReachableServer=I;var T={console:function(J){return{level:J,logger:function(ee,te){return console.log("".concat(t.g.Date.now()," ").concat(ee.toUpperCase()," ").concat(te))}}}};e.logging=T;var A={Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,PathSegment:u.PathSegment,Path:u.Path,Result:u.Result,EagerResult:u.EagerResult,ResultSummary:u.ResultSummary,Record:u.Record,Point:u.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Integer:u.Integer};e.types=A;var D={READ:o.READ,WRITE:o.WRITE};e.session=D;var N={toNumber:u.toNumber,toString:u.toString,inSafeRange:u.inSafeRange};e.integer=N;var j={isPoint:u.isPoint};e.spatial=j;var B={isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime};e.temporal=B;var W={isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship};e.graph=W;var V={authTokenManagers:u.authTokenManagers,driver:P,hasReachableServer:I,int:u.int,isInt:u.isInt,isPoint:u.isPoint,isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime,isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship,integer:N,Neo4jError:u.Neo4jError,isRetryableError:u.isRetryableError,auth:u.auth,logging:T,types:A,session:D,routing:u.routing,error:u.error,graph:W,spatial:j,temporal:B,Driver:o.Driver,Session:u.Session,Transaction:u.Transaction,ManagedTransaction:u.ManagedTransaction,Result:u.Result,EagerResult:u.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:h.default,RxResult:d.default,ResultSummary:u.ResultSummary,Plan:u.Plan,ProfiledPlan:u.ProfiledPlan,QueryStatistics:u.QueryStatistics,Notification:u.Notification,GqlStatusObject:u.GqlStatusObject,ServerInfo:u.ServerInfo,Record:u.Record,Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,Path:u.Path,PathSegment:u.PathSegment,Point:u.Point,Integer:u.Integer,Duration:u.Duration,LocalTime:u.LocalTime,Time:u.Time,Date:u.Date,LocalDateTime:u.LocalDateTime,DateTime:u.DateTime,bookmarkManager:u.bookmarkManager,resultTransformers:u.resultTransformers,notificationCategory:u.notificationCategory,notificationSeverityLevel:u.notificationSeverityLevel,notificationFilterDisabledCategory:u.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:u.notificationFilterMinimumSeverityLevel,clientCertificateProviders:u.clientCertificateProviders};e.default=V},9823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=t(8813),a=t(9419),o=(n.internal.logger.Logger,n.error.SERVICE_UNAVAILABLE),s=function(){function l(c){var f=c===void 0?{}:c,h=f.maxRetryTimeout,d=h===void 0?3e4:h,v=f.initialDelay,y=v===void 0?1e3:v,w=f.delayMultiplier,b=w===void 0?2:w,g=f.delayJitter,_=g===void 0?.2:g,x=f.logger,P=x===void 0?null:x;this._maxRetryTimeout=u(d,3e4),this._initialDelay=u(y,1e3),this._delayMultiplier=u(b,2),this._delayJitter=u(_,.2),this._logger=P}return l.prototype.retry=function(c){var f=this;return c.pipe((0,a.retryWhen)(function(h){var d=[],v=Date.now(),y=1,w=f._initialDelay;return h.pipe((0,a.mergeMap)(function(b){if(!(0,n.isRetriableError)(b))return(0,i.throwError)(function(){return b});if(d.push(b),y>=2&&Date.now()-v>=f._maxRetryTimeout){var g=(0,n.newError)("Failed after retried for ".concat(y," times in ").concat(f._maxRetryTimeout," ms. Make sure that your database is online and retry again."),o);return g.seenErrors=d,(0,i.throwError)(function(){return g})}var _=f._computeNextDelay(w);return w*=f._delayMultiplier,y++,f._logger&&f._logger.warn("Transaction failed and will be retried in ".concat(_)),(0,i.of)(1).pipe((0,a.delay)(_))}))}))},l.prototype._computeNextDelay=function(c){var f=c*this._delayJitter;return c-f+2*f*Math.random()},l}();function u(l,c){return l||l===0?l:c}e.default=s},3057:function(r,e,t){var n=this&&this.__awaiter||function(c,f,h,d){return new(h||(h=Promise))(function(v,y){function w(_){try{g(d.next(_))}catch(x){y(x)}}function b(_){try{g(d.throw(_))}catch(x){y(x)}}function g(_){var x;_.done?v(_.value):(x=_.value,x instanceof h?x:new h(function(P){P(x)})).then(w,b)}g((d=d.apply(c,f||[])).next())})},i=this&&this.__generator||function(c,f){var h,d,v,y,w={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(g){return function(_){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(w=0)),w;)try{if(h=1,d&&(v=2&x[0]?d.return:x[0]?d.throw||((v=d.return)&&v.call(d),0):d.next)&&!(v=v.call(d,x[1])).done)return v;switch(d=0,v&&(x=[2&x[0],v.value]),x[0]){case 0:case 1:v=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++,d=x[1],x=[0];continue;case 7:x=w.ops.pop(),w.trys.pop();continue;default:if(!((v=(v=w.trys).length>0&&v[v.length-1])||x[0]!==6&&x[0]!==2)){w=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){w.label=x[1];break}if(x[0]===6&&w.label<v[1]){w.label=v[1],v=x;break}if(v&&w.label<v[2]){w.label=v[2],w.ops.push(x);break}v[2]&&w.ops.pop(),w.trys.pop();continue}x=f.call(c,w)}catch(P){x=[6,P],d=0}finally{h=v=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([g,_])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9305),o=t(8813),s=t(9419),u=function(){function c(f,h){var d=f.pipe((0,s.publishReplay)(1),(0,s.refCount)());this._result=d,this._keys=d.pipe((0,s.mergeMap)(function(v){return(0,o.from)(v.keys())}),(0,s.publishReplay)(1),(0,s.refCount)()),this._records=void 0,this._controls=new l,this._summary=new o.ReplaySubject,this._state=h||0}return c.prototype.keys=function(){return this._keys},c.prototype.records=function(){var f=this,h=this._result.pipe((0,s.mergeMap)(function(d){return new o.Observable(function(v){return f._startStreaming({result:d,recordsObserver:v})})}));return h.push=function(){return f._push()},h},c.prototype.consume=function(){var f=this;return this._result.pipe((0,s.mergeMap)(function(h){return new o.Observable(function(d){return f._startStreaming({result:h,summaryObserver:d})})}))},c.prototype.pause=function(){this._controls.pause()},c.prototype.resume=function(){return this._controls.resume()},c.prototype.push=function(){return this._controls.push()},c.prototype._startStreaming=function(f){var h=f===void 0?{}:f,d=h.result,v=h.recordsObserver,y=v===void 0?null:v,w=h.summaryObserver,b=w===void 0?null:w,g=[];return b&&g.push(this._summary.subscribe(b)),this._state<1?(this._state=1,this._setupRecordsStream(d),y?g.push(this._records.subscribe(y)):d._cancel(),g.push({unsubscribe:function(){d._cancel&&d._cancel()}})):y&&y.error((0,a.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){g.forEach(function(_){return _.unsubscribe()})}},c.prototype._toObservable=function(){var f=this;return new o.Observable(function(h){f._result.subscribe({complete:function(){return h.complete()},next:function(d){return h.next(new c(function(v){return new o.Observable(function(y){y.next(v),y.complete()})}(d)),f._state)},error:function(d){return h.error(d)}})})},c.prototype._setupRecordsStream=function(f){var h=this;return this._records||(this._records=function(d,v,y){var w=this;y===void 0&&(y=new l);var b=new o.Subject,g=function(x){return n(w,void 0,void 0,function(){var P,I,T,A;return i(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,4]),y.pushing=!0,[4,x];case 1:return P=D.sent(),I=P.done,T=P.value,I?(b.complete(),v.complete()):(b.next(T),y.paused||g(d.next()).catch(function(){})),[3,4];case 2:return A=D.sent(),b.error(A),v.error(A),[3,4];case 3:return y.pushing=!1,[7];case 4:return[2]}})})};function _(x){return n(this,void 0,void 0,function(){return i(this,function(P){switch(P.label){case 0:return[4,g(d.next(x))];case 1:return P.sent(),[2]}})})}return y.pusher=_,_(),b}(f[Symbol.asyncIterator](),{complete:function(){return n(h,void 0,void 0,function(){var d,v;return i(this,function(y){switch(y.label){case 0:return this._state=2,v=(d=this._summary).next,[4,f.summary()];case 1:return v.apply(d,[y.sent()]),this._summary.complete(),[2]}})})},error:function(d){h._state=2,h._summary.error(d)}},this._controls)),this._records},c}();e.default=u;var l=function(){function c(f){f===void 0&&(f=function(){return n(h,void 0,void 0,function(){return i(this,function(d){return[2]})})});var h=this;this._paused=!1,this._pushing=!1,this._push=f}return c.prototype.pause=function(){this._paused=!0},Object.defineProperty(c.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pushing",{get:function(){return this._pushing},set:function(f){this._pushing=f},enumerable:!1,configurable:!0}),c.prototype.resume=function(){return n(this,void 0,void 0,function(){var f;return i(this,function(h){switch(h.label){case 0:return f=this._paused,this._paused=!1,!f||this._pushing?[3,2]:[4,this._push()];case 1:h.sent(),h.label=2;case 2:return[2]}})})},c.prototype.push=function(){return n(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,f.sent()]}})})},Object.defineProperty(c.prototype,"pusher",{get:function(){return this._push},set:function(f){this._push=f},enumerable:!1,configurable:!0}),c}()},3466:function(r,e,t){var n=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),a=t(9419),o=n(t(3057)),s=t(9305),u=n(t(5742)),l=n(t(1530)),c=n(t(9823)),f=s.internal.constants,h=f.ACCESS_MODE_READ,d=f.ACCESS_MODE_WRITE,v=f.TELEMETRY_APIS,y=s.internal.txConfig.TxConfig,w=function(){function b(g){var _=g===void 0?{}:g,x=_.session,P=_.config,I=_.log;this._session=x,this._retryLogic=function(T){var A=T&&T.maxTransactionRetryTime?T.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:A})}(P),this._log=I}return b.prototype.run=function(g,_,x){var P=this;return new o.default(new i.Observable(function(I){try{I.next(P._session.run(g,_,x)),I.complete()}catch(T){I.error(T)}return function(){}}))},b.prototype.beginTransaction=function(g){return this._beginTransaction(this._session._mode,g,{api:v.UNMANAGED_TRANSACTION})},b.prototype.readTransaction=function(g,_){return this._runTransaction(h,g,_)},b.prototype.writeTransaction=function(g,_){return this._runTransaction(d,g,_)},b.prototype.executeRead=function(g,_){return this._executeInTransaction(h,g,_)},b.prototype.executeWrite=function(g,_){return this._executeInTransaction(d,g,_)},b.prototype._executeInTransaction=function(g,_,x){return this._runTransaction(g,_,x,function(P){return new l.default({run:P.run.bind(P)})})},b.prototype.close=function(){var g=this;return new i.Observable(function(_){g._session.close().then(function(){_.complete()}).catch(function(x){return _.error(x)})})},b.prototype[Symbol.asyncDispose]=function(){return this.close()},b.prototype.lastBookmark=function(){return this.lastBookmarks()},b.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},b.prototype._beginTransaction=function(g,_,x){var P=this,I=y.empty();return _&&(I=new y(_,this._log)),new i.Observable(function(T){try{P._session._beginTransaction(g,I,x).then(function(A){T.next(new u.default(A)),T.complete()}).catch(function(A){return T.error(A)})}catch(A){T.error(A)}return function(){}})},b.prototype._runTransaction=function(g,_,x,P){var I=this;P===void 0&&(P=function(D){return D});var T=y.empty();x&&(T=new y(x));var A={apiTelemetryConfig:{api:v.MANAGED_TRANSACTION,onTelemetrySuccess:function(){A.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,i.of)(1).pipe((0,a.mergeMap)(function(){return I._beginTransaction(g,T,A.apiTelemetryConfig)}),(0,a.mergeMap)(function(D){return(0,i.defer)(function(){try{return _(P(D))}catch(N){return(0,i.throwError)(function(){return N})}}).pipe((0,a.catchError)(function(N){return D.rollback().pipe((0,a.concatWith)((0,i.throwError)(function(){return N})))}),(0,a.concatWith)(D.commit()))})))},b}();e.default=w},1530:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),n(t(3057)),n(t(5742));var i=function(){function a(o){var s=o.run;this._run=s}return a.fromTransaction=function(o){return new a({run:o.run.bind(o)})},a.prototype.run=function(o,s){return this._run(o,s)},a}();e.default=i},5742:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),a=n(t(3057)),o=(n(t(9305)),function(){function s(u){this._txc=u}return s.prototype.run=function(u,l){var c=this;return new a.default(new i.Observable(function(f){try{f.next(c._txc.run(u,l)),f.complete()}catch(h){f.error(h)}return function(){}}))},s.prototype.commit=function(){var u=this;return new i.Observable(function(l){u._txc.commit().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s.prototype.rollback=function(){var u=this;return new i.Observable(function(l){u._txc.rollback().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s.prototype.isOpen=function(){return this._txc.isOpen()},s.prototype.close=function(){var u=this;return new i.Observable(function(l){u._txc.close().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s}());e.default=o},3659:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="5.26.0"},481:(r,e,t)=>{r.exports=t(137)},137:r=>{r.exports=class{constructor(e,t,n,i){let a;if(typeof e=="object"){let o=e;e=o.k_p,t=o.k_i,n=o.k_d,i=o.dt,a=o.i_max}this.k_p=typeof e=="number"?e:1,this.k_i=t||0,this.k_d=n||0,this.dt=i||0,this.i_max=a||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let a=Date.now();t=this.lastTime===0?0:(a-this.lastTime)/1e3,this.lastTime=a}typeof t=="number"&&t!==0||(t=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let a=this.sumError>0?1:-1;this.sumError=a*this.i_max}let i=(n-this.lastError)/t;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*i}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},1803:r=>{var e,t,n=document.attachEvent,i=!1;function a(_){var x=_.__resizeTriggers__,P=x.firstElementChild,I=x.lastElementChild,T=P.firstElementChild;I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight,T.style.width=P.offsetWidth+1+"px",T.style.height=P.offsetHeight+1+"px",P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight}function o(_){var x=this;a(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=s(function(){(function(P){return P.offsetWidth!=P.__resizeLast__.width||P.offsetHeight!=P.__resizeLast__.height})(x)&&(x.__resizeLast__.width=x.offsetWidth,x.__resizeLast__.height=x.offsetHeight,x.__resizeListeners__.forEach(function(P){P.call(x,_)}))})}if(!n){var s=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(_){return window.setTimeout(_,20)},function(_){return t(_)}),u=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(_){return e(_)}),l=!1,c="",f="animationstart",h="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=document.createElement("fakeelement");if(v.style.animationName!==void 0&&(l=!0),l===!1){for(var y=0;y<h.length;y++)if(v.style[h[y]+"AnimationName"]!==void 0){c="-"+h[y].toLowerCase()+"-",f=d[y],l=!0;break}}var w="resizeanim",b="@"+c+"keyframes "+w+" { from { opacity: 0; } to { opacity: 0; } } ",g=c+"animation: 1ms "+w+"; "}r.exports=function(_,x){return n?_.attachEvent("onresize",x):(_.__resizeTriggers__||(getComputedStyle(_).position=="static"&&(_.style.position="relative"),function(){if(!i){var P=(b||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',I=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",T.styleSheet?T.styleSheet.cssText=P:T.appendChild(document.createTextNode(P)),I.appendChild(T),i=!0}}(),_.__resizeLast__={},_.__resizeListeners__=[],(_.__resizeTriggers__=document.createElement("div")).className="resize-triggers",_.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',_.appendChild(_.__resizeTriggers__),a(_),_.addEventListener("scroll",o,!0),f&&_.__resizeTriggers__.addEventListener(f,function(P){P.animationName==w&&a(_)})),_.__resizeListeners__.push(x)),function(){n?_.detachEvent("onresize",x):(_.__resizeListeners__.splice(_.__resizeListeners__.indexOf(x),1),_.__resizeListeners__.length||(_.removeEventListener("scroll",o),_.__resizeTriggers__=!_.removeChild(_.__resizeTriggers__)))}}},8813:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(Zn,Ma,Da,ua){ua===void 0&&(ua=Da),Object.defineProperty(Zn,ua,{enumerable:!0,get:function(){return Ma[Da]}})}:function(Zn,Ma,Da,ua){ua===void 0&&(ua=Da),Zn[ua]=Ma[Da]}),i=this&&this.__exportStar||function(Zn,Ma){for(var Da in Zn)Da==="default"||Object.prototype.hasOwnProperty.call(Ma,Da)||n(Ma,Zn,Da)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var a=t(4662);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return a.Observable}});var o=t(8918);Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var s=t(3327);Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return s.observable}});var u=t(3110);Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var l=t(2483);Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=t(1637);Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=t(1242);Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var h=t(95);Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return h.AsyncSubject}});var d=t(3692);Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var v=t(7961);Object.defineProperty(e,"async",{enumerable:!0,get:function(){return v.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return v.asyncScheduler}});var y=t(2886);Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var w=t(3862);Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return w.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return w.animationFrameScheduler}});var b=t(182);Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return b.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return b.VirtualAction}});var g=t(8986);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return g.Scheduler}});var _=t(8014);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return _.Subscription}});var x=t(5);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return x.Subscriber}});var P=t(7800);Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return P.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return P.NotificationKind}});var I=t(2706);Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return I.pipe}});var T=t(1342);Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return T.noop}});var A=t(6640);Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return A.identity}});var D=t(1751);Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return D.isObservable}});var N=t(6894);Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return N.lastValueFrom}});var j=t(9060);Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return j.firstValueFrom}});var B=t(7057);Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return B.ArgumentOutOfRangeError}});var W=t(2823);Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return W.EmptyError}});var V=t(1759);Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return V.NotFoundError}});var J=t(9686);Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return J.ObjectUnsubscribedError}});var ee=t(1505);Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return ee.SequenceError}});var te=t(1554);Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return te.TimeoutError}});var re=t(5788);Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return re.UnsubscriptionError}});var de=t(2713);Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return de.bindCallback}});var pe=t(8561);Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return pe.bindNodeCallback}});var fe=t(3247);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return fe.combineLatest}});var ye=t(3865);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return ye.concat}});var Me=t(7579);Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return Me.connectable}});var Ne=t(9353);Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return Ne.defer}});var ke=t(8616);Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ke.empty}});var je=t(9105);Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return je.forkJoin}});var xe=t(4917);Object.defineProperty(e,"from",{enumerable:!0,get:function(){return xe.from}});var Se=t(5337);Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return Se.fromEvent}});var Re=t(347);Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return Re.fromEventPattern}});var Oe=t(7610);Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return Oe.generate}});var Pe=t(4209);Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Pe.iif}});var Ue=t(6472);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Ue.interval}});var ot=t(2833);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return ot.merge}});var $e=t(8655);Object.defineProperty(e,"never",{enumerable:!0,get:function(){return $e.never}});var rt=t(1004);Object.defineProperty(e,"of",{enumerable:!0,get:function(){return rt.of}});var ht=t(6102);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return ht.onErrorResumeNext}});var Ze=t(7740);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Ze.pairs}});var H=t(1699);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return H.partition}});var K=t(5584);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return K.race}});var ne=t(9376);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return ne.range}});var Ce=t(1103);Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Ce.throwError}});var Ae=t(4092);Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Ae.timer}});var ze=t(7853);Object.defineProperty(e,"using",{enumerable:!0,get:function(){return ze.using}});var Le=t(7286);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Le.zip}});var le=t(1656);Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return le.scheduled}});var Ve=t(8616);Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return Ve.EMPTY}});var ut=t(8655);Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return ut.NEVER}}),i(t(6038),e);var et=t(3413);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return et.config}});var nt=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return nt.audit}});var Pt=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return Pt.auditTime}});var dt=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return dt.buffer}});var Ct=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return Ct.bufferCount}});var Ft=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return Ft.bufferTime}});var Yt=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Yt.bufferToggle}});var Vt=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return Vt.bufferWhen}});var sr=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return sr.catchError}});var Bt=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Bt.combineAll}});var Zt=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return Zt.combineLatestAll}});var Yr=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return Yr.combineLatestWith}});var Gr=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return Gr.concatAll}});var Kn=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return Kn.concatMap}});var Rn=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Rn.concatMapTo}});var kn=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return kn.concatWith}});var un=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return un.connect}});var fn=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return fn.count}});var Un=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Un.debounce}});var Pi=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Pi.debounceTime}});var pi=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return pi.defaultIfEmpty}});var li=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return li.delay}});var to=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return to.delayWhen}});var Wi=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Wi.dematerialize}});var Hi=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Hi.distinct}});var hn=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return hn.distinctUntilChanged}});var zn=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return zn.distinctUntilKeyChanged}});var qn=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return qn.elementAt}});var jr=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return jr.endWith}});var _n=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return _n.every}});var wo=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return wo.exhaust}});var Aa=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return Aa.exhaustAll}});var Uo=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Uo.exhaustMap}});var $s=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return $s.expand}});var co=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return co.filter}});var Ia=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Ia.finalize}});var Xs=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Xs.find}});var aa=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return aa.findIndex}});var Ka=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return Ka.first}});var zo=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return zo.groupBy}});var Oi=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Oi.ignoreElements}});var Ra=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Ra.isEmpty}});var qo=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return qo.last}});var Mn=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Mn.map}});var Jr=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Jr.mapTo}});var ur=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return ur.materialize}});var Ks=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Ks.max}});var Yi=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Yi.mergeAll}});var xr=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return xr.flatMap}});var $r=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return $r.mergeMap}});var ku=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return ku.mergeMapTo}});var hl=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return hl.mergeScan}});var mf=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return mf.mergeWith}});var Zs=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Zs.min}});var bf=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return bf.multicast}});var Ai=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Ai.observeOn}});var Mu=t(1226);Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Mu.onErrorResumeNextWith}});var fo=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return fo.pairwise}});var Du=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Du.pluck}});var dl=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return dl.publish}});var ji=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return ji.publishBehavior}});var Za=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Za.publishLast}});var Qs=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Qs.publishReplay}});var vc=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return vc.raceWith}});var pc=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return pc.reduce}});var Lr=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Lr.repeat}});var Go=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Go.repeatWhen}});var ho=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return ho.retry}});var gc=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return gc.retryWhen}});var Wt=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Wt.refCount}});var Js=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Js.sample}});var yc=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return yc.sampleTime}});var ka=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return ka.scan}});var Lu=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Lu.sequenceEqual}});var Eo=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Eo.share}});var Vr=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Vr.shareReplay}});var sa=t(3001);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return sa.single}});var vl=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return vl.skip}});var Ih=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Ih.skipLast}});var mc=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return mc.skipUntil}});var Rh=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Rh.skipWhile}});var _f=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return _f.startWith}});var pl=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return pl.subscribeOn}});var eu=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return eu.switchAll}});var Os=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Os.switchMap}});var Qa=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Qa.switchMapTo}});var gl=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return gl.switchScan}});var bc=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return bc.take}});var _c=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return _c.takeLast}});var yl=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return yl.takeUntil}});var tu=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return tu.takeWhile}});var ml=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return ml.tap}});var dn=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return dn.throttle}});var Tr=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Tr.throttleTime}});var wc=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return wc.throwIfEmpty}});var ru=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return ru.timeInterval}});var wf=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return wf.timeout}});var xs=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return xs.timeoutWith}});var Ja=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Ja.timestamp}});var kh=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return kh.toArray}});var Hd=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Hd.window}});var nu=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return nu.windowCount}});var Gn=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return Gn.windowTime}});var Ec=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Ec.windowToggle}});var ro=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return ro.windowWhen}});var iu=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return iu.withLatestFrom}});var Oc=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Oc.zipAll}});var Fi=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return Fi.zipWith}})},95:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncSubject=void 0;var a=function(o){function s(){var u=o!==null&&o.apply(this,arguments)||this;return u._value=null,u._hasValue=!1,u._isComplete=!1,u}return i(s,o),s.prototype._checkFinalizedStatuses=function(u){var l=this,c=l.hasError,f=l._hasValue,h=l._value,d=l.thrownError,v=l.isStopped,y=l._isComplete;c?u.error(d):(v||y)&&(f&&u.next(h),u.complete())},s.prototype.next=function(u){this.isStopped||(this._value=u,this._hasValue=!0)},s.prototype.complete=function(){var u=this,l=u._hasValue,c=u._value;u._isComplete||(this._isComplete=!0,l&&o.prototype.next.call(this,c),o.prototype.complete.call(this))},s}(t(2483).Subject);e.AsyncSubject=a},1637:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviorSubject=void 0;var a=function(o){function s(u){var l=o.call(this)||this;return l._value=u,l}return i(s,o),Object.defineProperty(s.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),s.prototype._subscribe=function(u){var l=o.prototype._subscribe.call(this,u);return!l.closed&&u.next(this._value),l},s.prototype.getValue=function(){var u=this,l=u.hasError,c=u.thrownError,f=u._value;if(l)throw c;return this._throwIfClosed(),f},s.prototype.next=function(u){o.prototype.next.call(this,this._value=u)},s}(t(2483).Subject);e.BehaviorSubject=a},7800:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var n,i=t(8616),a=t(1004),o=t(1103),s=t(1018);(n=e.NotificationKind||(e.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var u=function(){function c(f,h,d){this.kind=f,this.value=h,this.error=d,this.hasValue=f==="N"}return c.prototype.observe=function(f){return l(this,f)},c.prototype.do=function(f,h,d){var v=this,y=v.kind,w=v.value,b=v.error;return y==="N"?f==null?void 0:f(w):y==="E"?h==null?void 0:h(b):d==null?void 0:d()},c.prototype.accept=function(f,h,d){var v;return s.isFunction((v=f)===null||v===void 0?void 0:v.next)?this.observe(f):this.do(f,h,d)},c.prototype.toObservable=function(){var f=this,h=f.kind,d=f.value,v=f.error,y=h==="N"?a.of(d):h==="E"?o.throwError(function(){return v}):h==="C"?i.EMPTY:0;if(!y)throw new TypeError("Unexpected notification kind "+h);return y},c.createNext=function(f){return new c("N",f)},c.createError=function(f){return new c("E",void 0,f)},c.createComplete=function(){return c.completeNotification},c.completeNotification=new c("C"),c}();function l(c,f){var h,d,v,y=c,w=y.kind,b=y.value,g=y.error;if(typeof w!="string")throw new TypeError('Invalid notification, missing "kind"');w==="N"?(h=f.next)===null||h===void 0||h.call(f,b):w==="E"?(d=f.error)===null||d===void 0||d.call(f,g):(v=f.complete)===null||v===void 0||v.call(f)}e.Notification=u,e.observeNotification=l},9052:(r,e)=>{function t(n,i,a){return{kind:n,value:i,error:a}}Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.nextNotification=e.errorNotification=e.COMPLETE_NOTIFICATION=void 0,e.COMPLETE_NOTIFICATION=t("C",void 0,void 0),e.errorNotification=function(n){return t("E",void 0,n)},e.nextNotification=function(n){return t("N",n,void 0)},e.createNotification=t},4662:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var n=t(5),i=t(8014),a=t(3327),o=t(2706),s=t(3413),u=t(1018),l=t(9223),c=function(){function h(d){d&&(this._subscribe=d)}return h.prototype.lift=function(d){var v=new h;return v.source=this,v.operator=d,v},h.prototype.subscribe=function(d,v,y){var w,b=this,g=(w=d)&&w instanceof n.Subscriber||function(_){return _&&u.isFunction(_.next)&&u.isFunction(_.error)&&u.isFunction(_.complete)}(w)&&i.isSubscription(w)?d:new n.SafeSubscriber(d,v,y);return l.errorContext(function(){var _=b,x=_.operator,P=_.source;g.add(x?x.call(g,P):P?b._subscribe(g):b._trySubscribe(g))}),g},h.prototype._trySubscribe=function(d){try{return this._subscribe(d)}catch(v){d.error(v)}},h.prototype.forEach=function(d,v){var y=this;return new(v=f(v))(function(w,b){var g=new n.SafeSubscriber({next:function(_){try{d(_)}catch(x){b(x),g.unsubscribe()}},error:b,complete:w});y.subscribe(g)})},h.prototype._subscribe=function(d){var v;return(v=this.source)===null||v===void 0?void 0:v.subscribe(d)},h.prototype[a.observable]=function(){return this},h.prototype.pipe=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return o.pipeFromArray(d)(this)},h.prototype.toPromise=function(d){var v=this;return new(d=f(d))(function(y,w){var b;v.subscribe(function(g){return b=g},function(g){return w(g)},function(){return y(b)})})},h.create=function(d){return new h(d)},h}();function f(h){var d;return(d=h??s.config.Promise)!==null&&d!==void 0?d:Promise}e.Observable=c},1242:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaySubject=void 0;var a=t(2483),o=t(9568),s=function(u){function l(c,f,h){c===void 0&&(c=1/0),f===void 0&&(f=1/0),h===void 0&&(h=o.dateTimestampProvider);var d=u.call(this)||this;return d._bufferSize=c,d._windowTime=f,d._timestampProvider=h,d._buffer=[],d._infiniteTimeWindow=!0,d._infiniteTimeWindow=f===1/0,d._bufferSize=Math.max(1,c),d._windowTime=Math.max(1,f),d}return i(l,u),l.prototype.next=function(c){var f=this,h=f.isStopped,d=f._buffer,v=f._infiniteTimeWindow,y=f._timestampProvider,w=f._windowTime;h||(d.push(c),!v&&d.push(y.now()+w)),this._trimBuffer(),u.prototype.next.call(this,c)},l.prototype._subscribe=function(c){this._throwIfClosed(),this._trimBuffer();for(var f=this._innerSubscribe(c),h=this._infiniteTimeWindow,d=this._buffer.slice(),v=0;v<d.length&&!c.closed;v+=h?1:2)c.next(d[v]);return this._checkFinalizedStatuses(c),f},l.prototype._trimBuffer=function(){var c=this,f=c._bufferSize,h=c._timestampProvider,d=c._buffer,v=c._infiniteTimeWindow,y=(v?1:2)*f;if(f<1/0&&y<d.length&&d.splice(0,d.length-y),!v){for(var w=h.now(),b=0,g=1;g<d.length&&d[g]<=w;g+=2)b=g;b&&d.splice(0,b+1)}},l}(a.Subject);e.ReplaySubject=s},8986:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var n=t(9568),i=function(){function a(o,s){s===void 0&&(s=a.now),this.schedulerActionCtor=o,this.now=s}return a.prototype.schedule=function(o,s,u){return s===void 0&&(s=0),new this.schedulerActionCtor(this,o).schedule(u,s)},a.now=n.dateTimestampProvider.now,a}();e.Scheduler=i},2483:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),a=this&&this.__values||function(d){var v=typeof Symbol=="function"&&Symbol.iterator,y=v&&d[v],w=0;if(y)return y.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&w>=d.length&&(d=void 0),{value:d&&d[w++],done:!d}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymousSubject=e.Subject=void 0;var o=t(4662),s=t(8014),u=t(9686),l=t(7479),c=t(9223),f=function(d){function v(){var y=d.call(this)||this;return y.closed=!1,y.currentObservers=null,y.observers=[],y.isStopped=!1,y.hasError=!1,y.thrownError=null,y}return i(v,d),v.prototype.lift=function(y){var w=new h(this,this);return w.operator=y,w},v.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},v.prototype.next=function(y){var w=this;c.errorContext(function(){var b,g;if(w._throwIfClosed(),!w.isStopped){w.currentObservers||(w.currentObservers=Array.from(w.observers));try{for(var _=a(w.currentObservers),x=_.next();!x.done;x=_.next())x.value.next(y)}catch(P){b={error:P}}finally{try{x&&!x.done&&(g=_.return)&&g.call(_)}finally{if(b)throw b.error}}}})},v.prototype.error=function(y){var w=this;c.errorContext(function(){if(w._throwIfClosed(),!w.isStopped){w.hasError=w.isStopped=!0,w.thrownError=y;for(var b=w.observers;b.length;)b.shift().error(y)}})},v.prototype.complete=function(){var y=this;c.errorContext(function(){if(y._throwIfClosed(),!y.isStopped){y.isStopped=!0;for(var w=y.observers;w.length;)w.shift().complete()}})},v.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(v.prototype,"observed",{get:function(){var y;return((y=this.observers)===null||y===void 0?void 0:y.length)>0},enumerable:!1,configurable:!0}),v.prototype._trySubscribe=function(y){return this._throwIfClosed(),d.prototype._trySubscribe.call(this,y)},v.prototype._subscribe=function(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)},v.prototype._innerSubscribe=function(y){var w=this,b=this,g=b.hasError,_=b.isStopped,x=b.observers;return g||_?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,x.push(y),new s.Subscription(function(){w.currentObservers=null,l.arrRemove(x,y)}))},v.prototype._checkFinalizedStatuses=function(y){var w=this,b=w.hasError,g=w.thrownError,_=w.isStopped;b?y.error(g):_&&y.complete()},v.prototype.asObservable=function(){var y=new o.Observable;return y.source=this,y},v.create=function(y,w){return new h(y,w)},v}(o.Observable);e.Subject=f;var h=function(d){function v(y,w){var b=d.call(this)||this;return b.destination=y,b.source=w,b}return i(v,d),v.prototype.next=function(y){var w,b;(b=(w=this.destination)===null||w===void 0?void 0:w.next)===null||b===void 0||b.call(w,y)},v.prototype.error=function(y){var w,b;(b=(w=this.destination)===null||w===void 0?void 0:w.error)===null||b===void 0||b.call(w,y)},v.prototype.complete=function(){var y,w;(w=(y=this.destination)===null||y===void 0?void 0:y.complete)===null||w===void 0||w.call(y)},v.prototype._subscribe=function(y){var w,b;return(b=(w=this.source)===null||w===void 0?void 0:w.subscribe(y))!==null&&b!==void 0?b:s.EMPTY_SUBSCRIPTION},v}(f);e.AnonymousSubject=h},5:function(r,e,t){var n,i=this&&this.__extends||(n=function(x,P){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(I[A]=T[A])},n(x,P)},function(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function I(){this.constructor=x}n(x,P),x.prototype=P===null?Object.create(P):(I.prototype=P.prototype,new I)});Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var a=t(1018),o=t(8014),s=t(3413),u=t(7315),l=t(1342),c=t(9052),f=t(9155),h=t(9223),d=function(x){function P(I){var T=x.call(this)||this;return T.isStopped=!1,I?(T.destination=I,o.isSubscription(I)&&I.add(T)):T.destination=e.EMPTY_OBSERVER,T}return i(P,x),P.create=function(I,T,A){return new b(I,T,A)},P.prototype.next=function(I){this.isStopped?_(c.nextNotification(I),this):this._next(I)},P.prototype.error=function(I){this.isStopped?_(c.errorNotification(I),this):(this.isStopped=!0,this._error(I))},P.prototype.complete=function(){this.isStopped?_(c.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},P.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,x.prototype.unsubscribe.call(this),this.destination=null)},P.prototype._next=function(I){this.destination.next(I)},P.prototype._error=function(I){try{this.destination.error(I)}finally{this.unsubscribe()}},P.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},P}(o.Subscription);e.Subscriber=d;var v=Function.prototype.bind;function y(x,P){return v.call(x,P)}var w=function(){function x(P){this.partialObserver=P}return x.prototype.next=function(P){var I=this.partialObserver;if(I.next)try{I.next(P)}catch(T){g(T)}},x.prototype.error=function(P){var I=this.partialObserver;if(I.error)try{I.error(P)}catch(T){g(T)}else g(P)},x.prototype.complete=function(){var P=this.partialObserver;if(P.complete)try{P.complete()}catch(I){g(I)}},x}(),b=function(x){function P(I,T,A){var D,N,j=x.call(this)||this;return a.isFunction(I)||!I?D={next:I??void 0,error:T??void 0,complete:A??void 0}:j&&s.config.useDeprecatedNextContext?((N=Object.create(I)).unsubscribe=function(){return j.unsubscribe()},D={next:I.next&&y(I.next,N),error:I.error&&y(I.error,N),complete:I.complete&&y(I.complete,N)}):D=I,j.destination=new w(D),j}return i(P,x),P}(d);function g(x){s.config.useDeprecatedSynchronousErrorHandling?h.captureError(x):u.reportUnhandledError(x)}function _(x,P){var I=s.config.onStoppedNotification;I&&f.timeoutProvider.setTimeout(function(){return I(x,P)})}e.SafeSubscriber=b,e.EMPTY_OBSERVER={closed:!0,next:l.noop,error:function(x){throw x},complete:l.noop}},8014:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,w=d.call(f),b=[];try{for(;(h===void 0||h-- >0)&&!(v=w.next()).done;)b.push(v.value)}catch(g){y={error:g}}finally{try{v&&!v.done&&(d=w.return)&&d.call(w)}finally{if(y)throw y.error}}return b},a=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.isSubscription=e.EMPTY_SUBSCRIPTION=e.Subscription=void 0;var o=t(1018),s=t(5788),u=t(7479),l=function(){function f(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}var h;return f.prototype.unsubscribe=function(){var d,v,y,w,b;if(!this.closed){this.closed=!0;var g=this._parentage;if(g)if(this._parentage=null,Array.isArray(g))try{for(var _=n(g),x=_.next();!x.done;x=_.next())x.value.remove(this)}catch(N){d={error:N}}finally{try{x&&!x.done&&(v=_.return)&&v.call(_)}finally{if(d)throw d.error}}else g.remove(this);var P=this.initialTeardown;if(o.isFunction(P))try{P()}catch(N){b=N instanceof s.UnsubscriptionError?N.errors:[N]}var I=this._finalizers;if(I){this._finalizers=null;try{for(var T=n(I),A=T.next();!A.done;A=T.next()){var D=A.value;try{c(D)}catch(N){b=b??[],N instanceof s.UnsubscriptionError?b=a(a([],i(b)),i(N.errors)):b.push(N)}}}catch(N){y={error:N}}finally{try{A&&!A.done&&(w=T.return)&&w.call(T)}finally{if(y)throw y.error}}}if(b)throw new s.UnsubscriptionError(b)}},f.prototype.add=function(d){var v;if(d&&d!==this)if(this.closed)c(d);else{if(d instanceof f){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=(v=this._finalizers)!==null&&v!==void 0?v:[]).push(d)}},f.prototype._hasParent=function(d){var v=this._parentage;return v===d||Array.isArray(v)&&v.includes(d)},f.prototype._addParent=function(d){var v=this._parentage;this._parentage=Array.isArray(v)?(v.push(d),v):v?[v,d]:d},f.prototype._removeParent=function(d){var v=this._parentage;v===d?this._parentage=null:Array.isArray(v)&&u.arrRemove(v,d)},f.prototype.remove=function(d){var v=this._finalizers;v&&u.arrRemove(v,d),d instanceof f&&d._removeParent(this)},f.EMPTY=((h=new f).closed=!0,h),f}();function c(f){o.isFunction(f)?f():f.unsubscribe()}e.Subscription=l,e.EMPTY_SUBSCRIPTION=l.EMPTY,e.isSubscription=function(f){return f instanceof l||f&&"closed"in f&&o.isFunction(f.remove)&&o.isFunction(f.add)&&o.isFunction(f.unsubscribe)}},3413:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9060:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.firstValueFrom=void 0;var n=t(2823),i=t(5);e.firstValueFrom=function(a,o){var s=typeof o=="object";return new Promise(function(u,l){var c=new i.SafeSubscriber({next:function(f){u(f),c.unsubscribe()},error:l,complete:function(){s?u(o.defaultValue):l(new n.EmptyError)}});a.subscribe(c)})}},6894:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lastValueFrom=void 0;var n=t(2823);e.lastValueFrom=function(i,a){var o=typeof a=="object";return new Promise(function(s,u){var l,c=!1;i.subscribe({next:function(f){l=f,c=!0},error:u,complete:function(){c?s(l):o?s(a.defaultValue):u(new n.EmptyError)}})})}},8918:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,h){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},n(f,h)},function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}n(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectableObservable=void 0;var a=t(4662),o=t(8014),s=t(7561),u=t(3111),l=t(7843),c=function(f){function h(d,v){var y=f.call(this)||this;return y.source=d,y.subjectFactory=v,y._subject=null,y._refCount=0,y._connection=null,l.hasLift(d)&&(y.lift=d.lift),y}return i(h,f),h.prototype._subscribe=function(d){return this.getSubject().subscribe(d)},h.prototype.getSubject=function(){var d=this._subject;return d&&!d.isStopped||(this._subject=this.subjectFactory()),this._subject},h.prototype._teardown=function(){this._refCount=0;var d=this._connection;this._subject=this._connection=null,d==null||d.unsubscribe()},h.prototype.connect=function(){var d=this,v=this._connection;if(!v){v=this._connection=new o.Subscription;var y=this.getSubject();v.add(this.source.subscribe(u.createOperatorSubscriber(y,void 0,function(){d._teardown(),y.complete()},function(w){d._teardown(),y.error(w)},function(){return d._teardown()}))),v.closed&&(this._connection=null,v=o.Subscription.EMPTY)}return v},h.prototype.refCount=function(){return s.refCount()(this)},h}(a.Observable);e.ConnectableObservable=c},2713:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallback=void 0;var n=t(1439);e.bindCallback=function(i,a,o){return n.bindCallbackInternals(!1,i,a,o)}},1439:function(r,e,t){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,w=d.call(f),b=[];try{for(;(h===void 0||h-- >0)&&!(v=w.next()).done;)b.push(v.value)}catch(g){y={error:g}}finally{try{v&&!v.done&&(d=w.return)&&d.call(w)}finally{if(y)throw y.error}}return b},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallbackInternals=void 0;var a=t(8613),o=t(4662),s=t(8960),u=t(1251),l=t(5184),c=t(95);e.bindCallbackInternals=function f(h,d,v,y){if(v){if(!a.isScheduler(v))return function(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];return f(h,d,y).apply(this,w).pipe(u.mapOneOrManyArgs(v))};y=v}return y?function(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];return f(h,d).apply(this,w).pipe(s.subscribeOn(y),l.observeOn(y))}:function(){for(var w=this,b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];var _=new c.AsyncSubject,x=!0;return new o.Observable(function(P){var I=_.subscribe(P);if(x){x=!1;var T=!1,A=!1;d.apply(w,i(i([],n(b)),[function(){for(var D=[],N=0;N<arguments.length;N++)D[N]=arguments[N];if(h){var j=D.shift();if(j!=null)return void _.error(j)}_.next(1<D.length?D:D[0]),A=!0,T&&_.complete()}])),A&&_.complete(),T=!0}return I})}}},8561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindNodeCallback=void 0;var n=t(1439);e.bindNodeCallback=function(i,a,o){return n.bindCallbackInternals(!0,i,a,o)}},3247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestInit=e.combineLatest=void 0;var n=t(4662),i=t(7360),a=t(4917),o=t(6640),s=t(1251),u=t(1107),l=t(6013),c=t(3111),f=t(7110);function h(v,y,w){return w===void 0&&(w=o.identity),function(b){d(y,function(){for(var g=v.length,_=new Array(g),x=g,P=g,I=function(A){d(y,function(){var D=a.from(v[A],y),N=!1;D.subscribe(c.createOperatorSubscriber(b,function(j){_[A]=j,N||(N=!0,P--),P||b.next(w(_.slice()))},function(){--x||b.complete()}))},b)},T=0;T<g;T++)I(T)},b)}}function d(v,y,w){v?f.executeSchedule(w,v,y):y()}e.combineLatest=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var w=u.popScheduler(v),b=u.popResultSelector(v),g=i.argsArgArrayOrObject(v),_=g.args,x=g.keys;if(_.length===0)return a.from([],w);var P=new n.Observable(h(_,w,x?function(I){return l.createObject(x,I)}:o.identity));return b?P.pipe(s.mapOneOrManyArgs(b)):P},e.combineLatestInit=h},3865:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var n=t(8158),i=t(1107),a=t(4917);e.concat=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.concatAll()(a.from(o,i.popScheduler(o)))}},7579:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connectable=void 0;var n=t(2483),i=t(4662),a=t(9353),o={connector:function(){return new n.Subject},resetOnDisconnect:!0};e.connectable=function(s,u){u===void 0&&(u=o);var l=null,c=u.connector,f=u.resetOnDisconnect,h=f===void 0||f,d=c(),v=new i.Observable(function(y){return d.subscribe(y)});return v.connect=function(){return l&&!l.closed||(l=a.defer(function(){return s}).subscribe(d),h&&l.add(function(){return d=c()})),l},v}},9353:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defer=void 0;var n=t(4662),i=t(9445);e.defer=function(a){return new n.Observable(function(o){i.innerFrom(a()).subscribe(o)})}},3110:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrames=void 0;var n=t(4662),i=t(4746),a=t(9507);function o(u){return new n.Observable(function(l){var c=u||i.performanceTimestampProvider,f=c.now(),h=0,d=function(){l.closed||(h=a.animationFrameProvider.requestAnimationFrame(function(v){h=0;var y=c.now();l.next({timestamp:u?y:v,elapsed:y-f}),d()}))};return d(),function(){h&&a.animationFrameProvider.cancelAnimationFrame(h)}})}e.animationFrames=function(u){return u?o(u):s};var s=o()},8616:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var n=t(4662);e.EMPTY=new n.Observable(function(i){return i.complete()}),e.empty=function(i){return i?function(a){return new n.Observable(function(o){return a.schedule(function(){return o.complete()})})}(i):e.EMPTY}},9105:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forkJoin=void 0;var n=t(4662),i=t(7360),a=t(9445),o=t(1107),s=t(3111),u=t(1251),l=t(6013);e.forkJoin=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var h=o.popResultSelector(c),d=i.argsArgArrayOrObject(c),v=d.args,y=d.keys,w=new n.Observable(function(b){var g=v.length;if(g)for(var _=new Array(g),x=g,P=g,I=function(A){var D=!1;a.innerFrom(v[A]).subscribe(s.createOperatorSubscriber(b,function(N){D||(D=!0,P--),_[A]=N},function(){return x--},void 0,function(){x&&D||(P||b.next(y?l.createObject(y,_):_),b.complete())}))},T=0;T<g;T++)I(T);else b.complete()});return h?w.pipe(u.mapOneOrManyArgs(h)):w}},4917:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.from=void 0;var n=t(1656),i=t(9445);e.from=function(a,o){return o?n.scheduled(a,o):i.innerFrom(a)}},5337:function(r,e,t){var n=this&&this.__read||function(v,y){var w=typeof Symbol=="function"&&v[Symbol.iterator];if(!w)return v;var b,g,_=w.call(v),x=[];try{for(;(y===void 0||y-- >0)&&!(b=_.next()).done;)x.push(b.value)}catch(P){g={error:P}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(g)throw g.error}}return x};Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=void 0;var i=t(9445),a=t(4662),o=t(983),s=t(8046),u=t(1018),l=t(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function d(v,y){return function(w){return function(b){return v[w](y,b)}}}e.fromEvent=function v(y,w,b,g){if(u.isFunction(b)&&(g=b,b=void 0),g)return v(y,w,b).pipe(l.mapOneOrManyArgs(g));var _=n(function(I){return u.isFunction(I.addEventListener)&&u.isFunction(I.removeEventListener)}(y)?f.map(function(I){return function(T){return y[I](w,T,b)}}):function(I){return u.isFunction(I.addListener)&&u.isFunction(I.removeListener)}(y)?c.map(d(y,w)):function(I){return u.isFunction(I.on)&&u.isFunction(I.off)}(y)?h.map(d(y,w)):[],2),x=_[0],P=_[1];if(!x&&s.isArrayLike(y))return o.mergeMap(function(I){return v(I,w,b)})(i.innerFrom(y));if(!x)throw new TypeError("Invalid event target");return new a.Observable(function(I){var T=function(){for(var A=[],D=0;D<arguments.length;D++)A[D]=arguments[D];return I.next(1<A.length?A:A[0])};return x(T),function(){return P(T)}})}},347:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromEventPattern=void 0;var n=t(4662),i=t(1018),a=t(1251);e.fromEventPattern=function o(s,u,l){return l?o(s,u).pipe(a.mapOneOrManyArgs(l)):new n.Observable(function(c){var f=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return c.next(d.length===1?d[0]:d)},h=s(f);return i.isFunction(u)?function(){return u(f,h)}:void 0})}},6824:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromSubscribable=void 0;var n=t(4662);e.fromSubscribable=function(i){return new n.Observable(function(a){return i.subscribe(a)})}},7610:function(r,e,t){var n=this&&this.__generator||function(u,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(w){return function(b){return function(g){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,f&&(h=2&g[0]?f.return:g[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,g[1])).done)return h;switch(f=0,h&&(g=[2&g[0],h.value]),g[0]){case 0:case 1:h=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,f=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!h||g[1]>h[0]&&g[1]<h[3])){v.label=g[1];break}if(g[0]===6&&v.label<h[1]){v.label=h[1],h=g;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(g);break}h[2]&&v.ops.pop(),v.trys.pop();continue}g=l.call(u,v)}catch(_){g=[6,_],f=0}finally{c=h=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([w,b])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;var i=t(6640),a=t(8613),o=t(9353),s=t(8808);e.generate=function(u,l,c,f,h){var d,v,y,w;function b(){var g;return n(this,function(_){switch(_.label){case 0:g=w,_.label=1;case 1:return l&&!l(g)?[3,4]:[4,y(g)];case 2:_.sent(),_.label=3;case 3:return g=c(g),[3,1];case 4:return[2]}})}return arguments.length===1?(w=(d=u).initialState,l=d.condition,c=d.iterate,v=d.resultSelector,y=v===void 0?i.identity:v,h=d.scheduler):(w=u,!f||a.isScheduler(f)?(y=i.identity,h=f):y=f),o.defer(h?function(){return s.scheduleIterable(b(),h)}:b)}},4209:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iif=void 0;var n=t(9353);e.iif=function(i,a,o){return n.defer(function(){return i()?a:o})}},9445:function(r,e,t){var n=this&&this.__awaiter||function(A,D,N,j){return new(N||(N=Promise))(function(B,W){function V(te){try{ee(j.next(te))}catch(re){W(re)}}function J(te){try{ee(j.throw(te))}catch(re){W(re)}}function ee(te){var re;te.done?B(te.value):(re=te.value,re instanceof N?re:new N(function(de){de(re)})).then(V,J)}ee((j=j.apply(A,D||[])).next())})},i=this&&this.__generator||function(A,D){var N,j,B,W,V={label:0,sent:function(){if(1&B[0])throw B[1];return B[1]},trys:[],ops:[]};return W={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function J(ee){return function(te){return function(re){if(N)throw new TypeError("Generator is already executing.");for(;V;)try{if(N=1,j&&(B=2&re[0]?j.return:re[0]?j.throw||((B=j.return)&&B.call(j),0):j.next)&&!(B=B.call(j,re[1])).done)return B;switch(j=0,B&&(re=[2&re[0],B.value]),re[0]){case 0:case 1:B=re;break;case 4:return V.label++,{value:re[1],done:!1};case 5:V.label++,j=re[1],re=[0];continue;case 7:re=V.ops.pop(),V.trys.pop();continue;default:if(!((B=(B=V.trys).length>0&&B[B.length-1])||re[0]!==6&&re[0]!==2)){V=0;continue}if(re[0]===3&&(!B||re[1]>B[0]&&re[1]<B[3])){V.label=re[1];break}if(re[0]===6&&V.label<B[1]){V.label=B[1],B=re;break}if(B&&V.label<B[2]){V.label=B[2],V.ops.push(re);break}B[2]&&V.ops.pop(),V.trys.pop();continue}re=D.call(A,V)}catch(de){re=[6,de],j=0}finally{N=B=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([ee,te])}}},a=this&&this.__asyncValues||function(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,N=A[Symbol.asyncIterator];return N?N.call(A):(A=typeof o=="function"?o(A):A[Symbol.iterator](),D={},j("next"),j("throw"),j("return"),D[Symbol.asyncIterator]=function(){return this},D);function j(B){D[B]=A[B]&&function(W){return new Promise(function(V,J){(function(ee,te,re,de){Promise.resolve(de).then(function(pe){ee({value:pe,done:re})},te)})(V,J,(W=A[B](W)).done,W.value)})}}},o=this&&this.__values||function(A){var D=typeof Symbol=="function"&&Symbol.iterator,N=D&&A[D],j=0;if(N)return N.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&j>=A.length&&(A=void 0),{value:A&&A[j++],done:!A}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromReadableStreamLike=e.fromAsyncIterable=e.fromIterable=e.fromPromise=e.fromArrayLike=e.fromInteropObservable=e.innerFrom=void 0;var s=t(8046),u=t(7629),l=t(4662),c=t(1116),f=t(1358),h=t(7614),d=t(6368),v=t(9137),y=t(1018),w=t(7315),b=t(3327);function g(A){return new l.Observable(function(D){var N=A[b.observable]();if(y.isFunction(N.subscribe))return N.subscribe(D);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _(A){return new l.Observable(function(D){for(var N=0;N<A.length&&!D.closed;N++)D.next(A[N]);D.complete()})}function x(A){return new l.Observable(function(D){A.then(function(N){D.closed||(D.next(N),D.complete())},function(N){return D.error(N)}).then(null,w.reportUnhandledError)})}function P(A){return new l.Observable(function(D){var N,j;try{for(var B=o(A),W=B.next();!W.done;W=B.next()){var V=W.value;if(D.next(V),D.closed)return}}catch(J){N={error:J}}finally{try{W&&!W.done&&(j=B.return)&&j.call(B)}finally{if(N)throw N.error}}D.complete()})}function I(A){return new l.Observable(function(D){(function(N,j){var B,W,V,J;return n(this,void 0,void 0,function(){var ee,te;return i(this,function(re){switch(re.label){case 0:re.trys.push([0,5,6,11]),B=a(N),re.label=1;case 1:return[4,B.next()];case 2:if((W=re.sent()).done)return[3,4];if(ee=W.value,j.next(ee),j.closed)return[2];re.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return te=re.sent(),V={error:te},[3,11];case 6:return re.trys.push([6,,9,10]),W&&!W.done&&(J=B.return)?[4,J.call(B)]:[3,8];case 7:re.sent(),re.label=8;case 8:return[3,10];case 9:if(V)throw V.error;return[7];case 10:return[7];case 11:return j.complete(),[2]}})})})(A,D).catch(function(N){return D.error(N)})})}function T(A){return I(v.readableStreamLikeToAsyncGenerator(A))}e.innerFrom=function(A){if(A instanceof l.Observable)return A;if(A!=null){if(c.isInteropObservable(A))return g(A);if(s.isArrayLike(A))return _(A);if(u.isPromise(A))return x(A);if(f.isAsyncIterable(A))return I(A);if(d.isIterable(A))return P(A);if(v.isReadableStreamLike(A))return T(A)}throw h.createInvalidObservableTypeError(A)},e.fromInteropObservable=g,e.fromArrayLike=_,e.fromPromise=x,e.fromIterable=P,e.fromAsyncIterable=I,e.fromReadableStreamLike=T},6472:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var n=t(7961),i=t(4092);e.interval=function(a,o){return a===void 0&&(a=0),o===void 0&&(o=n.asyncScheduler),a<0&&(a=0),i.timer(a,a,o)}},2833:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var n=t(7302),i=t(9445),a=t(8616),o=t(1107),s=t(4917);e.merge=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=o.popScheduler(u),f=o.popNumber(u,1/0),h=u;return h.length?h.length===1?i.innerFrom(h[0]):n.mergeAll(f)(s.from(h,c)):a.EMPTY}},8655:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var n=t(4662),i=t(1342);e.NEVER=new n.Observable(i.noop),e.never=function(){return e.NEVER}},1004:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.of=void 0;var n=t(1107),i=t(4917);e.of=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=n.popScheduler(a);return i.from(a,s)}},6102:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=void 0;var n=t(4662),i=t(8535),a=t(3111),o=t(1342),s=t(9445);e.onErrorResumeNext=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=i.argsOrArgArray(u);return new n.Observable(function(f){var h=0,d=function(){if(h<c.length){var v=void 0;try{v=s.innerFrom(c[h++])}catch{return void d()}var y=new a.OperatorSubscriber(f,void 0,o.noop,o.noop);v.subscribe(y),y.add(d)}else f.complete()};d()})}},7740:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairs=void 0;var n=t(4917);e.pairs=function(i,a){return n.from(Object.entries(i),a)}},1699:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783),a=t(9445);e.partition=function(o,s,u){return[i.filter(s,u)(a.innerFrom(o)),i.filter(n.not(s,u))(a.innerFrom(o))]}},5584:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.raceInit=e.race=void 0;var n=t(4662),i=t(9445),a=t(8535),o=t(3111);function s(u){return function(l){for(var c=[],f=function(d){c.push(i.innerFrom(u[d]).subscribe(o.createOperatorSubscriber(l,function(v){if(c){for(var y=0;y<c.length;y++)y!==d&&c[y].unsubscribe();c=null}l.next(v)})))},h=0;c&&!l.closed&&h<u.length;h++)f(h)}}e.race=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return(u=a.argsOrArgArray(u)).length===1?i.innerFrom(u[0]):new n.Observable(s(u))},e.raceInit=s},9376:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0;var n=t(4662),i=t(8616);e.range=function(a,o,s){if(o==null&&(o=a,a=0),o<=0)return i.EMPTY;var u=o+a;return new n.Observable(s?function(l){var c=a;return s.schedule(function(){c<u?(l.next(c++),this.schedule()):l.complete()})}:function(l){for(var c=a;c<u&&!l.closed;)l.next(c++);l.complete()})}},1103:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=void 0;var n=t(4662),i=t(1018);e.throwError=function(a,o){var s=i.isFunction(a)?a:function(){return a},u=function(l){return l.error(s())};return new n.Observable(o?function(l){return o.schedule(u,0,l)}:u)}},4092:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timer=void 0;var n=t(4662),i=t(7961),a=t(8613),o=t(1074);e.timer=function(s,u,l){s===void 0&&(s=0),l===void 0&&(l=i.async);var c=-1;return u!=null&&(a.isScheduler(u)?l=u:c=u),new n.Observable(function(f){var h=o.isValidDate(s)?+s-l.now():s;h<0&&(h=0);var d=0;return l.schedule(function(){f.closed||(f.next(d++),0<=c?this.schedule(void 0,c):f.complete())},h)})}},7853:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.using=void 0;var n=t(4662),i=t(9445),a=t(8616);e.using=function(o,s){return new n.Observable(function(u){var l=o(),c=s(l);return(c?i.innerFrom(c):a.EMPTY).subscribe(u),function(){l&&l.unsubscribe()}})}},7286:function(r,e,t){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,w=d.call(f),b=[];try{for(;(h===void 0||h-- >0)&&!(v=w.next()).done;)b.push(v.value)}catch(g){y={error:g}}finally{try{v&&!v.done&&(d=w.return)&&d.call(w)}finally{if(y)throw y.error}}return b},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=t(4662),o=t(9445),s=t(8535),u=t(8616),l=t(3111),c=t(1107);e.zip=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var d=c.popResultSelector(f),v=s.argsOrArgArray(f);return v.length?new a.Observable(function(y){var w=v.map(function(){return[]}),b=v.map(function(){return!1});y.add(function(){w=b=null});for(var g=function(x){o.innerFrom(v[x]).subscribe(l.createOperatorSubscriber(y,function(P){if(w[x].push(P),w.every(function(T){return T.length})){var I=w.map(function(T){return T.shift()});y.next(d?d.apply(void 0,i([],n(I))):I),w.some(function(T,A){return!T.length&&b[A]})&&y.complete()}},function(){b[x]=!0,!w[x].length&&y.complete()}))},_=0;!y.closed&&_<v.length;_++)g(_);return function(){w=b=null}}):u.EMPTY}},3111:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorSubscriber=e.createOperatorSubscriber=void 0;var a=t(5);e.createOperatorSubscriber=function(s,u,l,c,f){return new o(s,u,l,c,f)};var o=function(s){function u(l,c,f,h,d,v){var y=s.call(this,l)||this;return y.onFinalize=d,y.shouldUnsubscribe=v,y._next=c?function(w){try{c(w)}catch(b){l.error(b)}}:s.prototype._next,y._error=h?function(w){try{h(w)}catch(b){l.error(b)}finally{this.unsubscribe()}}:s.prototype._error,y._complete=f?function(){try{f()}catch(w){l.error(w)}finally{this.unsubscribe()}}:s.prototype._complete,y}return i(u,s),u.prototype.unsubscribe=function(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var c=this.closed;s.prototype.unsubscribe.call(this),!c&&((l=this.onFinalize)===null||l===void 0||l.call(this))}},u}(a.Subscriber);e.OperatorSubscriber=o},3146:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.audit=void 0;var n=t(7843),i=t(9445),a=t(3111);e.audit=function(o){return n.operate(function(s,u){var l=!1,c=null,f=null,h=!1,d=function(){if(f==null||f.unsubscribe(),f=null,l){l=!1;var y=c;c=null,u.next(y)}h&&u.complete()},v=function(){f=null,h&&u.complete()};s.subscribe(a.createOperatorSubscriber(u,function(y){l=!0,c=y,f||i.innerFrom(o(y)).subscribe(f=a.createOperatorSubscriber(u,d,v))},function(){h=!0,(!l||!f||f.closed)&&u.complete()}))})}},3231:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.auditTime=void 0;var n=t(7961),i=t(3146),a=t(4092);e.auditTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.audit(function(){return a.timer(o,s)})}},8015:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.buffer=function(s){return n.operate(function(u,l){var c=[];return u.subscribe(a.createOperatorSubscriber(l,function(f){return c.push(f)},function(){l.next(c),l.complete()})),o.innerFrom(s).subscribe(a.createOperatorSubscriber(l,function(){var f=c;c=[],l.next(f)},i.noop)),function(){c=null}})}},5572:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferCount=void 0;var i=t(7843),a=t(3111),o=t(7479);e.bufferCount=function(s,u){return u===void 0&&(u=null),u=u??s,i.operate(function(l,c){var f=[],h=0;l.subscribe(a.createOperatorSubscriber(c,function(d){var v,y,w,b,g=null;h++%u==0&&f.push([]);try{for(var _=n(f),x=_.next();!x.done;x=_.next())(T=x.value).push(d),s<=T.length&&(g=g??[]).push(T)}catch(A){v={error:A}}finally{try{x&&!x.done&&(y=_.return)&&y.call(_)}finally{if(v)throw v.error}}if(g)try{for(var P=n(g),I=P.next();!I.done;I=P.next()){var T=I.value;o.arrRemove(f,T),c.next(T)}}catch(A){w={error:A}}finally{try{I&&!I.done&&(b=P.return)&&b.call(P)}finally{if(w)throw w.error}}},function(){var d,v;try{for(var y=n(f),w=y.next();!w.done;w=y.next()){var b=w.value;c.next(b)}}catch(g){d={error:g}}finally{try{w&&!w.done&&(v=y.return)&&v.call(y)}finally{if(d)throw d.error}}c.complete()},void 0,function(){f=null}))})}},7210:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=void 0;var i=t(8014),a=t(7843),o=t(3111),s=t(7479),u=t(7961),l=t(1107),c=t(7110);e.bufferTime=function(f){for(var h,d,v=[],y=1;y<arguments.length;y++)v[y-1]=arguments[y];var w=(h=l.popScheduler(v))!==null&&h!==void 0?h:u.asyncScheduler,b=(d=v[0])!==null&&d!==void 0?d:null,g=v[1]||1/0;return a.operate(function(_,x){var P=[],I=!1,T=function(N){var j=N.buffer;N.subs.unsubscribe(),s.arrRemove(P,N),x.next(j),I&&A()},A=function(){if(P){var N=new i.Subscription;x.add(N);var j={buffer:[],subs:N};P.push(j),c.executeSchedule(N,w,function(){return T(j)},f)}};b!==null&&b>=0?c.executeSchedule(x,w,A,b,!0):I=!0,A();var D=o.createOperatorSubscriber(x,function(N){var j,B,W=P.slice();try{for(var V=n(W),J=V.next();!J.done;J=V.next()){var ee=J.value,te=ee.buffer;te.push(N),g<=te.length&&T(ee)}}catch(re){j={error:re}}finally{try{J&&!J.done&&(B=V.return)&&B.call(V)}finally{if(j)throw j.error}}},function(){for(;P!=null&&P.length;)x.next(P.shift().buffer);D==null||D.unsubscribe(),x.complete(),x.unsubscribe()},void 0,function(){return P=null});_.subscribe(D)})}},8995:function(r,e,t){var n=this&&this.__values||function(c){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&c[f],d=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&d>=c.length&&(c=void 0),{value:c&&c[d++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToggle=void 0;var i=t(8014),a=t(7843),o=t(9445),s=t(3111),u=t(1342),l=t(7479);e.bufferToggle=function(c,f){return a.operate(function(h,d){var v=[];o.innerFrom(c).subscribe(s.createOperatorSubscriber(d,function(y){var w=[];v.push(w);var b=new i.Subscription;b.add(o.innerFrom(f(y)).subscribe(s.createOperatorSubscriber(d,function(){l.arrRemove(v,w),d.next(w),b.unsubscribe()},u.noop)))},u.noop)),h.subscribe(s.createOperatorSubscriber(d,function(y){var w,b;try{for(var g=n(v),_=g.next();!_.done;_=g.next())_.value.push(y)}catch(x){w={error:x}}finally{try{_&&!_.done&&(b=g.return)&&b.call(g)}finally{if(w)throw w.error}}},function(){for(;v.length>0;)d.next(v.shift());d.complete()}))})}},8831:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bufferWhen=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.bufferWhen=function(s){return n.operate(function(u,l){var c=null,f=null,h=function(){f==null||f.unsubscribe();var d=c;c=[],d&&l.next(d),o.innerFrom(s()).subscribe(f=a.createOperatorSubscriber(l,h,i.noop))};h(),u.subscribe(a.createOperatorSubscriber(l,function(d){return c==null?void 0:c.push(d)},function(){c&&l.next(c),l.complete()},void 0,function(){return c=f=null}))})}},8118:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.catchError=void 0;var n=t(9445),i=t(3111),a=t(7843);e.catchError=function o(s){return a.operate(function(u,l){var c,f=null,h=!1;f=u.subscribe(i.createOperatorSubscriber(l,void 0,void 0,function(d){c=n.innerFrom(s(d,o(s)(u))),f?(f.unsubscribe(),f=null,c.subscribe(l)):h=!0})),h&&(f.unsubscribe(),f=null,c.subscribe(l))})}},6625:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineAll=void 0;var n=t(6728);e.combineAll=n.combineLatestAll},2551:function(r,e,t){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,w=d.call(f),b=[];try{for(;(h===void 0||h-- >0)&&!(v=w.next()).done;)b.push(v.value)}catch(g){y={error:g}}finally{try{v&&!v.done&&(d=w.return)&&d.call(w)}finally{if(y)throw y.error}}return b},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatest=void 0;var a=t(3247),o=t(7843),s=t(8535),u=t(1251),l=t(2706),c=t(1107);e.combineLatest=function f(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var v=c.popResultSelector(h);return v?l.pipe(f.apply(void 0,i([],n(h))),u.mapOneOrManyArgs(v)):o.operate(function(y,w){a.combineLatestInit(i([y],n(s.argsOrArgArray(h))))(w)})}},6728:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestAll=void 0;var n=t(3247),i=t(3638);e.combineLatestAll=function(a){return i.joinAllInternals(n.combineLatest,a)}},8239:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),h=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestWith=void 0;var a=t(2551);e.combineLatestWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.combineLatest.apply(void 0,i([],n(o)))}},7601:function(r,e,t){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,d,v=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=v.next()).done;)y.push(h.value)}catch(w){d={error:w}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(d)throw d.error}}return y},i=this&&this.__spreadArray||function(l,c){for(var f=0,h=c.length,d=l.length;f<h;f++,d++)l[d]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var a=t(7843),o=t(8158),s=t(1107),u=t(4917);e.concat=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=s.popScheduler(l);return a.operate(function(h,d){o.concatAll()(u.from(i([h],n(l)),f)).subscribe(d)})}},8158:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatAll=void 0;var n=t(7302);e.concatAll=function(){return n.mergeAll(1)}},9135:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMap=void 0;var n=t(983),i=t(1018);e.concatMap=function(a,o){return i.isFunction(o)?n.mergeMap(a,o,1):n.mergeMap(a,1)}},9938:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMapTo=void 0;var n=t(9135),i=t(1018);e.concatMapTo=function(a,o){return i.isFunction(o)?n.concatMap(function(){return a},o):n.concatMap(function(){return a})}},9669:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),h=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.concatWith=void 0;var a=t(7601);e.concatWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.concat.apply(void 0,i([],n(o)))}},1483:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;var n=t(2483),i=t(9445),a=t(7843),o=t(6824),s={connector:function(){return new n.Subject}};e.connect=function(u,l){l===void 0&&(l=s);var c=l.connector;return a.operate(function(f,h){var d=c();i.innerFrom(u(o.fromSubscribable(d))).subscribe(h),h.add(f.subscribe(d))})}},1038:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.count=void 0;var n=t(9139);e.count=function(i){return n.reduce(function(a,o,s){return!i||i(o,s)?a+1:a},0)}},4461:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.debounce=function(s){return n.operate(function(u,l){var c=!1,f=null,h=null,d=function(){if(h==null||h.unsubscribe(),h=null,c){c=!1;var v=f;f=null,l.next(v)}};u.subscribe(a.createOperatorSubscriber(l,function(v){h==null||h.unsubscribe(),c=!0,f=v,h=a.createOperatorSubscriber(l,d,i.noop),o.innerFrom(s(v)).subscribe(h)},function(){d(),l.complete()},void 0,function(){f=h=null}))})}},8079:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounceTime=void 0;var n=t(7961),i=t(7843),a=t(3111);e.debounceTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.operate(function(u,l){var c=null,f=null,h=null,d=function(){if(c){c.unsubscribe(),c=null;var y=f;f=null,l.next(y)}};function v(){var y=h+o,w=s.now();if(w<y)return c=this.schedule(void 0,y-w),void l.add(c);d()}u.subscribe(a.createOperatorSubscriber(l,function(y){f=y,h=s.now(),c||(c=s.schedule(v,o),l.add(c))},function(){d(),l.complete()},void 0,function(){f=c=null}))})}},378:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultIfEmpty=void 0;var n=t(7843),i=t(3111);e.defaultIfEmpty=function(a){return n.operate(function(o,s){var u=!1;o.subscribe(i.createOperatorSubscriber(s,function(l){u=!0,s.next(l)},function(){u||s.next(a),s.complete()}))})}},914:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;var n=t(7961),i=t(8766),a=t(4092);e.delay=function(o,s){s===void 0&&(s=n.asyncScheduler);var u=a.timer(o,s);return i.delayWhen(function(){return u})}},8766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delayWhen=void 0;var n=t(3865),i=t(846),a=t(490),o=t(3218),s=t(983),u=t(9445);e.delayWhen=function l(c,f){return f?function(h){return n.concat(f.pipe(i.take(1),a.ignoreElements()),h.pipe(l(c)))}:s.mergeMap(function(h,d){return u.innerFrom(c(h,d)).pipe(i.take(1),o.mapTo(h))})}},7441:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dematerialize=void 0;var n=t(7800),i=t(7843),a=t(3111);e.dematerialize=function(){return i.operate(function(o,s){o.subscribe(a.createOperatorSubscriber(s,function(u){return n.observeNotification(u,s)}))})}},5365:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=void 0;var n=t(7843),i=t(3111),a=t(1342),o=t(9445);e.distinct=function(s,u){return n.operate(function(l,c){var f=new Set;l.subscribe(i.createOperatorSubscriber(c,function(h){var d=s?s(h):h;f.has(d)||(f.add(d),c.next(h))})),u&&o.innerFrom(u).subscribe(i.createOperatorSubscriber(c,function(){return f.clear()},a.noop))})}},8937:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilChanged=void 0;var n=t(6640),i=t(7843),a=t(3111);function o(s,u){return s===u}e.distinctUntilChanged=function(s,u){return u===void 0&&(u=n.identity),s=s??o,i.operate(function(l,c){var f,h=!0;l.subscribe(a.createOperatorSubscriber(c,function(d){var v=u(d);!h&&s(f,v)||(h=!1,f=v,c.next(d))}))})}},9612:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilKeyChanged=void 0;var n=t(8937);e.distinctUntilKeyChanged=function(i,a){return n.distinctUntilChanged(function(o,s){return a?a(o[i],s[i]):o[i]===s[i]})}},4520:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elementAt=void 0;var n=t(7057),i=t(783),a=t(4869),o=t(378),s=t(846);e.elementAt=function(u,l){if(u<0)throw new n.ArgumentOutOfRangeError;var c=arguments.length>=2;return function(f){return f.pipe(i.filter(function(h,d){return d===u}),s.take(1),c?o.defaultIfEmpty(l):a.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},1776:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,h=l.call(s),d=[];try{for(;(u===void 0||u-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.endWith=void 0;var a=t(3865),o=t(1004);e.endWith=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return function(l){return a.concat(l,o.of.apply(void 0,i([],n(s))))}}},5510:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.every=void 0;var n=t(7843),i=t(3111);e.every=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){a.call(o,c,l++,s)||(u.next(!1),u.complete())},function(){u.next(!0),u.complete()}))})}},1551:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaust=void 0;var n=t(2752);e.exhaust=n.exhaustAll},2752:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustAll=void 0;var n=t(4753),i=t(6640);e.exhaustAll=function(){return n.exhaustMap(i.identity)}},4753:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustMap=void 0;var n=t(5471),i=t(9445),a=t(7843),o=t(3111);e.exhaustMap=function s(u,l){return l?function(c){return c.pipe(s(function(f,h){return i.innerFrom(u(f,h)).pipe(n.map(function(d,v){return l(f,d,h,v)}))}))}:a.operate(function(c,f){var h=0,d=null,v=!1;c.subscribe(o.createOperatorSubscriber(f,function(y){d||(d=o.createOperatorSubscriber(f,void 0,function(){d=null,v&&f.complete()}),i.innerFrom(u(y,h++)).subscribe(d))},function(){v=!0,!d&&f.complete()}))})}},7661:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expand=void 0;var n=t(7843),i=t(1983);e.expand=function(a,o,s){return o===void 0&&(o=1/0),o=(o||0)<1?1/0:o,n.operate(function(u,l){return i.mergeInternals(u,l,a,o,void 0,!0,s)})}},783:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=t(7843),i=t(3111);e.filter=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){return a.call(o,c,l++)&&u.next(c)}))})}},3555:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.finalize=void 0;var n=t(7843);e.finalize=function(i){return n.operate(function(a,o){try{a.subscribe(o)}finally{o.add(i)}})}},7714:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFind=e.find=void 0;var n=t(7843),i=t(3111);function a(o,s,u){var l=u==="index";return function(c,f){var h=0;c.subscribe(i.createOperatorSubscriber(f,function(d){var v=h++;o.call(s,d,v,c)&&(f.next(l?v:d),f.complete())},function(){f.next(l?-1:void 0),f.complete()}))}}e.find=function(o,s){return n.operate(a(o,s,"value"))},e.createFind=a},9756:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findIndex=void 0;var n=t(7843),i=t(7714);e.findIndex=function(a,o){return n.operate(i.createFind(a,o,"index"))}},8275:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.first=void 0;var n=t(2823),i=t(783),a=t(846),o=t(378),s=t(4869),u=t(6640);e.first=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(d,v){return l(d,v,h)}):u.identity,a.take(1),f?o.defaultIfEmpty(c):s.throwIfEmpty(function(){return new n.EmptyError}))}}},6902:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.flatMap=void 0;var n=t(983);e.flatMap=n.mergeMap},7815:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0;var n=t(4662),i=t(9445),a=t(2483),o=t(7843),s=t(3111);e.groupBy=function(u,l,c,f){return o.operate(function(h,d){var v;l&&typeof l!="function"?(c=l.duration,v=l.element,f=l.connector):v=l;var y=new Map,w=function(P){y.forEach(P),P(d)},b=function(P){return w(function(I){return I.error(P)})},g=0,_=!1,x=new s.OperatorSubscriber(d,function(P){try{var I=u(P),T=y.get(I);if(!T){y.set(I,T=f?f():new a.Subject);var A=(N=I,j=T,(B=new n.Observable(function(W){g++;var V=j.subscribe(W);return function(){V.unsubscribe(),--g==0&&_&&x.unsubscribe()}})).key=N,B);if(d.next(A),c){var D=s.createOperatorSubscriber(T,function(){T.complete(),D==null||D.unsubscribe()},void 0,void 0,function(){return y.delete(I)});x.add(i.innerFrom(c(A)).subscribe(D))}}T.next(v?v(P):P)}catch(W){b(W)}var N,j,B},function(){return w(function(P){return P.complete()})},b,function(){return y.clear()},function(){return _=!0,g===0});h.subscribe(x)})}},490:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreElements=void 0;var n=t(7843),i=t(3111),a=t(1342);e.ignoreElements=function(){return n.operate(function(o,s){o.subscribe(i.createOperatorSubscriber(s,a.noop))})}},9356:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var n=t(7843),i=t(3111);e.isEmpty=function(){return n.operate(function(a,o){a.subscribe(i.createOperatorSubscriber(o,function(){o.next(!1),o.complete()},function(){o.next(!0),o.complete()}))})}},3638:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinAllInternals=void 0;var n=t(6640),i=t(1251),a=t(2706),o=t(983),s=t(2343);e.joinAllInternals=function(u,l){return a.pipe(s.toArray(),o.mergeMap(function(c){return u(c)}),l?i.mapOneOrManyArgs(l):n.identity)}},8669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.last=void 0;var n=t(2823),i=t(783),a=t(8330),o=t(4869),s=t(378),u=t(6640);e.last=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(d,v){return l(d,v,h)}):u.identity,a.takeLast(1),f?s.defaultIfEmpty(c):o.throwIfEmpty(function(){return new n.EmptyError}))}}},5471:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var n=t(7843),i=t(3111);e.map=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){u.next(a.call(o,c,l++))}))})}},3218:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mapTo=void 0;var n=t(5471);e.mapTo=function(i){return n.map(function(){return i})}},2360:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materialize=void 0;var n=t(7800),i=t(7843),a=t(3111);e.materialize=function(){return i.operate(function(o,s){o.subscribe(a.createOperatorSubscriber(s,function(u){s.next(n.Notification.createNext(u))},function(){s.next(n.Notification.createComplete()),s.complete()},function(u){s.next(n.Notification.createError(u)),s.complete()}))})}},1415:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.max=void 0;var n=t(9139),i=t(1018);e.max=function(a){return n.reduce(i.isFunction(a)?function(o,s){return a(o,s)>0?o:s}:function(o,s){return o>s?o:s})}},361:function(r,e,t){var n=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)w.push(d.value)}catch(b){v={error:b}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return w},i=this&&this.__spreadArray||function(c,f){for(var h=0,d=f.length,v=c.length;h<d;h++,v++)c[v]=f[h];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var a=t(7843),o=t(8535),s=t(7302),u=t(1107),l=t(4917);e.merge=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var h=u.popScheduler(c),d=u.popNumber(c,1/0);return c=o.argsOrArgArray(c),a.operate(function(v,y){s.mergeAll(d)(l.from(i([v],n(c)),h)).subscribe(y)})}},7302:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=void 0;var n=t(983),i=t(6640);e.mergeAll=function(a){return a===void 0&&(a=1/0),n.mergeMap(i.identity,a)}},1983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeInternals=void 0;var n=t(9445),i=t(7110),a=t(3111);e.mergeInternals=function(o,s,u,l,c,f,h,d){var v=[],y=0,w=0,b=!1,g=function(){!b||v.length||y||s.complete()},_=function(P){return y<l?x(P):v.push(P)},x=function(P){f&&s.next(P),y++;var I=!1;n.innerFrom(u(P,w++)).subscribe(a.createOperatorSubscriber(s,function(T){c==null||c(T),f?_(T):s.next(T)},function(){I=!0},void 0,function(){if(I)try{y--;for(var T=function(){var A=v.shift();h?i.executeSchedule(s,h,function(){return x(A)}):x(A)};v.length&&y<l;)T();g()}catch(A){s.error(A)}}))};return o.subscribe(a.createOperatorSubscriber(s,_,function(){b=!0,g()})),function(){d==null||d()}}},983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMap=void 0;var n=t(5471),i=t(9445),a=t(7843),o=t(1983),s=t(1018);e.mergeMap=function u(l,c,f){return f===void 0&&(f=1/0),s.isFunction(c)?u(function(h,d){return n.map(function(v,y){return c(h,v,d,y)})(i.innerFrom(l(h,d)))},f):(typeof c=="number"&&(f=c),a.operate(function(h,d){return o.mergeInternals(h,d,l,f)}))}},6586:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMapTo=void 0;var n=t(983),i=t(1018);e.mergeMapTo=function(a,o,s){return s===void 0&&(s=1/0),i.isFunction(o)?n.mergeMap(function(){return a},o,s):(typeof o=="number"&&(s=o),n.mergeMap(function(){return a},s))}},4408:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeScan=void 0;var n=t(7843),i=t(1983);e.mergeScan=function(a,o,s){return s===void 0&&(s=1/0),n.operate(function(u,l){var c=o;return i.mergeInternals(u,l,function(f,h){return a(c,f,h)},s,function(f){c=f},!1,void 0,function(){return c=null})})}},8253:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),h=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.mergeWith=void 0;var a=t(361);e.mergeWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.merge.apply(void 0,i([],n(o)))}},2669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.min=void 0;var n=t(9139),i=t(1018);e.min=function(a){return n.reduce(i.isFunction(a)?function(o,s){return a(o,s)<0?o:s}:function(o,s){return o<s?o:s})}},9247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.multicast=void 0;var n=t(8918),i=t(1018),a=t(1483);e.multicast=function(o,s){var u=i.isFunction(o)?o:function(){return o};return i.isFunction(s)?a.connect(s,{connector:u}):function(l){return new n.ConnectableObservable(l,u)}}},5184:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeOn=void 0;var n=t(7110),i=t(7843),a=t(3111);e.observeOn=function(o,s){return s===void 0&&(s=0),i.operate(function(u,l){u.subscribe(a.createOperatorSubscriber(l,function(c){return n.executeSchedule(l,o,function(){return l.next(c)},s)},function(){return n.executeSchedule(l,o,function(){return l.complete()},s)},function(c){return n.executeSchedule(l,o,function(){return l.error(c)},s)}))})}},1226:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,h,d=c.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,h=u.length;c<f;c++,h++)u[h]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=e.onErrorResumeNextWith=void 0;var a=t(8535),o=t(6102);function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=a.argsOrArgArray(u);return function(f){return o.onErrorResumeNext.apply(void 0,i([f],n(c)))}}e.onErrorResumeNextWith=s,e.onErrorResumeNext=s},1518:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairwise=void 0;var n=t(7843),i=t(3111);e.pairwise=function(){return n.operate(function(a,o){var s,u=!1;a.subscribe(i.createOperatorSubscriber(o,function(l){var c=s;s=l,u&&o.next([c,l]),u=!0}))})}},2171:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783);e.partition=function(a,o){return function(s){return[i.filter(a,o)(s),i.filter(n.not(a,o))(s)]}}},4912:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pluck=void 0;var n=t(5471);e.pluck=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i.length;if(o===0)throw new Error("list of properties cannot be empty.");return n.map(function(s){for(var u=s,l=0;l<o;l++){var c=u==null?void 0:u[i[l]];if(c===void 0)return;u=c}return u})}},766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publish=void 0;var n=t(2483),i=t(9247),a=t(1483);e.publish=function(o){return o?function(s){return a.connect(o)(s)}:function(s){return i.multicast(new n.Subject)(s)}}},7220:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishBehavior=void 0;var n=t(1637),i=t(8918);e.publishBehavior=function(a){return function(o){var s=new n.BehaviorSubject(a);return new i.ConnectableObservable(o,function(){return s})}}},6106:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishLast=void 0;var n=t(95),i=t(8918);e.publishLast=function(){return function(a){var o=new n.AsyncSubject;return new i.ConnectableObservable(a,function(){return o})}}},8157:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishReplay=void 0;var n=t(1242),i=t(9247),a=t(1018);e.publishReplay=function(o,s,u,l){u&&!a.isFunction(u)&&(l=u);var c=a.isFunction(u)?u:void 0;return function(f){return i.multicast(new n.ReplaySubject(o,s,l),c)(f)}}},4440:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,h=l.call(s),d=[];try{for(;(u===void 0||u-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.race=void 0;var a=t(8535),o=t(5600);e.race=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return o.raceWith.apply(void 0,i([],n(a.argsOrArgArray(s))))}},5600:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,h,d=c.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,h=u.length;c<f;c++,h++)u[h]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.raceWith=void 0;var a=t(5584),o=t(7843),s=t(6640);e.raceWith=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return u.length?o.operate(function(c,f){a.raceInit(i([c],n(u)))(f)}):s.identity}},9139:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=void 0;var n=t(6384),i=t(7843);e.reduce=function(a,o){return i.operate(n.scanInternals(a,o,arguments.length>=2,!1,!0))}},7561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.refCount=void 0;var n=t(7843),i=t(3111);e.refCount=function(){return n.operate(function(a,o){var s=null;a._refCount++;var u=i.createOperatorSubscriber(o,void 0,void 0,void 0,function(){if(!a||a._refCount<=0||0<--a._refCount)s=null;else{var l=a._connection,c=s;s=null,!l||c&&l!==c||l.unsubscribe(),o.unsubscribe()}});a.subscribe(u),u.closed||(s=a.connect())})}},8522:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=void 0;var n=t(8616),i=t(7843),a=t(3111),o=t(9445),s=t(4092);e.repeat=function(u){var l,c,f=1/0;return u!=null&&(typeof u=="object"?(l=u.count,f=l===void 0?1/0:l,c=u.delay):f=u),f<=0?function(){return n.EMPTY}:i.operate(function(h,d){var v,y=0,w=function(){if(v==null||v.unsubscribe(),v=null,c!=null){var g=typeof c=="number"?s.timer(c):o.innerFrom(c(y)),_=a.createOperatorSubscriber(d,function(){_.unsubscribe(),b()});g.subscribe(_)}else b()},b=function(){var g=!1;v=h.subscribe(a.createOperatorSubscriber(d,void 0,function(){++y<f?v?w():g=!0:d.complete()})),g&&w()};b()})}},6566:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeatWhen=void 0;var n=t(9445),i=t(2483),a=t(7843),o=t(3111);e.repeatWhen=function(s){return a.operate(function(u,l){var c,f,h=!1,d=!1,v=!1,y=function(){return v&&d&&(l.complete(),!0)},w=function(){v=!1,c=u.subscribe(o.createOperatorSubscriber(l,void 0,function(){v=!0,!y()&&(f||(f=new i.Subject,n.innerFrom(s(f)).subscribe(o.createOperatorSubscriber(l,function(){c?w():h=!0},function(){d=!0,y()}))),f).next()})),h&&(c.unsubscribe(),c=null,h=!1,w())};w()})}},7835:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;var n=t(7843),i=t(3111),a=t(6640),o=t(4092),s=t(9445);e.retry=function(u){var l;u===void 0&&(u=1/0);var c=(l=u&&typeof u=="object"?u:{count:u}).count,f=c===void 0?1/0:c,h=l.delay,d=l.resetOnSuccess,v=d!==void 0&&d;return f<=0?a.identity:n.operate(function(y,w){var b,g=0,_=function(){var x=!1;b=y.subscribe(i.createOperatorSubscriber(w,function(P){v&&(g=0),w.next(P)},void 0,function(P){if(g++<f){var I=function(){b?(b.unsubscribe(),b=null,_()):x=!0};if(h!=null){var T=typeof h=="number"?o.timer(h):s.innerFrom(h(P,g)),A=i.createOperatorSubscriber(w,function(){A.unsubscribe(),I()},function(){w.complete()});T.subscribe(A)}else I()}else w.error(P)})),x&&(b.unsubscribe(),b=null,_())};_()})}},9843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retryWhen=void 0;var n=t(9445),i=t(2483),a=t(7843),o=t(3111);e.retryWhen=function(s){return a.operate(function(u,l){var c,f,h=!1,d=function(){c=u.subscribe(o.createOperatorSubscriber(l,void 0,void 0,function(v){f||(f=new i.Subject,n.innerFrom(s(f)).subscribe(o.createOperatorSubscriber(l,function(){return c?d():h=!0}))),f&&f.next(v)})),h&&(c.unsubscribe(),c=null,h=!1,d())};d()})}},1731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sample=void 0;var n=t(9445),i=t(7843),a=t(1342),o=t(3111);e.sample=function(s){return i.operate(function(u,l){var c=!1,f=null;u.subscribe(o.createOperatorSubscriber(l,function(h){c=!0,f=h})),n.innerFrom(s).subscribe(o.createOperatorSubscriber(l,function(){if(c){c=!1;var h=f;f=null,l.next(h)}},a.noop))})}},6086:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sampleTime=void 0;var n=t(7961),i=t(1731),a=t(6472);e.sampleTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.sample(a.interval(o,s))}},8624:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scan=void 0;var n=t(7843),i=t(6384);e.scan=function(a,o){return n.operate(i.scanInternals(a,o,arguments.length>=2,!0))}},6384:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scanInternals=void 0;var n=t(3111);e.scanInternals=function(i,a,o,s,u){return function(l,c){var f=o,h=a,d=0;l.subscribe(n.createOperatorSubscriber(c,function(v){var y=d++;h=f?i(h,v,y):(f=!0,v),s&&c.next(h)},u&&function(){f&&c.next(h),c.complete()}))}}},582:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sequenceEqual=void 0;var n=t(7843),i=t(3111),a=t(9445);e.sequenceEqual=function(o,s){return s===void 0&&(s=function(u,l){return u===l}),n.operate(function(u,l){var c={buffer:[],complete:!1},f={buffer:[],complete:!1},h=function(v){l.next(v),l.complete()},d=function(v,y){var w=i.createOperatorSubscriber(l,function(b){var g=y.buffer,_=y.complete;g.length===0?_?h(!1):v.buffer.push(b):!s(b,g.shift())&&h(!1)},function(){v.complete=!0;var b=y.complete,g=y.buffer;b&&h(g.length===0),w==null||w.unsubscribe()});return w};u.subscribe(d(c,f)),a.innerFrom(o).subscribe(d(f,c))})}},8977:function(r,e,t){var n=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)w.push(d.value)}catch(b){v={error:b}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return w},i=this&&this.__spreadArray||function(c,f){for(var h=0,d=f.length,v=c.length;h<d;h++,v++)c[v]=f[h];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.share=void 0;var a=t(9445),o=t(2483),s=t(5),u=t(7843);function l(c,f){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];if(f!==!0){if(f!==!1){var v=new s.SafeSubscriber({next:function(){v.unsubscribe(),c()}});return a.innerFrom(f.apply(void 0,i([],n(h)))).subscribe(v)}}else c()}e.share=function(c){c===void 0&&(c={});var f=c.connector,h=f===void 0?function(){return new o.Subject}:f,d=c.resetOnError,v=d===void 0||d,y=c.resetOnComplete,w=y===void 0||y,b=c.resetOnRefCountZero,g=b===void 0||b;return function(_){var x,P,I,T=0,A=!1,D=!1,N=function(){P==null||P.unsubscribe(),P=void 0},j=function(){N(),x=I=void 0,A=D=!1},B=function(){var W=x;j(),W==null||W.unsubscribe()};return u.operate(function(W,V){T++,D||A||N();var J=I=I??h();V.add(function(){--T!=0||D||A||(P=l(B,g))}),J.subscribe(V),!x&&T>0&&(x=new s.SafeSubscriber({next:function(ee){return J.next(ee)},error:function(ee){D=!0,N(),P=l(j,v,ee),J.error(ee)},complete:function(){A=!0,N(),P=l(j,w),J.complete()}}),a.innerFrom(W).subscribe(x))})(_)}}},3133:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shareReplay=void 0;var n=t(1242),i=t(8977);e.shareReplay=function(a,o,s){var u,l,c,f,h=!1;return a&&typeof a=="object"?(u=a.bufferSize,f=u===void 0?1/0:u,l=a.windowTime,o=l===void 0?1/0:l,h=(c=a.refCount)!==void 0&&c,s=a.scheduler):f=a??1/0,i.share({connector:function(){return new n.ReplaySubject(f,o,s)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}},3001:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.single=void 0;var n=t(2823),i=t(1505),a=t(1759),o=t(7843),s=t(3111);e.single=function(u){return o.operate(function(l,c){var f,h=!1,d=!1,v=0;l.subscribe(s.createOperatorSubscriber(c,function(y){d=!0,u&&!u(y,v++,l)||(h&&c.error(new i.SequenceError("Too many matching values")),h=!0,f=y)},function(){h?(c.next(f),c.complete()):c.error(d?new a.NotFoundError("No matching values"):new n.EmptyError)}))})}},3982:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skip=void 0;var n=t(783);e.skip=function(i){return n.filter(function(a,o){return i<=o})}},9098:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipLast=void 0;var n=t(6640),i=t(7843),a=t(3111);e.skipLast=function(o){return o<=0?n.identity:i.operate(function(s,u){var l=new Array(o),c=0;return s.subscribe(a.createOperatorSubscriber(u,function(f){var h=c++;if(h<o)l[h]=f;else{var d=h%o,v=l[d];l[d]=f,u.next(v)}})),function(){l=null}})}},7372:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipUntil=void 0;var n=t(7843),i=t(3111),a=t(9445),o=t(1342);e.skipUntil=function(s){return n.operate(function(u,l){var c=!1,f=i.createOperatorSubscriber(l,function(){f==null||f.unsubscribe(),c=!0},o.noop);a.innerFrom(s).subscribe(f),u.subscribe(i.createOperatorSubscriber(l,function(h){return c&&l.next(h)}))})}},4721:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipWhile=void 0;var n=t(7843),i=t(3111);e.skipWhile=function(a){return n.operate(function(o,s){var u=!1,l=0;o.subscribe(i.createOperatorSubscriber(s,function(c){return(u||(u=!a(c,l++)))&&s.next(c)}))})}},269:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.startWith=void 0;var n=t(3865),i=t(1107),a=t(7843);e.startWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=i.popScheduler(o);return a.operate(function(l,c){(u?n.concat(o,l,u):n.concat(o,l)).subscribe(c)})}},8960:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeOn=void 0;var n=t(7843);e.subscribeOn=function(i,a){return a===void 0&&(a=0),n.operate(function(o,s){s.add(i.schedule(function(){return o.subscribe(s)},a))})}},8774:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchAll=void 0;var n=t(3879),i=t(6640);e.switchAll=function(){return n.switchMap(i.identity)}},3879:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var n=t(9445),i=t(7843),a=t(3111);e.switchMap=function(o,s){return i.operate(function(u,l){var c=null,f=0,h=!1,d=function(){return h&&!c&&l.complete()};u.subscribe(a.createOperatorSubscriber(l,function(v){c==null||c.unsubscribe();var y=0,w=f++;n.innerFrom(o(v,w)).subscribe(c=a.createOperatorSubscriber(l,function(b){return l.next(s?s(v,b,w,y++):b)},function(){c=null,d()}))},function(){h=!0,d()}))})}},3274:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMapTo=void 0;var n=t(3879),i=t(1018);e.switchMapTo=function(a,o){return i.isFunction(o)?n.switchMap(function(){return a},o):n.switchMap(function(){return a})}},8712:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchScan=void 0;var n=t(3879),i=t(7843);e.switchScan=function(a,o){return i.operate(function(s,u){var l=o;return n.switchMap(function(c,f){return a(l,c,f)},function(c,f){return l=f,f})(s).subscribe(u),function(){l=null}})}},846:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.take=void 0;var n=t(8616),i=t(7843),a=t(3111);e.take=function(o){return o<=0?function(){return n.EMPTY}:i.operate(function(s,u){var l=0;s.subscribe(a.createOperatorSubscriber(u,function(c){++l<=o&&(u.next(c),o<=l&&u.complete())}))})}},8330:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.takeLast=void 0;var i=t(8616),a=t(7843),o=t(3111);e.takeLast=function(s){return s<=0?function(){return i.EMPTY}:a.operate(function(u,l){var c=[];u.subscribe(o.createOperatorSubscriber(l,function(f){c.push(f),s<c.length&&c.shift()},function(){var f,h;try{for(var d=n(c),v=d.next();!v.done;v=d.next()){var y=v.value;l.next(y)}}catch(w){f={error:w}}finally{try{v&&!v.done&&(h=d.return)&&h.call(d)}finally{if(f)throw f.error}}l.complete()},void 0,function(){c=null}))})}},4780:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeUntil=void 0;var n=t(7843),i=t(3111),a=t(9445),o=t(1342);e.takeUntil=function(s){return n.operate(function(u,l){a.innerFrom(s).subscribe(i.createOperatorSubscriber(l,function(){return l.complete()},o.noop)),!l.closed&&u.subscribe(l)})}},2129:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeWhile=void 0;var n=t(7843),i=t(3111);e.takeWhile=function(a,o){return o===void 0&&(o=!1),n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){var f=a(c,l++);(f||o)&&u.next(c),!f&&u.complete()}))})}},3964:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tap=void 0;var n=t(1018),i=t(7843),a=t(3111),o=t(6640);e.tap=function(s,u,l){var c=n.isFunction(s)||u||l?{next:s,error:u,complete:l}:s;return c?i.operate(function(f,h){var d;(d=c.subscribe)===null||d===void 0||d.call(c);var v=!0;f.subscribe(a.createOperatorSubscriber(h,function(y){var w;(w=c.next)===null||w===void 0||w.call(c,y),h.next(y)},function(){var y;v=!1,(y=c.complete)===null||y===void 0||y.call(c),h.complete()},function(y){var w;v=!1,(w=c.error)===null||w===void 0||w.call(c,y),h.error(y)},function(){var y,w;v&&((y=c.unsubscribe)===null||y===void 0||y.call(c)),(w=c.finalize)===null||w===void 0||w.call(c)}))}):o.identity}},8941:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;var n=t(7843),i=t(3111),a=t(9445);e.throttle=function(o,s){return n.operate(function(u,l){var c=s??{},f=c.leading,h=f===void 0||f,d=c.trailing,v=d!==void 0&&d,y=!1,w=null,b=null,g=!1,_=function(){b==null||b.unsubscribe(),b=null,v&&(I(),g&&l.complete())},x=function(){b=null,g&&l.complete()},P=function(T){return b=a.innerFrom(o(T)).subscribe(i.createOperatorSubscriber(l,_,x))},I=function(){if(y){y=!1;var T=w;w=null,l.next(T),!g&&P(T)}};u.subscribe(i.createOperatorSubscriber(l,function(T){y=!0,w=T,(!b||b.closed)&&(h?I():P(T))},function(){g=!0,(!(v&&y&&b)||b.closed)&&l.complete()}))})}},7640:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttleTime=void 0;var n=t(7961),i=t(8941),a=t(4092);e.throttleTime=function(o,s,u){s===void 0&&(s=n.asyncScheduler);var l=a.timer(o,s);return i.throttle(function(){return l},u)}},4869:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfEmpty=void 0;var n=t(2823),i=t(7843),a=t(3111);function o(){return new n.EmptyError}e.throwIfEmpty=function(s){return s===void 0&&(s=o),i.operate(function(u,l){var c=!1;u.subscribe(a.createOperatorSubscriber(l,function(f){c=!0,l.next(f)},function(){return c?l.complete():l.error(s())}))})}},489:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeInterval=e.timeInterval=void 0;var n=t(7961),i=t(7843),a=t(3111);e.timeInterval=function(s){return s===void 0&&(s=n.asyncScheduler),i.operate(function(u,l){var c=s.now();u.subscribe(a.createOperatorSubscriber(l,function(f){var h=s.now(),d=h-c;c=h,l.next(new o(f,d))}))})};var o=function(s,u){this.value=s,this.interval=u};e.TimeInterval=o},1554:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var n=t(7961),i=t(1074),a=t(7843),o=t(9445),s=t(5568),u=t(3111),l=t(7110);function c(f){throw new e.TimeoutError(f)}e.TimeoutError=s.createErrorClass(function(f){return function(h){h===void 0&&(h=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=h}}),e.timeout=function(f,h){var d=i.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,v=d.first,y=d.each,w=d.with,b=w===void 0?c:w,g=d.scheduler,_=g===void 0?h??n.asyncScheduler:g,x=d.meta,P=x===void 0?null:x;if(v==null&&y==null)throw new TypeError("No timeout provided.");return a.operate(function(I,T){var A,D,N=null,j=0,B=function(W){D=l.executeSchedule(T,_,function(){try{A.unsubscribe(),o.innerFrom(b({meta:P,lastValue:N,seen:j})).subscribe(T)}catch(V){T.error(V)}},W)};A=I.subscribe(u.createOperatorSubscriber(T,function(W){D==null||D.unsubscribe(),j++,T.next(N=W),y>0&&B(y)},void 0,void 0,function(){D!=null&&D.closed||D==null||D.unsubscribe(),N=null})),!j&&B(v!=null?typeof v=="number"?v:+v-_.now():y)})}},4862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutWith=void 0;var n=t(7961),i=t(1074),a=t(1554);e.timeoutWith=function(o,s,u){var l,c,f;if(u=u??n.async,i.isValidDate(o)?l=o:typeof o=="number"&&(c=o),!s)throw new TypeError("No observable provided to switch to");if(f=function(){return s},l==null&&c==null)throw new TypeError("No timeout provided.");return a.timeout({first:l,each:c,scheduler:u,with:f})}},6505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp=void 0;var n=t(9568),i=t(5471);e.timestamp=function(a){return a===void 0&&(a=n.dateTimestampProvider),i.map(function(o){return{value:o,timestamp:a.now()}})}},2343:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toArray=void 0;var n=t(9139),i=t(7843),a=function(o,s){return o.push(s),o};e.toArray=function(){return i.operate(function(o,s){n.reduce(a,[])(o).subscribe(s)})}},5477:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.window=void 0;var n=t(2483),i=t(7843),a=t(3111),o=t(1342),s=t(9445);e.window=function(u){return i.operate(function(l,c){var f=new n.Subject;c.next(f.asObservable());var h=function(d){f.error(d),c.error(d)};return l.subscribe(a.createOperatorSubscriber(c,function(d){return f==null?void 0:f.next(d)},function(){f.complete(),c.complete()},h)),s.innerFrom(u).subscribe(a.createOperatorSubscriber(c,function(){f.complete(),c.next(f=new n.Subject)},o.noop,h)),function(){f==null||f.unsubscribe(),f=null}})}},6746:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowCount=void 0;var i=t(2483),a=t(7843),o=t(3111);e.windowCount=function(s,u){u===void 0&&(u=0);var l=u>0?u:s;return a.operate(function(c,f){var h=[new i.Subject],d=0;f.next(h[0].asObservable()),c.subscribe(o.createOperatorSubscriber(f,function(v){var y,w;try{for(var b=n(h),g=b.next();!g.done;g=b.next())g.value.next(v)}catch(P){y={error:P}}finally{try{g&&!g.done&&(w=b.return)&&w.call(b)}finally{if(y)throw y.error}}var _=d-s+1;if(_>=0&&_%l==0&&h.shift().complete(),++d%l==0){var x=new i.Subject;h.push(x),f.next(x.asObservable())}},function(){for(;h.length>0;)h.shift().complete();f.complete()},function(v){for(;h.length>0;)h.shift().error(v);f.error(v)},function(){h=null}))})}},8208:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowTime=void 0;var n=t(2483),i=t(7961),a=t(8014),o=t(7843),s=t(3111),u=t(7479),l=t(1107),c=t(7110);e.windowTime=function(f){for(var h,d,v=[],y=1;y<arguments.length;y++)v[y-1]=arguments[y];var w=(h=l.popScheduler(v))!==null&&h!==void 0?h:i.asyncScheduler,b=(d=v[0])!==null&&d!==void 0?d:null,g=v[1]||1/0;return o.operate(function(_,x){var P=[],I=!1,T=function(j){var B=j.window,W=j.subs;B.complete(),W.unsubscribe(),u.arrRemove(P,j),I&&A()},A=function(){if(P){var j=new a.Subscription;x.add(j);var B=new n.Subject,W={window:B,subs:j,seen:0};P.push(W),x.next(B.asObservable()),c.executeSchedule(j,w,function(){return T(W)},f)}};b!==null&&b>=0?c.executeSchedule(x,w,A,b,!0):I=!0,A();var D=function(j){return P.slice().forEach(j)},N=function(j){D(function(B){var W=B.window;return j(W)}),j(x),x.unsubscribe()};return _.subscribe(s.createOperatorSubscriber(x,function(j){D(function(B){B.window.next(j),g<=++B.seen&&T(B)})},function(){return N(function(j){return j.complete()})},function(j){return N(function(B){return B.error(j)})})),function(){P=null}})}},6637:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowToggle=void 0;var i=t(2483),a=t(8014),o=t(7843),s=t(9445),u=t(3111),l=t(1342),c=t(7479);e.windowToggle=function(f,h){return o.operate(function(d,v){var y=[],w=function(b){for(;0<y.length;)y.shift().error(b);v.error(b)};s.innerFrom(f).subscribe(u.createOperatorSubscriber(v,function(b){var g=new i.Subject;y.push(g);var _,x=new a.Subscription;try{_=s.innerFrom(h(b))}catch(P){return void w(P)}v.next(g.asObservable()),x.add(_.subscribe(u.createOperatorSubscriber(v,function(){c.arrRemove(y,g),g.complete(),x.unsubscribe()},l.noop,w)))},l.noop)),d.subscribe(u.createOperatorSubscriber(v,function(b){var g,_,x=y.slice();try{for(var P=n(x),I=P.next();!I.done;I=P.next())I.value.next(b)}catch(T){g={error:T}}finally{try{I&&!I.done&&(_=P.return)&&_.call(P)}finally{if(g)throw g.error}}},function(){for(;0<y.length;)y.shift().complete();v.complete()},w,function(){for(;0<y.length;)y.shift().unsubscribe()}))})}},1141:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowWhen=void 0;var n=t(2483),i=t(7843),a=t(3111),o=t(9445);e.windowWhen=function(s){return i.operate(function(u,l){var c,f,h=function(v){c.error(v),l.error(v)},d=function(){var v;f==null||f.unsubscribe(),c==null||c.complete(),c=new n.Subject,l.next(c.asObservable());try{v=o.innerFrom(s())}catch(y){return void h(y)}v.subscribe(f=a.createOperatorSubscriber(l,d,d,h))};d(),u.subscribe(a.createOperatorSubscriber(l,function(v){return c.next(v)},function(){c.complete(),l.complete()},h,function(){f==null||f.unsubscribe(),c=null}))})}},5442:function(r,e,t){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,w=d.call(f),b=[];try{for(;(h===void 0||h-- >0)&&!(v=w.next()).done;)b.push(v.value)}catch(g){y={error:g}}finally{try{v&&!v.done&&(d=w.return)&&d.call(w)}finally{if(y)throw y.error}}return b},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.withLatestFrom=void 0;var a=t(7843),o=t(3111),s=t(9445),u=t(6640),l=t(1342),c=t(1107);e.withLatestFrom=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var d=c.popResultSelector(f);return a.operate(function(v,y){for(var w=f.length,b=new Array(w),g=f.map(function(){return!1}),_=!1,x=function(I){s.innerFrom(f[I]).subscribe(o.createOperatorSubscriber(y,function(T){b[I]=T,_||g[I]||(g[I]=!0,(_=g.every(u.identity))&&(g=null))},l.noop))},P=0;P<w;P++)x(P);v.subscribe(o.createOperatorSubscriber(y,function(I){if(_){var T=i([I],n(b));y.next(d?d.apply(void 0,i([],n(T))):T)}}))})}},5918:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,h=l.call(s),d=[];try{for(;(u===void 0||u-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=t(7286),o=t(7843);e.zip=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return o.operate(function(l,c){a.zip.apply(void 0,i([l],n(s))).subscribe(c)})}},187:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.zipAll=void 0;var n=t(7286),i=t(3638);e.zipAll=function(a){return i.joinAllInternals(n.zip,a)}},8538:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),h=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.zipWith=void 0;var a=t(5918);e.zipWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.zip.apply(void 0,i([],n(o)))}},6985:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleArray=void 0;var n=t(4662);e.scheduleArray=function(i,a){return new n.Observable(function(o){var s=0;return a.schedule(function(){s===i.length?o.complete():(o.next(i[s++]),o.closed||this.schedule())})})}},854:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleAsyncIterable=void 0;var n=t(4662),i=t(7110);e.scheduleAsyncIterable=function(a,o){if(!a)throw new Error("Iterable cannot be null");return new n.Observable(function(s){i.executeSchedule(s,o,function(){var u=a[Symbol.asyncIterator]();i.executeSchedule(s,o,function(){u.next().then(function(l){l.done?s.complete():s.next(l.value)})},0,!0)})})}},8808:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleIterable=void 0;var n=t(4662),i=t(1964),a=t(1018),o=t(7110);e.scheduleIterable=function(s,u){return new n.Observable(function(l){var c;return o.executeSchedule(l,u,function(){c=s[i.iterator](),o.executeSchedule(l,u,function(){var f,h,d;try{h=(f=c.next()).value,d=f.done}catch(v){return void l.error(v)}d?l.complete():l.next(h)},0,!0)}),function(){return a.isFunction(c==null?void 0:c.return)&&c.return()}})}},9567:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleObservable=void 0;var n=t(9445),i=t(5184),a=t(8960);e.scheduleObservable=function(o,s){return n.innerFrom(o).pipe(a.subscribeOn(s),i.observeOn(s))}},9589:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.schedulePromise=void 0;var n=t(9445),i=t(5184),a=t(8960);e.schedulePromise=function(o,s){return n.innerFrom(o).pipe(a.subscribeOn(s),i.observeOn(s))}},4953:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleReadableStreamLike=void 0;var n=t(854),i=t(9137);e.scheduleReadableStreamLike=function(a,o){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(a),o)}},1656:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduled=void 0;var n=t(9567),i=t(9589),a=t(6985),o=t(8808),s=t(854),u=t(1116),l=t(7629),c=t(8046),f=t(6368),h=t(1358),d=t(7614),v=t(9137),y=t(4953);e.scheduled=function(w,b){if(w!=null){if(u.isInteropObservable(w))return n.scheduleObservable(w,b);if(c.isArrayLike(w))return a.scheduleArray(w,b);if(l.isPromise(w))return i.schedulePromise(w,b);if(h.isAsyncIterable(w))return s.scheduleAsyncIterable(w,b);if(f.isIterable(w))return o.scheduleIterable(w,b);if(v.isReadableStreamLike(w))return y.scheduleReadableStreamLike(w,b)}throw d.createInvalidObservableTypeError(w)}},4671:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;var a=function(o){function s(u,l){return o.call(this)||this}return i(s,o),s.prototype.schedule=function(u,l){return this},s}(t(8014).Subscription);e.Action=a},2628:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameAction=void 0;var a=t(5267),o=t(9507),s=function(u){function l(c,f){var h=u.call(this,c,f)||this;return h.scheduler=c,h.work=f,h}return i(l,u),l.prototype.requestAsyncId=function(c,f,h){return h===void 0&&(h=0),h!==null&&h>0?u.prototype.requestAsyncId.call(this,c,f,h):(c.actions.push(this),c._scheduled||(c._scheduled=o.animationFrameProvider.requestAnimationFrame(function(){return c.flush(void 0)})))},l.prototype.recycleAsyncId=function(c,f,h){var d;if(h===void 0&&(h=0),h!=null?h>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,c,f,h);var v=c.actions;f!=null&&((d=v[v.length-1])===null||d===void 0?void 0:d.id)!==f&&(o.animationFrameProvider.cancelAnimationFrame(f),c._scheduled=void 0)},l}(a.AsyncAction);e.AnimationFrameAction=s},3229:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.flush=function(u){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var c,f=this.actions;u=u||f.shift();do if(c=u.execute(u.state,u.delay))break;while((u=f[0])&&u.id===l&&f.shift());if(this._active=!1,c){for(;(u=f[0])&&u.id===l&&f.shift();)u.unsubscribe();throw c}},s}(t(5648).AsyncScheduler);e.AnimationFrameScheduler=a},5006:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsapAction=void 0;var a=t(5267),o=t(6293),s=function(u){function l(c,f){var h=u.call(this,c,f)||this;return h.scheduler=c,h.work=f,h}return i(l,u),l.prototype.requestAsyncId=function(c,f,h){return h===void 0&&(h=0),h!==null&&h>0?u.prototype.requestAsyncId.call(this,c,f,h):(c.actions.push(this),c._scheduled||(c._scheduled=o.immediateProvider.setImmediate(c.flush.bind(c,void 0))))},l.prototype.recycleAsyncId=function(c,f,h){var d;if(h===void 0&&(h=0),h!=null?h>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,c,f,h);var v=c.actions;f!=null&&((d=v[v.length-1])===null||d===void 0?void 0:d.id)!==f&&(o.immediateProvider.clearImmediate(f),c._scheduled===f&&(c._scheduled=void 0))},l}(a.AsyncAction);e.AsapAction=s},827:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsapScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.flush=function(u){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var c,f=this.actions;u=u||f.shift();do if(c=u.execute(u.state,u.delay))break;while((u=f[0])&&u.id===l&&f.shift());if(this._active=!1,c){for(;(u=f[0])&&u.id===l&&f.shift();)u.unsubscribe();throw c}},s}(t(5648).AsyncScheduler);e.AsapScheduler=a},5267:function(r,e,t){var n,i=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAction=void 0;var a=t(4671),o=t(5649),s=t(7479),u=function(l){function c(f,h){var d=l.call(this,f,h)||this;return d.scheduler=f,d.work=h,d.pending=!1,d}return i(c,l),c.prototype.schedule=function(f,h){var d;if(h===void 0&&(h=0),this.closed)return this;this.state=f;var v=this.id,y=this.scheduler;return v!=null&&(this.id=this.recycleAsyncId(y,v,h)),this.pending=!0,this.delay=h,this.id=(d=this.id)!==null&&d!==void 0?d:this.requestAsyncId(y,this.id,h),this},c.prototype.requestAsyncId=function(f,h,d){return d===void 0&&(d=0),o.intervalProvider.setInterval(f.flush.bind(f,this),d)},c.prototype.recycleAsyncId=function(f,h,d){if(d===void 0&&(d=0),d!=null&&this.delay===d&&this.pending===!1)return h;h!=null&&o.intervalProvider.clearInterval(h)},c.prototype.execute=function(f,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var d=this._execute(f,h);if(d)return d;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},c.prototype._execute=function(f,h){var d,v=!1;try{this.work(f)}catch(y){v=!0,d=y||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),d},c.prototype.unsubscribe=function(){if(!this.closed){var f=this.id,h=this.scheduler,d=h.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(d,this),f!=null&&(this.id=this.recycleAsyncId(h,f,null)),this.delay=null,l.prototype.unsubscribe.call(this)}},c}(a.Action);e.AsyncAction=u},5648:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScheduler=void 0;var a=t(8986),o=function(s){function u(l,c){c===void 0&&(c=a.Scheduler.now);var f=s.call(this,l,c)||this;return f.actions=[],f._active=!1,f}return i(u,s),u.prototype.flush=function(l){var c=this.actions;if(this._active)c.push(l);else{var f;this._active=!0;do if(f=l.execute(l.state,l.delay))break;while(l=c.shift());if(this._active=!1,f){for(;l=c.shift();)l.unsubscribe();throw f}}},u}(a.Scheduler);e.AsyncScheduler=o},4212:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.QueueAction=void 0;var a=function(o){function s(u,l){var c=o.call(this,u,l)||this;return c.scheduler=u,c.work=l,c}return i(s,o),s.prototype.schedule=function(u,l){return l===void 0&&(l=0),l>0?o.prototype.schedule.call(this,u,l):(this.delay=l,this.state=u,this.scheduler.flush(this),this)},s.prototype.execute=function(u,l){return l>0||this.closed?o.prototype.execute.call(this,u,l):this._execute(u,l)},s.prototype.requestAsyncId=function(u,l,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?o.prototype.requestAsyncId.call(this,u,l,c):(u.flush(this),0)},s}(t(5267).AsyncAction);e.QueueAction=a},1293:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.QueueScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s}(t(5648).AsyncScheduler);e.QueueScheduler=a},182:function(r,e,t){var n,i=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualAction=e.VirtualTimeScheduler=void 0;var a=t(5267),o=t(8014),s=function(l){function c(f,h){f===void 0&&(f=u),h===void 0&&(h=1/0);var d=l.call(this,f,function(){return d.frame})||this;return d.maxFrames=h,d.frame=0,d.index=-1,d}return i(c,l),c.prototype.flush=function(){for(var f,h,d=this.actions,v=this.maxFrames;(h=d[0])&&h.delay<=v&&(d.shift(),this.frame=h.delay,!(f=h.execute(h.state,h.delay))););if(f){for(;h=d.shift();)h.unsubscribe();throw f}},c.frameTimeFactor=10,c}(t(5648).AsyncScheduler);e.VirtualTimeScheduler=s;var u=function(l){function c(f,h,d){d===void 0&&(d=f.index+=1);var v=l.call(this,f,h)||this;return v.scheduler=f,v.work=h,v.index=d,v.active=!0,v.index=f.index=d,v}return i(c,l),c.prototype.schedule=function(f,h){if(h===void 0&&(h=0),Number.isFinite(h)){if(!this.id)return l.prototype.schedule.call(this,f,h);this.active=!1;var d=new c(this.scheduler,this.work);return this.add(d),d.schedule(f,h)}return o.Subscription.EMPTY},c.prototype.requestAsyncId=function(f,h,d){d===void 0&&(d=0),this.delay=f.frame+d;var v=f.actions;return v.push(this),v.sort(c.sortActions),1},c.prototype.recycleAsyncId=function(f,h,d){},c.prototype._execute=function(f,h){if(this.active===!0)return l.prototype._execute.call(this,f,h)},c.sortActions=function(f,h){return f.delay===h.delay?f.index===h.index?0:f.index>h.index?1:-1:f.delay>h.delay?1:-1},c}(a.AsyncAction);e.VirtualAction=u},3862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var n=t(2628),i=t(3229);e.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler},9507:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),h=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var a=t(8014);e.animationFrameProvider={schedule:function(o){var s=requestAnimationFrame,u=cancelAnimationFrame,l=e.animationFrameProvider.delegate;l&&(s=l.requestAnimationFrame,u=l.cancelAnimationFrame);var c=s(function(f){u=void 0,o(f)});return new a.Subscription(function(){return u==null?void 0:u(c)})},requestAnimationFrame:function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(o)))},cancelAnimationFrame:function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(o)))},delegate:void 0}},3692:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var n=t(5006),i=t(827);e.asapScheduler=new i.AsapScheduler(n.AsapAction),e.asap=e.asapScheduler},7961:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var n=t(5267),i=t(5648);e.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),e.async=e.asyncScheduler},9568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6293:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,h,d=c.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,h=u.length;c<f;c++,h++)u[h]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var a=t(7245),o=a.Immediate.setImmediate,s=a.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=e.immediateProvider.delegate;return((c==null?void 0:c.setImmediate)||o).apply(void 0,i([],n(u)))},clearImmediate:function(u){var l=e.immediateProvider.delegate;return((l==null?void 0:l.clearImmediate)||s)(u)},delegate:void 0}},5649:function(r,e){var t=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var s,u,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(s=l.next()).done;)c.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(u)throw u.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,s=a.length,u=i.length;o<s;o++,u++)i[u]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(i,a){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var u=e.intervalProvider.delegate;return u!=null&&u.setInterval?u.setInterval.apply(u,n([i,a],t(o))):setInterval.apply(void 0,n([i,a],t(o)))},clearInterval:function(i){var a=e.intervalProvider.delegate;return((a==null?void 0:a.clearInterval)||clearInterval)(i)},delegate:void 0}},4746:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},2886:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var n=t(4212),i=t(1293);e.queueScheduler=new i.QueueScheduler(n.QueueAction),e.queue=e.queueScheduler},9155:function(r,e){var t=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var s,u,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(s=l.next()).done;)c.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(u)throw u.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,s=a.length,u=i.length;o<s;o++,u++)i[u]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(i,a){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var u=e.timeoutProvider.delegate;return u!=null&&u.setTimeout?u.setTimeout.apply(u,n([i,a],t(o))):setTimeout.apply(void 0,n([i,a],t(o)))},clearTimeout:function(i){var a=e.timeoutProvider.delegate;return((a==null?void 0:a.clearTimeout)||clearTimeout)(i)},delegate:void 0}},1964:(r,e)=>{function t(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.iterator=e.getSymbolIterator=void 0,e.getSymbolIterator=t,e.iterator=t()},3327:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observable=void 0,e.observable=typeof Symbol=="function"&&Symbol.observable||"@@observable"},6038:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},7057:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentOutOfRangeError=void 0;var n=t(5568);e.ArgumentOutOfRangeError=n.createErrorClass(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},2823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyError=void 0;var n=t(5568);e.EmptyError=n.createErrorClass(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}})},7245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestTools=e.Immediate=void 0;var t,n=1,i={};function a(o){return o in i&&(delete i[o],!0)}e.Immediate={setImmediate:function(o){var s=n++;return i[s]=!0,t||(t=Promise.resolve()),t.then(function(){return a(s)&&o()}),s},clearImmediate:function(o){a(o)}},e.TestTools={pending:function(){return Object.keys(i).length}}},1759:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundError=void 0;var n=t(5568);e.NotFoundError=n.createErrorClass(function(i){return function(a){i(this),this.name="NotFoundError",this.message=a}})},9686:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUnsubscribedError=void 0;var n=t(5568);e.ObjectUnsubscribedError=n.createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},1505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceError=void 0;var n=t(5568);e.SequenceError=n.createErrorClass(function(i){return function(a){i(this),this.name="SequenceError",this.message=a}})},5788:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscriptionError=void 0;var n=t(5568);e.UnsubscriptionError=n.createErrorClass(function(i){return function(a){i(this),this.message=a?a.length+` errors occurred during unsubscription:
`+a.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=a}})},1107:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.popNumber=e.popScheduler=e.popResultSelector=void 0;var n=t(1018),i=t(8613);function a(o){return o[o.length-1]}e.popResultSelector=function(o){return n.isFunction(a(o))?o.pop():void 0},e.popScheduler=function(o){return i.isScheduler(a(o))?o.pop():void 0},e.popNumber=function(o,s){return typeof a(o)=="number"?o.pop():s}},7360:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsArgArrayOrObject=void 0;var t=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,a=Object.keys;e.argsArgArrayOrObject=function(o){if(o.length===1){var s=o[0];if(t(s))return{args:s,keys:null};if((l=s)&&typeof l=="object"&&n(l)===i){var u=a(s);return{args:u.map(function(c){return s[c]}),keys:u}}}var l;return{args:o,keys:null}}},8535:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsOrArgArray=void 0;var t=Array.isArray;e.argsOrArgArray=function(n){return n.length===1&&t(n[0])?n[0]:n}},7479:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arrRemove=void 0,e.arrRemove=function(t,n){if(t){var i=t.indexOf(n);0<=i&&t.splice(i,1)}}},5568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorClass=void 0,e.createErrorClass=function(t){var n=t(function(i){Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}},6013:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createObject=void 0,e.createObject=function(t,n){return t.reduce(function(i,a,o){return i[a]=n[o],i},{})}},9223:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.captureError=e.errorContext=void 0;var n=t(3413),i=null;e.errorContext=function(a){if(n.config.useDeprecatedSynchronousErrorHandling){var o=!i;if(o&&(i={errorThrown:!1,error:null}),a(),o){var s=i,u=s.errorThrown,l=s.error;if(i=null,u)throw l}}else a()},e.captureError=function(a){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=a)}},7110:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.executeSchedule=void 0,e.executeSchedule=function(t,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var s=n.schedule(function(){i(),o?t.add(this.schedule(null,a)):this.unsubscribe()},a);if(t.add(s),!o)return s}},6640:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.identity=void 0,e.identity=function(t){return t}},8046:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=void 0,e.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}},1358:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=void 0;var n=t(1018);e.isAsyncIterable=function(i){return Symbol.asyncIterator&&n.isFunction(i==null?void 0:i[Symbol.asyncIterator])}},1074:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isValidDate=void 0,e.isValidDate=function(t){return t instanceof Date&&!isNaN(t)}},1018:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0,e.isFunction=function(t){return typeof t=="function"}},1116:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isInteropObservable=void 0;var n=t(3327),i=t(1018);e.isInteropObservable=function(a){return i.isFunction(a[n.observable])}},6368:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterable=void 0;var n=t(1964),i=t(1018);e.isIterable=function(a){return i.isFunction(a==null?void 0:a[n.iterator])}},1751:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isObservable=void 0;var n=t(4662),i=t(1018);e.isObservable=function(a){return!!a&&(a instanceof n.Observable||i.isFunction(a.lift)&&i.isFunction(a.subscribe))}},7629:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=void 0;var n=t(1018);e.isPromise=function(i){return n.isFunction(i==null?void 0:i.then)}},9137:function(r,e,t){var n=this&&this.__generator||function(s,u){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;d;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,c=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){d.label=b[1];break}if(b[0]===6&&d.label<f[1]){d.label=f[1],f=b;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(b);break}f[2]&&d.ops.pop(),d.trys.pop();continue}b=u.call(s,d)}catch(g){b=[6,g],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([y,w])}}},i=this&&this.__await||function(s){return this instanceof i?(this.v=s,this):new i(s)},a=this&&this.__asyncGenerator||function(s,u,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=l.apply(s,u||[]),h=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(g){f[g]&&(c[g]=function(_){return new Promise(function(x,P){h.push([g,_,x,P])>1||v(g,_)})})}function v(g,_){try{(x=f[g](_)).value instanceof i?Promise.resolve(x.value.v).then(y,w):b(h[0][2],x)}catch(P){b(h[0][3],P)}var x}function y(g){v("next",g)}function w(g){v("throw",g)}function b(g,_){g(_),h.shift(),h.length&&v(h[0][0],h[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableStreamLike=e.readableStreamLikeToAsyncGenerator=void 0;var o=t(1018);e.readableStreamLikeToAsyncGenerator=function(s){return a(this,arguments,function(){var u,l,c;return n(this,function(f){switch(f.label){case 0:u=s.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,i(u.read())];case 3:return l=f.sent(),c=l.value,l.done?[4,i(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,i(c)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return u.releaseLock(),[7];case 10:return[2]}})})},e.isReadableStreamLike=function(s){return o.isFunction(s==null?void 0:s.getReader)}},8613:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=void 0;var n=t(1018);e.isScheduler=function(i){return i&&n.isFunction(i.schedule)}},7843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.operate=e.hasLift=void 0;var n=t(1018);function i(a){return n.isFunction(a==null?void 0:a.lift)}e.hasLift=i,e.operate=function(a){return function(o){if(i(o))return o.lift(function(s){try{return a(s,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}},1251:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,h=l.call(s),d=[];try{for(;(u===void 0||u-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.mapOneOrManyArgs=void 0;var a=t(5471),o=Array.isArray;e.mapOneOrManyArgs=function(s){return a.map(function(u){return function(l,c){return o(c)?l.apply(void 0,i([],n(c))):l(c)}(s,u)})}},1342:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0,e.noop=function(){}},245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.not=void 0,e.not=function(t,n){return function(i,a){return!t.call(n,i,a)}}},2706:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pipeFromArray=e.pipe=void 0;var n=t(6640);function i(a){return a.length===0?n.identity:a.length===1?a[0]:function(o){return a.reduce(function(s,u){return u(s)},o)}}e.pipe=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return i(a)},e.pipeFromArray=i},7315:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportUnhandledError=void 0;var n=t(3413),i=t(9155);e.reportUnhandledError=function(a){i.timeoutProvider.setTimeout(function(){var o=n.config.onUnhandledError;if(!o)throw a;o(a)})}},7614:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createInvalidObservableTypeError=void 0,e.createInvalidObservableTypeError=function(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},9419:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var n=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return n.audit}});var i=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var a=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return a.buffer}});var o=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return o.bufferCount}});var s=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return s.bufferTime}});var u=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}});var l=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var h=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return h.combineLatestAll}});var d=t(2551);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var v=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return v.combineLatestWith}});var y=t(7601);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return y.concat}});var w=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return w.concatAll}});var b=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return b.concatMap}});var g=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return g.concatMapTo}});var _=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return _.concatWith}});var x=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return x.connect}});var P=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return P.count}});var I=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return I.debounce}});var T=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return T.debounceTime}});var A=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return A.defaultIfEmpty}});var D=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return D.delay}});var N=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return N.delayWhen}});var j=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return j.dematerialize}});var B=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return B.distinct}});var W=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return W.distinctUntilChanged}});var V=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return V.distinctUntilKeyChanged}});var J=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return J.elementAt}});var ee=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return ee.endWith}});var te=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return te.every}});var re=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return re.exhaust}});var de=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return de.exhaustAll}});var pe=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return pe.exhaustMap}});var fe=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return fe.expand}});var ye=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return ye.filter}});var Me=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Me.finalize}});var Ne=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Ne.find}});var ke=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ke.findIndex}});var je=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return je.first}});var xe=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return xe.groupBy}});var Se=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Se.ignoreElements}});var Re=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Re.isEmpty}});var Oe=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Oe.last}});var Pe=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Pe.map}});var Ue=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Ue.mapTo}});var ot=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return ot.materialize}});var $e=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return $e.max}});var rt=t(361);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return rt.merge}});var ht=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return ht.mergeAll}});var Ze=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Ze.flatMap}});var H=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return H.mergeMap}});var K=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return K.mergeMapTo}});var ne=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return ne.mergeScan}});var Ce=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Ce.mergeWith}});var Ae=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Ae.min}});var ze=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ze.multicast}});var Le=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Le.observeOn}});var le=t(1226);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return le.onErrorResumeNext}});var Ve=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Ve.pairwise}});var ut=t(2171);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return ut.partition}});var et=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return et.pluck}});var nt=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return nt.publish}});var Pt=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Pt.publishBehavior}});var dt=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return dt.publishLast}});var Ct=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Ct.publishReplay}});var Ft=t(4440);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Ft.race}});var Yt=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Yt.raceWith}});var Vt=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Vt.reduce}});var sr=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return sr.repeat}});var Bt=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Bt.repeatWhen}});var Zt=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Zt.retry}});var Yr=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Yr.retryWhen}});var Gr=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Gr.refCount}});var Kn=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Kn.sample}});var Rn=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Rn.sampleTime}});var kn=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return kn.scan}});var un=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return un.sequenceEqual}});var fn=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return fn.share}});var Un=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Un.shareReplay}});var Pi=t(3001);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Pi.single}});var pi=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return pi.skip}});var li=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return li.skipLast}});var to=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return to.skipUntil}});var Wi=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Wi.skipWhile}});var Hi=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Hi.startWith}});var hn=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return hn.subscribeOn}});var zn=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return zn.switchAll}});var qn=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return qn.switchMap}});var jr=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return jr.switchMapTo}});var _n=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return _n.switchScan}});var wo=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return wo.take}});var Aa=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Aa.takeLast}});var Uo=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Uo.takeUntil}});var $s=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return $s.takeWhile}});var co=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return co.tap}});var Ia=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Ia.throttle}});var Xs=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Xs.throttleTime}});var aa=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return aa.throwIfEmpty}});var Ka=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return Ka.timeInterval}});var zo=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return zo.timeout}});var Oi=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Oi.timeoutWith}});var Ra=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Ra.timestamp}});var qo=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return qo.toArray}});var Mn=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Mn.window}});var Jr=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Jr.windowCount}});var ur=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return ur.windowTime}});var Ks=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Ks.windowToggle}});var Yi=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Yi.windowWhen}});var xr=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return xr.withLatestFrom}});var $r=t(5918);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return $r.zip}});var ku=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return ku.zipAll}});var hl=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return hl.zipWith}})},5636:(r,e,t)=>{var n=t(1048),i=n.Buffer;function a(s,u){for(var l in s)u[l]=s[l]}function o(s,u,l){return i(s,u,l)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(a(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(s,u,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,l)},o.alloc=function(s,u,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return u!==void 0?typeof l=="string"?c.fill(u,l):c.fill(u):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}},9975:(r,e,t)=>{var n=t(7101),i=Array.prototype.concat,a=Array.prototype.slice,o=r.exports=function(s){for(var u=[],l=0,c=s.length;l<c;l++){var f=s[l];n(f)?u=i.call(u,a.call(f)):u.push(f)}return u};o.wrap=function(s){return function(){return s(o(arguments))}}},7101:r=>{r.exports=function(e){return!(!e||typeof e=="string")&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String"))}},8888:(r,e,t)=>{var n=t(5636).Buffer,i=n.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(v){var y;switch(this.encoding=function(w){var b=function(g){if(!g)return"utf8";for(var _;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(_)return;g=(""+g).toLowerCase(),_=!0}}(w);if(typeof b!="string"&&(n.isEncoding===i||!i(w)))throw new Error("Unknown encoding: "+w);return b||w}(v),this.encoding){case"utf16le":this.text=u,this.end=l,y=4;break;case"utf8":this.fillLast=s,y=4;break;case"base64":this.text=c,this.end=f,y=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(y)}function o(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function s(v){var y=this.lastTotal-this.lastNeed,w=function(b,g,_){if((192&g[0])!=128)return b.lastNeed=0,"�";if(b.lastNeed>1&&g.length>1){if((192&g[1])!=128)return b.lastNeed=1,"�";if(b.lastNeed>2&&g.length>2&&(192&g[2])!=128)return b.lastNeed=2,"�"}}(this,v);return w!==void 0?w:this.lastNeed<=v.length?(v.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,y,0,v.length),void(this.lastNeed-=v.length))}function u(v,y){if((v.length-y)%2==0){var w=v.toString("utf16le",y);if(w){var b=w.charCodeAt(w.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",y,v.length-1)}function l(v){var y=v&&v.length?this.write(v):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,w)}return y}function c(v,y){var w=(v.length-y)%3;return w===0?v.toString("base64",y):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",y,v.length-w))}function f(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function h(v){return v.toString(this.encoding)}function d(v){return v&&v.length?this.write(v):""}e.StringDecoder=a,a.prototype.write=function(v){if(v.length===0)return"";var y,w;if(this.lastNeed){if((y=this.fillLast(v))===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<v.length?y?y+this.text(v,w):this.text(v,w):y||""},a.prototype.end=function(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+"�":y},a.prototype.text=function(v,y){var w=function(g,_,x){var P=_.length-1;if(P<x)return 0;var I=o(_[P]);return I>=0?(I>0&&(g.lastNeed=I-1),I):--P<x||I===-2?0:(I=o(_[P]))>=0?(I>0&&(g.lastNeed=I-2),I):--P<x||I===-2?0:(I=o(_[P]))>=0?(I>0&&(I===2?I=0:g.lastNeed=I-3),I):0}(this,v,y);if(!this.lastNeed)return v.toString("utf8",y);this.lastTotal=w;var b=v.length-(w-this.lastNeed);return v.copy(this.lastChar,0,b),v.toString("utf8",y,b)},a.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}}},BA={};function Di(r){var e=BA[r];if(e!==void 0)return e.exports;var t=BA[r]={id:r,loaded:!1,exports:{}};return RV[r].call(t.exports,t,t.exports,Di),t.loaded=!0,t.exports}Di.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return Di.d(e,{a:e}),e},Di.d=(r,e)=>{for(var t in e)Di.o(e,t)&&!Di.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},Di.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Di.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),Di.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var Ru={};(()=>{Di.d(Ru,{RL:()=>Al,wK:()=>Hh,x_:()=>ev,lv:()=>qf,YQ:()=>Dl,BP:()=>Fm,GZ:()=>Zb,Vw:()=>ls,Ay:()=>Qb,_G:()=>Gc,Wy:()=>rr,h4:()=>zb});var r=Di(5250);function e(p){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(p)}function t(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,n(E.key),E)}}function n(p){var m=function(O,E){if(e(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(e(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return e(m)=="symbol"?m:String(m)}var i=["onLayoutDone","onLayoutStep","onError","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],a=function(){function p(){var E,M,R,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")})(this,p),E=this,R=void 0,(M=n(M="callbacks"))in E?Object.defineProperty(E,M,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[M]=R,this.callbacks=F}var m,O;return m=p,O=[{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(E){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(E)}},{key:"onLayoutComputing",value:function(E){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(E)}},{key:"onError",value:function(E){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(E)}},{key:"onWebGLContextLost",value:function(E){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(E)}},{key:"isValidFunction",value:function(E){return E!==void 0&&typeof E=="function"}}],O&&t(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var O in m)m.hasOwnProperty(O)&&(p[O]=m[O])};function s(p,m){function O(){this.constructor=p}o(p,m),p.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)}var u=function(){function p(m){m===void 0&&(m="Atom@"+Mn()),this.name=m,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Lr.NOT_TRACKING}return p.prototype.onBecomeUnobserved=function(){},p.prototype.reportObserved=function(){gl(this)},p.prototype.reportChanged=function(){Os(),function(m){if(m.lowestObserverState!==Lr.STALE){m.lowestObserverState=Lr.STALE;for(var O=m.observers,E=O.length;E--;){var M=O[E];M.dependenciesState===Lr.UP_TO_DATE&&(M.isTracing!==Go.NONE&&bc(M,m),M.onBecomeStale()),M.dependenciesState=Lr.STALE}}}(this),Qa()},p.prototype.toString=function(){return this.name},p}(),l=function(p){function m(O,E,M){O===void 0&&(O="Atom@"+Mn()),E===void 0&&(E=$r),M===void 0&&(M=$r);var R=p.call(this,O)||this;return R.name=O,R.onBecomeObservedHandler=E,R.onBecomeUnobservedHandler=M,R.isPendingUnobservation=!1,R.isBeingTracked=!1,R}return s(m,p),m.prototype.reportObserved=function(){return Os(),p.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),Qa(),!!Wt.trackingDerivation},m.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},m}(u),c=Za("Atom",u);function f(p){return p.interceptors&&p.interceptors.length>0}function h(p,m){var O=p.interceptors||(p.interceptors=[]);return O.push(m),xr(function(){var E=O.indexOf(m);E!==-1&&O.splice(E,1)})}function d(p,m){var O=xs();try{var E=p.interceptors;if(E)for(var M=0,R=E.length;M<R&&(ur(!(m=E[M](m))||m.type,"Intercept handlers should return nothing or a change object"),m);M++);return m}finally{Ja(O)}}function v(p){return p.changeListeners&&p.changeListeners.length>0}function y(p,m){var O=p.changeListeners||(p.changeListeners=[]);return O.push(m),xr(function(){var E=O.indexOf(m);E!==-1&&O.splice(E,1)})}function w(p,m){var O=xs(),E=p.changeListeners;if(E){for(var M=0,R=(E=E.slice()).length;M<R;M++)E[M](m);Ja(O)}}function b(){return!!Wt.spyListeners.length}function g(p){if(Wt.spyListeners.length)for(var m=Wt.spyListeners,O=0,E=m.length;O<E;O++)m[O](p)}function _(p){g(bf({},p,{spyReportStart:!0}))}var x={spyReportEnd:!0};function P(p){g(p?bf({},p,x):x)}function I(p){return Wt.spyListeners.push(p),xr(function(){var m=Wt.spyListeners.indexOf(p);m!==-1&&Wt.spyListeners.splice(m,1)})}var T="__$$iterating";function A(p){ur(p[T]!==!0,"Illegal state: cannot recycle array as iterator"),Du(p,T,!0);var m=-1;return Du(p,"next",function(){return{done:++m>=this.length,value:m<this.length?this[m]:void 0}}),p}function D(p,m){Du(p,typeof Symbol=="function"&&Symbol.iterator||"@@iterator",m)}var N,j,B=function(){var p=!1,m={};return Object.defineProperty(m,"0",{set:function(){p=!0}}),Object.create(m)[0]=1,p===!1}(),W=0,V=function(){};N=V,j=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(N.prototype,j):N.prototype.__proto__!==void 0?N.prototype.__proto__=j:N.prototype=j,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(p){Object.defineProperty(V.prototype,p,{configurable:!0,writable:!0,value:Array.prototype[p]})});var J=function(){function p(m,O,E,M){this.array=E,this.owned=M,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new u(m||"ObservableArray@"+Mn()),this.enhancer=function(R,F){return O(R,F,m+"[..]")}}return p.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},p.prototype.dehanceValues=function(m){return this.dehancer!==void 0?m.map(this.dehancer):m},p.prototype.intercept=function(m){return h(this,m)},p.prototype.observe=function(m,O){return O===void 0&&(O=!1),O&&m({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),y(this,m)},p.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},p.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var O=this.values.length;if(m!==O)if(m>O){for(var E=new Array(m-O),M=0;M<m-O;M++)E[M]=void 0;this.spliceWithArray(O,0,E)}else this.spliceWithArray(m,O-m)},p.prototype.updateArrayLength=function(m,O){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=O,O>0&&m+O+1>W&&pe(m+O+1)},p.prototype.spliceWithArray=function(m,O,E){var M=this;Tr(this.atom);var R=this.values.length;if(m===void 0?m=0:m>R?m=R:m<0&&(m=Math.max(0,R+m)),O=arguments.length===1?R-m:O==null?0:Math.max(0,Math.min(O,R-m)),E===void 0&&(E=[]),f(this)){var F=d(this,{object:this.array,type:"splice",index:m,removedCount:O,added:E});if(!F)return Ra;O=F.removedCount,E=F.added}var G=(E=E.map(function(Y){return M.enhancer(Y,void 0)})).length-O;this.updateArrayLength(R,G);var z=this.spliceItemsIntoValues(m,O,E);return O===0&&E.length===0||this.notifyArraySplice(m,E,z),this.dehanceValues(z)},p.prototype.spliceItemsIntoValues=function(m,O,E){if(E.length<1e4)return(M=this.values).splice.apply(M,[m,O].concat(E));var M,R=this.values.slice(m,m+O);return this.values=this.values.slice(0,m).concat(E,this.values.slice(m+O)),R},p.prototype.notifyArrayChildUpdate=function(m,O,E){var M=!this.owned&&b(),R=v(this),F=R||M?{object:this.array,type:"update",index:m,newValue:O,oldValue:E}:null;M&&_(F),this.atom.reportChanged(),R&&w(this,F),M&&P()},p.prototype.notifyArraySplice=function(m,O,E){var M=!this.owned&&b(),R=v(this),F=R||M?{object:this.array,type:"splice",index:m,removed:E,added:O,removedCount:E.length,addedCount:O.length}:null;M&&_(F),this.atom.reportChanged(),R&&w(this,F),M&&P()},p}(),ee=function(p){function m(O,E,M,R){M===void 0&&(M="ObservableArray@"+Mn()),R===void 0&&(R=!1);var F=p.call(this)||this,G=new J(M,E,F,R);return Du(F,"$mobx",G),O&&O.length&&F.spliceWithArray(0,0,O),B&&Object.defineProperty(G.array,"0",te),F}return s(m,p),m.prototype.intercept=function(O){return this.$mobx.intercept(O)},m.prototype.observe=function(O,E){return E===void 0&&(E=!1),this.$mobx.observe(O,E)},m.prototype.clear=function(){return this.splice(0)},m.prototype.concat=function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),O.map(function(M){return ye(M)?M.peek():M}))},m.prototype.replace=function(O){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,O)},m.prototype.toJS=function(){return this.slice()},m.prototype.toJSON=function(){return this.toJS()},m.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},m.prototype.find=function(O,E,M){M===void 0&&(M=0);var R=this.findIndex.apply(this,arguments);return R===-1?void 0:this.get(R)},m.prototype.findIndex=function(O,E,M){M===void 0&&(M=0);for(var R=this.peek(),F=R.length,G=M;G<F;G++)if(O.call(E,R[G],G,this))return G;return-1},m.prototype.splice=function(O,E){for(var M=[],R=2;R<arguments.length;R++)M[R-2]=arguments[R];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(O);case 2:return this.$mobx.spliceWithArray(O,E)}return this.$mobx.spliceWithArray(O,E,M)},m.prototype.spliceWithArray=function(O,E,M){return this.$mobx.spliceWithArray(O,E,M)},m.prototype.push=function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var M=this.$mobx;return M.spliceWithArray(M.values.length,0,O),M.values.length},m.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},m.prototype.shift=function(){return this.splice(0,1)[0]},m.prototype.unshift=function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var M=this.$mobx;return M.spliceWithArray(0,0,O),M.values.length},m.prototype.reverse=function(){var O=this.slice();return O.reverse.apply(O,arguments)},m.prototype.sort=function(O){var E=this.slice();return E.sort.apply(E,arguments)},m.prototype.remove=function(O){var E=this.$mobx.dehanceValues(this.$mobx.values).indexOf(O);return E>-1&&(this.splice(E,1),!0)},m.prototype.move=function(O,E){function M(G){if(G<0)throw new Error("[mobx.array] Index out of bounds: "+G+" is negative");var z=this.$mobx.values.length;if(G>=z)throw new Error("[mobx.array] Index out of bounds: "+G+" is not smaller than "+z)}if(M.call(this,O),M.call(this,E),O!==E){var R,F=this.$mobx.values;R=O<E?F.slice(0,O).concat(F.slice(O+1,E+1),[F[O]],F.slice(E+1)):F.slice(0,E).concat([F[O]],F.slice(E,O),F.slice(O+1)),this.replace(R)}},m.prototype.get=function(O){var E=this.$mobx;if(E){if(O<E.values.length)return E.atom.reportObserved(),E.dehanceValue(E.values[O]);console.warn("[mobx.array] Attempt to read an array index ("+O+") that is out of bounds ("+E.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},m.prototype.set=function(O,E){var M=this.$mobx,R=M.values;if(O<R.length){Tr(M.atom);var F=R[O];if(f(M)){var G=d(M,{type:"update",object:this,index:O,newValue:E});if(!G)return;E=G.newValue}(E=M.enhancer(E,F))!==F&&(R[O]=E,M.notifyArrayChildUpdate(O,E,F))}else{if(O!==R.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+R.length);M.spliceWithArray(O,0,[E])}},m}(V);D(ee.prototype,function(){return A(this.slice())}),Object.defineProperty(ee.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(p){this.$mobx.setArrayLength(p)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(p){var m=Array.prototype[p];ur(typeof m=="function","Base function not defined on Array prototype: '"+p+"'"),fo(ee.prototype,p,function(){return m.apply(this.peek(),arguments)})}),function(p,m){for(var O=0;O<m.length;O++)fo(p,m[O],p[m[O]])}(ee.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var te=re(0);function re(p){return{enumerable:!1,configurable:!1,get:function(){return this.get(p)},set:function(m){this.set(p,m)}}}function de(p){Object.defineProperty(ee.prototype,""+p,re(p))}function pe(p){for(var m=W;m<p;m++)de(m);W=p}pe(1e3);var fe=Za("ObservableArrayAdministration",J);function ye(p){return mf(p)&&fe(p.$mobx)}var Me={},Ne=function(p){function m(O,E,M,R){M===void 0&&(M="ObservableValue@"+Mn()),R===void 0&&(R=!0);var F=p.call(this,M)||this;return F.enhancer=E,F.hasUnreportedChange=!1,F.dehancer=void 0,F.value=E(O,void 0,M),R&&b()&&g({type:"create",object:F,newValue:F.value}),F}return s(m,p),m.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},m.prototype.set=function(O){var E=this.value;if((O=this.prepareNewValue(O))!==Me){var M=b();M&&_({type:"update",object:this,newValue:O,oldValue:E}),this.setNewValue(O),M&&P()}},m.prototype.prepareNewValue=function(O){if(Tr(this),f(this)){var E=d(this,{object:this,type:"update",newValue:O});if(!E)return Me;O=E.newValue}return O=this.enhancer(O,this.value,this.name),this.value!==O?O:Me},m.prototype.setNewValue=function(O){var E=this.value;this.value=O,this.reportChanged(),v(this)&&w(this,{type:"update",object:this,newValue:O,oldValue:E})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(O){return h(this,O)},m.prototype.observe=function(O,E){return E&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),y(this,O)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return pc(this.get())},m}(u);Ne.prototype[vc()]=Ne.prototype.valueOf;var ke=Za("ObservableValue",Ne),je={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:`* This computation is suspended (not in use by any reaction) and won't run automatically.
	Didn't expect this computation to be suspended at this point?
	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).
	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).`,m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:`Hi there! I'm sorry you have just run into an exception.
If your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)
threw an exception and that mobx caught it, to avoid that it brings the rest of your application down.
The original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.

However, more interesting is the actual stack trace of the error itself.
Hopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.
See \`error.stack\` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.
That stack is more interesting than the stack of this console.error itself.

If the exception you see is an exception you created yourself, make sure to use \`throw new Error("Oops")\` instead of \`throw "Oops"\`,
because the javascript environment will only preserve the original stack trace in the first form.

You can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".
(Note that it might pause on many other, unrelated exception as well).

If that all doesn't help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!
`,m038:`Missing items in this list?
    1. Check whether all used values are properly marked as observable (use isObservable to verify)
    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.
`};function xe(p){return je[p]}function Se(p,m){ur(typeof m=="function",xe("m026")),ur(typeof p=="string"&&p.length>0,"actions should have valid names, got: '"+p+"'");var O=function(){return Re(p,m,this,arguments)};return O.originalFn=m,O.isMobxAction=!0,O}function Re(p,m,O,E){var M=function(R,F,G,z){var Y=b()&&!!R,$=0;if(Y){$=Date.now();var Z=z&&z.length||0,ie=new Array(Z);if(Z>0)for(var se=0;se<Z;se++)ie[se]=z[se];_({type:"action",name:R,fn:F,object:G,arguments:ie})}var he=xs();return Os(),{prevDerivation:he,prevAllowStateChanges:Pe(!0),notifySpy:Y,startTime:$}}(p,m,O,E);try{return m.apply(O,E)}finally{(function(R){Ue(R.prevAllowStateChanges),Qa(),Ja(R.prevDerivation),R.notifySpy&&P({time:Date.now()-R.startTime})})(M)}}function Oe(p){ur(Wt.trackingDerivation===null,xe("m028")),Wt.strictMode=p,Wt.allowStateChanges=!p}function Pe(p){var m=Wt.allowStateChanges;return Wt.allowStateChanges=p,m}function Ue(p){Wt.allowStateChanges=p}function ot(p,m,O,E,M){function R(F,G,z,Y,$){if($===void 0&&($=0),ur(M||ht(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),z){Mu(F,"__mobxLazyInitializers")||fo(F,"__mobxLazyInitializers",F.__mobxLazyInitializers&&F.__mobxLazyInitializers.slice()||[]);var Z=z.value,ie=z.initializer;return F.__mobxLazyInitializers.push(function(he){p(he,G,ie?ie.call(he):Z,Y,z)}),{enumerable:E,configurable:!0,get:function(){return this.__mobxDidRunLazyInitializers!==!0&&rt(this),m.call(this,G)},set:function(he){this.__mobxDidRunLazyInitializers!==!0&&rt(this),O.call(this,G,he)}}}var se={enumerable:E,configurable:!0,get:function(){return this.__mobxInitializedProps&&this.__mobxInitializedProps[G]===!0||$e(this,G,void 0,p,Y,z),m.call(this,G)},set:function(he){this.__mobxInitializedProps&&this.__mobxInitializedProps[G]===!0?O.call(this,G,he):$e(this,G,he,p,Y,z)}};return(arguments.length<3||arguments.length===5&&$<3)&&Object.defineProperty(F,G,se),se}return M?function(){if(ht(arguments))return R.apply(null,arguments);var F=arguments,G=arguments.length;return function(z,Y,$){return R(z,Y,$,F,G)}}:R}function $e(p,m,O,E,M,R){Mu(p,"__mobxInitializedProps")||fo(p,"__mobxInitializedProps",{}),p.__mobxInitializedProps[m]=!0,E(p,m,O,M,R)}function rt(p){p.__mobxDidRunLazyInitializers!==!0&&p.__mobxLazyInitializers&&(fo(p,"__mobxDidRunLazyInitializers",!0),p.__mobxDidRunLazyInitializers&&p.__mobxLazyInitializers.forEach(function(m){return m(p)}))}function ht(p){return(p.length===2||p.length===3)&&typeof p[1]=="string"}var Ze=ot(function(p,m,O,E,M){var R=E&&E.length===1?E[0]:O.name||m||"<unnamed action>";fo(p,m,K(R,O))},function(p){return this[p]},function(){ur(!1,xe("m001"))},!1,!0),H=ot(function(p,m,O){Ae(p,m,O)},function(p){return this[p]},function(){ur(!1,xe("m001"))},!1,!1),K=function(p,m,O,E){return arguments.length===1&&typeof p=="function"?Se(p.name||"<unnamed action>",p):arguments.length===2&&typeof m=="function"?Se(p,m):arguments.length===1&&typeof p=="string"?ne(p):ne(m).apply(null,arguments)};function ne(p){return function(m,O,E){if(E&&typeof E.value=="function")return E.value=Se(p,E.value),E.enumerable=!1,E.configurable=!0,E;if(E!==void 0&&E.get!==void 0)throw new Error("[mobx] action is not expected to be used with getters");return Ze(p).apply(this,arguments)}}function Ce(p){return typeof p=="function"&&p.isMobxAction===!0}function Ae(p,m,O){var E=function(){return Re(m,O,p,arguments)};E.isMobxAction=!0,fo(p,m,E)}K.bound=function(p,m,O){if(typeof p=="function"){var E=Se("<not yet bound action>",p);return E.autoBind=!0,E}return H.apply(null,arguments)};var ze=Object.prototype.toString;function Le(p,m){return le(p,m)}function le(p,m,O,E){if(p===m)return p!==0||1/p==1/m;if(p==null||m==null)return!1;if(p!=p)return m!=m;var M=typeof p;return(M==="function"||M==="object"||typeof m=="object")&&function(R,F,G,z){R=Ve(R),F=Ve(F);var Y=ze.call(R);if(Y!==ze.call(F))return!1;switch(Y){case"[object RegExp]":case"[object String]":return""+R==""+F;case"[object Number]":return+R!=+R?+F!=+F:+R==0?1/+R==1/F:+R==+F;case"[object Date]":case"[object Boolean]":return+R==+F;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(R)===Symbol.valueOf.call(F)}var $=Y==="[object Array]";if(!$){if(typeof R!="object"||typeof F!="object")return!1;var Z=R.constructor,ie=F.constructor;if(Z!==ie&&!(typeof Z=="function"&&Z instanceof Z&&typeof ie=="function"&&ie instanceof ie)&&"constructor"in R&&"constructor"in F)return!1}z=z||[];for(var se=(G=G||[]).length;se--;)if(G[se]===R)return z[se]===F;if(G.push(R),z.push(F),$){if((se=R.length)!==F.length)return!1;for(;se--;)if(!le(R[se],F[se],G,z))return!1}else{var he,ue=Object.keys(R);if(se=ue.length,Object.keys(F).length!==se)return!1;for(;se--;)if(!ut(F,he=ue[se])||!le(R[he],F[he],G,z))return!1}return G.pop(),z.pop(),!0}(p,m,O,E)}function Ve(p){return ye(p)?p.peek():Oi(p)?p.entries():Qs(p)?function(m){for(var O=[];;){var E=m.next();if(E.done)break;O.push(E.value)}return O}(p.entries()):p}function ut(p,m){return Object.prototype.hasOwnProperty.call(p,m)}function et(p,m){return p===m}var nt={identity:et,structural:function(p,m){return Le(p,m)},default:function(p,m){return function(O,E){return typeof O=="number"&&typeof E=="number"&&isNaN(O)&&isNaN(E)}(p,m)||et(p,m)}};function Pt(p,m,O){var E,M,R;typeof p=="string"?(E=p,M=m,R=O):(E=p.name||"Autorun@"+Mn(),M=p,R=m),ur(typeof M=="function",xe("m004")),ur(Ce(M)===!1,xe("m005")),R&&(M=M.bind(R));var F=new Gn(E,function(){this.track(G)});function G(){M(F)}return F.schedule(),F.getDisposer()}function dt(p,m,O){var E;arguments.length>3&&Jr(xe("m007")),wo(p)&&Jr(xe("m008")),(E=typeof O=="object"?O:{}).name=E.name||p.name||m.name||"Reaction@"+Mn(),E.fireImmediately=O===!0||E.fireImmediately===!0,E.delay=E.delay||0,E.compareStructural=E.compareStructural||E.struct||!1,m=K(E.name,E.context?m.bind(E.context):m),E.context&&(p=p.bind(E.context));var M,R=!0,F=!1,G=E.equals?E.equals:E.compareStructural||E.struct?nt.structural:nt.default,z=new Gn(E.name,function(){R||E.delay<1?Y():F||(F=!0,setTimeout(function(){F=!1,Y()},E.delay))});function Y(){if(!z.isDisposed){var $=!1;z.track(function(){var Z=p(z);$=R||!G(M,Z),M=Z}),R&&E.fireImmediately&&m(M,z),R||$!==!0||m(M,z),R&&(R=!1)}}return z.schedule(),z.getDisposer()}var Ct=function(){function p(m,O,E,M,R){this.derivation=m,this.scope=O,this.equals=E,this.dependenciesState=Lr.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Lr.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Mn(),this.value=new yl(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Go.NONE,this.name=M||"ComputedValue@"+Mn(),R&&(this.setter=Se(M+"-setter",R))}return p.prototype.onBecomeStale=function(){(function(m){if(m.lowestObserverState===Lr.UP_TO_DATE){m.lowestObserverState=Lr.POSSIBLY_STALE;for(var O=m.observers,E=O.length;E--;){var M=O[E];M.dependenciesState===Lr.UP_TO_DATE&&(M.dependenciesState=Lr.POSSIBLY_STALE,M.isTracing!==Go.NONE&&bc(M,m),M.onBecomeStale())}}})(this)},p.prototype.onBecomeUnobserved=function(){ru(this),this.value=void 0},p.prototype.get=function(){ur(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),Wt.inBatch===0?(Os(),ml(this)&&(this.isTracing!==Go.NONE&&""+this.name,this.value=this.computeValue(!1)),Qa()):(gl(this),ml(this)&&this.trackAndCompute()&&function(O){if(O.lowestObserverState!==Lr.STALE){O.lowestObserverState=Lr.STALE;for(var E=O.observers,M=E.length;M--;){var R=E[M];R.dependenciesState===Lr.POSSIBLY_STALE?R.dependenciesState=Lr.STALE:R.dependenciesState===Lr.UP_TO_DATE&&(O.lowestObserverState=Lr.UP_TO_DATE)}}}(this));var m=this.value;if(tu(m))throw m.cause;return m},p.prototype.peek=function(){var m=this.computeValue(!1);if(tu(m))throw m.cause;return m},p.prototype.set=function(m){if(this.setter){ur(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else ur(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},p.prototype.trackAndCompute=function(){b()&&g({object:this.scope,type:"compute",fn:this.derivation});var m=this.value,O=this.dependenciesState===Lr.NOT_TRACKING,E=this.value=this.computeValue(!0);return O||tu(m)||tu(E)||!this.equals(m,E)},p.prototype.computeValue=function(m){var O;if(this.isComputing=!0,Wt.computationDepth++,m)O=wc(this,this.derivation,this.scope);else try{O=this.derivation.call(this.scope)}catch(E){O=new yl(E)}return Wt.computationDepth--,this.isComputing=!1,O},p.prototype.observe=function(m,O){var E=this,M=!0,R=void 0;return Pt(function(){var F=E.get();if(!M||O){var G=xs();m({type:"update",object:E,newValue:F,oldValue:R}),Ja(G)}M=!1,R=F})},p.prototype.toJSON=function(){return this.get()},p.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},p.prototype.valueOf=function(){return pc(this.get())},p.prototype.whyRun=function(){var m=!!Wt.trackingDerivation,O=ku(this.isComputing?this.newObserving:this.observing).map(function(M){return M.name}),E=ku(Rh(this).map(function(M){return M.name}));return`
WhyRun? computation '`+this.name+`':
 * Running because: `+(m?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+`
`+(this.dependenciesState===Lr.NOT_TRACKING?xe("m032"):` * This computation will re-run if any of the following observables changes:
    `+hl(O)+`
    `+(this.isComputing&&m?" (... or any observable accessed during the remainder of the current run)":"")+`
    `+xe("m038")+`

  * If the outcome of this computation changes, the following observers will be re-run:
    `+hl(E)+`
`)},p}();Ct.prototype[vc()]=Ct.prototype.valueOf;var Ft=Za("ComputedValue",Ct),Yt=function(){function p(m,O){this.target=m,this.name=O,this.values={},this.changeListeners=null,this.interceptors=null}return p.prototype.observe=function(m,O){return ur(O!==!0,"`observe` doesn't support the fire immediately property for observable objects."),y(this,m)},p.prototype.intercept=function(m){return h(this,m)},p}();function Vt(p,m){if(un(p)&&p.hasOwnProperty("$mobx"))return p.$mobx;ur(Object.isExtensible(p),xe("m035")),Zs(p)||(m=(p.constructor.name||"ObservableObject")+"@"+Mn()),m||(m="ObservableObject@"+Mn());var O=new Yt(p,m);return Du(p,"$mobx",O),O}function sr(p,m,O,E){if(p.values[m]&&!Ft(p.values[m]))return ur("value"in O,"The property "+m+" in "+p.name+" is already observable, cannot redefine it as computed property"),void(p.target[m]=O.value);if("value"in O)if(wo(O.value)){var M=O.value;Bt(p,m,M.initialValue,M.enhancer)}else Ce(O.value)&&O.value.autoBind===!0?Ae(p.target,m,O.value.originalFn):Ft(O.value)?function(R,F,G){var z=R.name+"."+F;G.name=z,G.scope||(G.scope=R.target),R.values[F]=G,Object.defineProperty(R.target,F,Kn(F))}(p,m,O.value):Bt(p,m,O.value,E);else Zt(p,m,O.get,O.set,nt.default,!0)}function Bt(p,m,O,E){if(ji(p.target,m),f(p)){var M=d(p,{object:p.target,name:m,type:"add",newValue:O});if(!M)return;O=M.newValue}O=(p.values[m]=new Ne(O,E,p.name+"."+m,!1)).value,Object.defineProperty(p.target,m,function(R){return Yr[R]||(Yr[R]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[R].get()},set:function(F){Rn(this,R,F)}})}(m)),function(R,F,G,z){var Y=v(R),$=b(),Z=Y||$?{type:"add",object:F,name:G,newValue:z}:null;$&&_(Z),Y&&w(R,Z),$&&P()}(p,p.target,m,O)}function Zt(p,m,O,E,M,R){R&&ji(p.target,m),p.values[m]=new Ct(O,p.target,M,p.name+"."+m,E),R&&Object.defineProperty(p.target,m,Kn(m))}var Yr={},Gr={};function Kn(p){return Gr[p]||(Gr[p]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[p].get()},set:function(m){return this.$mobx.values[p].set(m)}})}function Rn(p,m,O){var E=p.$mobx,M=E.values[m];if(f(E)){if(!(G=d(E,{type:"update",object:p,name:m,newValue:O})))return;O=G.newValue}if((O=M.prepareNewValue(O))!==Me){var R=v(E),F=b(),G=R||F?{type:"update",object:p,oldValue:M.value,name:m,newValue:O}:null;F&&_(G),M.setNewValue(O),R&&w(E,G),F&&P()}}var kn=Za("ObservableObjectAdministration",Yt);function un(p){return!!mf(p)&&(rt(p),kn(p.$mobx))}function fn(p,m){if(p==null)return!1;if(m!==void 0){if(ye(p)||Oi(p))throw new Error(xe("m019"));if(un(p)){var O=p.$mobx;return O.values&&!!O.values[m]}return!1}return un(p)||!!p.$mobx||c(p)||Zn(p)||Ft(p)}function Un(p){return ur(!!p,":("),ot(function(m,O,E,M,R){ji(m,O),ur(!R||!R.get,xe("m022")),Bt(Vt(m,void 0),O,E,p)},function(m){var O=this.$mobx.values[m];if(O!==void 0)return O.get()},function(m,O){Rn(this,m,O)},!0,!1)}function Pi(p){for(var m=[],O=1;O<arguments.length;O++)m[O-1]=arguments[O];return li(p,Uo,m)}function pi(p){for(var m=[],O=1;O<arguments.length;O++)m[O-1]=arguments[O];return li(p,co,m)}function li(p,m,O){ur(arguments.length>=2,xe("m014")),ur(typeof p=="object",xe("m015")),ur(!Oi(p),xe("m016")),O.forEach(function(z){ur(typeof z=="object",xe("m017")),ur(!fn(z),xe("m018"))});for(var E=Vt(p),M={},R=O.length-1;R>=0;R--){var F=O[R];for(var G in F)if(M[G]!==!0&&Mu(F,G)){if(M[G]=!0,p===F&&!dl(p,G))continue;sr(E,G,Object.getOwnPropertyDescriptor(F,G),m)}}return p}var to=Un(Uo),Wi=Un($s),Hi=Un(co),hn=Un(Ia),zn=Un(Xs),qn={box:function(p,m){return arguments.length>2&&_n("box"),new Ne(p,Uo,m)},shallowBox:function(p,m){return arguments.length>2&&_n("shallowBox"),new Ne(p,co,m)},array:function(p,m){return arguments.length>2&&_n("array"),new ee(p,Uo,m)},shallowArray:function(p,m){return arguments.length>2&&_n("shallowArray"),new ee(p,co,m)},map:function(p,m){return arguments.length>2&&_n("map"),new zo(p,Uo,m)},shallowMap:function(p,m){return arguments.length>2&&_n("shallowMap"),new zo(p,co,m)},object:function(p,m){arguments.length>2&&_n("object");var O={};return Vt(O,m),Pi(O,p),O},shallowObject:function(p,m){arguments.length>2&&_n("shallowObject");var O={};return Vt(O,m),pi(O,p),O},ref:function(){return arguments.length<2?Aa(co,arguments[0]):Hi.apply(null,arguments)},shallow:function(){return arguments.length<2?Aa($s,arguments[0]):Wi.apply(null,arguments)},deep:function(){return arguments.length<2?Aa(Uo,arguments[0]):to.apply(null,arguments)},struct:function(){return arguments.length<2?Aa(Ia,arguments[0]):hn.apply(null,arguments)}},jr=function(p){if(p===void 0&&(p=void 0),typeof arguments[1]=="string")return to.apply(null,arguments);if(ur(arguments.length<=1,xe("m021")),ur(!wo(p),xe("m020")),fn(p))return p;var m=Uo(p,0,void 0);return m!==p?m:jr.box(p)};function _n(p){Jr("Expected one or two arguments to observable."+p+". Did you accidentally try to use observable."+p+" as decorator?")}function wo(p){return typeof p=="object"&&p!==null&&p.isMobxModifierDescriptor===!0}function Aa(p,m){return ur(!wo(m),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:m,enhancer:p}}function Uo(p,m,O){return wo(p)&&Jr("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),fn(p)?p:Array.isArray(p)?jr.array(p,O):Zs(p)?jr.object(p,O):Qs(p)?jr.map(p,O):p}function $s(p,m,O){return wo(p)&&Jr("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),p==null||un(p)||ye(p)||Oi(p)?p:Array.isArray(p)?jr.shallowArray(p,O):Zs(p)?jr.shallowObject(p,O):Qs(p)?jr.shallowMap(p,O):Jr("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function co(p){return p}function Ia(p,m,O){if(Le(p,m))return m;if(fn(p))return p;if(Array.isArray(p))return new ee(p,Ia,O);if(Qs(p))return new zo(p,Ia,O);if(Zs(p)){var E={};return Vt(E,O),li(E,Ia,[p]),E}return p}function Xs(p,m,O){return Le(p,m)?m:p}function aa(p,m){m===void 0&&(m=void 0),Os();try{return p.apply(m)}finally{Qa()}}Object.keys(qn).forEach(function(p){return jr[p]=qn[p]}),jr.deep.struct=jr.struct,jr.ref.struct=function(){return arguments.length<2?Aa(Xs,arguments[0]):zn.apply(null,arguments)};var Ka={},zo=function(){function p(m,O,E){O===void 0&&(O=Uo),E===void 0&&(E="ObservableMap@"+Mn()),this.enhancer=O,this.name=E,this.$mobx=Ka,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new ee(void 0,co,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(m)}return p.prototype._has=function(m){return this._data[m]!==void 0},p.prototype.has=function(m){return!!this.isValidKey(m)&&(m=""+m,this._hasMap[m]?this._hasMap[m].get():this._updateHasMapEntry(m,!1).get())},p.prototype.set=function(m,O){this.assertValidKey(m),m=""+m;var E=this._has(m);if(f(this)){var M=d(this,{type:E?"update":"add",object:this,newValue:O,name:m});if(!M)return this;O=M.newValue}return E?this._updateValue(m,O):this._addValue(m,O),this},p.prototype.delete=function(m){var O=this;if(this.assertValidKey(m),m=""+m,f(this)&&!(R=d(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var E=b(),M=v(this),R=M||E?{type:"delete",object:this,oldValue:this._data[m].value,name:m}:null;return E&&_(R),aa(function(){O._keys.remove(m),O._updateHasMapEntry(m,!1),O._data[m].setNewValue(void 0),O._data[m]=void 0}),M&&w(this,R),E&&P(),!0}return!1},p.prototype._updateHasMapEntry=function(m,O){var E=this._hasMap[m];return E?E.setNewValue(O):E=this._hasMap[m]=new Ne(O,co,this.name+"."+m+"?",!1),E},p.prototype._updateValue=function(m,O){var E=this._data[m];if((O=E.prepareNewValue(O))!==Me){var M=b(),R=v(this),F=R||M?{type:"update",object:this,oldValue:E.value,name:m,newValue:O}:null;M&&_(F),E.setNewValue(O),R&&w(this,F),M&&P()}},p.prototype._addValue=function(m,O){var E=this;aa(function(){var G=E._data[m]=new Ne(O,E.enhancer,E.name+"."+m,!1);O=G.value,E._updateHasMapEntry(m,!0),E._keys.push(m)});var M=b(),R=v(this),F=R||M?{type:"add",object:this,name:m,newValue:O}:null;M&&_(F),R&&w(this,F),M&&P()},p.prototype.get=function(m){return m=""+m,this.has(m)?this.dehanceValue(this._data[m].get()):this.dehanceValue(void 0)},p.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},p.prototype.keys=function(){return A(this._keys.slice())},p.prototype.values=function(){return A(this._keys.map(this.get,this))},p.prototype.entries=function(){var m=this;return A(this._keys.map(function(O){return[O,m.get(O)]}))},p.prototype.forEach=function(m,O){var E=this;this.keys().forEach(function(M){return m.call(O,E.get(M),M,E)})},p.prototype.merge=function(m){var O=this;return Oi(m)&&(m=m.toJS()),aa(function(){Zs(m)?Object.keys(m).forEach(function(E){return O.set(E,m[E])}):Array.isArray(m)?m.forEach(function(E){var M=E[0],R=E[1];return O.set(M,R)}):Qs(m)?m.forEach(function(E,M){return O.set(M,E)}):m!=null&&Jr("Cannot initialize map from "+m)}),this},p.prototype.clear=function(){var m=this;aa(function(){wf(function(){m.keys().forEach(m.delete,m)})})},p.prototype.replace=function(m){var O=this;return aa(function(){var E,M=Zs(E=m)?Object.keys(E):Array.isArray(E)?E.map(function(R){return R[0]}):Qs(E)?Array.from(E.keys()):Oi(E)?E.keys():Jr("Cannot get keys from "+E);O.keys().filter(function(R){return M.indexOf(R)===-1}).forEach(function(R){return O.delete(R)}),O.merge(m)}),this},Object.defineProperty(p.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),p.prototype.toJS=function(){var m=this,O={};return this.keys().forEach(function(E){return O[E]=m.get(E)}),O},p.prototype.toJSON=function(){return this.toJS()},p.prototype.isValidKey=function(m){return m!=null&&(typeof m=="string"||typeof m=="number"||typeof m=="boolean")},p.prototype.assertValidKey=function(m){if(!this.isValidKey(m))throw new Error("[mobx.map] Invalid key: '"+m+"', only strings, numbers and booleans are accepted as key in observable maps.")},p.prototype.toString=function(){var m=this;return this.name+"[{ "+this.keys().map(function(O){return O+": "+m.get(O)}).join(", ")+" }]"},p.prototype.observe=function(m,O){return ur(O!==!0,xe("m033")),y(this,m)},p.prototype.intercept=function(m){return h(this,m)},p}();D(zo.prototype,function(){return this.entries()});var Oi=Za("ObservableMap",zo),Ra=[];function qo(){return typeof window<"u"?window:Di.g}function Mn(){return++Wt.mobxGuid}function Jr(p,m){throw ur(!1,p,m),"X"}function ur(p,m,O){if(!p)throw new Error("[mobx] Invariant failed: "+m+(O?" in '"+O+"'":""))}Object.freeze(Ra);var Ks=[];function Yi(p){return Ks.indexOf(p)===-1&&(Ks.push(p),console.error("[mobx] Deprecated: "+p),!0)}function xr(p){var m=!1;return function(){if(!m)return m=!0,p.apply(this,arguments)}}var $r=function(){};function ku(p){var m=[];return p.forEach(function(O){m.indexOf(O)===-1&&m.push(O)}),m}function hl(p,m,O){return m===void 0&&(m=100),O===void 0&&(O=" - "),p?p.slice(0,m).join(O)+(p.length>m?" (... and "+(p.length-m)+"more)":""):""}function mf(p){return p!==null&&typeof p=="object"}function Zs(p){if(p===null||typeof p!="object")return!1;var m=Object.getPrototypeOf(p);return m===Object.prototype||m===null}function bf(){for(var p=arguments[0],m=1,O=arguments.length;m<O;m++){var E=arguments[m];for(var M in E)Mu(E,M)&&(p[M]=E[M])}return p}var Ai=Object.prototype.hasOwnProperty;function Mu(p,m){return Ai.call(p,m)}function fo(p,m,O){Object.defineProperty(p,m,{enumerable:!1,writable:!0,configurable:!0,value:O})}function Du(p,m,O){Object.defineProperty(p,m,{enumerable:!1,writable:!1,configurable:!0,value:O})}function dl(p,m){var O=Object.getOwnPropertyDescriptor(p,m);return!O||O.configurable!==!1&&O.writable!==!1}function ji(p,m){ur(dl(p,m),"Cannot make property '"+m+"' observable, it is not configurable and writable in the target object")}function Za(p,m){var O="isMobX"+p;return m.prototype[O]=!0,function(E){return mf(E)&&E[O]===!0}}function Qs(p){return qo().Map!==void 0&&p instanceof qo().Map}function vc(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function pc(p){return p===null?null:typeof p=="object"?""+p:p}var Lr,Go,ho=["mobxGuid","resetId","spyListeners","strictMode","runId"],gc=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},Wt=new gc,Js=!1,yc=!1,ka=!1,Lu=qo();function Eo(p,m){if(typeof p=="object"&&p!==null){if(ye(p))return ur(m===void 0,xe("m036")),p.$mobx.atom;if(Oi(p)){var O=p;return m===void 0?Eo(O._keys):(ur(!!(E=O._data[m]||O._hasMap[m]),"the entry '"+m+"' does not exist in the observable map '"+sa(p)+"'"),E)}var E;if(rt(p),m&&!p.$mobx&&p[m],un(p))return m?(ur(!!(E=p.$mobx.values[m]),"no observable property '"+m+"' found on the observable object '"+sa(p)+"'"),E):Jr("please specify a property");if(c(p)||Ft(p)||Zn(p))return p}else if(typeof p=="function"&&Zn(p.$mobx))return p.$mobx;return Jr("Cannot obtain atom from "+p)}function Vr(p,m){return ur(p,"Expecting some object"),m!==void 0?Vr(Eo(p,m)):c(p)||Ft(p)||Zn(p)||Oi(p)?p:(rt(p),p.$mobx?p.$mobx:void ur(!1,"Cannot obtain administration from "+p))}function sa(p,m){return(m!==void 0?Eo(p,m):un(p)||Oi(p)?Vr(p):Eo(p)).name}function vl(p,m){return Ih(Eo(p,m))}function Ih(p){var m={name:p.name};return p.observing&&p.observing.length>0&&(m.dependencies=ku(p.observing).map(Ih)),m}function mc(p){var m={name:p.name};return function(O){return O.observers&&O.observers.length>0}(p)&&(m.observers=Rh(p).map(mc)),m}function Rh(p){return p.observers}function _f(p,m){var O=p.observers.length;O&&(p.observersIndexes[m.__mapid]=O),p.observers[O]=m,p.lowestObserverState>m.dependenciesState&&(p.lowestObserverState=m.dependenciesState)}function pl(p,m){if(p.observers.length===1)p.observers.length=0,eu(p);else{var O=p.observers,E=p.observersIndexes,M=O.pop();if(M!==m){var R=E[m.__mapid]||0;R?E[M.__mapid]=R:delete E[M.__mapid],O[R]=M}delete E[m.__mapid]}}function eu(p){p.isPendingUnobservation||(p.isPendingUnobservation=!0,Wt.pendingUnobservations.push(p))}function Os(){Wt.inBatch++}function Qa(){if(--Wt.inBatch==0){Oc();for(var p=Wt.pendingUnobservations,m=0;m<p.length;m++){var O=p[m];O.isPendingUnobservation=!1,O.observers.length===0&&O.onBecomeUnobserved()}Wt.pendingUnobservations=[]}}function gl(p){var m=Wt.trackingDerivation;m!==null?m.runId!==p.lastAccessedBy&&(p.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=p):p.observers.length===0&&eu(p)}function bc(p,m){if(""+p.name+m.name,p.isTracing===Go.BREAK){var O=[];_c(vl(p),O,1),new Function(`debugger;
/*
Tracing '`+p.name+`'

You are entering this break point because derivation '`+p.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(p instanceof Ct?p.derivation.toString():"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function _c(p,m,O){m.length>=1e3?m.push("(and many more)"):(m.push(""+new Array(O).join("	")+p.name),p.dependencies&&p.dependencies.forEach(function(E){return _c(E,m,O+1)}))}Lu.__mobxInstanceCount?(Lu.__mobxInstanceCount++,setTimeout(function(){Js||yc||ka||(ka=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):Lu.__mobxInstanceCount=1,function(p){p[p.NOT_TRACKING=-1]="NOT_TRACKING",p[p.UP_TO_DATE=0]="UP_TO_DATE",p[p.POSSIBLY_STALE=1]="POSSIBLY_STALE",p[p.STALE=2]="STALE"}(Lr||(Lr={})),function(p){p[p.NONE=0]="NONE",p[p.LOG=1]="LOG",p[p.BREAK=2]="BREAK"}(Go||(Go={}));var yl=function(p){this.cause=p};function tu(p){return p instanceof yl}function ml(p){switch(p.dependenciesState){case Lr.UP_TO_DATE:return!1;case Lr.NOT_TRACKING:case Lr.STALE:return!0;case Lr.POSSIBLY_STALE:for(var m=xs(),O=p.observing,E=O.length,M=0;M<E;M++){var R=O[M];if(Ft(R)){try{R.get()}catch{return Ja(m),!0}if(p.dependenciesState===Lr.STALE)return Ja(m),!0}}return kh(p),Ja(m),!1}}function dn(){return Wt.trackingDerivation!==null}function Tr(p){var m=p.observers.length>0;Wt.computationDepth>0&&m&&Jr(xe("m031")+p.name),!Wt.allowStateChanges&&m&&Jr(xe(Wt.strictMode?"m030a":"m030b")+p.name)}function wc(p,m,O){kh(p),p.newObserving=new Array(p.observing.length+100),p.unboundDepsCount=0,p.runId=++Wt.runId;var E,M=Wt.trackingDerivation;Wt.trackingDerivation=p;try{E=m.call(O)}catch(R){E=new yl(R)}return Wt.trackingDerivation=M,function(R){for(var F=R.observing,G=R.observing=R.newObserving,z=Lr.UP_TO_DATE,Y=0,$=R.unboundDepsCount,Z=0;Z<$;Z++)(ie=G[Z]).diffValue===0&&(ie.diffValue=1,Y!==Z&&(G[Y]=ie),Y++),ie.dependenciesState>z&&(z=ie.dependenciesState);for(G.length=Y,R.newObserving=null,$=F.length;$--;)(ie=F[$]).diffValue===0&&pl(ie,R),ie.diffValue=0;for(;Y--;){var ie;(ie=G[Y]).diffValue===1&&(ie.diffValue=0,_f(ie,R))}z!==Lr.UP_TO_DATE&&(R.dependenciesState=z,R.onBecomeStale())}(p),E}function ru(p){var m=p.observing;p.observing=[];for(var O=m.length;O--;)pl(m[O],p);p.dependenciesState=Lr.NOT_TRACKING}function wf(p){var m=xs(),O=p();return Ja(m),O}function xs(){var p=Wt.trackingDerivation;return Wt.trackingDerivation=null,p}function Ja(p){Wt.trackingDerivation=p}function kh(p){if(p.dependenciesState!==Lr.UP_TO_DATE){p.dependenciesState=Lr.UP_TO_DATE;for(var m=p.observing,O=m.length;O--;)m[O].lowestObserverState=Lr.UP_TO_DATE}}function Hd(p){return p}function nu(p){switch(p.length){case 0:return Wt.trackingDerivation;case 1:return Eo(p[0]);case 2:return Eo(p[0],p[1])}}var Gn=function(){function p(m,O){m===void 0&&(m="Reaction@"+Mn()),this.name=m,this.onInvalidate=O,this.observing=[],this.newObserving=[],this.dependenciesState=Lr.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Mn(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Go.NONE}return p.prototype.onBecomeStale=function(){this.schedule()},p.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Wt.pendingReactions.push(this),Oc())},p.prototype.isScheduled=function(){return this._isScheduled},p.prototype.runReaction=function(){this.isDisposed||(Os(),this._isScheduled=!1,ml(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&b()&&g({object:this,type:"scheduled-reaction"})),Qa())},p.prototype.track=function(m){Os();var O,E=b();E&&(O=Date.now(),_({object:this,type:"reaction",fn:m})),this._isRunning=!0;var M=wc(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ru(this),tu(M)&&this.reportExceptionInDerivation(M.cause),E&&P({time:Date.now()-O}),Qa()},p.prototype.reportExceptionInDerivation=function(m){var O=this;if(this.errorHandler)this.errorHandler(m,this);else{var E="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,M=xe("m037");console.error(E||M,m),b()&&g({type:"error",message:E,error:m,object:this}),Wt.globalReactionErrorHandlers.forEach(function(R){return R(m,O)})}},p.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Os(),ru(this),Qa()))},p.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m.$mobx=this,m.onError=Ec,m},p.prototype.toString=function(){return"Reaction["+this.name+"]"},p.prototype.whyRun=function(){var m=ku(this._isRunning?this.newObserving:this.observing).map(function(O){return O.name});return`
WhyRun? reaction '`+this.name+`':
 * Status: [`+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+`]
 * This reaction will re-run if any of the following observables changes:
    `+hl(m)+`
    `+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+`
	`+xe("m038")+`
`},p.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var M=!1;typeof O[O.length-1]=="boolean"&&(M=O.pop());var R=nu(O);if(!R)return Jr("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");R.isTracing===Go.NONE&&""+R.name,R.isTracing=M?Go.BREAK:Go.LOG}(this,m)},p}();function Ec(p){ur(this&&this.$mobx&&Zn(this.$mobx),"Invalid `this`"),ur(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=p}var ro=100,iu=function(p){return p()};function Oc(){Wt.inBatch>0||Wt.isRunningReactions||iu(Fi)}function Fi(){Wt.isRunningReactions=!0;for(var p=Wt.pendingReactions,m=0;p.length>0;){++m===ro&&(console.error("Reaction doesn't converge to a stable state after "+ro+" iterations. Probably there is a cycle in the reactive function: "+p[0]),p.splice(0));for(var O=p.splice(0),E=0,M=O.length;E<M;E++)O[E].runReaction()}Wt.isRunningReactions=!1}var Zn=Za("Reaction",Gn);function Ma(p){return ot(function(m,O,E,M,R){ur(R!==void 0,xe("m009")),ur(typeof R.get=="function",xe("m010")),Zt(Vt(m,""),O,R.get,R.set,p,!1)},function(m){var O=this.$mobx.values[m];if(O!==void 0)return O.get()},function(m,O){this.$mobx.values[m].set(O)},!1,!1)}var Da=Ma(nt.default),ua=Ma(nt.structural),ft=function(p,m,O){if(typeof m=="string")return Da.apply(null,arguments);ur(typeof p=="function",xe("m011")),ur(arguments.length<3,xe("m012"));var E=typeof m=="object"?m:{};E.setter=typeof m=="function"?m:E.setter;var M=E.equals?E.equals:E.compareStructural||E.struct?nt.structural:nt.default;return new Ct(p,E.context,M,E.name||p.name||"",E.setter)};function gt(p,m,O){function E($){return m&&O.push([p,$]),$}if(m===void 0&&(m=!0),O===void 0&&(O=[]),fn(p)){if(m&&O===null&&(O=[]),m&&p!==null&&typeof p=="object"){for(var M=0,R=O.length;M<R;M++)if(O[M][0]===p)return O[M][1]}if(ye(p)){var F=E([]),G=p.map(function($){return gt($,m,O)});for(F.length=G.length,M=0,R=G.length;M<R;M++)F[M]=G[M];return F}if(un(p)){for(var z in F=E({}),p)F[z]=gt(p[z],m,O);return F}if(Oi(p)){var Y=E({});return p.forEach(function($,Z){return Y[Z]=gt($,m,O)}),Y}if(ke(p))return gt(p.get(),m,O)}return p}ft.struct=ua,ft.equals=Ma;var yt={allowStateChanges:function(p,m){var O,E=Pe(p);try{O=m()}finally{Ue(E)}return O},deepEqual:Le,getAtom:Eo,getDebugName:sa,getDependencyTree:vl,getAdministration:Vr,getGlobalState:function(){return Wt},getObserverTree:function(p,m){return mc(Eo(p,m))},interceptReads:function(p,m,O){var E;if(Oi(p)||ye(p)||ke(p))E=Vr(p);else{if(!un(p))return Jr("Expected observable map, object or array as first array");if(typeof m!="string")return Jr("InterceptReads can only be used with a specific property, not with an object in general");E=Vr(p,m)}return E.dehancer!==void 0?Jr("An intercept reader was already established"):(E.dehancer=typeof m=="function"?m:O,function(){E.dehancer=void 0})},isComputingDerivation:dn,isSpyEnabled:b,onReactionError:function(p){return Wt.globalReactionErrorHandlers.push(p),function(){var m=Wt.globalReactionErrorHandlers.indexOf(p);m>=0&&Wt.globalReactionErrorHandlers.splice(m,1)}},reserveArrayBuffer:pe,resetGlobalState:function(){Wt.resetId++;var p=new gc;for(var m in p)ho.indexOf(m)===-1&&(Wt[m]=p[m]);Wt.allowStateChanges=!Wt.strictMode},isolateGlobalState:function(){yc=!0,qo().__mobxInstanceCount--},shareGlobalState:function(){Yi("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),Js=!0;var p=qo(),m=Wt;if(p.__mobservableTrackingStack||p.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(p.__mobxGlobal&&p.__mobxGlobal.version!==m.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");p.__mobxGlobal?Wt=p.__mobxGlobal:p.__mobxGlobal=m},spyReport:g,spyReportEnd:P,spyReportStart:_,setReactionScheduler:function(p){var m=iu;iu=function(O){return p(function(){return m(O)})}}},qt={Reaction:Gn,untracked:wf,Atom:l,BaseAtom:u,useStrict:Oe,isStrictModeEnabled:function(){return Wt.strictMode},spy:I,comparer:nt,asReference:function(p){return Yi("asReference is deprecated, use observable.ref instead"),jr.ref(p)},asFlat:function(p){return Yi("asFlat is deprecated, use observable.shallow instead"),jr.shallow(p)},asStructure:function(p){return Yi("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),jr.struct(p)},asMap:function(p){return Yi("asMap is deprecated, use observable.map or observable.shallowMap instead"),jr.map(p||{})},isModifierDescriptor:wo,isObservableObject:un,isBoxedObservable:ke,isObservableArray:ye,ObservableMap:zo,isObservableMap:Oi,map:function(p){return Yi("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),jr.map(p)},transaction:aa,observable:jr,computed:ft,isObservable:fn,isComputed:function(p,m){if(p==null)return!1;if(m!==void 0){if(un(p)===!1||!p.$mobx.values[m])return!1;var O=Eo(p,m);return Ft(O)}return Ft(p)},extendObservable:Pi,extendShallowObservable:pi,observe:function(p,m,O,E){return typeof O=="function"?function(M,R,F,G){return Vr(M,R).observe(F,G)}(p,m,O,E):function(M,R,F){return Vr(M).observe(R,F)}(p,m,O)},intercept:function(p,m,O){return typeof O=="function"?function(E,M,R){return Vr(E,M).intercept(R)}(p,m,O):function(E,M){return Vr(E).intercept(M)}(p,m)},autorun:Pt,autorunAsync:function(p,m,O,E){var M,R,F,G;typeof p=="string"?(M=p,R=m,F=O,G=E):(M=p.name||"AutorunAsync@"+Mn(),R=p,F=m,G=O),ur(Ce(R)===!1,xe("m006")),F===void 0&&(F=1),G&&(R=R.bind(G));var z=!1,Y=new Gn(M,function(){z||(z=!0,setTimeout(function(){z=!1,Y.isDisposed||Y.track($)},F))});function $(){R(Y)}return Y.schedule(),Y.getDisposer()},when:function(p,m,O,E){var M,R,F,G;return typeof p=="string"?(M=p,R=m,F=O,G=E):(M="When@"+Mn(),R=p,F=m,G=O),Pt(M,function(z){if(R.call(G)){z.dispose();var Y=xs();F.call(G),Ja(Y)}})},reaction:dt,action:K,isAction:Ce,runInAction:function(p,m,O){var E=typeof p=="string"?p:p.name||"<unnamed action>",M=typeof p=="function"?p:m,R=typeof p=="function"?m:O;return ur(typeof M=="function",xe("m002")),ur(M.length===0,xe("m003")),ur(typeof E=="string"&&E.length>0,"actions should have valid names, got: '"+E+"'"),Re(E,M,R,void 0)},expr:function(p,m){return dn()||console.warn(xe("m013")),ft(p,{context:m}).get()},toJS:gt,createTransformer:function(p,m){ur(typeof p=="function"&&p.length<2,"createTransformer expects a function that accepts one argument");var O={},E=Wt.resetId,M=function(R){function F(G,z){var Y=R.call(this,function(){return p(z)},void 0,nt.default,"Transformer-"+p.name+"-"+G,void 0)||this;return Y.sourceIdentifier=G,Y.sourceObject=z,Y}return s(F,R),F.prototype.onBecomeUnobserved=function(){var G=this.value;R.prototype.onBecomeUnobserved.call(this),delete O[this.sourceIdentifier],m&&m(G,this.sourceObject)},F}(Ct);return function(R){E!==Wt.resetId&&(O={},E=Wt.resetId);var F=function(z){if(typeof z=="string"||typeof z=="number")return z;if(z===null||typeof z!="object")throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+z);var Y=z.$transformId;return Y===void 0&&fo(z,"$transformId",Y=Mn()),Y}(R),G=O[F];return G?G.get():(G=O[F]=new M(F,R)).get()}},whyRun:function(p,m){return Yi("`whyRun` is deprecated in favor of `trace`"),(p=nu(arguments))?Ft(p)||Zn(p)?p.whyRun():Jr(xe("m025")):xe("m024")},isArrayLike:function(p){return Array.isArray(p)||ye(p)},extras:yt},er=!1,Xr=function(p){var m=qt[p];Object.defineProperty(qt,p,{get:function(){return er||(er=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won’t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),m}})};for(var Ii in qt)Xr(Ii);typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:I,extras:yt});var no=Di(1803),vn=Di.n(no),Ef={value:()=>{}};function Vn(){for(var p,m=0,O=arguments.length,E={};m<O;++m){if(!(p=arguments[m]+"")||p in E||/[\s.]/.test(p))throw new Error("illegal type: "+p);E[p]=[]}return new gi(E)}function gi(p){this._=p}function xc(p,m){for(var O,E=0,M=p.length;E<M;++E)if((O=p[E]).name===m)return O.value}function bp(p,m,O){for(var E=0,M=p.length;E<M;++E)if(p[E].name===m){p[E]=Ef,p=p.slice(0,E).concat(p.slice(E+1));break}return O!=null&&p.push({name:m,value:O}),p}gi.prototype=Vn.prototype={constructor:gi,on:function(p,m){var O,E,M=this._,R=(E=M,(p+"").trim().split(/^|\s+/).map(function(z){var Y="",$=z.indexOf(".");if($>=0&&(Y=z.slice($+1),z=z.slice(0,$)),z&&!E.hasOwnProperty(z))throw new Error("unknown type: "+z);return{type:z,name:Y}})),F=-1,G=R.length;if(!(arguments.length<2)){if(m!=null&&typeof m!="function")throw new Error("invalid callback: "+m);for(;++F<G;)if(O=(p=R[F]).type)M[O]=bp(M[O],p.name,m);else if(m==null)for(O in M)M[O]=bp(M[O],p.name,null);return this}for(;++F<G;)if((O=(p=R[F]).type)&&(O=xc(M[O],p.name)))return O},copy:function(){var p={},m=this._;for(var O in m)p[O]=m[O].slice();return new gi(p)},call:function(p,m){if((O=arguments.length-2)>0)for(var O,E,M=new Array(O),R=0;R<O;++R)M[R]=arguments[R+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(R=0,O=(E=this._[p]).length;R<O;++R)E[R].value.apply(m,M)},apply:function(p,m,O){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var E=this._[p],M=0,R=E.length;M<R;++M)E[M].value.apply(m,O)}};const Nu=Vn;var bl,ju,Kr=0,Sc=0,ou=0,Ss=1e3,Mh=0,Fu=0,Of=0,Ts=typeof performance=="object"&&performance.now?performance:Date,es=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(p){setTimeout(p,17)};function Tc(){return Fu||(es(_p),Fu=Ts.now()+Of)}function _p(){Fu=0}function Bu(){this._call=this._time=this._next=null}function xf(p,m,O){var E=new Bu;return E.restart(p,m,O),E}function Yd(){Fu=(Mh=Ts.now())+Of,Kr=Sc=0;try{(function(){Tc(),++Kr;for(var p,m=bl;m;)(p=Fu-m._time)>=0&&m._call.call(void 0,p),m=m._next;--Kr})()}finally{Kr=0,function(){for(var p,m,O=bl,E=1/0;O;)O._call?(E>O._time&&(E=O._time),p=O,O=O._next):(m=O._next,O._next=null,O=p?p._next=m:bl=m);ju=p,vo(E)}(),Fu=0}}function Sf(){var p=Ts.now(),m=p-Mh;m>Ss&&(Of-=m,Mh=p)}function vo(p){Kr||(Sc&&(Sc=clearTimeout(Sc)),p-Fu>24?(p<1/0&&(Sc=setTimeout(Yd,p-Ts.now()-Of)),ou&&(ou=clearInterval(ou))):(ou||(Mh=Ts.now(),ou=setInterval(Sf,Ss)),Kr=1,es(Yd)))}Bu.prototype=xf.prototype={constructor:Bu,restart:function(p,m,O){if(typeof p!="function")throw new TypeError("callback is not a function");O=(O==null?Tc():+O)+(m==null?0:+m),this._next||ju===this||(ju?ju._next=this:bl=this,ju=this),this._call=p,this._time=O,vo()},stop:function(){this._call&&(this._call=null,this._time=1/0,vo())}};const Uu=4294967296;function ts(p){return p.x}function Tf(p){return p.y}var wp=Math.PI*(3-Math.sqrt(5));function Ep(p,m,O,E){if(isNaN(m)||isNaN(O))return p;var M,R,F,G,z,Y,$,Z,ie,se=p._root,he={data:E},ue=p._x0,ve=p._y0,Te=p._x1,Ie=p._y1;if(!se)return p._root=he,p;for(;se.length;)if((Y=m>=(R=(ue+Te)/2))?ue=R:Te=R,($=O>=(F=(ve+Ie)/2))?ve=F:Ie=F,M=se,!(se=se[Z=$<<1|Y]))return M[Z]=he,p;if(G=+p._x.call(null,se.data),z=+p._y.call(null,se.data),m===G&&O===z)return he.next=se,M?M[Z]=he:p._root=he,p;do M=M?M[Z]=new Array(4):p._root=new Array(4),(Y=m>=(R=(ue+Te)/2))?ue=R:Te=R,($=O>=(F=(ve+Ie)/2))?ve=F:Ie=F;while((Z=$<<1|Y)==(ie=(z>=F)<<1|G>=R));return M[ie]=se,M[Z]=he,p}function Oo(p,m,O,E,M){this.node=p,this.x0=m,this.y0=O,this.x1=E,this.y1=M}function Dh(p){return p[0]}function Lh(p){return p[1]}function Cf(p,m,O){var E=new zu(m??Dh,O??Lh,NaN,NaN,NaN,NaN);return p==null?E:E.addAll(p)}function zu(p,m,O,E,M,R){this._x=p,this._y=m,this._x0=O,this._y0=E,this._x1=M,this._y1=R,this._root=void 0}function $d(p){for(var m={data:p.data},O=m;p=p.next;)O=O.next={data:p.data};return m}var xo=Cf.prototype=zu.prototype;function io(p){return function(){return p}}function Tn(p){return 1e-6*(p()-.5)}function Wn(){var p,m,O,E,M,R=io(-30),F=1,G=1/0,z=.81;function Y(se){var he,ue=p.length,ve=Cf(p,ts,Tf).visitAfter(Z);for(E=se,he=0;he<ue;++he)m=p[he],ve.visit(ie)}function $(){if(p){var se,he,ue=p.length;for(M=new Array(ue),se=0;se<ue;++se)he=p[se],M[he.index]=+R(he,se,p)}}function Z(se){var he,ue,ve,Te,Ie,Fe=0,De=0;if(se.length){for(ve=Te=Ie=0;Ie<4;++Ie)(he=se[Ie])&&(ue=Math.abs(he.value))&&(Fe+=he.value,De+=ue,ve+=ue*he.x,Te+=ue*he.y);se.x=ve/De,se.y=Te/De}else{(he=se).x=he.data.x,he.y=he.data.y;do Fe+=M[he.data.index];while(he=he.next)}se.value=Fe}function ie(se,he,ue,ve){if(!se.value)return!0;var Te=se.x-m.x,Ie=se.y-m.y,Fe=ve-he,De=Te*Te+Ie*Ie;if(Fe*Fe/z<De)return De<G&&(Te===0&&(De+=(Te=Tn(O))*Te),Ie===0&&(De+=(Ie=Tn(O))*Ie),De<F&&(De=Math.sqrt(F*De)),m.vx+=Te*se.value*E/De,m.vy+=Ie*se.value*E/De),!0;if(!(se.length||De>=G)){(se.data!==m||se.next)&&(Te===0&&(De+=(Te=Tn(O))*Te),Ie===0&&(De+=(Ie=Tn(O))*Ie),De<F&&(De=Math.sqrt(F*De)));do se.data!==m&&(Fe=M[se.data.index]*E/De,m.vx+=Te*Fe,m.vy+=Ie*Fe);while(se=se.next)}}return Y.initialize=function(se,he){p=se,O=he,$()},Y.strength=function(se){return arguments.length?(R=typeof se=="function"?se:io(+se),$(),Y):R},Y.distanceMin=function(se){return arguments.length?(F=se*se,Y):Math.sqrt(F)},Y.distanceMax=function(se){return arguments.length?(G=se*se,Y):Math.sqrt(G)},Y.theta=function(se){return arguments.length?(z=se*se,Y):Math.sqrt(z)},Y}function Nh(p){return p.x+p.vx}function Kg(p){return p.y+p.vy}function Op(p){return p.index}function xp(p,m){var O=p.get(m);if(!O)throw new Error("node not found: "+m);return O}xo.copy=function(){var p,m,O=new zu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),E=this._root;if(!E)return O;if(!E.length)return O._root=$d(E),O;for(p=[{source:E,target:O._root=new Array(4)}];E=p.pop();)for(var M=0;M<4;++M)(m=E.source[M])&&(m.length?p.push({source:m,target:E.target[M]=new Array(4)}):E.target[M]=$d(m));return O},xo.add=function(p){const m=+this._x.call(null,p),O=+this._y.call(null,p);return Ep(this.cover(m,O),m,O,p)},xo.addAll=function(p){var m,O,E,M,R=p.length,F=new Array(R),G=new Array(R),z=1/0,Y=1/0,$=-1/0,Z=-1/0;for(O=0;O<R;++O)isNaN(E=+this._x.call(null,m=p[O]))||isNaN(M=+this._y.call(null,m))||(F[O]=E,G[O]=M,E<z&&(z=E),E>$&&($=E),M<Y&&(Y=M),M>Z&&(Z=M));if(z>$||Y>Z)return this;for(this.cover(z,Y).cover($,Z),O=0;O<R;++O)Ep(this,F[O],G[O],p[O]);return this},xo.cover=function(p,m){if(isNaN(p=+p)||isNaN(m=+m))return this;var O=this._x0,E=this._y0,M=this._x1,R=this._y1;if(isNaN(O))M=(O=Math.floor(p))+1,R=(E=Math.floor(m))+1;else{for(var F,G,z=M-O||1,Y=this._root;O>p||p>=M||E>m||m>=R;)switch(G=(m<E)<<1|p<O,(F=new Array(4))[G]=Y,Y=F,z*=2,G){case 0:M=O+z,R=E+z;break;case 1:O=M-z,R=E+z;break;case 2:M=O+z,E=R-z;break;case 3:O=M-z,E=R-z}this._root&&this._root.length&&(this._root=Y)}return this._x0=O,this._y0=E,this._x1=M,this._y1=R,this},xo.data=function(){var p=[];return this.visit(function(m){if(!m.length)do p.push(m.data);while(m=m.next)}),p},xo.extent=function(p){return arguments.length?this.cover(+p[0][0],+p[0][1]).cover(+p[1][0],+p[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xo.find=function(p,m,O){var E,M,R,F,G,z,Y,$=this._x0,Z=this._y0,ie=this._x1,se=this._y1,he=[],ue=this._root;for(ue&&he.push(new Oo(ue,$,Z,ie,se)),O==null?O=1/0:($=p-O,Z=m-O,ie=p+O,se=m+O,O*=O);z=he.pop();)if(!(!(ue=z.node)||(M=z.x0)>ie||(R=z.y0)>se||(F=z.x1)<$||(G=z.y1)<Z))if(ue.length){var ve=(M+F)/2,Te=(R+G)/2;he.push(new Oo(ue[3],ve,Te,F,G),new Oo(ue[2],M,Te,ve,G),new Oo(ue[1],ve,R,F,Te),new Oo(ue[0],M,R,ve,Te)),(Y=(m>=Te)<<1|p>=ve)&&(z=he[he.length-1],he[he.length-1]=he[he.length-1-Y],he[he.length-1-Y]=z)}else{var Ie=p-+this._x.call(null,ue.data),Fe=m-+this._y.call(null,ue.data),De=Ie*Ie+Fe*Fe;if(De<O){var Xe=Math.sqrt(O=De);$=p-Xe,Z=m-Xe,ie=p+Xe,se=m+Xe,E=ue.data}}return E},xo.remove=function(p){if(isNaN(R=+this._x.call(null,p))||isNaN(F=+this._y.call(null,p)))return this;var m,O,E,M,R,F,G,z,Y,$,Z,ie,se=this._root,he=this._x0,ue=this._y0,ve=this._x1,Te=this._y1;if(!se)return this;if(se.length)for(;;){if((Y=R>=(G=(he+ve)/2))?he=G:ve=G,($=F>=(z=(ue+Te)/2))?ue=z:Te=z,m=se,!(se=se[Z=$<<1|Y]))return this;if(!se.length)break;(m[Z+1&3]||m[Z+2&3]||m[Z+3&3])&&(O=m,ie=Z)}for(;se.data!==p;)if(E=se,!(se=se.next))return this;return(M=se.next)&&delete se.next,E?(M?E.next=M:delete E.next,this):m?(M?m[Z]=M:delete m[Z],(se=m[0]||m[1]||m[2]||m[3])&&se===(m[3]||m[2]||m[1]||m[0])&&!se.length&&(O?O[ie]=se:this._root=se),this):(this._root=M,this)},xo.removeAll=function(p){for(var m=0,O=p.length;m<O;++m)this.remove(p[m]);return this},xo.root=function(){return this._root},xo.size=function(){var p=0;return this.visit(function(m){if(!m.length)do++p;while(m=m.next)}),p},xo.visit=function(p){var m,O,E,M,R,F,G=[],z=this._root;for(z&&G.push(new Oo(z,this._x0,this._y0,this._x1,this._y1));m=G.pop();)if(!p(z=m.node,E=m.x0,M=m.y0,R=m.x1,F=m.y1)&&z.length){var Y=(E+R)/2,$=(M+F)/2;(O=z[3])&&G.push(new Oo(O,Y,$,R,F)),(O=z[2])&&G.push(new Oo(O,E,$,Y,F)),(O=z[1])&&G.push(new Oo(O,Y,M,R,$)),(O=z[0])&&G.push(new Oo(O,E,M,Y,$))}return this},xo.visitAfter=function(p){var m,O=[],E=[];for(this._root&&O.push(new Oo(this._root,this._x0,this._y0,this._x1,this._y1));m=O.pop();){var M=m.node;if(M.length){var R,F=m.x0,G=m.y0,z=m.x1,Y=m.y1,$=(F+z)/2,Z=(G+Y)/2;(R=M[0])&&O.push(new Oo(R,F,G,$,Z)),(R=M[1])&&O.push(new Oo(R,$,G,z,Z)),(R=M[2])&&O.push(new Oo(R,F,Z,$,Y)),(R=M[3])&&O.push(new Oo(R,$,Z,z,Y))}E.push(m)}for(;m=E.pop();)p(m.node,m.x0,m.y0,m.x1,m.y1);return this},xo.x=function(p){return arguments.length?(this._x=p,this):this._x},xo.y=function(p){return arguments.length?(this._y=p,this):this._y};var Jt=256,oo=4096,Qn=25,_l="#FFDF81",Cc="#818790",Pc="#EDEDED",Pf="#CFD1D4",wl="#F5F6F6",El="#8FE3E8",tt="#1A1B1D",pt={position:"absolute",top:0,bottom:0,left:0,right:0},st=function(){return window.devicePixelRatio||1},$t=["NVL_basic-wrapper","NVL_interactive-wrapper"];function dr(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return zr(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?zr(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function zr(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var yi=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pc,O=new Map;return p.forEach(function(E){var M=E.id,R=E.from,F=E.to,G=E.color,z=E.width,Y=E.disabled,$=[R,F].sort(),Z="".concat($[0],".").concat($[1]),ie=O.get(Z);ie?ie.bundledRels.push({id:M,color:G??void 0,disabled:Y!=null&&Y,width:z??1}):O.set(Z,{bundledRels:[{id:M,color:G??void 0,disabled:Y!=null&&Y,width:z??1}],key:Z,from:R,to:F,color:G??void 0,disabled:Y!=null&&Y,width:0})}),O.forEach(function(E){var M=(0,r.uniqBy)(E.bundledRels,"disabled"),R=M.length===1&&M[0].disabled===!0,F=M.length===1&&M[0].disabled!==!0;if(R)E.color=m,E.width=1;else{var G=E.bundledRels.filter(function(Y){return Y.disabled!==!0}),z=(0,r.uniqBy)(G,"color");F?(E.color=z.length>1?void 0:E.bundledRels[0].color,E.bundledRels.forEach(function(Y){E.width+=Y.width})):(E.color=z.length===1?z[0].color:void 0,E.disabled=!1,E.bundledRels.forEach(function(Y){E.width+=Y.disabled!==!0?Y.width:0}))}}),Array.from(O.values())},ce=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).find(function(p){return"size"in p})!==void 0};function Cs(p){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Cs(p)}var jh=function(p){var m,O;return typeof p.source=="number"||typeof p.target=="number"||typeof p.source=="string"||typeof p.target=="string"?45*devicePixelRatio:((m=p.source.size)!==null&&m!==void 0?m:Qn)+((O=p.target.size)!==null&&O!==void 0?O:Qn)+90*devicePixelRatio};function Jn(p){return Cs(p)==="object"}var Mr=function(p){var m;return((m=p.size)!==null&&m!==void 0?m:Qn)+25*devicePixelRatio},au=function(){return-400*Math.pow(devicePixelRatio,2)},Vo=function(){return 2*au()};function $i(p){return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},$i(p)}function rs(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Ar(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Sp(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Fh(E.key),E)}}function Fh(p){var m=function(O,E){if($i(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if($i(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return $i(m)=="symbol"?m:String(m)}var la="d3ForceLayout",Xd=function(p){return p&&gt(p)},Kd=function(){function p(E){var M=this;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p);var R=E.state;this.state=R,this.d3Nodes={},this.d3RelList={},this.computing=!0,this.center={x:0,y:0},this.nodeRelCount=[];var F=this.state,G=F.nodes,z=F.rels;G.addChannel(la),z.addChannel(la),this.simulation=function(Y){var $,Z=1,ie=.001,se=1-Math.pow(ie,1/300),he=0,ue=.6,ve=new Map,Te=xf(De),Ie=Nu("tick","end"),Fe=function(){let Ke=1;return()=>(Ke=(1664525*Ke+1013904223)%Uu)/Uu}();function De(){Xe(),Ie.call("tick",$),Z<ie&&(Te.stop(),Ie.call("end",$))}function Xe(Ke){var We,at,mt=Y.length;Ke===void 0&&(Ke=1);for(var Rt=0;Rt<Ke;++Rt)for(Z+=(he-Z)*se,ve.forEach(function(bt){bt(Z)}),We=0;We<mt;++We)(at=Y[We]).fx==null?at.x+=at.vx*=ue:(at.x=at.fx,at.vx=0),at.fy==null?at.y+=at.vy*=ue:(at.y=at.fy,at.vy=0);return $}function Ge(){for(var Ke,We=0,at=Y.length;We<at;++We){if((Ke=Y[We]).index=We,Ke.fx!=null&&(Ke.x=Ke.fx),Ke.fy!=null&&(Ke.y=Ke.fy),isNaN(Ke.x)||isNaN(Ke.y)){var mt=10*Math.sqrt(.5+We),Rt=We*wp;Ke.x=mt*Math.cos(Rt),Ke.y=mt*Math.sin(Rt)}(isNaN(Ke.vx)||isNaN(Ke.vy))&&(Ke.vx=Ke.vy=0)}}function Qe(Ke){return Ke.initialize&&Ke.initialize(Y,Fe),Ke}return Y==null&&(Y=[]),Ge(),$={tick:Xe,restart:function(){return Te.restart(De),$},stop:function(){return Te.stop(),$},nodes:function(Ke){return arguments.length?(Y=Ke,Ge(),ve.forEach(Qe),$):Y},alpha:function(Ke){return arguments.length?(Z=+Ke,$):Z},alphaMin:function(Ke){return arguments.length?(ie=+Ke,$):ie},alphaDecay:function(Ke){return arguments.length?(se=+Ke,$):+se},alphaTarget:function(Ke){return arguments.length?(he=+Ke,$):he},velocityDecay:function(Ke){return arguments.length?(ue=1-Ke,$):1-ue},randomSource:function(Ke){return arguments.length?(Fe=Ke,ve.forEach(Qe),$):Fe},force:function(Ke,We){return arguments.length>1?(We==null?ve.delete(Ke):ve.set(Ke,Qe(We)),$):ve.get(Ke)},find:function(Ke,We,at){var mt,Rt,bt,Lt,St,we=0,_e=Y.length;for(at==null?at=1/0:at*=at,we=0;we<_e;++we)(bt=(mt=Ke-(Lt=Y[we]).x)*mt+(Rt=We-Lt.y)*Rt)<at&&(St=Lt,at=bt);return St},on:function(Ke,We){return arguments.length>1?(Ie.on(Ke,We),$):Ie.on(Ke)}}}().velocityDecay(.4).force("charge",Wn().strength(au)).force("centerX",function(Y){var $,Z,ie,se=io(.1);function he(ve){for(var Te,Ie=0,Fe=$.length;Ie<Fe;++Ie)(Te=$[Ie]).vx+=(ie[Ie]-Te.x)*Z[Ie]*ve}function ue(){if($){var ve,Te=$.length;for(Z=new Array(Te),ie=new Array(Te),ve=0;ve<Te;++ve)Z[ve]=isNaN(ie[ve]=+Y($[ve],ve,$))?0:+se($[ve],ve,$)}}return typeof Y!="function"&&(Y=io(Y==null?0:+Y)),he.initialize=function(ve){$=ve,ue()},he.strength=function(ve){return arguments.length?(se=typeof ve=="function"?ve:io(+ve),ue(),he):se},he.x=function(ve){return arguments.length?(Y=typeof ve=="function"?ve:io(+ve),ue(),he):Y},he}(0).strength(.03)).force("centerY",function(Y){var $,Z,ie,se=io(.1);function he(ve){for(var Te,Ie=0,Fe=$.length;Ie<Fe;++Ie)(Te=$[Ie]).vy+=(ie[Ie]-Te.y)*Z[Ie]*ve}function ue(){if($){var ve,Te=$.length;for(Z=new Array(Te),ie=new Array(Te),ve=0;ve<Te;++ve)Z[ve]=isNaN(ie[ve]=+Y($[ve],ve,$))?0:+se($[ve],ve,$)}}return typeof Y!="function"&&(Y=io(Y==null?0:+Y)),he.initialize=function(ve){$=ve,ue()},he.strength=function(ve){return arguments.length?(se=typeof ve=="function"?ve:io(+ve),ue(),he):se},he.y=function(ve){return arguments.length?(Y=typeof ve=="function"?ve:io(+ve),ue(),he):Y},he}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){M.simulationStopped=!0,M.shouldUpdate=!1,M.shouldReheatNodes=!1,M.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return M.state.graphUpdates},function(){var Y=G.channels[la];if(G.version!==void 0&&Y){var $=Object.values(Y.adds).length>0,Z=Object.values(Y.removes).length>0,ie=Object.values(Y.updates),se=ce(ie);$||Z||se?(M.shouldUpdate=!0,M.shouldReheatNodes=!0,M.shouldCountNodeRels=!0):M.shouldReheatNodes=!1}var he=z.channels[la];if(z.version!==void 0&&he){var ue=Object.values(he.adds).length>0,ve=Object.values(he.removes).length>0;(ue||ve)&&(M.shouldUpdate=!0,M.shouldReheatNodes=!0,M.shouldCountNodeRels=!0)}}))}var m,O;return m=p,O=[{key:"setOptions",value:function(E){}},{key:"updateNodes",value:function(E){var M=this;E.forEach(function(R){M.d3Nodes[R.id]===void 0&&(M.d3Nodes[R.id]={id:R.id}),R!=null&&R.pinned?(M.d3Nodes[R.id].fx=R.x,M.d3Nodes[R.id].fy=R.y):(M.d3Nodes[R.id].x=R.x,M.d3Nodes[R.id].y=R.y),M.d3Nodes[R.id].vy=0,M.d3Nodes[R.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var E,M=this,R=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||R){var F=this.state,G=F.nodes,z=F.rels,Y=G.channels[la],$=z.channels[la],Z=Object.values(Y.adds).length>0,ie=Object.values($.adds).length>0,se=Object.values(Y.removes).length>0,he=Object.values($.removes).length>0,ue=Object.values(Y.updates).length>0;if(Z||ie||se||he||ue){var ve=Z&&Object.keys(this.d3Nodes).length===0,Te=Xd(Y.removes);Object.keys(Te).forEach(function(De){delete M.d3Nodes[De]});var Ie=Xd(Y.adds);if(Object.keys(Ie).forEach(function(De){M.d3Nodes[De]=function(Xe){for(var Ge=1;Ge<arguments.length;Ge++){var Qe=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Ar(Object(Qe),!0).forEach(function(Ke){var We,at,mt;We=Xe,at=Ke,mt=Qe[Ke],(at=Fh(at))in We?Object.defineProperty(We,at,{value:mt,enumerable:!0,configurable:!0,writable:!0}):We[at]=mt}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(Qe)):Ar(Object(Qe)).forEach(function(Ke){Object.defineProperty(Xe,Ke,Object.getOwnPropertyDescriptor(Qe,Ke))})}return Xe}({},Ie[De])}),ue&&Object.values(Y.updates).forEach(function(De){De.pinned===!0?(M.d3Nodes[De.id].fx=M.d3Nodes[De.id].x,M.d3Nodes[De.id].fy=M.d3Nodes[De.id].y):De.pinned===!1&&(M.d3Nodes[De.id].fx=null,M.d3Nodes[De.id].fy=null),De.size!==void 0&&(M.d3Nodes[De.id].size=De.size)}),(ie||he)&&(this.d3RelList=yi(Xd(z.items)).filter(function(De){return De.from!==De.to}).map(function(De,Xe){return{source:De.from,target:De.to,index:Xe}})),ve){var Fe=Object.values(this.d3Nodes);(function(De,Xe,Ge){var Qe=De.filter(function(Ke){return Ke.x===void 0&&Ke.y===void 0});Qe.forEach(function(Ke,We){Ke.x=Xe.x+Ge*Math.sin(2*Math.PI*We/Qe.length),Ke.y=Xe.y+Ge*Math.cos(2*Math.PI*We/Qe.length)})})(Fe,this.center,(E=Fe.length,45*E/(2*Math.PI)))}this.layout(G.items,z.items,ve)}G.clearChannel(la),z.clearChannel(la),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(E,M,R){var F=this;if(!(0,r.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function($){var Z,ie,se,he=1,ue=1;function ve(){for(var Fe,De,Xe,Ge,Qe,Ke,We,at=Z.length,mt=0;mt<ue;++mt)for(De=Cf(Z,Nh,Kg).visitAfter(Te),Fe=0;Fe<at;++Fe)Xe=Z[Fe],Ke=ie[Xe.index],We=Ke*Ke,Ge=Xe.x+Xe.vx,Qe=Xe.y+Xe.vy,De.visit(Rt);function Rt(bt,Lt,St,we,_e){var Ee=bt.data,lt=bt.r,Je=Ke+lt;if(!Ee)return Lt>Ge+Je||we<Ge-Je||St>Qe+Je||_e<Qe-Je;if(Ee.index>Xe.index){var vt=Ge-Ee.x-Ee.vx,kt=Qe-Ee.y-Ee.vy,Ut=vt*vt+kt*kt;Ut<Je*Je&&(vt===0&&(Ut+=(vt=Tn(se))*vt),kt===0&&(Ut+=(kt=Tn(se))*kt),Ut=(Je-(Ut=Math.sqrt(Ut)))/Ut*he,Xe.vx+=(vt*=Ut)*(Je=(lt*=lt)/(We+lt)),Xe.vy+=(kt*=Ut)*Je,Ee.vx-=vt*(Je=1-Je),Ee.vy-=kt*Je)}}}function Te(Fe){if(Fe.data)return Fe.r=ie[Fe.data.index];for(var De=Fe.r=0;De<4;++De)Fe[De]&&Fe[De].r>Fe.r&&(Fe.r=Fe[De].r)}function Ie(){if(Z){var Fe,De,Xe=Z.length;for(ie=new Array(Xe),Fe=0;Fe<Xe;++Fe)De=Z[Fe],ie[De.index]=+$(De,Fe,Z)}}return typeof $!="function"&&($=io($==null?1:+$)),ve.initialize=function(Fe,De){Z=Fe,se=De,Ie()},ve.iterations=function(Fe){return arguments.length?(ue=+Fe,ve):ue},ve.strength=function(Fe){return arguments.length?(he=+Fe,ve):he},ve.radius=function(Fe){return arguments.length?($=typeof Fe=="function"?Fe:io(+Fe),Ie(),ve):$},ve}().radius(Mr)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function($){var Z,ie,se,he,ue,ve,Te=Op,Ie=function(We){return 1/Math.min(he[We.source.index],he[We.target.index])},Fe=io(30),De=1;function Xe(We){for(var at=0,mt=$.length;at<De;++at)for(var Rt,bt,Lt,St,we,_e,Ee,lt=0;lt<mt;++lt)bt=(Rt=$[lt]).source,St=(Lt=Rt.target).x+Lt.vx-bt.x-bt.vx||Tn(ve),we=Lt.y+Lt.vy-bt.y-bt.vy||Tn(ve),St*=_e=((_e=Math.sqrt(St*St+we*we))-ie[lt])/_e*We*Z[lt],we*=_e,Lt.vx-=St*(Ee=ue[lt]),Lt.vy-=we*Ee,bt.vx+=St*(Ee=1-Ee),bt.vy+=we*Ee}function Ge(){if(se){var We,at,mt=se.length,Rt=$.length,bt=new Map(se.map((Lt,St)=>[Te(Lt,St,se),Lt]));for(We=0,he=new Array(mt);We<Rt;++We)(at=$[We]).index=We,typeof at.source!="object"&&(at.source=xp(bt,at.source)),typeof at.target!="object"&&(at.target=xp(bt,at.target)),he[at.source.index]=(he[at.source.index]||0)+1,he[at.target.index]=(he[at.target.index]||0)+1;for(We=0,ue=new Array(Rt);We<Rt;++We)at=$[We],ue[We]=he[at.source.index]/(he[at.source.index]+he[at.target.index]);Z=new Array(Rt),Qe(),ie=new Array(Rt),Ke()}}function Qe(){if(se)for(var We=0,at=$.length;We<at;++We)Z[We]=+Ie($[We],We,$)}function Ke(){if(se)for(var We=0,at=$.length;We<at;++We)ie[We]=+Fe($[We],We,$)}return $==null&&($=[]),Xe.initialize=function(We,at){se=We,ve=at,Ge()},Xe.links=function(We){return arguments.length?($=We,Ge(),Xe):$},Xe.id=function(We){return arguments.length?(Te=We,Xe):Te},Xe.iterations=function(We){return arguments.length?(De=+We,Xe):De},Xe.strength=function(We){return arguments.length?(Ie=typeof We=="function"?We:io(+We),Qe(),Xe):Ie},Xe.distance=function(We){return arguments.length?(Fe=typeof We=="function"?We:io(+We),Ke(),Xe):Fe},Xe}(this.d3RelList).id(function($){return $.id}).distance(jh).strength(function($){return function(Z,ie){if(!Jn(Z.source)||!Jn(Z.target))return 1;var se=1.2/(Math.min(ie[Z.source.index],ie[Z.target.index])+(Math.max(ie[Z.source.index],ie[Z.target.index])-1)/100);return Math.max(Math.min(se,1),.06)}($,F.nodeRelCount)})),R){var G=0;this.simulation.force("charge",Wn().strength(Vo));for(var z=performance.now();performance.now()-z<300&&G<200;)this.simulation.alpha(1),this.simulation.tick(1),G+=1;this.simulation.force("charge",Wn().strength(au));for(var Y=performance.now();performance.now()-Y<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return this.computing=!1,void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(E){var M,R=[],F=function($,Z){var ie=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!ie){if(Array.isArray($)||(ie=function(Ie,Fe){if(Ie){if(typeof Ie=="string")return rs(Ie,Fe);var De=Object.prototype.toString.call(Ie).slice(8,-1);return De==="Object"&&Ie.constructor&&(De=Ie.constructor.name),De==="Map"||De==="Set"?Array.from(Ie):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?rs(Ie,Fe):void 0}}($))||Z&&$&&typeof $.length=="number"){ie&&($=ie);var se=0,he=function(){};return{s:he,n:function(){return se>=$.length?{done:!0}:{done:!1,value:$[se++]}},e:function(Ie){throw Ie},f:he}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue,ve=!0,Te=!1;return{s:function(){ie=ie.call($)},n:function(){var Ie=ie.next();return ve=Ie.done,Ie},e:function(Ie){Te=!0,ue=Ie},f:function(){try{ve||ie.return==null||ie.return()}finally{if(Te)throw ue}}}}(E);try{for(F.s();!(M=F.n()).done;){var G=M.value,z=this.d3Nodes[G.id];if(z!==void 0){var Y={id:z.id,x:z.x,y:z.y};R.push(Y)}}}catch($){F.e($)}finally{F.f()}return R}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(E){E()}),this.state.nodes.removeChannel(la),this.state.rels.removeChannel(la),this.simulation.stop()}},{key:"setAlpha",value:function(E){this.simulation.alpha(E),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var E=new Map(Object.entries(this.d3Nodes)),M=Object.values(this.d3RelList),R=new Array(E.length),F=0;F<M.length;++F){var G=M[F];G.index=F,$i(G.source)!=="object"&&(G.source=E.get(G.source)),$i(G.target)!=="object"&&(G.target=E.get(G.target)),R[G.source.index]=(R[G.source.index]||0)+1,R[G.target.index]=(R[G.target.index]||0)+1}return R}}],O&&Sp(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),Af=Di(5880),qu=Di.n(Af),Nr=qu().getLogger("NVL");const Ol=Fq;var Ps={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},xl=function(p){var m,O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],E=Ps[p],M=E.standard,R=E.fallback;if(O)m=Ol[R];else try{m=Ol[M]()}catch(F){console.warn("Failed to initialise ".concat(p,' worker: "').concat(JSON.stringify(F),'". Falling back to syncronous code.')),m=Ol[R]}if(m===void 0)throw"".concat(p," code could not be initialized.");return m.port.start(),m};function La(p){return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},La(p)}function Wo(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Sl(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Wo(Object(O),!0).forEach(function(E){So(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Wo(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function If(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return As(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?As(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function As(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Ho(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Tp(E.key),E)}}function So(p,m,O){return(m=Tp(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Tp(p){var m=function(O,E){if(La(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(La(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return La(m)=="symbol"?m:String(m)}var Rf=function(p,m,O){return p+(m-p)*function(E){return E*E*(3-2*E)}(O)},Zd=function(){function p(E){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),So(this,"positions",void 0),So(this,"oldPositions",void 0),So(this,"startTime",void 0),So(this,"t",void 0),So(this,"currentT",void 0),So(this,"state",void 0),So(this,"shouldUpdateAnimator",void 0),So(this,"parents",void 0),So(this,"animationCompleteCallback",void 0),So(this,"shouldUpdate",void 0);var M=E.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=M,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=E.animationCompleteCallback}var m,O;return m=p,O=[{key:"getPositionMapFromState",value:function(){var E,M=this.state.nodes,R=M.idToPosition,F={},G=If(M.items);try{for(G.s();!(E=G.n()).done;){var z=E.value,Y=R[z.id];Y!==void 0&&(F[z.id]={id:z.id,x:Y.x,y:Y.y})}}catch($){G.e($)}finally{G.f()}return F}},{key:"updatePositionsFromState",value:function(){this.positions=Sl({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=Sl({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var E=this.shouldUpdateAnimator,M=(Date.now()-this.startTime)/400;this.t=Math.min(M,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,E&&!this.shouldUpdateAnimator&&this.animationCompleteCallback!==void 0&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(E){var M,R=If(E);try{for(R.s();!(M=R.n()).done;){var F=M.value;F.x!==void 0&&F.y!==void 0&&(this.positions[F.id]={id:F.id,x:F.x,y:F.y}),this.shouldUpdate=!0}}catch(G){R.e(G)}finally{R.f()}}},{key:"getNodePositions",value:function(E){var M,R=this.parents,F=this.state.nodes.idToPosition,G=function(De,Xe){for(var Ge={x:0,y:0},Qe=De.length,Ke=0,We=0;We<Qe;We++){var at=Xe[De[We].id];at===void 0||isNaN(at.x)||isNaN(at.y)||at.x===0||at.y===0||(Ge.x+=at.x,Ge.y+=at.y,Ke+=1)}return Ke>0?[Ge.x/Ke,Ge.y/Ke]:[0,0]}(E,F),z={x:G[0],y:G[1]},Y=[],$=If(E);try{for($.s();!(M=$.n()).done;){var Z=M.value,ie=this.positions[Z.id],se=F[Z.id],he={id:Z.id};if(ie!==void 0){for(var ue,ve,Te,Ie=Z.id,Fe=(ue=this.oldPositions[Z.id])!==null&&ue!==void 0?ue:Sl({},z);Fe===void 0&&R[Ie]!==void 0;)Ie=R[Ie],Fe=this.oldPositions[Ie];Fe.x=(ve=Fe.x)!==null&&ve!==void 0?ve:z.x,Fe.y=(Te=Fe.y)!==null&&Te!==void 0?Te:z.y,he.x=Rf(Fe.x,ie.x,this.t),he.y=Rf(Fe.y,ie.y,this.t)}else se!==void 0&&(he.x=se.x||z.x,he.y=se.y||z.y);Y.push(he)}}catch(De){$.e(De)}finally{$.f()}return this.currentT=this.t,Y}}],O&&Ho(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Hn(p){return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Hn(p)}function Tl(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Bh(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Tl(Object(O),!0).forEach(function(E){Na(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Tl(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Is(p,m){return function(O){if(Array.isArray(O))return O}(p)||function(O,E){var M=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(M!=null){var R,F,G,z,Y=[],$=!0,Z=!1;try{if(G=(M=M.call(O)).next,E===0){if(Object(M)!==M)return;$=!1}else for(;!($=(R=G.call(M)).done)&&(Y.push(R.value),Y.length!==E);$=!0);}catch(ie){Z=!0,F=ie}finally{try{if(!$&&M.return!=null&&(z=M.return(),Object(z)!==z))return}finally{if(Z)throw F}}return Y}}(p,m)||Mf(p,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kf(p){return function(m){if(Array.isArray(m))return su(m)}(p)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(p)||Mf(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mf(p,m){if(p){if(typeof p=="string")return su(p,m);var O=Object.prototype.toString.call(p).slice(8,-1);return O==="Object"&&p.constructor&&(O=p.constructor.name),O==="Map"||O==="Set"?Array.from(p):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?su(p,m):void 0}}function su(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Ri(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Vu(E.key),E)}}function ln(p,m,O){return m=Gu(m),function(E,M){if(M&&(Hn(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(E)}(p,Uh()?Reflect.construct(m,O||[],Gu(p).constructor):m.apply(p,O))}function Uh(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uh=function(){return!!p})()}function Cl(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function zh(){return zh=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,m,O){var E=function(R,F){for(;!Object.prototype.hasOwnProperty.call(R,F)&&(R=Gu(R))!==null;);return R}(p,m);if(E){var M=Object.getOwnPropertyDescriptor(E,m);return M.get?M.get.call(arguments.length<3?p:O):M.value}},zh.apply(this,arguments)}function Gu(p){return Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Gu(p)}function uu(p,m){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O},uu(p,m)}function Na(p,m,O){return(m=Vu(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Vu(p){var m=function(O,E){if(Hn(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Hn(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Hn(m)=="symbol"?m:String(m)}var lu=function(p){return p!==void 0?gt(p):p},Ac=function(p){function m(M){var R;return function(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")}(this,m),Na(Cl(R=ln(this,m,[M])),"stateDisposers",void 0),Na(Cl(R),"cytoCompleteCallback",void 0),Na(Cl(R),"computing",void 0),Na(Cl(R),"pendingLayoutData",void 0),Na(Cl(R),"worker",void 0),Na(Cl(R),"workersDisabled",void 0),R.stateDisposers=[],R.stateDisposers.push(R.state.reaction(function(){return R.state.graphUpdates},function(){R.state.nodes.version!==void 0&&(R.shouldUpdate=!0),R.state.rels.version!==void 0&&(R.shouldUpdate=!0)})),R.cytoCompleteCallback=M.cytoCompleteCallback,R.shouldUpdate=!0,R.computing=!1,R.workersDisabled=M.state.disableWebWorkers,R.setOptions(),R.worker=xl("CoseBilkentLayout",R.workersDisabled),R.pendingLayoutData=null,R}var O,E;return function(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),R&&uu(M,R)}(m,p),O=m,E=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0&&arguments[0],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.shouldUpdate||M){var G=lu(R),z=lu(F);(G.length>0||z.length>0)&&(this.updatePositionsFromState(),this.layout(G,z))}zh(Gu(m.prototype),"update",this).call(this),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(M,R){var F=this;if(this.worker){if(M.length){var G=M.map(function($){return{group:"nodes",data:{id:$.id}}}),z=R.map(function($){return{group:"edges",data:{id:"rel".concat($.id),source:$.from,target:$.to}}}),Y={elements:[].concat(kf(G),kf(z)),spacingFactor:M.reduce(function($,Z){var ie;return $+((ie=Z.size)!==null&&ie!==void 0?ie:Qn)},0)/M.length*4.5/50*st()};this.computing?this.pendingLayoutData=Y:(this.computing=!0,this.worker.port.onmessage=function($){var Z=$.data.positions;if(F.computing){for(var ie=0,se=Object.entries(Z);ie<se.length;ie++){var he=Is(se[ie],2),ue=he[0],ve=he[1];F.positions[ue]=Bh({id:ue},ve)}F.cytoCompleteCallback(),F.startAnimation()}F.computing=!1,F.shouldUpdate=!0},setTimeout(function(){F.computing&&F.worker.port.postMessage(Y)},0))}}else Nr.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var M;this.stateDisposers.forEach(function(R){R()}),(M=this.worker)===null||M===void 0||M.port.close()}}],E&&Ri(O.prototype,E),Object.defineProperty(O,"prototype",{writable:!1}),m}(Zd),Pl=typeof Float32Array<"u"?Float32Array:Array;function cu(){var p=new Pl(16);return Pl!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p}Math.hypot||(Math.hypot=function(){for(var p=0,m=arguments.length;m--;)p+=arguments[m]*arguments[m];return Math.sqrt(p)});var Rs=function(p,m,O,E,M,R,F){var G=1/(m-O),z=1/(E-M),Y=1/(R-F);return p[0]=-2*G,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*z,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*Y,p[11]=0,p[12]=(m+O)*G,p[13]=(M+E)*z,p[14]=(F+R)*Y,p[15]=1,p},Cp=Di(9792),Qd=Di.n(Cp);function Ic(p){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Ic(p)}function qh(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,kc(E.key),E)}}function Rc(p,m,O){return(m=kc(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function kc(p){var m=function(O,E){if(Ic(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Ic(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Ic(m)=="symbol"?m:String(m)}var ca=function(){function p(E,M,R){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(function(Z,ie){if(!(Z instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,p),Rc(this,"shaderProgram",void 0),Rc(this,"gl",void 0),Rc(this,"curTexture",void 0),Rc(this,"attributeInfo",void 0),Rc(this,"uniformInfo",void 0);var G=E.createShader(E.FRAGMENT_SHADER);if(!E.isShader(G))throw new Error("Could not create shader object");var z=Qd()(R,F);E.shaderSource(G,z),E.compileShader(G),(0,r.isNil)(E.getShaderParameter(G,E.COMPILE_STATUS))&&Nr.info(E.getShaderInfoLog(G));var Y=E.createShader(E.VERTEX_SHADER);if(!E.isShader(Y))throw new Error("Could not create shader object");var $=Qd()(M,F);if(E.shaderSource(Y,$),E.compileShader(Y),(0,r.isNil)(E.getShaderParameter(Y,E.COMPILE_STATUS))&&Nr.info(E.getShaderInfoLog(Y)),this.shaderProgram=E.createProgram(),E.attachShader(this.shaderProgram,G),E.attachShader(this.shaderProgram,Y),E.linkProgram(this.shaderProgram),(0,r.isNil)(E.getProgramParameter(this.shaderProgram,E.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=E,this.curTexture=0,this.scanUniforms(),this.scanAttributes()}var m,O;return m=p,O=[{key:"setUniform",value:function(E,M){var R=this.gl,F=this.uniformInfo[E];if(F===void 0)throw new Error("Shader.setUniform - Uniform ".concat(E," not found in shader"));switch(F.type){case R.INT:R.uniform1i(F.location,M);break;case R.INT_VEC2:R.uniform2iv(F.location,M);break;case R.INT_VEC3:R.uniform3iv(F.location,M);break;case R.INT_VEC4:R.uniform4iv(F.location,M);break;case R.SAMPLER_2D:R.activeTexture(R.TEXTURE0+F.texture),R.bindTexture(R.TEXTURE_2D,M),R.uniform1i(F.location,F.texture);break;case R.SAMPLER_CUBE:case R.FLOAT:R.uniform1f(F.location,M);break;case R.FLOAT_VEC2:R.uniform2fv(F.location,M);break;case R.FLOAT_VEC3:R.uniform3fv(F.location,M);break;case R.FLOAT_VEC4:R.uniform4fv(F.location,M);break;case R.FLOAT_MAT2:R.uniformMatrix2fv(F.location,!1,M);break;case R.FLOAT_MAT3:R.uniformMatrix3fv(F.location,!1,M);break;case R.FLOAT_MAT4:R.uniformMatrix4fv(F.location,!1,M)}}},{key:"setAttributePointer",value:function(E,M,R,F){var G=this.gl,z=this.attributeInfo[E],Y=R*Float32Array.BYTES_PER_ELEMENT,$=F*Float32Array.BYTES_PER_ELEMENT;G.enableVertexAttribArray(z.position),G.vertexAttribPointer(z.position,M,G.FLOAT,!1,$,Y)}},{key:"setAttributePointerFloat",value:function(E,M,R,F){var G=this.gl,z=this.attributeInfo[E];G.enableVertexAttribArray(z.position),G.vertexAttribPointer(z.position,M,G.FLOAT,!1,F,R)}},{key:"setAttributePointerUShort",value:function(E,M,R,F){var G=this.gl,z=this.attributeInfo[E];G.enableVertexAttribArray(z.position),G.vertexAttribPointer(z.position,M,G.UNSIGNED_SHORT,!1,F,R)}},{key:"setAttributePointerByteNorm",value:function(E,M,R,F){var G=this.gl,z=this.attributeInfo[E];G.enableVertexAttribArray(z.position),G.vertexAttribPointer(z.position,M,G.UNSIGNED_BYTE,!0,F,R)}},{key:"setAttributePointerByte",value:function(E,M,R,F){var G=this.gl,z=this.attributeInfo[E];G.enableVertexAttribArray(z.position),G.vertexAttribPointer(z.position,M,G.UNSIGNED_BYTE,!1,F,R)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var E=this.gl;this.attributeInfo={};for(var M,R,F=E.getProgramParameter(this.shaderProgram,E.ACTIVE_ATTRIBUTES),G=0;G<F;G++)M=E.getActiveAttrib(this.shaderProgram,G),R=E.getAttribLocation(this.shaderProgram,M.name),this.attributeInfo[M.name]={type:M.type,position:R}}},{key:"scanUniforms",value:function(){var E=this.gl;this.uniformInfo={};for(var M,R=E.getProgramParameter(this.shaderProgram,E.ACTIVE_UNIFORMS),F=0;F<R;F++){M=E.getActiveUniform(this.shaderProgram,F);var G=E.getUniformLocation(this.shaderProgram,M.name),z={type:M.type,location:G};M.type===E.SAMPLER_2D&&(z.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[M.name]=z}}}],O&&qh(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function fu(p){return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},fu(p)}function ge(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Wu(E.key),E)}}function Wu(p){var m=function(O,E){if(fu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(fu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return fu(m)=="symbol"?m:String(m)}function Hu(p){var m=typeof Map=="function"?new Map:void 0;return Hu=function(O){if(O===null||!function(M){try{return Function.toString.call(M).indexOf("[native code]")!==-1}catch{return typeof M=="function"}}(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(O))return m.get(O);m.set(O,E)}function E(){return function(M,R,F){if(fr())return Reflect.construct.apply(null,arguments);var G=[null];G.push.apply(G,R);var z=new(M.bind.apply(M,G));return F&&Ir(z,F.prototype),z}(O,arguments,Df(this).constructor)}return E.prototype=Object.create(O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),Ir(E,O)},Hu(p)}function fr(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fr=function(){return!!p})()}function Ir(p,m){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O},Ir(p,m)}function Df(p){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Df(p)}var Al=function(p){function m(){return function(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,m),M=this,F=arguments,R=Df(R=m),function(G,z){if(z&&(fu(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(G)}(M,fr()?Reflect.construct(R,F||[],Df(M).constructor):R.apply(M,F));var M,R,F}var O,E;return function(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),R&&Ir(M,R)}(m,p),O=m,(E=[{key:"toString",value:function(){return this.message}}])&&ge(O.prototype,E),Object.defineProperty(O,"prototype",{writable:!1}),m}(Hu(Error));const Lf=`uniform mat4 u_projection;

attribute vec2 a_position;
//attribute float a_index;

//varying highp float index;

void main() {
//  index = a_index;
  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);
}`;function ns(p){return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},ns(p)}function Zg(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,ja(E.key),E)}}function ja(p){var m=function(O,E){if(ns(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(ns(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return ns(m)=="symbol"?m:String(m)}var Pp=function(){function p(E,M){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),this.graph=this.constructGraphObjects(E,M),this.subGraphs=[],this.sunMap={}}var m,O;return m=p,O=[{key:"constructGraphObjects",value:function(E,M){var R=new Array(E.nodes.length),F=new Array(E.rels.length),G={},z=[];return E.nodes.forEach(function(Y,$){R[$]=[],F[$]=[],z.push(Y)}),E.rels.forEach(function(Y){var $=M[Y.from],Z=M[Y.to];$!==void 0&&Z!==void 0&&(R[$].push(Z),R[Z].push($),F[$].push(Y.id),F[Z].push(Y.id),G[Y.id]=Y)}),this.relIdMap=F,{nodes:z,relationships:R,idToRel:G}}},{key:"coarsenTo",value:function(E){for(var M=this.graph,R=M.nodes.length,F=0;M.nodes.length>E&&M.relationships.some(function(z){return z.length>0});){var G=this.coarsen(M,F===0);if(F===0&&(this.nodeSortMap=G.nodeSortMap),this.subGraphs.push(G.sortedInput),(M=G.output).relationships.length===0||M.relationships.every(function(z){return z.length===0})||R===M.nodes.length)break;R=M.nodes.length,F+=1}return this.subGraphs.push(M),M}},{key:"coarsenBy",value:function(E){for(var M=E,R=this.graph,F=R.nodes.length,G=M;M>0;){var z=this.coarsen(R,M===G);if(this.subGraphs.push(z.sortedInput),(R=z.output).relationships.length===0||R.relationships.every(function(Y){return Y.length===0})||F===R.nodes.length)break;F=R.nodes.length,M-=1}return this.subGraphs.push(R),R}},{key:"coarsen",value:function(E,M){var R=this,F=E.nodes,G=E.relationships,z=F.map(function(Ge,Qe){return Qe}),Y={},$={};F.forEach(function(Ge,Qe){Y[Qe]=Ge,$[Ge.id]=Qe});for(var Z=G.map(function(Ge){return Ge.slice()}),ie={suns:{},planets:{},moons:{}},se=[],he=[],ue=function(){var Ge=z[0];z.splice(z.indexOf(Ge),1),G[Ge].forEach(function(We){var at=z.indexOf(We);at>=0&&z.splice(at,1);var mt=-1,Rt=Z[We];Rt.forEach(function(bt,Lt){var St=z.indexOf(bt);St>=0?z.splice(St,1):bt===Ge&&(mt=Lt)}),Rt.splice(mt,1)});var Qe={id:Ge};if(M)Qe.originalId=Y[Ge].id;else{var Ke=Y[Ge];Qe.finestIndex=Ke.finestIndex,Qe.originalId=Ke.originalId}se.push(Qe),ie.suns[Ge]=Qe};z.length>0;)ue();se.forEach(function(Ge,Qe){he[Qe]=[]}),se.forEach(function(Ge,Qe){var Ke={},We=[];G[Ge.id].forEach(function(at){if(at!==Ge.id&&!Ke[at]){var mt={id:at,parent:Ge,sunId:Qe,moons:[]},Rt=Y[at];mt.size=function(){return mt.moons.length+1},mt.weight=Rt.weight||1,mt.children=function(){return mt.moons},M?mt.originalId=Rt.id:(mt.finestIndex=Rt.finestIndex,mt.originalId=Rt.originalId),We.push(mt),Ke[at]=!0}}),We.forEach(function(at){ie.planets[at.id]=at}),Ge.planets=We,Ge.children=function(){return Ge.planets},Ge.weight=Ge.planets.reduce(function(at,mt){return at+(mt.weight||1)},0)+(Y[Ge.id].weight||1),Ge.size=function(){return Ge.planets.reduce(function(at,mt){return at+mt.size()},0)+1}});var ve=F.filter(function(Ge,Qe){return!se.find(function(Ke){return Ke.id===Qe})&&!ie.planets[Qe]});ve.forEach(function(Ge){for(var Qe=$[Ge.id],Ke=Z[Qe],We=null,at=-1,mt=0;mt<Ke.length;mt++){var Rt=Ke[mt];if(Rt!==Qe&&(We=ie.planets[Rt])){at=mt;break}}if(Ke.splice(at,1),We){var bt={id:Qe,size:function(){return 0}};bt.weight=Y[Qe].weight||1,bt.parent=We,bt.sunId=We.sunId,M?bt.originalId=Ge.id:(bt.finestIndex=Ge.finestIndex,bt.originalId=Ge.originalId),ie.moons[Qe]=bt,We.moons.push(bt),We.weight+=bt.weight,We.parent.weight+=bt.weight;var Lt=Z[We.id];Lt.splice(Lt.indexOf(Qe),1)}}),Z.forEach(function(Ge,Qe){if(!ie.suns[Qe]){var Ke=ie.planets[Qe]||ie.moons[Qe];Z[Qe].forEach(function(We){var at=ie.planets[We];if(at||(at=ie.moons[We]),Ke.sunId!==at.sunId){var mt=he[Ke.sunId];mt.includes(at.sunId)||mt.push(at.sunId)}})}});var Te=[],Ie=0,Fe={};se.forEach(function(Ge,Qe){var Ke=F[Ge.id];Fe[Ge.id]=Ie,Ge.previousIndex=Qe,Ge.id=Ie,Ie+=1,M&&(Ke.finestIndex=Ge.id,Ge.finestIndex=Ge.id),Te.push(Ke),Ge.planets.forEach(function(We){var at=F[We.id];Fe[We.id]=Ie,We.id=Ie,Ie+=1,We.sunId=Ge.id,M&&(at.finestIndex=We.id),R.sunMap[We.originalId]=Ge.originalId,Te.push(at),We.moons.forEach(function(mt){var Rt=F[mt.id];Fe[mt.id]=Ie,mt.id=Ie,Ie+=1,mt.sunId=Ge.id,M&&(Rt.finestIndex=mt.id),R.sunMap[mt.originalId]=Ge.originalId,Te.push(Rt)})})});var De=[],Xe=[];return G.forEach(function(Ge,Qe){var Ke=Fe[Qe];De[Ke]=Ge.map(function(We){return Fe[We]}),M&&(Xe[Ke]=Ge.map(function(We,at){return R.relIdMap[Qe][at]}))}),Xe&&Xe.length>0&&(this.relIdMap=Xe),{output:{nodes:se,relationships:he},sortedInput:{nodes:Te,relationships:De},nodeSortMap:Fe}}}],O&&Zg(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),Nf=function(p,m,O){for(var E=2*Math.PI/O,M=[],R=0;R<O;R++){var F=E*R;M.push({x:p.x+m*Math.cos(F),y:p.y+m*Math.sin(F)})}return M};function Il(p){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Il(p)}function Fa(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Jd(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Jd(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Jd(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function fa(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Gh(E.key),E)}}function tr(p,m,O){return(m=Gh(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Gh(p){var m=function(O,E){if(Il(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Il(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Il(m)=="symbol"?m:String(m)}var po="PhysLayout",go=new Float32Array(4),ha=256,jf=function(p){for(var m={},O={},E=0;E<p.length;E++)m[p[E].id]=E,O[E]=p[E].id;return{nodeIdToIndex:m,nodeIndexToId:O}},Ap=function(){function p(E){var M=this;(function(ie,se){if(!(ie instanceof se))throw new TypeError("Cannot call a class as a function")})(this,p),tr(this,"physVbo",void 0),tr(this,"physSmallVbo",void 0),tr(this,"physProjection",void 0),tr(this,"physSmallProjection",void 0),tr(this,"gl",void 0),tr(this,"useReadpixelWorkaround",void 0),tr(this,"averageNodeSize",void 0),tr(this,"shouldUpdate",void 0),tr(this,"iterationCount",void 0),tr(this,"lastSpeedValues",void 0),tr(this,"rollingAvgGraphSpeed",void 0),tr(this,"nodeVariation",void 0),tr(this,"nodeCenterPoint",void 0),tr(this,"peakIterationMultiplier",void 0),tr(this,"stateDisposers",void 0),tr(this,"state",void 0),tr(this,"dpr",void 0),tr(this,"intelWorkaround",void 0),tr(this,"simulationStopVelocitySquared",void 0),tr(this,"gravity",void 0),tr(this,"force",void 0),tr(this,"nodeIdToIndex",void 0),tr(this,"nodeIndexToId",void 0),tr(this,"numNodes",void 0),tr(this,"solarMerger",void 0),tr(this,"subGraphs",void 0),tr(this,"nodeSortMap",void 0),tr(this,"firstUpdate",void 0),tr(this,"curPhysData",void 0),tr(this,"apprxRepForceShader",void 0),tr(this,"levelsClusterTexture",void 0),tr(this,"levelsFinestIndexTexture",void 0),tr(this,"initalLevelTexture",void 0),tr(this,"levelsData",void 0),tr(this,"collisionDetectionMultiplier",void 0),tr(this,"physShader",void 0),tr(this,"physData",void 0),tr(this,"workaroundData",void 0),tr(this,"pinData",void 0),tr(this,"updateData",void 0),tr(this,"updateShader",void 0),tr(this,"workaroundShader",void 0),tr(this,"physPositions",void 0),tr(this,"springTexture",void 0),tr(this,"sizeTexture",void 0),tr(this,"offsetTexture",void 0),tr(this,"pinTexture",void 0),tr(this,"addedNodes",void 0),tr(this,"updateTexture",void 0),tr(this,"enableVerlet",void 0);var R=E.state,F=E.webGLContext;if(Nr.info("layout - webGLContext",!!F),E.webGLContext===void 0)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(E.state===void 0)throw new Error("PhysLayout missing options: state - state object");var G=F;this.checkCompatibility(G),this.printGlStats(G),this.physVbo=G.createBuffer(),G.bindBuffer(G.ARRAY_BUFFER,this.physVbo);var z=new Float32Array([0,0,Jt,0,0,Jt,Jt,Jt]);G.bufferData(G.ARRAY_BUFFER,z,G.STATIC_DRAW),this.physSmallVbo=G.createBuffer(),G.bindBuffer(G.ARRAY_BUFFER,this.physSmallVbo);var Y=new Float32Array([0,0,ha,0,0,ha,ha,ha]);G.bufferData(G.ARRAY_BUFFER,Y,G.STATIC_DRAW),this.physProjection=cu(),Rs(this.physProjection,0,Jt,Jt,0,0,1e6),this.physSmallProjection=cu(),Rs(this.physSmallProjection,0,ha,ha,0,0,1e6),G.disable(G.DEPTH_TEST),this.gl=G,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=Qn,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(E,!0),this.definePhysicsArrays();var $=R.nodes,Z=R.rels;$.addChannel(po),Z.addChannel(po),this.stateDisposers=[],this.stateDisposers.push(R.reaction(function(){return R.graphUpdates},function(){var ie=$.channels[po];if($.version!==void 0&&ie){var se=Object.values(ie.adds).length>0,he=Object.values(ie.removes).length>0,ue=Object.values(ie.updates),ve=ce(ue);(se||he||ve)&&(M.shouldUpdate=!0,M.checkForUpdates())}var Te=Z.channels[po];if(Z.version!==void 0&&Te){var Ie=Object.values(Te.adds).length>0,Fe=Object.values(Te.removes).length>0;(Ie||Fe)&&(M.shouldUpdate=!0,M.checkForUpdates())}})),this.setData({nodes:$.items,rels:Z.items}),this.state=R,this.dpr=window.devicePixelRatio||1}var m,O;return m=p,O=[{key:"setOptions",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(E){var R=E.intelWorkaround,F=E.simulationStopVelocity,G=E.gravity,z=E.enableVerlet,Y=z!==void 0&&z;M&&(this.intelWorkaround=R,this.enableVerlet=Y);var $=this.enableVerlet?.25:F??100;this.simulationStopVelocitySquared=$*$,this.gravity=G??100,this.force=0}}},{key:"setData",value:function(E){var M=jf(E.nodes),R=M.nodeIdToIndex,F=M.nodeIndexToId;return this.nodeIdToIndex=R,this.nodeIndexToId=F,this.numNodes=E.nodes.length,this.solarMerger=new Pp(E,R),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0],M=this.gl;if(this.checkForUpdates(E),!this.shouldUpdate)return M.bindFramebuffer(M.FRAMEBUFFER,this.getPhysData(0).frameBuffer),M.readPixels(0,0,Jt,Jt,M.RGBA,M.FLOAT,this.physPositions),!1;M.disable(M.BLEND);for(var R=this.nodeVariation/(this.numNodes||1)>.3,F=this.getScaleNumber(this.iterationCount),G=this.subGraphs?this.subGraphs.length:0,z=this.getPhysData(0).texture,Y=G-1;Y>0;Y--){var $=this.subGraphs[Y].nodes.length,Z=Y===G-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",z),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[Y]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[Y]),this.apprxRepForceShader.setUniform("u_prevForce",Z?this.initalLevelTexture:this.levelsData[Y+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",$),this.apprxRepForceShader.setUniform("u_iterationMultiplier",F),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength($)),this.apprxRepForceShader.setUniform("u_isTopLevel",Z?1:0),M.bindBuffer(M.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),M.bindFramebuffer(M.FRAMEBUFFER,this.levelsData[Y].frameBuffer),M.viewport(0,0,ha,ha),M.drawArrays(M.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=R?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=G<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",G<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",z),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",F),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,M.bindBuffer(M.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),M.bindFramebuffer(M.FRAMEBUFFER,this.getPhysData(1).frameBuffer),M.viewport(0,0,Jt,Jt),M.drawArrays(M.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(M.bindFramebuffer(M.FRAMEBUFFER,this.getPhysData(0).frameBuffer),M.readPixels(0,0,Jt,Jt,M.RGBA,M.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var ie=this.iterationCount<300,se=ie?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(se),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(ve,Te){return ve+Te},0)/this.lastSpeedValues.length;var he=ie&&se>=this.rollingAvgGraphSpeed,ue=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!he&&ue===!0&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){Nr.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(E){var M=[];if(this.useReadpixelWorkaround){var R,F=Fa(E);try{for(F.s();!(R=F.n()).done;){var G=R.value,z=this.nodeIdToIndex[G.id],Y=G.id,$=void 0,Z=void 0;z!==void 0&&($=this.workaroundData[0].dataFloat[z],Z=this.workaroundData[1].dataFloat[z]),M.push({id:Y,x:$,y:Z})}}catch(Fe){F.e(Fe)}finally{F.f()}}else{var ie,se=Fa(E);try{for(se.s();!(ie=se.n()).done;){var he=ie.value,ue=this.nodeIdToIndex[he.id],ve=he.id,Te=void 0,Ie=void 0;ue!==void 0&&(Te=this.physPositions[4*ue+0],Ie=this.physPositions[4*ue+1]),M.push({id:ve,x:Te,y:Ie})}}catch(Fe){se.e(Fe)}finally{se.f()}}return M}},{key:"reheat",value:function(E){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=E.nodes.length}},{key:"updateNodes",value:function(E){var M=this.gl,R=new Set;M.bindTexture(M.TEXTURE_2D,this.getPhysData().texture);var F,G=Fa(E);try{for(G.s();!(F=G.n()).done;){var z=F.value,Y=this.nodeIdToIndex[z.id];if(z.x!==void 0&&z.y!==void 0){go[0]=z.x,go[1]=z.y,go[2]=0,go[3]=0;var $=Y%Jt,Z=(Y-$)/Jt;M.texSubImage2D(M.TEXTURE_2D,0,$,Z,1,1,M.RGBA,M.FLOAT,go),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[Y]=z.x,this.workaroundData[1].dataFloat[Y]=z.y):(this.physPositions[4*Y+0]=z.x,this.physPositions[4*Y+1]=z.y)}z.pinned!==void 0&&(this.pinData[Y]=z.pinned?255:0),Object.keys(z).forEach(function(ie){return R.add(ie)})}}catch(ie){G.e(ie)}finally{G.f()}R.has("pinned")&&(M.bindTexture(M.TEXTURE_2D,this.pinTexture),M.texImage2D(M.TEXTURE_2D,0,M.ALPHA,Jt,Jt,0,M.ALPHA,M.UNSIGNED_BYTE,this.pinData)),(R.has("x")||R.has("y")||R.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(E,M){var R=this.gl;this.numNodes=E.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var F=jf(E.nodes).nodeIdToIndex,G=new Pp(E,F);G.coarsenTo(1);var z=G.subGraphs[0],Y=this.subGraphs[0],$=function(St){return Y.nodes.findIndex(function(we){return we.id===St})},Z=Object.values(M.adds),ie=Object.values(M.removes);this.addedNodes=Z.length>0?{}:null,this.nodeVariation=Z.length+ie.length;for(var se,he=3*Math.sqrt(E.nodes.length),ue={x:0,y:0},ve=z.nodes.length,Te=new Uint8Array(65536),Ie=0;Ie<ve;Ie++){var Fe=0,De=0,Xe=z.nodes[Ie];if(se=Xe.id,!!M.adds[se]){if(this.addedNodes[Ie]=Xe.id,Fe=Xe.position?Xe.position.x:void 0,De=Xe.position?Xe.position.y:void 0,Fe===void 0||De===void 0){var Ge=G.sunMap,Qe=void 0;for(Qe=Ge[Xe.id];Qe!==void 0;Qe=Ge[Qe]){var Ke=$(Qe);if(Ke!==-1){var We=this.getNodePosition(Ke);Fe=We.x+10*(Math.random()-.5),De=We.y+10*(Math.random()-.5);break}}Qe===void 0&&(Fe=this.nodeCenterPoint[0]+he*(Math.random()-.5),De=this.nodeCenterPoint[1]+he*(Math.random()-.5))}this.updateData[2*Ie]=Fe,this.updateData[2*Ie+1]=De,Te[Ie]=Xe.pinned?255:0}else{var at=$(Xe.id),mt=this.getNodePosition(at);Fe=mt.x,De=mt.y,this.updateData[2*Ie]=at,this.updateData[2*Ie+1]=999999,Te[Ie]=this.pinData[at]}ue.x+=Fe||0,ue.y+=De||0}this.nodeCenterPoint=ve?[ue.x/ve,ue.y/ve]:[0,0],this.pinData=Te,this.subGraphs=G.subGraphs,this.nodeSortMap=G.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var Rt=jf(this.subGraphs[0].nodes),bt=Rt.nodeIdToIndex,Lt=Rt.nodeIndexToId;return this.nodeIdToIndex=bt,this.nodeIndexToId=Lt,R.bindTexture(R.TEXTURE_2D,this.updateTexture),R.texImage2D(R.TEXTURE_2D,0,R.ALPHA,Jt,Jt,0,R.ALPHA,R.FLOAT,this.updateData),Nr.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",z.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),R.disable(R.BLEND),R.bindBuffer(R.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),R.bindFramebuffer(R.FRAMEBUFFER,this.getPhysData(1).frameBuffer),R.viewport(0,0,Jt,Jt),R.drawArrays(R.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(R.bindFramebuffer(R.FRAMEBUFFER,this.getPhysData().frameBuffer),R.readPixels(0,0,Jt,Jt,R.RGBA,R.FLOAT,this.physPositions)),(Z.length>0||ie.length>0)&&(R.bindTexture(R.TEXTURE_2D,this.pinTexture),R.texImage2D(R.TEXTURE_2D,0,R.ALPHA,Jt,Jt,0,R.ALPHA,R.UNSIGNED_BYTE,this.pinData)),this.shouldUpdate=!0,this.iterationCount=0,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var E=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach(function(M){E.gl.deleteFramebuffer(M.frameBuffer),E.gl.deleteTexture(M.texture)}),this.levelsData.forEach(function(M){E.gl.deleteFramebuffer(M.frameBuffer),E.gl.deleteTexture(M.texture)}),this.levelsClusterTexture.forEach(function(M){E.gl.deleteTexture(M)}),this.levelsFinestIndexTexture.forEach(function(M){E.gl.deleteTexture(M)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),this.apprxRepForceShader!==void 0&&this.apprxRepForceShader.remove(),this.updateShader!==void 0&&this.updateShader.remove(),this.physShader!==void 0&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(M){M()}),this.state.nodes.removeChannel(po),this.state.rels.removeChannel(po)}},{key:"dumpTexture",value:function(E,M,R){var F=this.gl;Nr.info("--- Dumping texture ",R),F.bindFramebuffer(F.FRAMEBUFFER,E),F.readPixels(0,0,Jt,Jt,F.RGBA,F.FLOAT,this.physPositions);for(var G=0;G<M;G++)Nr.info(G,": ",this.physPositions[4*G+0],this.physPositions[4*G+1],this.physPositions[4*G+2],this.physPositions[4*G+3])}},{key:"getScaleNumber",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(R,F,G){return G+Math.pow(10,6)*Math.pow(R-120,-1.7)};return E===0?0:E<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(E-200+12),3):M(E,200,10)}},{key:"getBaseLength",value:function(E){if(E===void 0||E===this.numNodes)return 100*this.dpr;var M=Math.pow(this.averageNodeSize/2,2)*Math.PI,R=this.numNodes/E*M;return(100+Math.sqrt(R/Math.PI)/2/E)*this.dpr}},{key:"checkForUpdates",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0],M=this.state,R=M.nodes,F=M.rels,G={nodes:R.items,rels:F.items},z=Object.values(R.channels[po].adds).length>0,Y=Object.values(F.channels[po].adds).length>0,$=Object.values(R.channels[po].removes).length>0,Z=Object.values(F.channels[po].removes).length>0,ie=Object.values(R.channels[po].updates);(z||Y||$||Z)&&this.addRemoveData(G,{adds:R.channels[po].adds,removes:R.channels[po].removes}),E?(this.updateNodes(G.nodes),this.reheat(G)):ie.length>0&&(this.updateNodes(ie),ce(ie)&&this.reheat(G)),R.clearChannel(po),F.clearChannel(po)}},{key:"getNodePosition",value:function(E){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[E],y:this.workaroundData[1].dataFloat[E]}:{x:this.physPositions[4*E+0],y:this.physPositions[4*E+1]}}},{key:"getMaxSpeedSquared",value:function(){var E=0;if(this.useReadpixelWorkaround)for(var M=0;M<this.numNodes;M++){var R=this.workaroundData[2].dataFloat[M],F=this.workaroundData[3].dataFloat[M],G=R*R+F*F;G>E&&(E=G)}else for(var z=0;z<this.numNodes;z++){var Y=this.physPositions[4*z+2],$=this.physPositions[4*z+3],Z=Y*Y+$*$;Z>E&&(E=Z)}return E}},{key:"getMedianSpeedSquared",value:function(E){var M=[];if(this.useReadpixelWorkaround)for(var R=0;R<this.numNodes;R++){var F=this.workaroundData[2].dataFloat[R],G=this.workaroundData[3].dataFloat[R],z=F*F+G*G;M[R]=z}else for(var Y=0;Y<this.numNodes;Y++)if(!E||E[Y]){var $=this.physPositions[4*Y+2],Z=this.physPositions[4*Y+3],ie=$*$+Z*Z;M.push(ie)}return M.sort(function(se,he){return se-he}),M[Math.floor(M.length/2)]}},{key:"getPhysData",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.physData[(this.curPhysData+E)%this.physData.length]}},{key:"newTexture",value:function(E,M,R){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E.FLOAT,G=arguments.length>4&&arguments[4]!==void 0?arguments[4]:E.RGBA,z=E.createTexture();return E.bindTexture(E.TEXTURE_2D,z),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texImage2D(E.TEXTURE_2D,0,G,R,R,0,G,F,M),z}},{key:"newFramebuffer",value:function(E,M){var R=E.createFramebuffer();return E.bindFramebuffer(E.FRAMEBUFFER,R),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,M,0),R}},{key:"checkCompatibility",value:function(E){function M($){throw new Al($)}E||M("Could not initialize WebGL"),E.getParameter(E.MAX_VERTEX_TEXTURE_IMAGE_UNITS)===0&&M("Vertex shader texture access not available"),E.getExtension("OES_texture_float")||M("OES_texture_float extension not available"),E.getExtension("WEBGL_color_buffer_float")||(Nr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var R=E.getParameter(E.MAX_TEXTURE_SIZE),F=Math.max(Jt,oo);if(R<F&&M("Need larger WebGL texture support. Avaliable: ".concat(R," needed: ").concat(F)),!this.useReadpixelWorkaround){var G=new Float32Array(4),z=this.newTexture(E,G,1),Y=this.newFramebuffer(E,z);E.bindFramebuffer(E.FRAMEBUFFER,Y),E.readPixels(0,0,1,1,E.RGBA,E.FLOAT,G),E.getError()!==E.NO_ERROR&&(Nr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(Y),E.deleteTexture(z)}}},{key:"printGlStats",value:function(E){var M="?",R="?";if(E.getParameter(E.RENDERER))R=E.getParameter(E.RENDERER),M=E.getParameter(E.VENDOR);else{var F=E.getExtension("WEBGL_debug_renderer_info");F&&(M=E.getParameter(F.UNMASKED_VENDOR_WEBGL),R=E.getParameter(F.UNMASKED_RENDERER_WEBGL))}Nr.trace("Vendor: ".concat(M)),Nr.trace("Renderer: ".concat(R));var G=E.getParameter(E.ALIASED_LINE_WIDTH_RANGE);Nr.trace("Line width range: ".concat(G));var z=E.getSupportedExtensions();Nr.trace("Extentions:"),z.length>0&&z.forEach(function(Y){return Nr.trace(Y)})}},{key:"adjustToGlSize",value:function(E){return E*this.dpr*2.5}},{key:"setupSize",value:function(){for(var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},M=new Float32Array(65536),R=E.nodes,F=R.length,G=0,z=0;z<F;z++){var Y,$=parseInt((Y=R[z].size)!==null&&Y!==void 0?Y:Qn,10);M[z]=this.adjustToGlSize($),G+=$}this.averageNodeSize=F?G/F:Qn;var Z=this.gl;this.sizeTexture===void 0&&(this.sizeTexture=Z.createTexture()),Z.bindTexture(Z.TEXTURE_2D,this.sizeTexture),Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,Jt,Jt,0,Z.ALPHA,Z.FLOAT,M),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.NEAREST),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(E){var M,R,F=this.gl,G=E.relationships,z=new Float32Array(16777216),Y=new Float32Array(65536),$=0;for(M=0;M<E.nodes.length;M++)for(Y[M]=$,z[$]=G[M].length,$+=1,R=0;R<G[M].length;R++)z[$]=G[M][R],$+=1;for(R=$;R<z.length;R++)z[R]=1;for(R=M;R<Y.length;R++)Y[R]=0;this.offsetTexture===void 0&&(this.offsetTexture=F.createTexture()),F.bindTexture(F.TEXTURE_2D,this.offsetTexture),F.texImage2D(F.TEXTURE_2D,0,F.ALPHA,Jt,Jt,0,F.ALPHA,F.FLOAT,Y),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE),this.springTexture===void 0&&(this.springTexture=F.createTexture()),F.bindTexture(F.TEXTURE_2D,this.springTexture),F.texImage2D(F.TEXTURE_2D,0,F.ALPHA,oo,oo,0,F.ALPHA,F.FLOAT,z),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var E=this.gl,M=this.subGraphs.length,R=this.subGraphs[0].nodes,F=3*Math.sqrt(R.length),G=new Float32Array(262144),z=new Float32Array(262144);this.numNodes=R.length;for(var Y=0;Y<262144;Y++)G[Y]=0,z[Y]=0;for(var $=function(Te,Ie,Fe,De){De[4*Te+0]=Ie,De[4*Te+1]=Fe,De[4*Te+2]=0,De[4*Te+3]=0},Z=M-1;Z>=0;Z--){var ie=Z===M-1?[]:this.subGraphs[Z+1].nodes;ie.length===0?this.subGraphs[Z].nodes.forEach(function(Te,Ie){var Fe=Te.placement?Te.placement.x:F*(Math.random()-.5),De=Te.placement?Te.placement.y:F*(Math.random()-.5);$(Te.finestIndex===void 0?Ie:Te.finestIndex,Fe,De,G)}):ie.forEach(function(Te){var Ie=Te.finestIndex,Fe=G[4*Te.finestIndex],De=G[4*Te.finestIndex+1],Xe=Nf({x:Fe,y:De},10,Te.planets.length+1);Ie+=1,Te.planets.forEach(function(Ge,Qe){var Ke=Xe[Qe];$(Ie+=1,Ke.x,Ke.y,G);var We=Nf({x:Ke.x,y:Ke.y},10,Ge.moons.length+1);Ge.moons.forEach(function(at,mt){var Rt=We[mt];$(Ie+=1,Rt.x,Rt.y,G)})})})}this.physData=[];for(var se=0;se<2;se++){var he=this.newTexture(E,se===0?G:z,Jt),ue=this.newFramebuffer(E,he);this.physData.push({texture:he,frameBuffer:ue})}var ve=this.enableVerlet?`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;


float DAMP = 0.6;
float COOL = 0.99998;
float TEMP = max(0.02, pow(COOL, u_curIteration));
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 50000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = (combinedNodeSize - dist) / (dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * fScale) / (dist);
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, myPosition.zw);
  } else {
    vec2 prevVelocity = myPosition.zw;
    vec2 currentPos = myPosition.xy;
    vec2 prevPos = currentPos - prevVelocity;

    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);
    vec2 newVelocity = newPos - currentPos;
    gl_FragColor = vec4(newPos, newVelocity);
  }
}`:`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 500000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = ((combinedNodeSize - dist) / dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);
  } else {
    myPosition.zw = myPosition.zw * VELOCITYDECAY;
    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);
  }
}`;this.physShader=new ca(E,Lf,ve,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var E=this,M=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var R,F,G=this.subGraphs.length,z=function(ue,ve,Te,Ie,Fe){R[4*ue+0]=ve,R[4*ue+1]=Te,R[4*ue+2]=Fe.size(),R[4*ue+3]=Ie||1};if(G===1){R=new Float32Array(262144);var Y=this.subGraphs[0].nodes;Y.forEach(function(ue,ve){z(ve,0,0,ue.weight,{size:function(){return Y.length}})}),this.levelsClusterTexture[0]=this.newTexture(M,R,ha)}else for(var $=function(){var ue=E.subGraphs[Z].nodes,ve=Z===E.subGraphs.length-1?[]:E.subGraphs[Z+1].nodes;R=new Float32Array(262144),F=new Float32Array(65536);var Te=0;if(ve.length>0){var Ie=ve.slice();Ie.sort(function(Xe,Ge){return Xe.previousIndex-Ge.previousIndex}),Ie.forEach(function(Xe,Ge){var Qe=Te,Ke=ve.indexOf(Xe);z(Te,Ke,Qe,ue[Xe.id].weight,Xe),F[Te]=ue[Te].finestIndex,Te+=1,Xe.planets.forEach(function(We){z(Te,Ke,Qe,We.weight,Xe),F[Te]=ue[Te].finestIndex,Te+=1,We.moons.forEach(function(at){z(Te,Ke,Qe,at.weight,Xe),F[Te]=ue[Te].finestIndex,Te+=1})})})}else ue.forEach(function(Xe,Ge){z(Ge,0,0,Xe.weight,{size:function(){return ue.length}}),F[Ge]=ue[Ge].finestIndex});var Fe=E.newTexture(M,null,ha),De=E.newFramebuffer(M,Fe);E.levelsData[Z]={texture:Fe,frameBuffer:De},E.levelsClusterTexture[Z]=E.newTexture(M,R,ha),E.levelsFinestIndexTexture[Z]=E.newTexture(M,F,Jt,M.FLOAT,M.ALPHA)},Z=this.subGraphs.length-1;Z>=0;Z--)$();for(var ie=new Float32Array(262144),se=0;se<ie.length;se++)ie[se]=0;this.initalLevelTexture=this.newTexture(M,ie,ha);var he=this.enableVerlet?`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float PI = 3.1415926535897932384626433832795;
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 1.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getSquaredLogClusterWeight(float value) {
  return pow(log(value), 2.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = (clusterArea * fScale) / (dist * dist);

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.2;
    }

    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / (dist * dist);
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`:`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getLogClusterWeight(float value) {
  return value / max(log(value), 1.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.3;
    }

    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / dist;
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`;this.apprxRepForceShader=new ca(M,Lf,he),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var E=this.gl;this.pinTexture=E.createTexture(),this.pinData=new Uint8Array(65536);for(var M=0;M<65536;M++)this.pinData[M]=0;E.bindTexture(E.TEXTURE_2D,this.pinTexture),E.texImage2D(E.TEXTURE_2D,0,E.ALPHA,Jt,Jt,0,E.ALPHA,E.UNSIGNED_BYTE,this.pinData),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var E=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=E.createTexture(),E.bindTexture(E.TEXTURE_2D,this.updateTexture),E.texImage2D(E.TEXTURE_2D,0,E.ALPHA,Jt,Jt,0,E.ALPHA,E.FLOAT,this.updateData),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),this.updateShader=new ca(E,Lf,`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_updateData;
uniform float u_numNodesNew;

const float INDEX_FLAG = 999999.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;

  if (index >= u_numNodesNew) {
    discard;
  }

  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;
  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;

  if (secondValue == INDEX_FLAG) {
    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);
    gl_FragColor = myPosition;
  } else {
    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);
  }
}
`),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var E=this.gl;this.workaroundShader=new ca(E,Lf,`precision lowp float;

uniform sampler2D u_physData;
uniform float u_index;

float shift_right (float v, float amt) { 
    v = floor(v) + 0.5; 
    return floor(v / exp2(amt)); 
}

float shift_left (float v, float amt) { 
    return floor(v * exp2(amt) + 0.5); 
}

float mask_last (float v, float bits) { 
    return mod(v, shift_left(1.0, bits)); 
}

float extract_bits (float num, float from, float to) { 
    from = floor(from + 0.5); to = floor(to + 0.5); 
    return mask_last(shift_right(num, from), to - from); 
}

// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target
vec4 encode_float (float val) { 
    if (val == 0.0) return vec4(0, 0, 0, 0); 
    float sign = val > 0.0 ? 0.0 : 1.0; 
    val = abs(val); 
    float exponent = floor(log2(val)); 
    float biased_exponent = exponent + 127.0; 
    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; 
    float t = biased_exponent / 2.0; 
    float last_bit_of_biased_exponent = fract(t) * 2.0; 
    float remaining_bits_of_biased_exponent = floor(t); 
    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; 
    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; 
    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; 
    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; 
    return vec4(byte4, byte3, byte2, byte1); 
}

void main(void) {
  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);
  float data;
  if (u_index == 0.0) {
    data = texData.x;
  } else if (u_index == 1.0) {
    data = texData.y;
  } else if (u_index == 2.0) {
    data = texData.z;
  } else if (u_index == 3.0) {
    data = texData.w;
  }

  gl_FragColor = encode_float(data);
}
`),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var M=0;M<4;M++){var R=new Uint8Array(262144),F=this.newTexture(E,null,Jt,E.UNSIGNED_BYTE),G=this.newFramebuffer(E,F);this.workaroundData.push({dataByte:R,dataFloat:new Float32Array(R.buffer),texture:F,frameBuffer:G})}}},{key:"doReadpixelWorkaround",value:function(){for(var E=this.gl,M=0;M<4;M++){var R=this.workaroundData[M];E.bindFramebuffer(E.FRAMEBUFFER,R.frameBuffer),E.viewport(0,0,Jt,Jt),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",M),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),E.bindBuffer(E.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),E.drawArrays(E.TRIANGLE_STRIP,0,4),E.readPixels(0,0,Jt,Jt,E.RGBA,E.UNSIGNED_BYTE,R.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],O&&fa(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Rl(p){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Rl(p)}function Mc(p){return function(m){if(Array.isArray(m))return yo(m)}(p)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(p)||function(m,O){if(m){if(typeof m=="string")return yo(m,O);var E=Object.prototype.toString.call(m).slice(8,-1);return E==="Object"&&m.constructor&&(E=m.constructor.name),E==="Map"||E==="Set"?Array.from(m):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?yo(m,O):void 0}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yo(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Qg(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,va(E.key),E)}}function da(p,m,O){return(m=va(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function va(p){var m=function(O,E){if(Rl(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Rl(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Rl(m)=="symbol"?m:String(m)}var kl="ForceCytoLayout",Dc="forceDirected",Ff="coseBilkent",Ip=function(){function p(E){var M=this;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),da(this,"physLayout",void 0),da(this,"coseBilkentLayout",void 0),da(this,"state",void 0),da(this,"currentLayoutType",void 0),da(this,"enableCytoscape",void 0),da(this,"currentLayout",void 0);var R=E.state,F=E.enableCytoscape;this.enableCytoscape=F==null||F,this.physLayout=new Ap(E),this.coseBilkentLayout=new Ac({state:R,cytoCompleteCallback:function(){for(M.physLayout.update(!0),M.copyLayoutPositions(M.state.nodes.items,M.coseBilkentLayout,M.physLayout);M.physLayout.update(!1););M.copyLayoutPositions(M.state.nodes.items,M.physLayout,M.coseBilkentLayout)},animationCompleteCallback:function(){M.currentLayoutType===Ff&&setTimeout(function(){return M.setLayout(Dc)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=Dc;var G=R.nodes,z=R.rels;G.addChannel(kl),z.addChannel(kl),this.state=R}var m,O;return m=p,O=[{key:"setOptions",value:function(E){E!==void 0&&(this.currentLayout.setOptions(E),this.enableCytoscape=E.enableCytoscape)}},{key:"getLayout",value:function(E){return E===Ff?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(E){if(E!==this.currentLayoutType){Nr.info("Switching to layout: ".concat(E," in ForceCyto"));var M=this.getLayout(E);this.currentLayout=M,this.currentLayoutType=E}}},{key:"copyLayoutPositions",value:function(E,M,R){var F=M.getNodePositions(E);R.updateNodes(F)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0],M=this.state,R=M.nodes,F=M.rels,G=R.channels[kl],z=F.channels[kl],Y=Object.values(G.adds).length,$=Object.values(z.adds).length,Z=Object.values(G.adds).map(function(at){return at.id}),ie=Object.values(z.adds).map(function(at){return at.id}),se=new Set(Object.keys(G.adds)),he=new Set(Object.keys(z.adds));if(R.clearChannel(kl),F.clearChannel(kl),this.currentLayoutType===Dc&&this.enableCytoscape&&R.items.length<=100&&Y<100&&Y>0&&$>0){var ue=R.items.map(function(at){return at.id}),ve=new Set([].concat(Mc(ue),Mc(Z))),Te=F.items.map(function(at){return at.id}),Ie=new Set([].concat(Mc(Te),Mc(ie)));if(ve.size<=100&&Ie.size<=300){var Fe=function(at,mt,Rt,bt){var Lt,St=new Set(at),we=dr(new Set(mt));try{for(we.s();!(Lt=we.n()).done;){var _e=Lt.value,Ee=bt.idToItem[_e];if(Ee){var lt=Ee.from,Je=Ee.to;St.add(lt),St.add(Je)}}}catch(jn){we.e(jn)}finally{we.f()}var vt,kt=function(jn){var pn,Wr={},Br={},on=dr(jn);try{for(on.s();!(pn=on.n()).done;){for(var gn=pn.value,ri=gn.from,en=gn.to,Pn="".concat(ri,"-").concat(en),ni="".concat(en,"-").concat(ri),ii=0,hi=[Pn,ni];ii<hi.length;ii++){var tn=hi[ii];Br[tn]!==void 0?Br[tn].push(gn):Br[tn]=[gn]}Wr[ri]||(Wr[ri]=new Set),Wr[en]||(Wr[en]=new Set),Wr[ri].add(en),Wr[en].add(ri)}}catch(mi){on.e(mi)}finally{on.f()}return{adjNodesMap:Wr,relMap:Br}}(bt.items),Ut=kt.adjNodesMap,zt=kt.relMap,mr={},Or={},Fr=function(jn){var pn=[];for(mr[jn]||pn.push(jn);pn.length>0;){var Wr=pn.shift();if(mr[Wr]=Rt.idToItem[Wr],Ut[Wr]!==void 0){var Br,on=dr(Ut[Wr]);try{for(on.s();!(Br=on.n()).done;){var gn=Br.value;if(!mr[gn]){pn.push(gn);var ri=zt["".concat(Wr,"-").concat(gn)];if(ri){var en,Pn=dr(ri);try{for(Pn.s();!(en=Pn.n()).done;){var ni=en.value;Or[ni.id]||(Or[ni.id]=ni)}}catch(ii){Pn.e(ii)}finally{Pn.f()}}}}}catch(ii){on.e(ii)}finally{on.f()}}}},En=dr(St);try{for(En.s();!(vt=En.n()).done;)Fr(vt.value)}catch(jn){En.e(jn)}finally{En.f()}return{connectedNodes:mr,connectedRels:Or}}(se,he,R,F),De=Fe.connectedNodes,Xe=Fe.connectedRels,Ge=Object.values(De),Qe=Object.values(Xe),Ke=Ge.length,We=Qe.length;Ke===se.size&&We===he.size&&(he.size>0||se.size>0)?(this.setLayout(Ff),this.coseBilkentLayout.update(!0,R.items,F.items)):We>0&&he.size/We>.25&&(this.setLayout(Ff),this.coseBilkentLayout.update(!0,Ge,Qe))}}this.physLayout.update(E),this.coseBilkentLayout.update(E)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(E){this.setLayout(Dc),this.physLayout.updateNodes(E)}},{key:"getNodePositions",value:function(E){return this.currentLayout.getNodePositions(E)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],O&&Qg(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Lc(p){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Lc(p)}function Vh(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function To(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Vh(Object(O),!0).forEach(function(E){ks(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Vh(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function is(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Bf(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Bf(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Bf(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Yu(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Nc(E.key),E)}}function ks(p,m,O){return(m=Nc(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Nc(p){var m=function(O,E){if(Lc(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Lc(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Lc(m)=="symbol"?m:String(m)}var os="FreeLayout",Ml=function(){function p(E){var M=this;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),ks(this,"state",void 0),ks(this,"positions",void 0),ks(this,"shouldUpdate",void 0),ks(this,"stateDisposers",void 0);var R=E.state;this.state=R,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return M.state.graphUpdates},function(){M.state.nodes.version!==void 0&&(M.shouldUpdate=!0),M.state.rels.version!==void 0&&(M.shouldUpdate=!0)}));var F=this.state,G=F.nodes,z=F.rels;G.addChannel(os),z.addChannel(os),this.shouldUpdate=!0,this.setOptions(),this.layout(G.items,G.idToItem,G.idToPosition)}var m,O;return m=p,O=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(E){var M,R=is(E);try{for(R.s();!(M=R.n()).done;){var F=M.value;F.x!==void 0&&F.y!==void 0&&(this.positions[F.id]={x:F.x,y:F.y}),this.shouldUpdate=!0}}catch(G){R.e(G)}finally{R.f()}}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||E){var M=this.state,R=M.nodes,F=M.rels,G=Object.values(R.channels[os].adds).length>0,z=Object.values(F.channels[os].adds).length>0,Y=Object.values(R.channels[os].removes).length>0,$=Object.values(F.channels[os].removes).length>0;(G||z||Y||$)&&this.layout(R.items,R.idToItem,R.idToPosition),R.clearChannel(os),F.clearChannel(os)}this.shouldUpdate=!1}},{key:"layout",value:function(E,M,R){var F,G=(F=E)!==void 0?gt(F):F;if(!(0,r.isEmpty)(G)){for(var z={},Y=0;Y<G.length;++Y){var $,Z=G[Y].id,ie=($=R[Z])!==null&&$!==void 0?$:{},se=ie.x,he=se===void 0?0:se,ue=ie.y,ve=ue===void 0?0:ue;z[Z]={id:Z,x:he,y:ve}}this.positions=z,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(E){this.positions=E}},{key:"getNodePositions",value:function(E){var M,R=[],F=is(E);try{for(F.s();!(M=F.n()).done;){var G=M.value,z=this.positions[G.id],Y=To({id:G.id},z);R.push(Y)}}catch($){F.e($)}finally{F.f()}return R}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(os),this.state.rels.removeChannel(os)}}],O&&Yu(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function hu(p){return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},hu(p)}function as(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Uf(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?as(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],(R=zf(R))in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):as(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function ss(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Yo(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Yo(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Yo(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Wh(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,zf(E.key),E)}}function zf(p){var m=function(O,E){if(hu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(hu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return hu(m)=="symbol"?m:String(m)}var $o="GridLayout",jc=function(){function p(E){var M=this;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p);var R=E.state;this.state=R,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return M.state.graphUpdates},function(){M.state.nodes.version!==void 0&&(M.shouldUpdate=!0),M.state.rels.version!==void 0&&(M.shouldUpdate=!0)}));var F=this.state,G=F.nodes,z=F.rels;G.addChannel($o),z.addChannel($o),this.shouldUpdate=!0,this.setOptions(E),this.layout(G.items,G.idToItem,G.idToPosition,z.items)}var m,O;return m=p,O=[{key:"setOptions",value:function(E){}},{key:"updateNodes",value:function(E){var M,R=ss(E);try{for(R.s();!(M=R.n()).done;){var F=M.value;F.x!==void 0&&F.y!==void 0&&(this.positions[F.id]={x:F.x,y:F.y}),this.shouldUpdate=!0}}catch(G){R.e(G)}finally{R.f()}}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||E){var M=this.state,R=M.nodes,F=M.rels,G=Object.values(R.channels[$o].adds).length>0,z=Object.values(F.channels[$o].adds).length>0,Y=Object.values(R.channels[$o].removes).length>0,$=Object.values(F.channels[$o].removes).length>0;(G||z||Y||$)&&(this.layout(R.items,R.idToItem,R.idToPosition,F.items),R.idToPosition=this.positions),R.clearChannel($o),F.clearChannel($o)}this.shouldUpdate=!1}},{key:"layout",value:function(E,M,R,F){var G,z=(G=E)?gt(G):G;if(!(0,r.isEmpty)(z)){for(var Y=z.length,$=Math.ceil(Math.sqrt(Y)),Z=new Array(Y),ie=0,se=0;se<$;++se){for(var he=0;he<$&&(Z[ie]={y:0+150*se,x:0+150*he},(ie+=1)!==Y);++he);if(ie===Y)break}for(var ue=z.sort(),ve={},Te=0;Te<Y;++Te){var Ie=ue[Te],Fe=Z[Te];Ie.x===Fe.x&&Ie.y===Fe.y||(ve[Ie.id]=Uf({id:Ie.id},Fe))}this.positions=ve,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(E){var M,R=[],F=ss(E);try{for(F.s();!(M=F.n()).done;){var G=M.value,z=this.positions[G.id],Y=Uf({id:G.id},z);R.push(Y)}}catch($){F.e($)}finally{F.f()}return R}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel($o),this.state.rels.removeChannel($o)}}],O&&Wh(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),us=new Set(["direction","packing"]),Hh="forceDirected",Dl="hierarchical",qf="grid",ev="free",ls="d3Force",ki="webgl",Fc="canvas";function Bc(p){return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Bc(p)}function Xo(p,m,O){return m=function(E){var M=function(R,F){if(Bc(R)!="object"||!R)return R;var G=R[Symbol.toPrimitive];if(G!==void 0){var z=G.call(R,"string");if(Bc(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}(E);return Bc(M)=="symbol"?M:String(M)}(m),m in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}var pa="down",Uc=Xo(Xo(Xo(Xo({},"up","BT"),pa,"TB"),"left","RL"),"right","LR"),cs="bin",Yh=[cs,"stack"],Xi=["html"],$u=["html"],vr=["captionHtml"];function du(p){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},du(p)}function Gf(p,m){if(p==null)return{};var O,E,M=function(F,G){if(F==null)return{};var z,Y,$={},Z=Object.keys(F);for(Y=0;Y<Z.length;Y++)z=Z[Y],G.indexOf(z)>=0||($[z]=F[z]);return $}(p,m);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(p);for(E=0;E<R.length;E++)O=R[E],m.indexOf(O)>=0||Object.prototype.propertyIsEnumerable.call(p,O)&&(M[O]=p[O])}return M}function vu(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,mo(E.key),E)}}function tv(p,m,O){return m=Nl(m),function(E,M){if(M&&(du(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(E)}(p,Ll()?Reflect.construct(m,O||[],Nl(p).constructor):m.apply(p,O))}function Ll(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ll=function(){return!!p})()}function Cn(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function $h(){return $h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,m,O){var E=function(R,F){for(;!Object.prototype.hasOwnProperty.call(R,F)&&(R=Nl(R))!==null;);return R}(p,m);if(E){var M=Object.getOwnPropertyDescriptor(E,m);return M.get?M.get.call(arguments.length<3?p:O):M.value}},$h.apply(this,arguments)}function Nl(p){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Nl(p)}function jl(p,m){return jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O},jl(p,m)}function Ki(p,m,O){return(m=mo(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function mo(p){var m=function(O,E){if(du(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(du(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return du(m)=="symbol"?m:String(m)}var Bi="HierarchicalLayout",Fl=function(p){return p!==void 0?gt(p):p},Jg=function(p){function m(M){var R;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,m),Ki(Cn(R=tv(this,m,[M])),"direction",void 0),Ki(Cn(R),"packing",void 0),Ki(Cn(R),"stateDisposers",void 0),Ki(Cn(R),"oldComputing",void 0),Ki(Cn(R),"computing",void 0),Ki(Cn(R),"pendingLayoutData",void 0),Ki(Cn(R),"worker",void 0),Ki(Cn(R),"directionChanged",void 0),Ki(Cn(R),"packingChanged",void 0),Ki(Cn(R),"workersDisabled",void 0),R.direction=pa,R.packing=cs;var F=R.state,G=F.nodes,z=F.rels;return G.addChannel(Bi),z.addChannel(Bi),R.stateDisposers=[R.state.reaction(function(){return R.state.graphUpdates},function(){if(G.version!==void 0){var Y=G.channels[Bi],$=Object.values(Y.adds).length>0,Z=Object.values(Y.removes).length>0,ie=Object.values(Y.updates),se=ce(ie);R.shouldUpdate=R.shouldUpdate||$||Z||se}if(z.version!==void 0){var he=z.channels[Bi],ue=Object.values(he.adds).length>0,ve=Object.values(he.removes).length>0;R.shouldUpdate=R.shouldUpdate||ue||ve}})],R.shouldUpdate=!0,R.oldComputing=!1,R.computing=!1,R.workersDisabled=M.state.disableWebWorkers,R.setOptions(M),R.worker=xl("HierarchicalLayout",R.workersDisabled),R.pendingLayoutData=null,R.layout(G.items,G.idToItem,G.idToPosition,z.items),R}var O,E;return function(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),R&&jl(M,R)}(m,p),O=m,E=[{key:"setOptions",value:function(M){if(M!==void 0&&function(Y){return Object.keys(Y).every(function($){return us.has($)})}(M)){var R=M.direction,F=R===void 0?pa:R,G=M.packing,z=G===void 0?cs:G;Object.keys(Uc).includes(F)&&(this.directionChanged=this.direction&&this.direction!==F,this.direction=F),Yh.includes(z)&&(this.packingChanged=this.packing&&this.packing!==z,this.packing=z),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||M){var R=this.state,F=R.nodes,G=R.rels,z=this.directionChanged,Y=this.packingChanged,$=Object.values(F.channels[Bi].adds).length>0,Z=Object.values(G.channels[Bi].adds).length>0,ie=Object.values(F.channels[Bi].removes).length>0,se=Object.values(G.channels[Bi].removes).length>0,he=Object.values(F.channels[Bi].updates),ue=ce(he);(M||$||Z||ie||se||z||Y||ue)&&this.layout(F.items,F.idToItem,F.idToPosition,G.items),F.clearChannel(Bi),G.clearChannel(Bi),this.directionChanged=!1,this.packingChanged=!1}$h(Nl(m.prototype),"update",this).call(this),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(M,R,F,G){var z=this;if(this.worker){var Y=Fl(M).map(function(Ie){return Ie.html,Gf(Ie,Xi)}),$=Fl(R),Z={};Object.keys($).forEach(function(Ie){var Fe=$[Ie],De=(Fe.html,Gf(Fe,$u));Z[Ie]=De});var ie=Fl(G).map(function(Ie){return Ie.captionHtml,Gf(Ie,vr)}),se=Fl(F),he=this.direction,ue=this.packing,ve=window.devicePixelRatio,Te={nodes:Y,nodeIds:Z,idToPosition:se,rels:ie,direction:he,packing:ue,pixelRatio:ve,forcedDelay:0};this.computing?this.pendingLayoutData=Te:(this.worker.port.onmessage=function(Ie){var Fe=Ie.data,De=Fe.positions,Xe=Fe.parents,Ge=Fe.waypoints;z.computing&&(z.positions=De),z.parents=Xe,z.state.setWaypoints(Ge),z.pendingLayoutData!==null?(z.worker.port.postMessage(z.pendingLayoutData),z.pendingLayoutData=null):z.computing=!1,z.shouldUpdate=!0,z.startAnimation()},this.computing=!0,this.worker.port.postMessage(Te))}else Nr.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var M,R;this.computing=!1,this.shouldUpdate=!1,(M=this.state.nodes)===null||M===void 0||M.clearChannel(Bi),(R=this.state.rels)===null||R===void 0||R.clearChannel(Bi)}},{key:"destroy",value:function(){var M;this.stateDisposers.forEach(function(R){R()}),this.state.nodes.removeChannel(Bi),this.state.rels.removeChannel(Bi),(M=this.worker)===null||M===void 0||M.port.close()}}],E&&vu(O.prototype,E),Object.defineProperty(O,"prototype",{writable:!1}),m}(Zd);function pu(p){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},pu(p)}function Rp(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Vf(E.key),E)}}function Ba(p,m,O){return(m=Vf(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Vf(p){var m=function(O,E){if(pu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(pu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return pu(m)=="symbol"?m:String(m)}var kp=function(){function p(E,M){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),Ba(this,"elementId",void 0),Ba(this,"currentValue",void 0),Ba(this,"startValue",void 0),Ba(this,"currentTime",void 0),Ba(this,"duration",void 0),Ba(this,"status",void 0),Ba(this,"endValue",void 0),Ba(this,"startTime",void 0),Ba(this,"endTime",void 0),Ba(this,"hasNextAnimation",void 0),this.elementId=E,this.startValue=M,this.status=0,this.currentValue=M,this.duration=0}var m,O;return m=p,(O=[{key:"setDuration",value:function(E){this.duration=E,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(this.status!==1)return!1;this.currentTime=new Date().getTime();var E,M=this.endTime-this.startTime;return(E=M>0?(this.currentTime-this.startTime)/M:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+E*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(E){this.endValue!==E&&(E-this.currentValue!=0?(this.currentTime=new Date().getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=E,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=E)}},{key:"setEndTime",value:function(E){this.endTime=Math.max(E,this.startTime)}}])&&Rp(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function gu(p){return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},gu(p)}function Xh(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Bl(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Xh(Object(O),!0).forEach(function(E){fs(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Xh(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Kh(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,rv(E.key),E)}}function fs(p,m,O){return(m=rv(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function rv(p){var m=function(O,E){if(gu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(gu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return gu(m)=="symbol"?m:String(m)}var Wf=function(){function p(){(function(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")})(this,p),fs(this,"animations",void 0),fs(this,"durations",void 0),fs(this,"defaultDuration",void 0),fs(this,"hasNextAnimation",void 0),fs(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1}var m,O;return m=p,O=[{key:"advance",value:function(){var E=this;return this.hasNextAnimation=!1,this.animations.forEach(function(M){Object.values(M).forEach(function(R){R.advance()&&(E.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(E){this.ignoreAnimationsFlag=E}},{key:"setOptions",value:function(E){E.fadeDuration!==void 0&&(this.durations[0]=E.fadeDuration),E.sizeDuration!==void 0&&(this.durations[1]=E.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(E,M,R){var F,G,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(this.ignoreAnimationsFlag)return R;var Y=(F=this.getById(E))!==null&&F!==void 0?F:{};if(Y[M]===void 0){var $=z===1?this.createSizeAnimation(0,E,M):this.createFadeAnimation(0,E,M);$.setEndValue(R),G=$.currentValue}else{var Z=Y[M];if(Z.currentValue===R)return R;Z.setEndValue(R),G=Z.currentValue}return this.hasNextAnimation=!0,G}},{key:"createAnimation",value:function(E,M,R){var F,G=new kp(M,E),z=(F=this.animations.get(M))!==null&&F!==void 0?F:{};return this.animations.set(M,Bl(Bl({},z),{},fs({},R,G))),G}},{key:"getById",value:function(E){return this.animations.get(E)}},{key:"createFadeAnimation",value:function(E,M,R){var F,G=this.createAnimation(E,M,R);return G.setDuration((F=this.durations[0])!==null&&F!==void 0?F:this.defaultDuration),G}},{key:"createSizeAnimation",value:function(E,M,R){var F,G=this.createAnimation(E,M,R);return G.setDuration((F=this.durations[1])!==null&&F!==void 0?F:this.defaultDuration),G}}],O&&Kh(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Xu(p){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Xu(p)}function nv(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Zh(E.key),E)}}function Zh(p){var m=function(O,E){if(Xu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Xu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Xu(m)=="symbol"?m:String(m)}var xi=64,yu=function(){function p(){var E,M,R;(function(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")})(this,p),E=this,R=void 0,(M=Zh(M="cache"))in E?Object.defineProperty(E,M,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[M]=R,this.cache={}}var m,O;return m=p,O=[{key:"getImage",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0&&arguments[1],R=this.getOrCreateEntry(E),F=M?"inverted":"image",G=R[F];return G===void 0&&(G=this.loadImage(E),R[F]=G),this.drawIfNeeded(G,M),G.canvas}},{key:"getOrCreateEntry",value:function(E){return this.cache[E]===void 0&&(this.cache[E]={}),this.cache[E]}},{key:"invertCanvas",value:function(E){for(var M=E.getImageData(0,0,xi,xi),R=M.data,F=0;F<4096;F++){var G=4*F;R[G]^=255,R[G+1]^=255,R[G+2]^=255}E.putImageData(M,0,0)}},{key:"loadImage",value:function(E){var M=document.createElement("canvas");M.width=xi,M.height=xi;var R=new Image;return R.src=E,R.crossOrigin="anonymous",{canvas:M,image:R,drawn:!1}}},{key:"drawIfNeeded",value:function(E,M){var R=E.image,F=E.canvas;if(!E.drawn&&R.complete){var G=F.getContext("2d");try{G.drawImage(R,0,0,xi,xi)}catch(z){Nr.error("Failed to draw image",R.src,z),G.beginPath(),G.strokeStyle="black",G.rect(0,0,xi,xi),G.moveTo(0,0),G.lineTo(xi,xi),G.moveTo(0,xi),G.lineTo(xi,0),G.stroke(),G.closePath()}M&&this.invertCanvas(G),E.drawn=!0}}}],O&&nv(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();const iv=yu;function Ul(p){return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Ul(p)}function ov(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function av(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,sv(E.key),E)}}function yr(p,m,O){return(m=sv(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function sv(p){var m=function(O,E){if(Ul(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Ul(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Ul(m)=="symbol"?m:String(m)}var Mp=function(){function p(E,M,R){(function(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")})(this,p),yr(this,"key",void 0),yr(this,"rels",void 0),yr(this,"waypointPath",void 0),yr(this,"selfReferring",void 0),yr(this,"fromId",void 0),yr(this,"toId",void 0),yr(this,"angles",void 0),yr(this,"labelInfo",void 0),this.key=E,this.rels=[],this.selfReferring=M===R,this.fromId=M,this.toId=R,this.labelInfo={},this.angles=[]}var m,O;return m=p,O=[{key:"insert",value:function(E){this.rels.push({rel:E})}},{key:"setLabelInfo",value:function(E,M){this.labelInfo[E]=M}},{key:"remove",value:function(E){var M=E.id,R=this.rels,F=R.findIndex(function($){return $.rel.id===M});if(F!==-1&&(R.splice(F,1),F===0&&R.length>0)){var G=R[0].rel,z=G.from,Y=G.to;this.fromId=z,this.toId=Y}}},{key:"size",value:function(){return this.rels.length}},{key:"maxFontSize",value:function(){return Math.max.apply(Math,function(M){if(Array.isArray(M))return ov(M)}(E=this.rels.map(function(M){var R=M.rel;return(0,r.isNumber)(R.captionSize)?R.captionSize:1}))||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(E)||function(M,R){if(M){if(typeof M=="string")return ov(M,R);var F=Object.prototype.toString.call(M).slice(8,-1);return F==="Object"&&M.constructor&&(F=M.constructor.name),F==="Map"||F==="Set"?Array.from(M):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?ov(M,R):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var E}},{key:"relIsOppositeDirection",value:function(E){var M=E.from,R=E.to,F=this.fromId,G=this.toId;return M!==F&&R!==G||M===G&&R===F}},{key:"indexOf",value:function(E){var M=E.id;return this.rels.findIndex(function(R){return R.rel.id===M})}},{key:"getRel",value:function(E){var M=this.rels;return E<0||E>=M.length?null:M[E].rel}},{key:"setWaypoints",value:function(E){this.waypointPath=E}},{key:"setAngles",value:function(E){this.angles=E}}],O&&av(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),zl=Cc,uv=2*Math.PI/50,Dp=.1*Math.PI;function Hf(p){return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Hf(p)}function ci(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Lp(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Lp(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Lp(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Yf(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,$f(E.key),E)}}function Qh(p,m,O){return(m=$f(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function $f(p){var m=function(O,E){if(Hf(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Hf(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Hf(m)=="symbol"?m:String(m)}var Np=function(p){var m=[];if(p.length===0)m.push({size:2*Math.PI,start:0});else{for(var O=p.length-1;O>=0;O--){var E=void 0,M=void 0;O===0?(M=p[p.length-1],E=p[O]-p[p.length-1]+2*Math.PI):(M=p[O-1],E=p[O]-p[O-1]),m.push({size:E,start:M})}m.sort(function(R,F){return F.size-R.size})}return m},ga=function(p,m){for(;m>p.length||p[0].size>2*p[m-1].size;)p.push({size:p[0].size/2,start:p[0].start}),p.push({size:p[0].size/2,start:p[0].start+p[0].size/2}),p.shift(),p.sort(function(O,E){return E.size-O.size});return p},Ku=function(){function p(E,M){(function(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")})(this,p),Qh(this,"bundles",void 0),Qh(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var R=E.reduce(function(F,G){return F[G.id]=G,F},{});this.updateData(R,{},M)}var m,O;return m=p,O=[{key:"getBundle",value:function(E){var M=this.bundles,R=this.nodeToBundles,F=this.generatePairId(E.from,E.to),G=M[F];return G===void 0&&(G=new Mp(F,E.from,E.to),M[F]=G,R[E.from]===void 0&&(R[E.from]=[]),R[E.to]===void 0&&(R[E.to]=[]),R[E.from].push(G),R[E.to].push(G)),G}},{key:"updateData",value:function(E,M,R){for(var F=this.bundles,G=this.nodeToBundles,z=function(Xe,Ge){var Qe=G[Ge].findIndex(function(Ke){return Ke===Xe});Qe!==-1&&G[Ge].splice(Qe,1),G[Ge].length===0&&delete G[Ge]},Y=Object.values(E),$=Object.values(M),Z=0,ie=Y;Z<ie.length;Z++){var se=ie[Z];this.getBundle(se).insert(se)}for(var he=0,ue=$;he<ue.length;he++){var ve=ue[he],Te=this.getBundle(ve);Te.remove(ve),Te.size()===0&&(delete F[Te.key],z(Te,ve.from),z(Te,ve.to))}for(var Ie=0,Fe=Object.keys(F);Ie<Fe.length;Ie++){var De=F[Fe[Ie]];De.setWaypoints(R["".concat(De.fromId,"-").concat(De.toId)])}}},{key:"updatePositions",value:function(E){for(var M=this.nodeToBundles,R=0,F=Object.keys(E);R<F.length;R++){var G,z=F[R],Y=(G=M[z])!==null&&G!==void 0?G:[];if(Y.length!==0){var $=Y.find(function(We){return We.selfReferring}),Z=Y.filter(function(We){return!We.selfReferring});if($!==void 0){var ie,se=[],he=ci(Z);try{for(he.s();!(ie=he.n()).done;){var ue=ie.value,ve=E[ue.fromId],Te=E[ue.toId];if(ve!==void 0&&Te!==void 0)for(var Ie=uv*ue.size(),Fe=ve.id===z?Math.atan2(Te.y-ve.y,Te.x-ve.x):Math.atan2(ve.y-Te.y,ve.x-Te.x),De=0;De<ue.size();De++)se.push(Fe+Ie/2-De*uv);else{var Xe=ve===void 0?ue.fromId:ue.toId;Nr.warn("Arrowbundler: Node with id ".concat(Xe," is not in position map"))}}}catch(We){he.e(We)}finally{he.f()}var Ge=se.map(function(We){return(We+2*Math.PI)%(2*Math.PI)}).sort(),Qe=Np(Ge);ga(Qe,$.size());var Ke=Qe.map(function(We){return We.start+We.size/2}).slice(0,$.size());$.setAngles(Ke)}}}}},{key:"generatePairId",value:function(E,M){return[E.toString(),M.toString()].sort(function(R,F){return R.localeCompare(F)}).join("-")}}],O&&Yf(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function mu(p){return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},mu(p)}function Jh(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function ed(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,td(E.key),E)}}function Zu(p,m,O){return(m=td(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function td(p){var m=function(O,E){if(mu(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(mu(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return mu(m)=="symbol"?m:String(m)}var Xf=function(p,m){return(0,r.isFinite)(p.x)&&(0,r.isFinite)(p.y)&&(0,r.isFinite)(m.x)&&(0,r.isFinite)(m.y)},zc=function(p,m){if(p===void 0||m===void 0||!Xf(p,m))return!1;var O=m.x-p.x,E=m.y-p.y,M=st();return O*O+E*E<100*M*M},Zi=function(){function p(E,M){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),Zu(this,"p1",void 0),Zu(this,"p2",void 0),Zu(this,"unit",void 0),Zu(this,"norm",void 0),Zu(this,"length",void 0),Zu(this,"vector",void 0),this.p1=E,this.p2=M,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()}var m,O;return m=p,O=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var E=this.vector,M=E.x,R=E.y;return Math.sqrt(M*M+R*R)}},{key:"getUnitVector",value:function(){var E=this.vector,M=this.length;return{x:E.x/M,y:E.y/M}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],O&&ed(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),hs=function(p,m,O){var E={x:m.x-p.x,y:m.y-p.y},M=function(Y,$){var Z=(Y.x*$.x+Y.y*$.y)/($.x*$.x+$.y*$.y);return(0,r.clamp)(Z,0,1)}({x:O.x-p.x,y:O.y-p.y},E),R=p.x+M*E.x,F=p.y+M*E.y,G=R-O.x,z=F-O.y;return Math.sqrt(G*G+z*z)},rd=function(p,m,O,E){if(m.x===O.x&&m.y===O.y)return m;var M=m.y-p.y,R=p.x-m.x,F=M*p.x+R*p.y,G=E.y-O.y,z=O.x-E.x,Y=G*O.x+z*O.y,$=M*z-G*R;return $===0?null:{x:(z*F-R*Y)/$,y:(M*Y-G*F)/$}},Ms=function(p,m,O,E){var M,R,F,G=1e9,z=function($){for(var Z=1;Z<arguments.length;Z++){var ie=arguments[Z]!=null?arguments[Z]:{};Z%2?Jh(Object(ie),!0).forEach(function(se){Zu($,se,ie[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(ie)):Jh(Object(ie)).forEach(function(se){Object.defineProperty($,se,Object.getOwnPropertyDescriptor(ie,se))})}return $}({},p),Y={x:0,y:0};for(R=1;R<10;R++)F=.1*R,Y.x=Math.pow(1-F,2)*p.x+2*F*(1-F)*O.x+Math.pow(F,2)*m.x,Y.y=Math.pow(1-F,2)*p.y+2*F*(1-F)*O.y+Math.pow(F,2)*m.y,R>0&&(G=(M=hs(z,Y,E))<G?M:G),z.x=Y.x,z.y=Y.y;return G},jp=Di(3269),lv=Di.n(jp);function ql(p){return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},ql(p)}function qc(p){return function(m){if(Array.isArray(m))return id(m)}(p)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(p)||fv(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cv(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function nd(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?cv(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],R=function(G){var z=function(Y,$){if(ql(Y)!="object"||!Y)return Y;var Z=Y[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Y,"string");if(ql(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(G);return ql(z)=="symbol"?z:String(z)}(R),R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):cv(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function fv(p,m){if(p){if(typeof p=="string")return id(p,m);var O=Object.prototype.toString.call(p).slice(8,-1);return O==="Object"&&p.constructor&&(O=p.constructor.name),O==="Map"||O==="Set"?Array.from(p):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?id(p,m):void 0}}function id(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var Gl="…",hv=function(p){return!(!p||!isNaN(Number(p))||p.toLowerCase()===p.toUpperCase())&&p===p.toUpperCase()},Fp=function(p){var m=p[p.length-1],O=p[p.length-2];return!(!m||!isNaN(Number(m))||m.toLowerCase()===m.toUpperCase())&&!(!O||!isNaN(Number(O))||O.toLowerCase()===O.toUpperCase())&&hv(m)&&!hv(O)},Ui=function(p,m,O,E){for(var M,R=arguments.length>4&&arguments[4]!==void 0&&arguments[4],F=[],G=[],z=0,Y=0,$=!1,Z=!1,ie=0;ie<E;ie++)F[ie]=O(ie,E);for(var se,he=function(){M=p.slice(z,ue);var ve,Te,Ie=m(M),Fe=F[Y];if(Ie>Fe||(Te=p[ue-1],`
\r\v`.includes(Te))){if(!(Y<E-1)){if(R)return{v:[]};for(var De=ue;Ie>Fe;){for(De-=1;ve=p[De-1],` 	
\r\v`.includes(ve);)De-=1;if(!(De-z>1)){M="",Z=!0,$=!1;break}M=p.slice(z,De),Ie=m(M),Z=!0,$=!1}return G[Y]={text:M,hasEllipsisChar:Z,hasHyphenChar:$},{v:G}}$=!1,Z=!1;var Xe=function(Qe){var Ke=Qe.length,We=Math.min(Ke-1,3);if(Ke===1)return{hyphen:!1,cnt:0};for(var at=0;at<We;at++){var mt=Qe[Qe.length-(at+1)];if(mt===" "||mt.toLowerCase()===mt.toUpperCase())return{hyphen:!1,cnt:at+1};var Rt=Qe.slice(0,Qe.length-at);if(Fp(Rt))return{hyphen:!1,cnt:at+1}}return{hyphen:!0,cnt:1}}(M),Ge=ue-Xe.cnt;if(Xe.hyphen)for(M=p.slice(z,Ge),Ie=m(M),$=!0;Ie>Fe;){if(!(Ge-z>1)){M=p[z],Ge=z+1,Ie=m(M),$=!1;break}Ge-=1,M=p.slice(z,Ge),Ie=m(M),$=!0}else M=(M=p.slice(z,Ge)).trim();G[Y]={text:M,hasEllipsisChar:Z,hasHyphenChar:$},z=Ge,Y+=1}},ue=1;ue<=p.length;ue++)if(se=he())return se.v;return M=p.slice(z,p.length),G[Y]={text:M,hasEllipsisChar:Z,hasHyphenChar:!1},G},Ua=function(p,m,O,E,M,R,F,G){p.font="bold ".concat(E,"px ").concat(O).replace(/"/g,"");for(var z=function(he){var ue;return(ue=p.measureText(he))===null||ue===void 0?void 0:ue.width},Y=R?(F<4?["",""]:[""]).length:0,$=function(he,ue){return function(ve,Te,Ie){var Fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"top",De=.98*Ie,Xe=.89*Ie,Ge=.95*Ie;return Te===1?De:Te===2?Ge:Te===3&&Fe==="top"?ve===0||ve===2?Xe:De:Te===4&&Fe==="top"?ve===0||ve===3?.78*Ie:Ge:Te===5&&Fe==="top"?ve===0||ve===4?.65*Ie:ve===1||ve===3?Xe:Ge:De}(he+Y,ue+Y,M)},Z=1,ie=[],se=function(){if((ie=function(ue,ve,Te,Ie){var Fe,De=ue.split(/\s/g).filter(function(bt){return bt.length>0}),Xe=[],Ge=null,Qe=function(bt){return ve(bt)>Te(Xe.length,Ie)},Ke=function(bt,Lt){var St=typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(!St){if(Array.isArray(bt)||(St=fv(bt))){St&&(bt=St);var we=0,_e=function(){};return{s:_e,n:function(){return we>=bt.length?{done:!0}:{done:!1,value:bt[we++]}},e:function(vt){throw vt},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee,lt=!0,Je=!1;return{s:function(){St=St.call(bt)},n:function(){var vt=St.next();return lt=vt.done,vt},e:function(vt){Je=!0,Ee=vt},f:function(){try{lt||St.return==null||St.return()}finally{if(Je)throw Ee}}}}(De);try{for(Ke.s();!(Fe=Ke.n()).done;){var We=Fe.value,at=Ge?"".concat(Ge," ").concat(We):We;if(ve(at)<Te(Xe.length,Ie))Ge=at;else{if(Ge!==null){var mt=Qe(Ge);Xe.push({text:Ge,overflowed:mt})}if(Ge=We,Xe.length>Ie)return[]}}}catch(bt){Ke.e(bt)}finally{Ke.f()}if(Ge){var Rt=Qe(Ge);Xe.push({text:Ge,overflowed:Rt})}return Xe.length<=Ie?Xe:[]}(m,z,$,Z)).length===0)ie=Ui(m,z,$,Z,F>Z);else if(ie.some(function(ue){return ue.overflowed})){var he=Z;ie=ie.reduce(function(ue,ve){var Te=F-ue.length;if(Te===0){var Ie=ue[ue.length-1];return Ie.text.endsWith(Gl)||(z(Ie.text)+z(Gl)>$(ue.length,he)?(ue[ue.length-1].text=Ie.text.slice(0,-2),ue[ue.length-1].hasEllipsisChar=!0):(ue[ue.length-1].text=Ie.text,ue[ue.length-1].hasEllipsisChar=!0)),ue}if(ve.overflowed){var Fe=Ui(ve.text,z,$,Te);ue=ue.concat(Fe)}else ue.push({text:ve.text,hasEllipsisChar:!1,hasHyphenChar:!1});return ue},[])}else ie=ie.map(function(ue){return nd(nd({},ue),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});Z+=1};ie.length===0;)se();return Array.from(ie)},dv=function(){var p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce(function(m,O,E){var M=O.value;if(M){var R="".concat(E>0&&m.length?", ":"").concat(M);return[].concat(qc(m),[nd(nd({},O),{},{value:R,chars:R.split("").map(function(F,G){var z,Y;return E!==0&&m.length?G<2?null:qc((z=O.styles)!==null&&z!==void 0?z:[]):qc((Y=O.styles)!==null&&Y!==void 0?Y:[])})})])}return[]},[]);return{stylesPerChar:p.reduce(function(m,O){return[].concat(qc(m),qc(O.chars))},[]),fullCaption:p.map(function(m){return m.value}).join("")}};function Kf(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var Zf=[[.04,1],[100,2]],Ds=[[.8,1.1],[3,1.6],[8,2.5]],Bp=[[Ds[0][0],1],[100,1.25]],Qu=function(p,m){if(p.includes("rgba"))return p;if(p.includes("rgb")){var O=p.substr(p.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(m,")")}var E=lv().get.rgb(p);return E===null?p:"rgba(".concat(E[0],",").concat(E[1],",").concat(E[2],",").concat(m,")")},ds=function(p,m,O,E){var M=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],R=arguments.length>5&&arguments[5]!==void 0&&arguments[5],F=E.headPosition,G=E.headAngle,z=E.headHeight,Y=E.headChinHeight,$=E.headWidth,Z=Math.cos(G),ie=Math.sin(G),se=function(ve,Te){return{x:F.x+ve*Z-Te*ie,y:F.y+ve*ie+Te*Z}},he=[se(Y-z,0),se(-z,$/2),se(0,0),se(-z,-$/2)],ue={lineWidth:p.lineWidth,strokeStyle:p.strokeStyle,fillStyle:p.fillStyle};p.lineWidth=m,p.strokeStyle=O,p.fillStyle=O,function(ve,Te,Ie,Fe){if(ve.beginPath(),Te.length>0){var De=Te[0];ve.moveTo(De.x,De.y)}for(var Xe=1;Xe<Te.length;Xe++){var Ge=Te[Xe];ve.lineTo(Ge.x,Ge.y)}ve.closePath(),Ie&&ve.fill(),Fe&&ve.stroke()}(p,he,M,R),p.lineWidth=ue.lineWidth,p.strokeStyle=ue.strokeStyle,p.fillStyle=ue.fillStyle},Gc=function(p,m,O,E,M){var R=E;M.forEach(function(F){var G=F.width,z=F.color,Y=R+G;p.beginPath(),p.fillStyle=z,p.arc(m,O,Y,0,2*Math.PI,!1),p.arc(m,O,R,2*Math.PI,0,!0),p.fill(),p.closePath(),R=Y})},Vl=function(p,m,O,E){p.beginPath(),p.arc(m,O,E,0,2*Math.PI,!1),p.closePath()},Ju=function(p,m,O,E,M){p.beginPath(),p.fillStyle=E,Vl(p,m,O,M),p.fill(),p.closePath()};function od(p,m){var O=m.find(function(M){return p<M[0]}),E=m[m.length-1][1];return O!==void 0?O[1]:E}var vv=function(p,m,O,E,M,R,F,G,z,Y){var $=E,Z=0,ie=0,se="".concat(M,"px ").concat(R),he="normal ".concat(se);m.forEach(function(ue){var ve;p.font=he;var Te,Ie=-((ve=p.measureText(ue.text))===null||ve===void 0?void 0:ve.width)/2,Fe=ue.text?function(De){if(Array.isArray(De))return Kf(De)}(Te=ue.text)||function(De){if(typeof Symbol<"u"&&De[Symbol.iterator]!=null||De["@@iterator"]!=null)return Array.from(De)}(Te)||function(De,Xe){if(De){if(typeof De=="string")return Kf(De,Xe);var Ge=Object.prototype.toString.call(De).slice(8,-1);return Ge==="Object"&&De.constructor&&(Ge=De.constructor.name),Ge==="Map"||Ge==="Set"?Array.from(De):Ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ge)?Kf(De,Xe):void 0}}(Te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():[];ue.hasHyphenChar||ue.hasEllipsisChar||Fe.push(" "),Fe.forEach(function(De){var Xe,Ge=p.measureText(De).width,Qe=(Xe=O[ie])!==null&&Xe!==void 0?Xe:[],Ke=Qe.includes("bold"),We=Qe.includes("italic");p.font=Ke&&We?"italic 600 ".concat(se):We?"italic 400 ".concat(se):Ke?"bold ".concat(se):he,Qe.includes("underline")&&p.fillRect(G+Ie+Z,z+$+.2,Ge,.2),ue.hasEllipsisChar?p.fillText(De,G+Ie+Z-Y/2,z+$):p.fillText(De,G+Ie+Z,z+$),Z+=Ge,ie+=1}),p.font=he,ue.hasHyphenChar&&p.fillText("‐",G+Ie+Z,z+$),ue.hasEllipsisChar&&p.fillText(Gl,G+Ie+Z-Y/2,z+$),Z=0,$+=F})},ao=function(p,m){return{x:p.x+m.x,y:p.y+m.y}},Qf=function(p,m){return{x:p.x-m.x,y:p.y-m.y}},Wl=function(p,m){return{x:p.x*m,y:p.y*m}},Ko=function(p,m){return function(O){return Math.sqrt(O.x*O.x+O.y*O.y)}(Qf(p,m))},_r=function(p,m){return{x:Math.cos(p)*m,y:Math.sin(p)*m}};function Jf(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Co(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Co(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Co(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var Yn=2*Math.PI,Qi=Math.PI/2,pv=function(p,m,O,E,M,R){var F={x:(p.x+m.x)/2,y:(p.y+m.y)/2},G={x:p.x,y:p.y},z={x:m.x,y:m.y},Y=new Zi(z,G),$=function(ie,se){var he=0;return ie&&(he+=ie),se&&(he-=se),he}(E,O);F.x+=$/2*Y.unit.x,F.y+=$/2*Y.unit.y;var Z=R.size()/2-R.indexOf(M);return F.x+=Z*Y.unit.x,F.y+=Z*Y.unit.y,F},Hl=function(p){var m=st(),O=p.size,E=p.selected;return((O??Qn)+4+(E===!0?4:0))*m},za=function(p,m){var O=st();p.shadowColor=m.color,p.shadowBlur=m.width*O,p.shadowOffsetX=0,p.shadowOffsetY=0},Vc=function(p){p.shadowColor="rgba(0,0,0,0)",p.shadowBlur=0,p.shadowOffsetX=0,p.shadowOffsetY=0},Zo=function(p,m,O,E,M){var R,F,G=arguments.length>5&&arguments[5]!==void 0&&arguments[5],z=function(_e){var Ee=arguments.length>1&&arguments[1]!==void 0&&arguments[1],lt=_e.norm.x,Je=_e.norm.y;return Ee?{x:-lt,y:-Je}:_e.norm},Y=st(),$=m.indexOf(p),Z=(m.size()-1)/2,ie=$>Z,se=Math.abs($-Z),he=M?17*m.maxFontSize():8,ue=(m.size()-1)*he*Y,ve=function(_e,Ee,lt,Je,vt,kt,Ut){var zt,mr=arguments.length>7&&arguments[7]!==void 0&&arguments[7],Or=st(),Fr=_e.size(),En=Fr>1,jn=_e.relIsOppositeDirection(kt),pn=jn?lt:Ee,Wr=jn?Ee:lt,Br=_e.waypointPath,on=Br==null?void 0:Br.points,gn=Br==null?void 0:Br.from,ri=Br==null?void 0:Br.to,en=zc(pn,gn)&&zc(Wr,ri)||zc(Wr,gn)&&zc(pn,ri),Pn=en?on[1]:null,ni=en?on[on.length-2]:null,ii=Hl(pn),hi=Hl(Wr),tn=function(ai,bi){return Math.atan2(ai.y-bi.y,ai.x-bi.x)},mi=Math.max(Math.PI,Yn/(Fr/2)),yn=En?Je*mi*(Ut?1:-1)/((zt=pn.size)!==null&&zt!==void 0?zt:Qn):0,Mo=tn(en?Pn:Wr,pn),ta=en?tn(Wr,ni):Mo,nl=function(ai,bi,wd,rc){return{x:ai.x+Math.cos(bi)*wd*(rc?-1:1),y:ai.y+Math.sin(bi)*wd*(rc?-1:1)}},Ql=function(ai,bi){return nl(pn,Mo+ai,bi,!1)},il=function(ai,bi){return nl(Wr,ta-ai,bi,!0)},Va=function(ai,bi){return{x:ai.x+(bi.x-ai.x)/2,y:ai.y+(bi.y-ai.y)/2}},oi=function(ai,bi){return Math.sqrt((ai.x-bi.x)*(ai.x-bi.x)+(ai.y-bi.y)*(ai.y-bi.y))*Or},On=Ql(yn,ii),qi=il(yn,hi),ra=En?Ql(0,ii):null,Do=En?il(0,hi):null,Bs=200*Or,di=[];if(en){var Qc=oi(On,Pn)<Bs;if(En&&!Qc){var ch=Va(ra,Pn);di.push(new Zi(On,ch)),di.push(new Zi(ch,Pn))}else di.push(new Zi(On,Pn));for(var Jl=2;Jl<on.length-1;Jl++)di.push(new Zi(on[Jl-1],on[Jl]));var qv=oi(qi,ni)<Bs;if(En&&!qv){var Jc=Va(Do,ni);di.push(new Zi(ni,Jc)),di.push(new Zi(Jc,qi))}else di.push(new Zi(ni,qi))}else{var ec=En?oi(ra,Do):0;if(En&&ec>2*(30*Or+Math.min(ii,hi)))if(mr){var ef=pv(pn,Wr,ii,hi,kt,_e);di.push(new Zi(On,ef)),di.push(new Zi(ef,qi))}else{var Us=Je*vt,zs=30+ii,fh=Math.sqrt(zs*zs+Us*Us),tc=30+hi,hh=Math.sqrt(tc*tc+Us*Us),tf=Ql(0,fh),_d=il(0,hh);di.push(new Zi(On,tf)),di.push(new Zi(tf,_d)),di.push(new Zi(_d,qi))}else if(ec>(ii+hi)/2){var dh=pv(pn,Wr,ii,hi,kt,_e);di.push(new Zi(On,dh)),di.push(new Zi(dh,qi))}else di.push(new Zi(On,qi))}return di}(m,O,E,se,he,p,ie,G),Te=[],Ie=ve[0],Fe=z(Ie,ie);Te.push({x:Ie.p1.x+Fe.x,y:Ie.p1.y+Fe.y});for(var De=1;De<ve.length;De++)if(m.size()===1)Te.push(ve[De-1].p2);else{var Xe=ve[De-1],Ge=ve[De],Qe=z(Xe,ie),Ke=z(Ge,ie),We=ao(Xe.p1,Wl(Qe,ue/2)),at=ao(Xe.p2,Wl(Qe,ue/2)),mt=ao(Ge.p1,Wl(Ke,ue/2)),Rt=ao(Ge.p2,Wl(Ke,ue/2)),bt=null;F=Ke,(R=Qe).x*F.x+R.y*F.y<.99&&(bt=rd(We,at,mt,Rt));var Lt=bt!==null?Qf(bt,Xe.p2):Wl(Qe,ue/2);Te.push(ao(Xe.p2,Wl(Lt,se/Z)))}var St=ve[ve.length-1],we=z(St,ie);return Te.push({x:St.p2.x+we.x,y:St.p2.y+we.y}),m.relIsOppositeDirection(p)?Te.reverse():Te},$n=function(p,m,O,E,M,R,F,G){var z,Y=arguments.length>8&&arguments[8]!==void 0&&arguments[8],$=st(),Z=M.selected,ie=M.captions,se=ie===void 0?[]:ie,he=M.caption,ue=he===void 0?"":he,ve=M.width,Te=M.disabled,Ie=M.captionAlign,Fe=Ie===void 0?"top":Ie,De=M.captionSize,Xe=De===void 0?1:De,Ge=se.length>0?(z=dv(se))===null||z===void 0?void 0:z.fullCaption:ue;if(Ge!==void 0){var Qe=6*Xe*$,Ke=Z===!0?"bold":"normal",We=Ge;p.fillStyle=Te===!0?F.fontColor:G,p.font="".concat(Ke," ").concat(Qe,"px ").concat('"Open Sans", sans-serif');var at=function(mr){return p.measureText(mr).width},mt=(ve??1)*(Z===!0?1.5:1),Rt=at(We);if(Rt>E){var bt=Ui(We,at,function(){return E},1,!1)[0];We=bt.hasEllipsisChar===!0?"".concat(bt.text,"..."):We,Rt=E}var Lt=Math.cos(O),St=Math.sin(O),we={x:m.x,y:m.y},_e=we.x,Ee=we.y,lt=O;Y&&(lt=O-Qi,_e+=2*Qe*Lt,Ee+=2*Qe*St,lt-=Qi);var Je=(1+Xe)*$,vt=Fe==="bottom"?Qe/2+mt+Je:-(mt+Je);p.translate(_e,Ee),p.rotate(lt),p.fillText(We,-Rt/2,vt),p.rotate(-lt),p.translate(-_e,-Ee);var kt=2*vt*Math.sin(O),Ut=2*vt*Math.cos(O),zt={position:{x:m.x-kt,y:m.y+Ut},rotation:Y?O-Math.PI:O,width:E/$,height:(Qe+Je)/$};R.setLabelInfo(M.id,zt)}},Dn=function(p,m,O,E,M){if(p.beginPath(),p.moveTo(m[0].x,m[0].y),M&&m.length>2){for(var R=1;R<m.length-2;){var F=(m[R].x+m[R+1].x)/2,G=(m[R].y+m[R+1].y)/2;p.quadraticCurveTo(m[R].x,m[R].y,F,G),R+=1}p.quadraticCurveTo(m[R].x,m[R].y,m[R+1].x,m[R+1].y)}else for(var z=1;z<m.length;z++)p.lineTo(m[z].x,m[z].y);p.lineWidth=O,p.strokeStyle=E,p.lineCap="round",p.stroke()},ad=function(p){return p.rings[0].width*st()*1.5},sd=function(p){return 6*p*st()},Wc=function(p,m,O){var E,M;return{widthAlign:m/2*((E=p[0])!==null&&E!==void 0?E:0),heightAlign:O/2*((M=p[1])!==null&&M!==void 0?M:0)}},eh=function(p,m,O){var E,M,R=O.indexOf(p),F=(E=O.angles[R])!==null&&E!==void 0?E:0,G=F-Dp/2,z=F+Dp/2,Y=(M=p.width)!==null&&M!==void 0?M:1,$=st(),Z=Hl(m),ie={x:m.x+Math.cos(G)*(Z+Y/2),y:m.y+Math.sin(G)*(Z+Y/2)},se={x:m.x+Math.cos(z)*(Z+Y/2),y:m.y+Math.sin(z)*(Z+Y/2)},he={x:m.x+Math.cos(F)*(Z+35*$),y:m.y+Math.sin(F)*(Z+35*$)};return{startAngle:G,endAngle:z,startPoint:ie,endPoint:se,apexPoint:he,control1Point:{x:he.x+25*Math.cos(F-Qi)*$/2,y:he.y+25*Math.sin(F-Qi)*$/2},control2Point:{x:he.x+25*Math.cos(F+Qi)*$/2,y:he.y+25*Math.sin(F+Qi)*$/2}}},ya=function(p,m,O,E,M,R){p.beginPath(),p.moveTo(m.x,m.y),p.quadraticCurveTo(M.x,M.y,E.x,E.y),p.quadraticCurveTo(R.x,R.y,O.x,O.y),p.stroke()},Hc=function(p,m,O,E,M,R,F,G,z,Y){var $=!(arguments.length>10&&arguments[10]!==void 0)||arguments[10];Xf(O,E)&&(O.id===E.id?function(Z,ie,se,he,ue,ve,Te,Ie){var Fe=arguments.length>8&&arguments[8]!==void 0?arguments[8]:zl,De=ie.overlayIcon,Xe=ie.selected,Ge=ie.width,Qe=ie.hovered,Ke=ie.disabled,We=ie.color,at=eh(ie,se,he),mt=at.startPoint,Rt=at.endPoint,bt=at.apexPoint,Lt=at.control1Point,St=at.control2Point,we=Te.rings,_e=Te.shadow,Ee=st(),lt=we[0].color,Je=we[1].color,vt=we[0].width*Ee,kt=we[1].width*Ee,Ut=40*Ee,zt=(Ge??1)*Ee,mr=zt>1?zt/2:1,Or=9*mr,Fr=2*mr,En=7*mr,jn=Xe===!0,pn=Ke===!0,Wr=De!==void 0,Br=Math.atan2(Rt.y-St.y,Rt.x-St.x),on=jn?vt*Math.sqrt(1+2*Or/En*(2*Or/En)):0,gn={x:Rt.x-Math.cos(Br)*(.5*Or-Fr+on),y:Rt.y-Math.sin(Br)*(.5*Or-Fr+on)},ri={headPosition:{x:Rt.x+Math.cos(Br)*(.5*Or-Fr-on),y:Rt.y+Math.sin(Br)*(.5*Or-Fr-on)},headAngle:Br,headHeight:Or,headChinHeight:Fr,headWidth:En};if(Z.save(),Z.lineCap="round",jn&&(za(Z,_e),Z.lineWidth=zt+kt,Z.strokeStyle=Je,ya(Z,mt,gn,bt,Lt,St),ds(Z,kt,Je,ri,!1,!0),Vc(Z),Z.lineWidth=zt+vt,Z.strokeStyle=lt,ya(Z,mt,gn,bt,Lt,St),ds(Z,vt,lt,ri,!1,!0)),Z.lineWidth=zt,Qe===!0&&!jn&&!pn){var en=_e.color;za(Z,_e),Z.strokeStyle=en,Z.fillStyle=en,ya(Z,mt,gn,bt,Lt,St),ds(Z,zt,en,ri),Vc(Z)}var Pn=pn?Ie.color:We??Fe;if(Z.fillStyle=Pn,Z.strokeStyle=Pn,ya(Z,mt,gn,bt,Lt,St),ds(Z,zt,Pn,ri),ve||Wr){var ni,ii=he.indexOf(ie),hi=(ni=he.angles[ii])!==null&&ni!==void 0?ni:0,tn=bt.x-Math.cos(Br)*(on/4),mi=bt.y-Math.sin(Br)*(on/4),yn=(hi+Qi)%Yn,Mo=(hi+Yn)%Yn<Math.PI;if(ve&&$n(Z,{x:tn,y:mi},yn,Ut,ie,he,Ie,Fe,Mo),Wr){var ta=De.position,nl=ta===void 0?[0,0]:ta,Ql=De.url,il=De.size,Va=sd(il===void 0?1:il),oi=Wc(nl,Ut,Va),On=oi.widthAlign,qi=oi.heightAlign+(jn?ad(Te):0)*(nl[1]<0?-1:1);Z.save(),Z.translate(tn,mi),Mo?(Z.rotate(yn-Math.PI),Z.translate(2*-On,2*-qi)):Z.rotate(yn);var ra=Va/2,Do=-ra+On,Bs=-ra+qi;Z.drawImage(ue.getImage(Ql),Do,Bs,Va,Va),Z.restore()}}Z.restore()}(p,m,O,M,R,F,G,z,Y):function(Z,ie,se,he,ue,ve,Te,Ie,Fe,De){var Xe=arguments.length>10&&arguments[10]!==void 0?arguments[10]:zl,Ge=ie.overlayIcon,Qe=ie.color,Ke=ie.disabled,We=ie.selected,at=ie.width,mt=ie.hovered,Rt=ie.captionAlign,bt=We===!0,Lt=Ke===!0,St=Ge!==void 0,we=Fe.rings,_e=Fe.shadow,Ee=Zo(ie,ue,se,he,Te,Ie),lt=st(),Je=function(rc){var Gi,si=rc.selected===!0?1.5:1;return((Gi=rc.width)!==null&&Gi!==void 0?Gi:1)*si*st()}(ie),vt=Lt?De.color:Qe??Xe,kt=we[0].width*lt,Ut=we[1].width*lt,zt=lt*(at>1?at/2:1),mr=9*zt,Or=2*zt,Fr=7*zt,En=Ko(Ee[Ee.length-2],Ee[Ee.length-1]),jn=2*mr,pn=bt?kt*Math.sqrt(1+jn/Fr*(jn/Fr)):0,Wr=2-pn,Br=Math.floor(Ee.length/2);Ee.length>2&&bt&&En<mr+pn-Or&&(Wr+=En,pn-=En/2+Or,Ee.pop(),Br=Math.floor(Ee.length/2));var on,gn,ri=Ee[Ee.length-2],en=Ee[Ee.length-1],Pn=(on=ri,gn=en,Math.atan2(gn.y-on.y,gn.x-on.x)),ni=mr/2+pn,ii=Math.cos(Pn),hi=Math.sin(Pn);Ee[Ee.length-1]={x:en.x-ii*ni,y:en.y-hi*ni};var tn,mi={headPosition:{x:en.x+ii*Wr,y:en.y+hi*Wr},headAngle:Pn,headHeight:mr,headChinHeight:Or,headWidth:Fr},yn=Jf(Ee);try{for(yn.s();!(tn=yn.n()).done;){var Mo=tn.value;Mo.x=Math.round(Mo.x),Mo.y=Math.round(Mo.y)}}catch(rc){yn.e(rc)}finally{yn.f()}if(Z.save(),bt){var ta=we[0].color,nl=we[1].color,Ql=Math.atan2(Ee[1].y-Ee[0].y,Ee[1].x-Ee[0].x),il=_r(Ql,ad(Fe));Ee[0]=ao(Ee[0],il),za(Z,_e),Dn(Z,Ee,Je+Ut,nl,Ie),ds(Z,Ut,nl,mi,!1,!0),Vc(Z),Dn(Z,Ee,Je+kt,ta,Ie),ds(Z,kt,ta,mi,!1,!0)}if(mt===!0&&!bt&&!Lt){var Va=_e.color;za(Z,_e),Dn(Z,Ee,Je,Va,Ie),ds(Z,Je,Va,mi),Vc(Z)}if(Dn(Z,Ee,Je,vt,Ie),ds(Z,Je,vt,mi),Te||St){var oi,On,qi,ra,Do,Bs=se.x>he.x,di=Ee[Br];(1&Ee.length)==1?(oi=Ee[Bs?Br+1:Br-1],On=Ee[Bs?Br-1:Br+1],Ie?(qi=(di.x+(oi.x+On.x)/2)/2,ra=(di.y+(oi.y+On.y)/2)/2,Do=Bs?Math.atan2(se.y-he.y,se.x-he.x):Math.atan2(he.y-se.y,he.x-se.x)):(Ko(di,oi)>Ko(di,On)?On=di:oi=di,qi=(oi.x+On.x)/2,ra=(oi.y+On.y)/2,Do=Math.atan2(On.y-oi.y,On.x-oi.x))):(oi=Ee[Bs?Br:Br-1],On=Ee[Bs?Br-1:Br],qi=(oi.x+On.x)/2,ra=(oi.y+On.y)/2,Do=Math.atan2(On.y-oi.y,On.x-oi.x));var Qc=bt?_r(Do+Qi,ad(Fe)):{x:0,y:0},ch=Ko(oi,On);if(Te){var Jl=Rt==="bottom"?1:-1,qv={x:qi+Qc.x*Jl,y:ra+Qc.y*Jl};$n(Z,qv,Do,ch,ie,ue,De,Xe)}if(St){var Jc=Ge.position,ec=Jc===void 0?[0,0]:Jc,ef=Ge.url,Us=Ge.size,zs=sd(Us===void 0?1:Us),fh=Wc(ec,ch,zs),tc=fh.widthAlign,hh=fh.heightAlign,tf=ec[1]<0?-1:1,_d=Qc.x*tf,dh=Qc.y*tf,ai=zs/2;Z.translate(qi,ra),Z.rotate(Do);var bi=-ai+_d+tc,wd=-ai+dh+hh;Z.drawImage(ve.getImage(ef),bi,wd,zs,zs),Z.rotate(-Do),Z.translate(-qi,-ra)}}Z.restore()}(p,m,O,E,M,R,F,$,G,z,Y))},Po=function(p,m,O,E){var M=arguments.length>4&&arguments[4]!==void 0&&arguments[4],R=arguments.length>5&&arguments[5]!==void 0&&arguments[5];return Xf(O,E)?O.id===E.id?function(F,G,z){for(var Y=eh(F,G,z),$={left:1/0,top:1/0,right:-1/0,bottom:-1/0},Z=["startPoint","endPoint","apexPoint","control1Point","control2Point"],ie=0;ie<Z.length;ie++){var se=Y[Z[ie]],he=se.x,ue=se.y;he<$.left&&($.left=he),he>$.right&&($.right=he),ue<$.top&&($.top=ue),ue>$.bottom&&($.bottom=ue)}return $}(p,O,m):function(F,G,z,Y,$,Z){var ie,se={left:1/0,top:1/0,right:-1/0,bottom:-1/0},he=Jf(Zo(F,G,z,Y,$,Z));try{for(he.s();!(ie=he.n()).done;){var ue=ie.value,ve=ue.x,Te=ue.y;ve<se.left&&(se.left=ve),ve>se.right&&(se.right=ve),Te<se.top&&(se.top=Te),Te>se.bottom&&(se.bottom=Te)}}catch(Ie){he.e(Ie)}finally{he.f()}return se}(p,m,O,E,M,R):null};function vs(p){return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},vs(p)}var ud=/^\s+/,Yc=/\s+$/;function Tt(p,m){if(m=m||{},(p=p||"")instanceof Tt)return p;if(!(this instanceof Tt))return new Tt(p,m);var O=function(E){var M,R,F,G={r:0,g:0,b:0},z=1,Y=null,$=null,Z=null,ie=!1,se=!1;return typeof E=="string"&&(E=function(he){he=he.replace(ud,"").replace(Yc,"").toLowerCase();var ue,ve=!1;if(so[he])he=so[he],ve=!0;else if(he=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(ue=_a.rgb.exec(he))?{r:ue[1],g:ue[2],b:ue[3]}:(ue=_a.rgba.exec(he))?{r:ue[1],g:ue[2],b:ue[3],a:ue[4]}:(ue=_a.hsl.exec(he))?{h:ue[1],s:ue[2],l:ue[3]}:(ue=_a.hsla.exec(he))?{h:ue[1],s:ue[2],l:ue[3],a:ue[4]}:(ue=_a.hsv.exec(he))?{h:ue[1],s:ue[2],v:ue[3]}:(ue=_a.hsva.exec(he))?{h:ue[1],s:ue[2],v:ue[3],a:ue[4]}:(ue=_a.hex8.exec(he))?{r:Qo(ue[1]),g:Qo(ue[2]),b:Qo(ue[3]),a:bv(ue[4]),format:ve?"name":"hex8"}:(ue=_a.hex6.exec(he))?{r:Qo(ue[1]),g:Qo(ue[2]),b:Qo(ue[3]),format:ve?"name":"hex"}:(ue=_a.hex4.exec(he))?{r:Qo(ue[1]+""+ue[1]),g:Qo(ue[2]+""+ue[2]),b:Qo(ue[3]+""+ue[3]),a:bv(ue[4]+""+ue[4]),format:ve?"name":"hex8"}:!!(ue=_a.hex3.exec(he))&&{r:Qo(ue[1]+""+ue[1]),g:Qo(ue[2]+""+ue[2]),b:Qo(ue[3]+""+ue[3]),format:ve?"name":"hex"}}(E)),vs(E)=="object"&&(ps(E.r)&&ps(E.g)&&ps(E.b)?(M=E.r,R=E.g,F=E.b,G={r:255*Dr(M,255),g:255*Dr(R,255),b:255*Dr(F,255)},ie=!0,se=String(E.r).substr(-1)==="%"?"prgb":"rgb"):ps(E.h)&&ps(E.s)&&ps(E.v)?(Y=$c(E.s),$=$c(E.v),G=function(he,ue,ve){he=6*Dr(he,360),ue=Dr(ue,100),ve=Dr(ve,100);var Te=Math.floor(he),Ie=he-Te,Fe=ve*(1-ue),De=ve*(1-Ie*ue),Xe=ve*(1-(1-Ie)*ue),Ge=Te%6;return{r:255*[ve,De,Fe,Fe,Xe,ve][Ge],g:255*[Xe,ve,ve,De,Fe,Fe][Ge],b:255*[Fe,Fe,Xe,ve,ve,De][Ge]}}(E.h,Y,$),ie=!0,se="hsv"):ps(E.h)&&ps(E.s)&&ps(E.l)&&(Y=$c(E.s),Z=$c(E.l),G=function(he,ue,ve){var Te,Ie,Fe;function De(Qe,Ke,We){return We<0&&(We+=1),We>1&&(We-=1),We<1/6?Qe+6*(Ke-Qe)*We:We<.5?Ke:We<2/3?Qe+(Ke-Qe)*(2/3-We)*6:Qe}if(he=Dr(he,360),ue=Dr(ue,100),ve=Dr(ve,100),ue===0)Te=Ie=Fe=ve;else{var Xe=ve<.5?ve*(1+ue):ve+ue-ve*ue,Ge=2*ve-Xe;Te=De(Ge,Xe,he+1/3),Ie=De(Ge,Xe,he),Fe=De(Ge,Xe,he-1/3)}return{r:255*Te,g:255*Ie,b:255*Fe}}(E.h,Y,Z),ie=!0,se="hsl"),E.hasOwnProperty("a")&&(z=E.a)),z=zi(z),{ok:ie,format:E.format||se,r:Math.min(255,Math.max(G.r,0)),g:Math.min(255,Math.max(G.g,0)),b:Math.min(255,Math.max(G.b,0)),a:z}}(p);this._originalInput=p,this._r=O.r,this._g=O.g,this._b=O.b,this._a=O.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||O.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=O.ok}function ma(p,m,O){p=Dr(p,255),m=Dr(m,255),O=Dr(O,255);var E,M,R=Math.max(p,m,O),F=Math.min(p,m,O),G=(R+F)/2;if(R==F)E=M=0;else{var z=R-F;switch(M=G>.5?z/(2-R-F):z/(R+F),R){case p:E=(m-O)/z+(m<O?6:0);break;case m:E=(O-p)/z+2;break;case O:E=(p-m)/z+4}E/=6}return{h:E,s:M,l:G}}function Sr(p,m,O){p=Dr(p,255),m=Dr(m,255),O=Dr(O,255);var E,M,R=Math.max(p,m,O),F=Math.min(p,m,O),G=R,z=R-F;if(M=R===0?0:z/R,R==F)E=0;else{switch(R){case p:E=(m-O)/z+(m<O?6:0);break;case m:E=(O-p)/z+2;break;case O:E=(p-m)/z+4}E/=6}return{h:E,s:M,v:G}}function bu(p,m,O,E){var M=[Ao(Math.round(p).toString(16)),Ao(Math.round(m).toString(16)),Ao(Math.round(O).toString(16))];return E&&M[0].charAt(0)==M[0].charAt(1)&&M[1].charAt(0)==M[1].charAt(1)&&M[2].charAt(0)==M[2].charAt(1)?M[0].charAt(0)+M[1].charAt(0)+M[2].charAt(0):M.join("")}function ba(p,m,O,E){return[Ao(hd(E)),Ao(Math.round(p).toString(16)),Ao(Math.round(m).toString(16)),Ao(Math.round(O).toString(16))].join("")}function ld(p,m){m=m===0?0:m||10;var O=Tt(p).toHsl();return O.s-=m/100,O.s=fd(O.s),Tt(O)}function an(p,m){m=m===0?0:m||10;var O=Tt(p).toHsl();return O.s+=m/100,O.s=fd(O.s),Tt(O)}function bo(p){return Tt(p).desaturate(100)}function Up(p,m){m=m===0?0:m||10;var O=Tt(p).toHsl();return O.l+=m/100,O.l=fd(O.l),Tt(O)}function cd(p,m){m=m===0?0:m||10;var O=Tt(p).toRgb();return O.r=Math.max(0,Math.min(255,O.r-Math.round(-m/100*255))),O.g=Math.max(0,Math.min(255,O.g-Math.round(-m/100*255))),O.b=Math.max(0,Math.min(255,O.b-Math.round(-m/100*255))),Tt(O)}function zp(p,m){m=m===0?0:m||10;var O=Tt(p).toHsl();return O.l-=m/100,O.l=fd(O.l),Tt(O)}function ey(p,m){var O=Tt(p).toHsl(),E=(O.h+m)%360;return O.h=E<0?360+E:E,Tt(O)}function qp(p){var m=Tt(p).toHsl();return m.h=(m.h+180)%360,Tt(m)}function Gp(p,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var O=Tt(p).toHsl(),E=[Tt(p)],M=360/m,R=1;R<m;R++)E.push(Tt({h:(O.h+R*M)%360,s:O.s,l:O.l}));return E}function gv(p){var m=Tt(p).toHsl(),O=m.h;return[Tt(p),Tt({h:(O+72)%360,s:m.s,l:m.l}),Tt({h:(O+216)%360,s:m.s,l:m.l})]}function yv(p,m,O){m=m||6,O=O||30;var E=Tt(p).toHsl(),M=360/O,R=[Tt(p)];for(E.h=(E.h-(M*m>>1)+720)%360;--m;)E.h=(E.h+M)%360,R.push(Tt(E));return R}function _u(p,m){m=m||6;for(var O=Tt(p).toHsv(),E=O.h,M=O.s,R=O.v,F=[],G=1/m;m--;)F.push(Tt({h:E,s:M,v:R})),R=(R+G)%1;return F}Tt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var p=this.toRgb();return(299*p.r+587*p.g+114*p.b)/1e3},getLuminance:function(){var p,m,O,E=this.toRgb();return p=E.r/255,m=E.g/255,O=E.b/255,.2126*(p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))},setAlpha:function(p){return this._a=zi(p),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var p=Sr(this._r,this._g,this._b);return{h:360*p.h,s:p.s,v:p.v,a:this._a}},toHsvString:function(){var p=Sr(this._r,this._g,this._b),m=Math.round(360*p.h),O=Math.round(100*p.s),E=Math.round(100*p.v);return this._a==1?"hsv("+m+", "+O+"%, "+E+"%)":"hsva("+m+", "+O+"%, "+E+"%, "+this._roundA+")"},toHsl:function(){var p=ma(this._r,this._g,this._b);return{h:360*p.h,s:p.s,l:p.l,a:this._a}},toHslString:function(){var p=ma(this._r,this._g,this._b),m=Math.round(360*p.h),O=Math.round(100*p.s),E=Math.round(100*p.l);return this._a==1?"hsl("+m+", "+O+"%, "+E+"%)":"hsla("+m+", "+O+"%, "+E+"%, "+this._roundA+")"},toHex:function(p){return bu(this._r,this._g,this._b,p)},toHexString:function(p){return"#"+this.toHex(p)},toHex8:function(p){return function(m,O,E,M,R){var F=[Ao(Math.round(m).toString(16)),Ao(Math.round(O).toString(16)),Ao(Math.round(E).toString(16)),Ao(hd(M))];return R&&F[0].charAt(0)==F[0].charAt(1)&&F[1].charAt(0)==F[1].charAt(1)&&F[2].charAt(0)==F[2].charAt(1)&&F[3].charAt(0)==F[3].charAt(1)?F[0].charAt(0)+F[1].charAt(0)+F[2].charAt(0)+F[3].charAt(0):F.join("")}(this._r,this._g,this._b,this._a,p)},toHex8String:function(p){return"#"+this.toHex8(p)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Dr(this._r,255))+"%",g:Math.round(100*Dr(this._g,255))+"%",b:Math.round(100*Dr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*Dr(this._r,255))+"%, "+Math.round(100*Dr(this._g,255))+"%, "+Math.round(100*Dr(this._b,255))+"%)":"rgba("+Math.round(100*Dr(this._r,255))+"%, "+Math.round(100*Dr(this._g,255))+"%, "+Math.round(100*Dr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(mv[bu(this._r,this._g,this._b,!0)]||!1)},toFilter:function(p){var m="#"+ba(this._r,this._g,this._b,this._a),O=m,E=this._gradientType?"GradientType = 1, ":"";if(p){var M=Tt(p);O="#"+ba(M._r,M._g,M._b,M._a)}return"progid:DXImageTransform.Microsoft.gradient("+E+"startColorstr="+m+",endColorstr="+O+")"},toString:function(p){var m=!!p;p=p||this._format;var O=!1,E=this._a<1&&this._a>=0;return m||!E||p!=="hex"&&p!=="hex6"&&p!=="hex3"&&p!=="hex4"&&p!=="hex8"&&p!=="name"?(p==="rgb"&&(O=this.toRgbString()),p==="prgb"&&(O=this.toPercentageRgbString()),p!=="hex"&&p!=="hex6"||(O=this.toHexString()),p==="hex3"&&(O=this.toHexString(!0)),p==="hex4"&&(O=this.toHex8String(!0)),p==="hex8"&&(O=this.toHex8String()),p==="name"&&(O=this.toName()),p==="hsl"&&(O=this.toHslString()),p==="hsv"&&(O=this.toHsvString()),O||this.toHexString()):p==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Tt(this.toString())},_applyModification:function(p,m){var O=p.apply(null,[this].concat([].slice.call(m)));return this._r=O._r,this._g=O._g,this._b=O._b,this.setAlpha(O._a),this},lighten:function(){return this._applyModification(Up,arguments)},brighten:function(){return this._applyModification(cd,arguments)},darken:function(){return this._applyModification(zp,arguments)},desaturate:function(){return this._applyModification(ld,arguments)},saturate:function(){return this._applyModification(an,arguments)},greyscale:function(){return this._applyModification(bo,arguments)},spin:function(){return this._applyModification(ey,arguments)},_applyCombination:function(p,m){return p.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(yv,arguments)},complement:function(){return this._applyCombination(qp,arguments)},monochromatic:function(){return this._applyCombination(_u,arguments)},splitcomplement:function(){return this._applyCombination(gv,arguments)},triad:function(){return this._applyCombination(Gp,[3])},tetrad:function(){return this._applyCombination(Gp,[4])}},Tt.fromRatio=function(p,m){if(vs(p)=="object"){var O={};for(var E in p)p.hasOwnProperty(E)&&(O[E]=E==="a"?p[E]:$c(p[E]));p=O}return Tt(p,m)},Tt.equals=function(p,m){return!(!p||!m)&&Tt(p).toRgbString()==Tt(m).toRgbString()},Tt.random=function(){return Tt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Tt.mix=function(p,m,O){O=O===0?0:O||50;var E=Tt(p).toRgb(),M=Tt(m).toRgb(),R=O/100;return Tt({r:(M.r-E.r)*R+E.r,g:(M.g-E.g)*R+E.g,b:(M.b-E.b)*R+E.b,a:(M.a-E.a)*R+E.a})},Tt.readability=function(p,m){var O=Tt(p),E=Tt(m);return(Math.max(O.getLuminance(),E.getLuminance())+.05)/(Math.min(O.getLuminance(),E.getLuminance())+.05)},Tt.isReadable=function(p,m,O){var E,M,R,F,G,z=Tt.readability(p,m);switch(M=!1,(F=((R=(R=O)||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&F!=="AAA"&&(F="AA"),(G=(R.size||"small").toLowerCase())!=="small"&&G!=="large"&&(G="small"),(E={level:F,size:G}).level+E.size){case"AAsmall":case"AAAlarge":M=z>=4.5;break;case"AAlarge":M=z>=3;break;case"AAAsmall":M=z>=7}return M},Tt.mostReadable=function(p,m,O){var E,M,R,F,G=null,z=0;M=(O=O||{}).includeFallbackColors,R=O.level,F=O.size;for(var Y=0;Y<m.length;Y++)(E=Tt.readability(p,m[Y]))>z&&(z=E,G=Tt(m[Y]));return Tt.isReadable(p,G,{level:R,size:F})||!M?G:(O.includeFallbackColors=!1,Tt.mostReadable(p,["#fff","#000"],O))};var so=Tt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mv=Tt.hexNames=function(p){var m={};for(var O in p)p.hasOwnProperty(O)&&(m[p[O]]=O);return m}(so);function zi(p){return p=parseFloat(p),(isNaN(p)||p<0||p>1)&&(p=1),p}function Dr(p,m){(function(E){return typeof E=="string"&&E.indexOf(".")!=-1&&parseFloat(E)===1})(p)&&(p="100%");var O=function(E){return typeof E=="string"&&E.indexOf("%")!=-1}(p);return p=Math.min(m,Math.max(0,parseFloat(p))),O&&(p=parseInt(p*m,10)/100),Math.abs(p-m)<1e-6?1:p%m/parseFloat(m)}function fd(p){return Math.min(1,Math.max(0,p))}function Qo(p){return parseInt(p,16)}function Ao(p){return p.length==1?"0"+p:""+p}function $c(p){return p<=1&&(p=100*p+"%"),p}function hd(p){return Math.round(255*parseFloat(p)).toString(16)}function bv(p){return Qo(p)/255}var wu,Eu,dd,_a=(Eu="[\\s|\\(]+("+(wu="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+wu+")[,|\\s]+("+wu+")\\s*\\)?",dd="[\\s|\\(]+("+wu+")[,|\\s]+("+wu+")[,|\\s]+("+wu+")[,|\\s]+("+wu+")\\s*\\)?",{CSS_UNIT:new RegExp(wu),rgb:new RegExp("rgb"+Eu),rgba:new RegExp("rgba"+dd),hsl:new RegExp("hsl"+Eu),hsla:new RegExp("hsla"+dd),hsv:new RegExp("hsv"+Eu),hsva:new RegExp("hsva"+dd),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ps(p){return!!_a.CSS_UNIT.exec(p)}var Vp=function(p){return Tt.mostReadable(p,[tt,"#FFFFFF"]).toString()},Yl=function(p){return lv().get.rgb(p)},th=function(p){var m=new ArrayBuffer(4),O=new Uint32Array(m),E=new Uint8Array(m),M=Yl(p);return E[0]=M[0],E[1]=M[1],E[2]=M[2],E[3]=255*M[3],O[0]},el=function(p){return[(m=Yl(p))[0]/255,m[1]/255,m[2]/255];var m};function _v(p,m){return function(O){if(Array.isArray(O))return O}(p)||function(O,E){var M=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(M!=null){var R,F,G,z,Y=[],$=!0,Z=!1;try{if(G=(M=M.call(O)).next,E===0){if(Object(M)!==M)return;$=!1}else for(;!($=(R=G.call(M)).done)&&(Y.push(R.value),Y.length!==E);$=!0);}catch(ie){Z=!0,F=ie}finally{try{if(!$&&M.return!=null&&(z=M.return(),Object(z)!==z))return}finally{if(Z)throw F}}return Y}}(p,m)||function(O,E){if(O){if(typeof O=="string")return wv(O,E);var M=Object.prototype.toString.call(O).slice(8,-1);return M==="Object"&&O.constructor&&(M=O.constructor.name),M==="Map"||M==="Set"?Array.from(O):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?wv(O,E):void 0}}(p,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wv(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var vd=function(p){var m=p.x,O=m===void 0?0:m,E=p.y,M=E===void 0?0:E,R=p.size,F=R===void 0?Qn:R;return{top:M-F,left:O-F,right:O+F,bottom:M+F}},rh=function(p,m,O,E,M,R){var F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:_l,G=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,z=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,Y=m.x,$=Y===void 0?0:Y,Z=m.y,ie=Z===void 0?0:Z,se=m.size,he=se===void 0?Qn:se,ue=m.caption,ve=ue===void 0?"":ue,Te=m.captions,Ie=Te===void 0?[]:Te,Fe=m.captionAlign,De=Fe===void 0?"center":Fe,Xe=m.captionSize,Ge=Xe===void 0?1:Xe,Qe=m.disabled,Ke=m.activated,We=m.selected,at=m.hovered,mt=m.id,Rt=m.icon,bt=m.overlayIcon,Lt=st(),St=function(Gi,si,Ou){var ol=Gi.selected?Ou.selected.rings:Ou.default.rings;if(!ol.length){var nc=si.getById(Gi.id);return nc!==void 0&&Object.entries(nc).forEach(function(Ed){var ic=_v(Ed,2),rf=ic[0],xu=ic[1];rf.startsWith("ring-")&&xu.setEndValue(0)}),[{width:0,color:""}]}return ol.map(function(Ed,ic){var rf=Ed.widthFactor,xu=Ed.color,_y=(Gi.size||Qn)*rf*st();return{width:si.getValueForAnimationName(Gi.id,"ring-".concat(ic),_y),color:xu}})}(m,E,M),we=St.reduce(function(Gi,si){return Gi+si.width},0),_e=he*Lt,Ee=2*_e,lt=function(Gi,si){if(!Gi||!si)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var Ou=st(),ol=1600*Ou*(1200*Ou),nc=Math.pow(Gi,2)*Math.PI*Math.pow(si,2)/(ol/100);return{nodeInfoLevel:od(nc,Zf),fontInfoLevel:od(nc,Ds),iconInfoLevel:od(nc,Bp)}}(_e,z),Je=lt.nodeInfoLevel,vt=lt.fontInfoLevel,kt=lt.iconInfoLevel,Ut=m.color||F,zt=function(Gi){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qn)/({1:3.5,2:2.75,3:2}[arguments.length>2&&arguments[2]!==void 0?arguments[2]:1]+(arguments.length>3&&arguments[3]!==void 0&&arguments[3]?1:0))/Gi}(vt,_e,Ge,!!Rt),mr=Vp(Ut),Or=_e;if(we>0&&(Or=_e+we),Qe)Ut=R.color,mr=R.fontColor;else{var Fr;if(Ke){var En=Date.now()%1e3/1e3,jn=En<.7?En/.7:0,pn=Qu(Ut,.4-.4*jn);Ju(p,$,ie,pn,_e+.88*_e*jn)}var Wr=(Fr=M.selected.shadow)!==null&&Fr!==void 0?Fr:{width:0,opacity:0,color:""},Br=Wr.width*Lt,on=Wr.opacity,gn=Wr.color,ri=We||at?Br:0,en=E.getValueForAnimationName(mt,"shadowWidth",ri);en>0&&function(Gi,si,Ou,ol,nc,Ed){var ic=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,rf=nc+Ed,xu=Gi.createRadialGradient(si,Ou,nc,si,Ou,rf);xu.addColorStop(0,"transparent"),xu.addColorStop(.01,Qu(ol,.5*ic)),xu.addColorStop(.05,Qu(ol,.5*ic)),xu.addColorStop(.5,Qu(ol,.12*ic)),xu.addColorStop(.75,Qu(ol,.03*ic)),xu.addColorStop(1,Qu(ol,0)),Gi.fillStyle=xu,Vl(Gi,si,Ou,rf),Gi.fill()}(p,$,ie,gn,Or,en,on)}Ju(p,$,ie,Ut,_e),we>0&&Gc(p,$,ie,_e,St);var Pn=!!ve.length,ni=!!Ie.length,ii=!!Rt;if(Rt){var hi=Je<2||!(Pn||ni),tn=Je>0?1:0,mi=hi?1*_e:.75*_e;mi/=kt;var yn=hi?.5*mi:mi*(kt===1?De==="center"?1.3:De==="bottom"||hi?1.1:0:De==="center"?1.35:De==="bottom"||hi?1.1:0),Mo=mi/2;mi=E.getValueForAnimationName(mt,"iconSize",mi),Mo=E.getValueForAnimationName(mt,"iconXPos",Mo),yn=E.getValueForAnimationName(mt,"iconYPos",yn);var ta=p.globalAlpha,nl=Qe?.1:tn;p.globalAlpha=E.getValueForAnimationName(mt,"iconOpacity",nl);var Ql=mr==="#ffffff",il=O.getImage(Rt,Ql);p.drawImage(il,$-Mo,ie-yn,Math.floor(mi),Math.floor(mi)),p.globalAlpha=ta}if(bt!==void 0){var Va,oi,On,qi,ra,Do=Ee*((Va=bt.size)!==null&&Va!==void 0?Va:1),Bs=Do/2-_e*((oi=(On=bt.position)===null||On===void 0?void 0:On[1])!==null&&oi!==void 0?oi:0),di=Do/2-_e*((qi=(ra=bt.position)===null||ra===void 0?void 0:ra[0])!==null&&qi!==void 0?qi:0),Qc=p.globalAlpha,ch=Qe?.1:1;p.globalAlpha=E.getValueForAnimationName(mt,"iconOpacity",ch);var Jl=O.getImage(bt.url);p.drawImage(Jl,$-di,ie-Bs,Do,Do),p.globalAlpha=Qc}if(Pn||ni){var qv=Je<2?0:1,Jc=E.getValueForAnimationName(mt,"textOpacity",qv,0);if(Jc>0){var ec,ef,Us='"Open Sans", sans-serif',zs=2;vt===((ec=Ds[1])===null||ec===void 0?void 0:ec[1])?zs=3:vt===((ef=Ds[2])===null||ef===void 0?void 0:ef[1])&&(zs=4);var fh=De==="center"?.7*Ee:2*Math.sqrt(Math.pow(Ee/2,2)-Math.pow(Ee/3,2));if(p.fillStyle=Qu(mr,Jc),ni){var tc,hh=dv(Ie),tf=hh.stylesPerChar,_d=hh.fullCaption,dh=Ua(p,_d,Us,zt,fh,ii,zs,m==null||m.captionAlign),ai=-(dh.length-2)*zt/2;tc=De&&De!=="center"?De==="bottom"?ai+_e/Math.PI:ai-_e/Math.PI:ai,vv(p,dh,tf,tc,zt,Us,zt,$,ie,G)}else if(Pn){var bi=Ua(p,ve,Us,zt,fh,ii,zs,m==null||m.captionAlign),wd=-(bi.length-2)*zt/2,rc=ve.split("").map(function(Gi){return[]});vv(p,bi,rc,wd,zt,Us,zt,$,ie,G)}}}};function $l(p){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},$l(p)}function gs(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function fi(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?gs(Object(O),!0).forEach(function(E){uo(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):gs(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Xc(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Ev(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Ev(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Ev(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Jo(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Wp(E.key),E)}}function uo(p,m,O){return(m=Wp(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Wp(p){var m=function(O,E){if($l(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if($l(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return $l(m)=="symbol"?m:String(m)}var tl="canvasRenderer",Ov=function(){function p(E,M,R){var F=this,G=(arguments.length>3&&arguments[3]!==void 0?arguments[3]:{}).relationshipThreshold,z=G===void 0?0:G;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),uo(this,"arrowBundler",void 0),uo(this,"activeNodes",void 0),uo(this,"canvas",void 0),uo(this,"context",void 0),uo(this,"state",void 0),uo(this,"stateDisposers",void 0),uo(this,"relationshipThreshold",void 0),uo(this,"animationHandler",void 0),uo(this,"imageCache",void 0),uo(this,"needsRun",void 0),uo(this,"nodeVersion",void 0),uo(this,"relVersion",void 0),uo(this,"waypointVersion",void 0),uo(this,"ellipsisWidth",void 0),M!==null&&(this.activeNodes=new Set,this.canvas=E,this.context=M,this.state=R,this.stateDisposers=[],this.stateDisposers.push(R.autorun(function(){R.zoom!==void 0&&(F.needsRun=!0),R.panX!==void 0&&(F.needsRun=!0),R.panY!==void 0&&(F.needsRun=!0),R.nodes.version!==void 0&&(F.needsRun=!0),R.rels.version!==void 0&&(F.needsRun=!0),R.waypoints.counter>0&&(F.needsRun=!0),R.layout!==void 0&&(F.needsRun=!0)})),R.nodes.addChannel(tl),R.rels.addChannel(tl),this.relationshipThreshold=z,this.nodeVersion=R.nodes.version,this.relVersion=R.rels.version,this.waypointVersion=R.waypoints.counter,this.animationHandler=new Wf,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new Ku(R.rels.items,R.waypoints.data),this.imageCache=new iv,this.needsRun=!0,this.ellipsisWidth=M.measureText(Gl).width)}var m,O;return m=p,O=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var E=this.state,M=!1,R=E.nodes.channels[tl],F=E.rels.channels[tl],G=R.adds,z=R.removes,Y=F.adds,$=F.removes;this.nodeVersion<E.nodes.version&&(Object.keys(G).length>0||Object.keys(z).length,this.handleChannelUpdate(R,E.nodes,!0),this.nodeVersion=E.nodes.version,E.nodes.clearChannel(tl)),this.relVersion<E.rels.version&&(M=Object.keys(Y).length>0||Object.keys($).length>0,E.rels.clearChannel(tl),this.relVersion=E.rels.version),(M||this.waypointVersion<E.waypoints.counter)&&(this.arrowBundler.updateData(Y,$,E.waypoints.data),this.waypointVersion=E.waypoints.counter)}},{key:"render",value:function(E){var M,R,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=this.state,z=this.animationHandler,Y=this.arrowBundler,$=G.zoom,Z=G.layout,ie=G.nodes.idToPosition,se=(M=F.canvas)!==null&&M!==void 0?M:this.canvas,he=(R=F.context)!==null&&R!==void 0?R:this.context,ue=st(),ve=se.clientWidth*ue,Te=se.clientHeight*ue;he.save(),F.backgroundColor!==void 0?(he.fillStyle=F.backgroundColor,he.fillRect(0,0,ve,Te)):he.clearRect(0,0,ve,Te),this.zoomAndPan(he,se),z.ignoreAnimations(!!F.ignoreAnimations),F.ignoreAnimations!==!0&&z.advance(),Y.updatePositions(ie);var Ie=this.getRelationshipsToRender(F.showCaptions,ve,Te);this.renderRelationships(Ie,he,Z!==Dl);var Fe=this.getNodesToRender(E,ve,Te);this.renderNodes(Fe,he,$),he.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(E,M,R){var F,G=[],z=[],Y=[],$=this.arrowBundler,Z=this.state,ie=this.relationshipThreshold,se=Z.layout,he=Z.zoom,ue=Z.rels,ve=Z.nodes,Te=ve.idToItem,Ie=ve.idToPosition,Fe=Xc(ue.items);try{for(Fe.s();!(F=Fe.n()).done;){var De=F.value,Xe=$.getBundle(De),Ge=fi(fi({},Te[De.from]),Ie[De.from]),Qe=fi(fi({},Te[De.to]),Ie[De.to]),Ke=E||he>ie||De.captionHtml!==void 0,We=Po(De,Xe,Ge,Qe,Ke,se!==Dl);if(We!==null){var at,mt,Rt,bt,Lt,St,we=this.isBoundingBoxOffScreen(We,M,R),_e=Ko({x:(at=Ge.x)!==null&&at!==void 0?at:0,y:(mt=Ge.y)!==null&&mt!==void 0?mt:0},{x:(Rt=Qe.x)!==null&&Rt!==void 0?Rt:0,y:(bt=Qe.y)!==null&&bt!==void 0?bt:0}),Ee=(((Lt=Ge.size)!==null&&Lt!==void 0?Lt:Qn)+((St=Qe.size)!==null&&St!==void 0?St:Qn))*devicePixelRatio,lt=Ge.id!==Qe.id&&Ee>_e;we||lt||(De.disabled===!0?z.push(fi(fi({},De),{},{fromNode:Ge,toNode:Qe,showLabel:Ke})):De.selected===!0?G.push(fi(fi({},De),{},{fromNode:Ge,toNode:Qe,showLabel:Ke})):Y.push(fi(fi({},De),{},{fromNode:Ge,toNode:Qe,showLabel:Ke})))}}}catch(Je){Fe.e(Je)}finally{Fe.f()}return[].concat(z,Y,G)}},{key:"getNodesToRender",value:function(E,M,R){var F,G=[],z=[],Y=[],$=this.state.nodes.idToItem,Z=Xc(E);try{for(Z.s();!(F=Z.n()).done;){var ie,se,he=F.value,ue=vd(he);this.isBoundingBoxOffScreen(ue,M,R)||(((ie=$[he.id])===null||ie===void 0?void 0:ie.disabled)===!0?G.push(fi({},he)):((se=$[he.id])===null||se===void 0?void 0:se.selected)===!0?z.push(fi({},he)):Y.push(fi({},he)))}}catch(ve){Z.e(ve)}finally{Z.f()}return[].concat(G,Y,z)}},{key:"renderNodes",value:function(E,M,R){var F,G=this.imageCache,z=this.animationHandler,Y=this.state,$=this.ellipsisWidth,Z=Y.nodes.idToItem,ie=Y.nodeBorderStyles,se=Y.disabledItemStyles,he=Y.defaultNodeColor,ue=Xc(E);try{for(ue.s();!(F=ue.n()).done;){var ve=F.value;rh(M,fi(fi({},Z[ve.id]),ve),G,z,ie,se,he,$,R)}}catch(Te){ue.e(Te)}finally{ue.f()}}},{key:"renderRelationships",value:function(E,M,R){var F,G=this.state.relationshipBorderStyles.selected,z=this.arrowBundler,Y=this.imageCache,$=this.state,Z=$.disabledItemStyles,ie=$.defaultRelationshipColor,se=Xc(E);try{for(se.s();!(F=se.n()).done;){var he=F.value,ue=z.getBundle(he),ve=he.fromNode,Te=he.toNode,Ie=he.showLabel;Hc(M,he,ve,Te,ue,Y,Ie,G,Z,ie,R)}}catch(Fe){se.e(Fe)}finally{se.f()}}},{key:"getNodesAt",value:function(E){var M,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],G=this.state.nodes,z=G.items,Y=G.idToPosition,$=st(),Z=Xc(z);try{var ie=function(){var se=M.value,he=se.id,ue=se.size,ve=ue===void 0?Qn:ue,Te=Y[he],Ie=Te.x,Fe=Te.y,De=Math.sqrt(Math.pow(E.x-Ie,2)+Math.pow(E.y-Fe,2));if(De<=(ve+R)*$){var Xe=F.findIndex(function(Ge){return Ge.distance>De});F.splice(Xe!==-1?Xe:F.length,0,{data:se,targetCoordinates:{x:Ie,y:Fe},pointerCoordinates:E,distanceVector:{x:E.x-Ie,y:E.y-Fe},insideNode:De<=ve*$,distance:De})}};for(Z.s();!(M=Z.n()).done;)ie()}catch(se){Z.e(se)}finally{Z.f()}return F}},{key:"getRelsAt",value:function(E){var M,R=[],F=this.state,G=this.arrowBundler,z=this.relationshipThreshold,Y=F.zoom,$=F.rels.items,Z=F.nodes.idToPosition,ie=F.layout,se=Y>z,he=Xc($);try{var ue=function(){var ve=M.value,Te=G.getBundle(ve),Ie=Z[ve.from],Fe=Z[ve.to];if(Ie!==void 0&&Fe!==void 0&&Te.indexOf(ve)!==-1){var De=function(Ge,Qe,Ke,We,at,mt){var Rt=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!Xf(Ke,We))return 1/0;var bt=Ke===We?function(Lt,St,we,_e){var Ee=eh(St,we,_e),lt=Ee.startPoint,Je=Ee.endPoint,vt=Ee.apexPoint,kt=Ee.control1Point,Ut=Ee.control2Point,zt=Ms(lt,vt,kt,Lt),mr=Ms(vt,Je,Ut,Lt);return Math.min(zt,mr)}(Ge,Qe,Ke,at):function(Lt,St,we,_e,Ee,lt,Je){var vt=Zo(St,we,_e,Ee,lt,Je),kt=1/0;if(Je&&vt.length===3)kt=Ms(vt[0],vt[2],vt[1],Lt);else for(var Ut=1;Ut<vt.length;Ut++){var zt=vt[Ut-1],mr=vt[Ut],Or=hs(zt,mr,Lt);kt=Or<kt?Or:kt}return kt}(Ge,Qe,at,Ke,We,mt,Rt);return bt}(E,ve,Ie,Fe,Te,se,ie!==Dl);if(De<10){var Xe=R.findIndex(function(Ge){return Ge.distance>De});R.splice(Xe!==-1?Xe:R.length,0,{data:ve,fromTargetCoordinates:Ie,toTargetCoordinates:Fe,pointerCoordinates:E,distance:De})}}};for(he.s();!(M=he.n()).done;)ue()}catch(ve){he.e(ve)}finally{he.f()}return R}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(E){E()}),this.state.nodes.removeChannel(tl),this.state.rels.removeChannel(tl)}},{key:"isBoundingBoxOffScreen",value:function(E,M,R){var F=this.state,G=F.zoom,z=M/G,Y=R/G,$=F.panX-z/2,Z=F.panY-Y/2,ie=E.right<$,se=E.bottom<Z,he=E.left>$+z,ue=E.top>Z+Y;return ie||he||se||ue}},{key:"handleChannelUpdate",value:function(E,M,R){for(var F=Object.keys(E.adds),G=0;G<F.length;G++){var z=F[G];E.adds[z].activated&&this.activeNodes.add(z)}for(var Y=Object.keys(E.removes),$=0;$<Y.length;$++){var Z=Y[$];this.activeNodes.delete(Z)}if(R)for(var ie=Object.keys(E.updates),se=0;se<ie.length;se++){var he=ie[se];M.idToItem[he].activated?this.activeNodes.add(he):this.activeNodes.delete(he)}}},{key:"zoomAndPan",value:function(E,M){var R=M.width,F=M.height,G=this.state,z=G.zoom,Y=G.panX,$=G.panY;E.translate(-R/2*z,-F/2*z),E.translate(-Y*z,-$*z),E.scale(z,z),E.translate(R/2/z,F/2/z),E.translate(R/2,F/2)}}],O&&Jo(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),pd=function(p,m){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,R=function(F,G){if((0,r.isNil)(F)||(0,r.isNil)(G))return{offsetX:0,offsetY:0};var z=G.getBoundingClientRect(),Y=window.devicePixelRatio||1;return{offsetX:Y*(F.clientX-z.left-.5*z.width),offsetY:Y*(F.clientY-z.top-.5*z.height)}}(p,m);return{x:E+R.offsetX/O,y:M+R.offsetY/O}};function nh(p){return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},nh(p)}function Hp(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function Yp(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Sv(E.key),E)}}function xv(p,m,O){return m&&Yp(p.prototype,m),O&&Yp(p,O),Object.defineProperty(p,"prototype",{writable:!1}),p}function qa(p,m,O){return(m=Sv(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Sv(p){var m=function(O,E){if(nh(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(nh(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return nh(m)=="symbol"?m:String(m)}var Io="WebGLRenderer",gd=function(){function p(m){var O=this;if(Hp(this,p),qa(this,"mainSceneRenderer",void 0),qa(this,"minimapRenderer",void 0),qa(this,"needsRun",void 0),qa(this,"minimapMouseDown",void 0),qa(this,"stateDisposers",void 0),qa(this,"state",void 0),m.state===void 0)throw new Error("Renderer missing options: state - state object");var E=m.state,M=m.mainSceneRenderer,R=m.minimapRenderer,F=E.nodes,G=E.rels;this.mainSceneRenderer=M,this.minimapRenderer=R,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(E.autorun(function(){O.updateMainViewport(E.zoom,E.panX,E.panY)})),this.stateDisposers.push(E.autorun(function(){O.updateMinimapViewport(E.minimapZoom,E.minimapPanX,E.minimapPanY)})),this.stateDisposers.push(E.autorun(function(){E.nodes.version!==void 0&&(O.needsRun=!0),E.rels.version!==void 0&&(O.needsRun=!0)})),F.addChannel(Io),G.addChannel(Io),this.state=E,this.setupMinimapInteractions()}return xv(p,[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(m){var O=this.state,E=O.nodes,M=O.rels;this.checkForUpdates(E,M),this.mainSceneRenderer.render(m,E,M),this.needsRun=!1}},{key:"renderMinimap",value:function(m){var O=this.state,E=O.nodes,M=O.rels;this.checkForUpdates(E,M),this.minimapRenderer.render(m,E,M),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(m,O){var E=Object.values(m.channels[Io].adds).length>0,M=Object.values(O.channels[Io].adds).length>0,R=Object.values(m.channels[Io].removes).length>0,F=Object.values(O.channels[Io].removes).length>0,G=Object.values(m.channels[Io].updates),z=Object.values(O.channels[Io].updates);E||M||R||F?(this.mainSceneRenderer.setData({nodes:m.items,rels:O.items}),this.minimapRenderer.setData({nodes:m.items,rels:O.items})):(G.length>0&&(this.mainSceneRenderer.updateNodes(G),this.minimapRenderer.updateNodes(G)),z.length>0&&(this.mainSceneRenderer.updateRelationships(O.items),this.minimapRenderer.updateRelationships(O.items))),m.clearChannel(Io),O.clearChannel(Io)}},{key:"onResize",value:function(){var m=this.state,O=m.zoom,E=m.panX,M=m.panY,R=m.minimapZoom,F=m.minimapPanX,G=m.minimapPanY;this.updateMainViewport(O,E,M),this.updateMinimapViewport(R,F,G)}},{key:"updateMainViewport",value:function(m,O,E){this.mainSceneRenderer.updateViewport(m,O,E);var M=this.mainSceneRenderer.canvas.clientWidth,R=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(m,O,E,M,R),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(m,O,E){this.minimapRenderer.updateViewport(m,O,E),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(m){var O=this.state,E=this.minimapRenderer,M=pd(m,E.canvas,O.minimapZoom,O.minimapPanX,O.minimapPanY),R=M.x,F=M.y;O.setPan(R,F)}},{key:"handleMinimapWheel",value:function(m){var O=this.state,E=this.mainSceneRenderer;O.setZoom(function(M){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(0,r.isNil)(M)||isNaN(M.deltaY)?R:R-M.deltaY/500*Math.min(1,R)}(m,O.zoom),E.canvas),m.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var m=this,O=this.minimapRenderer.canvas;O.addEventListener("mousedown",function(E){m.handleMinimapDrag(E),m.minimapMouseDown=!0}),O.addEventListener("mousemove",function(E){m.minimapMouseDown&&m.handleMinimapDrag(E)}),O.addEventListener("mouseup",function(){m.minimapMouseDown=!1}),O.addEventListener("mouseleave",function(){m.minimapMouseDown=!1}),O.addEventListener("wheel",function(E){m.handleMinimapWheel(E)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(m){m()}),this.state.nodes.removeChannel(Io),this.state.rels.removeChannel(Io),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}]),p}(),Tv=function(){function p(){Hp(this,p),qa(this,"mainSceneRenderer",void 0),qa(this,"minimapRenderer",void 0),qa(this,"needsRun",void 0),qa(this,"minimapMouseDown",void 0),qa(this,"stateDisposers",void 0),qa(this,"state",void 0)}return xv(p,[{key:"renderMainScene",value:function(m){}},{key:"renderMinimap",value:function(m){}},{key:"checkForUpdates",value:function(m,O){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(m,O,E){}},{key:"updateMinimapViewport",value:function(m,O,E){}},{key:"handleMinimapDrag",value:function(m){}},{key:"handleMinimapWheel",value:function(m){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}]),p}();function ih(p){return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},ih(p)}function Cv(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Pv(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Pv(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Pv(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function ty(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,$p(E.key),E)}}function ei(p,m,O){return(m=$p(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function $p(p){var m=function(O,E){if(ih(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(ih(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return ih(m)=="symbol"?m:String(m)}var Av,C=24,L=function(){function p(E,M,R,F){var G;if(function(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,p),ei(this,"nodeShader",void 0),ei(this,"nodeAnimShader",void 0),ei(this,"relShader",void 0),ei(this,"relDataBuffer",void 0),ei(this,"viewportBoxShader",void 0),ei(this,"defaultRelColor",void 0),ei(this,"defaultNodeColor",void 0),ei(this,"disableRelColor",void 0),ei(this,"disableNodeColor",void 0),ei(this,"gl",void 0),ei(this,"activeNodes",void 0),ei(this,"canvas",void 0),ei(this,"projection",void 0),ei(this,"idToIndex",void 0),ei(this,"posBuffer",void 0),ei(this,"numRels",void 0),ei(this,"numNodes",void 0),ei(this,"nodeDataByte",void 0),ei(this,"relIdToIndex",void 0),ei(this,"relData",void 0),ei(this,"viewportBoxBuffer",void 0),ei(this,"relBuffer",void 0),ei(this,"nodeBuffer",void 0),ei(this,"posTexture",void 0),((G=E.getExtension("OES_texture_float"))!==null&&G!==void 0?G:void 0)===void 0)throw new Error("Renderer needs floating point texture support");this.nodeShader=new ca(E,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;
uniform lowp vec3 u_nodeBorderColor;
uniform lowp vec3 u_selectedBorderColor;
uniform lowp vec3 u_selectedInnerBorderColor;
uniform lowp vec3 u_shadowColor;
uniform lowp float u_drawDefaultBorder;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_selected;
attribute lowp float a_hovered;

varying lowp float window;
varying lowp vec4 color;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float drawDefaultBorder;

lowp float MinNodeSize = 5.0;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);
  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  lowp float nodeSize = a_size * u_zoom * u_glAdjust;
  if (nodeSize < MinNodeSize) {
   gl_PointSize = MinNodeSize;
   varNodeSize = MinNodeSize;
  } else {
    gl_PointSize = nodeSize;
    varNodeSize = nodeSize;
  }

  color = a_color;
  selected = a_selected;
  hovered = a_hovered;
  nodeBorderColor = u_nodeBorderColor;
  selectedBorderColor = u_selectedBorderColor;
  selectedInnerBorderColor = u_selectedInnerBorderColor;
  shadowColor = u_shadowColor;
  drawDefaultBorder = u_drawDefaultBorder;
}`,`uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float drawDefaultBorder;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;

mediump float circleSize = 0.40;
mediump float defaultBoderSize = 0.42;
mediump float innerSelectedRingSize = 0.43;
mediump float outerSelectedRingSize = 0.47;
mediump float shadowSize = 0.51;

lowp float getShadowAlpha(lowp float size, lowp float dist) {
  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;
}

lowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {
  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);
}

void main() {
  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float nodeSize = 1.0 / varNodeSize;
    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);
    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);
    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);
    lowp vec3 finalColor = color.xyz;
    lowp float finalAlpha = nodeAlpha;

    if (selected > 0.0) {
      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);
      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);

      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));
      } else {
        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));
      }
    } else if (hovered > 0.0) {
      if (drawDefaultBorder > 0.0) {
        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);
  
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(shadowColor, finalColor, borderAlpha);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));
      } else {
        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);

        finalColor = mix(shadowColor, finalColor, nodeAlpha);
        finalAlpha = max(shadowAlpha, nodeAlpha);
      }
    } else {
      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalAlpha = borderAlpha;
      }
    }
    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;
  }
}
`),this.nodeAnimShader=new ca(E,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform lowp float u_animPos;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_active;

varying lowp float varNodeSize;
varying lowp vec4 color;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);

  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  float nodeSize = a_size * u_zoom * u_glAdjust;
  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring

  gl_PointSize = a_active > 0.5
    ? nodeSize + 0.88 * nodeSize * u_animPos
    : 0.0;

  color = a_color;
  varNodeSize = a_size;
}`,`uniform mediump float u_zoom;
uniform lowp float u_animPos;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float varNodeSize;
mediump float circleSize = 0.50;

void main(void) {

  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);
    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;
    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;
  }
}
`),this.relShader=new ca(E,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_glAdjust;

attribute vec2 a_from;
attribute vec2 a_to;
attribute lowp vec4 a_color;
attribute lowp float a_triside;
attribute float a_width;

varying lowp vec4 color;

void main(void) {
  vec4 from = texture2D(u_positions, a_from);
  vec4 to = texture2D(u_positions, a_to);
  vec2 direction = normalize(to.xy - from.xy);
  direction = vec2(-direction.y, direction.x);

  float width = a_width * u_glAdjust * 0.5;

  if (a_triside == 0.0) {
    from.y += (width / 2.0) * direction.y;
    from.x += (width / 2.0) * direction.x;
  } else {
    from.y -= (width / 2.0) * direction.y;
    from.x -= (width / 2.0) * direction.x;
  }

  color = a_color;
  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);
}
`,`varying lowp vec4 color;

void main(void) {
  gl_FragColor = vec4(color.xyz, 1.0) * color.w;
}
`),this.viewportBoxShader=new ca(E,`
attribute vec2 coordinates;
uniform mat4 u_projection;
uniform lowp vec4 u_minimapViewportBoxColor;

varying lowp vec4 minimapViewportBoxColor;

void main(void) {
  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);
  minimapViewportBoxColor = u_minimapViewportBoxColor;
}
`,`
varying lowp vec4 minimapViewportBoxColor;

void main(void) {
 gl_FragColor = minimapViewportBoxColor;
}
`),this.setShaderUniforms(F),E.clearColor(0,0,0,0),E.disable(E.DEPTH_TEST),this.defaultRelColor=F.defaultRelationshipColor,this.defaultNodeColor=F.defaultNodeColor,this.disableRelColor=F.disabledItemStyles.color,this.disableNodeColor=F.disabledItemStyles.color,E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA),this.gl=E,this.activeNodes={},this.canvas=E.canvas,this.projection=cu(),this.setData({nodes:M.items,rels:R.items}),this.createPositionTexture(),this.setupViewportRendering(F.minimapViewportBoxColor)}var m,O;return m=p,O=[{key:"setShaderUniforms",value:function(E){var M,R,F,G,z,Y=E.nodeBorderStyles,$=null;((M=Y.default)===null||M===void 0?void 0:M.rings.length)>0&&($=(z=Y.default.rings[0])===null||z===void 0?void 0:z.color);var Z,ie,se=null,he=null,ue=(R=(F=Y.selected)===null||F===void 0?void 0:F.rings)!==null&&R!==void 0?R:[],ve=ue.length;ve>1&&(he=(Z=ue[ve-2])===null||Z===void 0?void 0:Z.color,se=(ie=ue[ve-1])===null||ie===void 0?void 0:ie.color);var Te=null;(G=Y.selected)!==null&&G!==void 0&&G.shadow&&(Te=Y.selected.shadow.color),this.nodeShader.use(),(0,r.isNil)($)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",el($)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var Ie=el(se),Fe=el(he),De=el(Te);this.nodeShader.setUniform("u_selectedBorderColor",Ie),this.nodeShader.setUniform("u_selectedInnerBorderColor",Fe),this.nodeShader.setUniform("u_shadowColor",De)}},{key:"setData",value:function(E){var M=yi(E.rels,this.disableRelColor);this.setupNodeRendering(E.nodes),this.setupRelationshipRendering(M)}},{key:"render",value:function(E,M,R){var F,G=this.gl,z=this.idToIndex,Y=Cv(E);try{for(Y.s();!(F=Y.n()).done;){var $=F.value,Z=z[$.id];this.posBuffer[4*Z+0]=$.x,this.posBuffer[4*Z+1]=$.y}}catch(ie){Y.e(ie)}finally{Y.f()}G.bindTexture(G.TEXTURE_2D,this.posTexture),G.texImage2D(G.TEXTURE_2D,0,G.RGBA,Jt,Jt,0,G.RGBA,G.FLOAT,this.posBuffer),G.enable(G.BLEND),G.bindFramebuffer(G.FRAMEBUFFER,null),G.clear(G.COLOR_BUFFER_BIT),G.viewport(0,0,G.drawingBufferWidth,G.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),G.bindBuffer(G.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),G.drawArrays(G.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),G.bindBuffer(G.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),G.drawArrays(G.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var E=this.gl,M=this.projection,R=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",M),E.bindBuffer(E.ARRAY_BUFFER,R),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),E.drawArrays(E.LINES,0,8)}},{key:"updateNodes",value:function(E){var M,R=this.gl,F=this.idToIndex,G=this.disableNodeColor,z=this.nodeBuffer,Y=this.nodeDataByte,$=!1,Z=Cv(E);try{for(Z.s();!(M=Z.n()).done;){var ie=M.value,se=F[ie.id];if(!(0,r.isNil)(ie.color)||ie.disabled===!0){var he=Yl(ie.disabled===!0?G:ie.color);this.nodeDataByte[3*se*4+0]=he[0],this.nodeDataByte[3*se*4+1]=he[1],this.nodeDataByte[3*se*4+2]=he[2],this.nodeDataByte[3*se*4+3]=255*he[3],$=!0}if(ie.selected!==void 0){var ue=ie.selected;this.nodeDataByte[3*se*4+4]=ue?255:0,$=!0}if(ie.activated!==void 0&&(this.nodeDataByte[3*se*4+7]=ie.activated?255:0,$=!0,ie.activated?this.activeNodes[ie.id]=!0:delete this.activeNodes[ie.id]),ie.hovered!==void 0){var ve=ie.disabled!==!0&&ie.hovered;this.nodeDataByte[3*se*4+9]=ve?255:0,$=!0}if(ie.size!==void 0){var Te=ie.size;this.nodeDataByte[3*se*4+8]=Te||Qn,$=!0}}}catch(Ie){Z.e(Ie)}finally{Z.f()}$&&(R.bindBuffer(R.ARRAY_BUFFER,z),R.bufferData(R.ARRAY_BUFFER,Y,R.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(E){var M,R=yi(E,this.disableRelColor),F=this.gl,G=!1,z=Cv(R);try{for(z.s();!(M=z.n()).done;){var Y=M.value,$=Y.key,Z=Y.width,ie=Y.color,se=Y.disabled,he=this.relIdToIndex[$],ue=(0,r.isNil)(ie)?this.defaultRelColor:ie,ve=th(se?this.disableRelColor:ue);this.relData.positionsAndColors[he*C+0]=ve,this.relData.positionsAndColors[he*C+4]=ve,this.relData.positionsAndColors[he*C+8]=ve,this.relData.positionsAndColors[he*C+12]=ve,this.relData.positionsAndColors[he*C+16]=ve,this.relData.positionsAndColors[he*C+20]=ve,G=!0,Z!==void 0&&(this.relData.widths[he*C+3]=Z,this.relData.widths[he*C+7]=Z,this.relData.widths[he*C+11]=Z,this.relData.widths[he*C+15]=Z,this.relData.widths[he*C+19]=Z,this.relData.widths[he*C+23]=Z,G=!0)}}catch(Te){z.e(Te)}finally{z.f()}G&&(F.bindBuffer(F.ARRAY_BUFFER,this.relBuffer),F.bufferData(F.ARRAY_BUFFER,this.relDataBuffer,F.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var E=this.gl,M=E.createTexture(),R=new Float32Array(262144);E.bindTexture(E.TEXTURE_2D,M),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,Jt,Jt,0,E.RGBA,E.FLOAT,R),this.posTexture=M,this.posBuffer=R}},{key:"updateViewportBox",value:function(E,M,R,F,G){var z=this.gl,Y=st(),$=F*Y,Z=G*Y,ie=(.5*$+M*E)/E,se=(.5*Z+R*E)/E,he=(.5*-$+M*E)/E,ue=(.5*-Z+R*E)/E,ve=[ie,se,he,se,he,se,he,ue,he,ue,ie,ue,ie,ue,ie,se];z.bindBuffer(z.ARRAY_BUFFER,this.viewportBoxBuffer),z.bufferData(z.ARRAY_BUFFER,new Float32Array(ve),z.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(E,M,R){var F=this.gl,G=1/E,z=M-F.drawingBufferWidth*G*.5,Y=R-F.drawingBufferHeight*G*.5,$=F.drawingBufferWidth*G,Z=F.drawingBufferHeight*G,ie=cu(),se=2.6315789473684212*st();Rs(ie,z,z+$,Y+Z,Y,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",E),this.nodeShader.setUniform("u_glAdjust",se),this.nodeShader.setUniform("u_projection",ie),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",E),this.nodeAnimShader.setUniform("u_glAdjust",se),this.nodeAnimShader.setUniform("u_projection",ie),this.relShader.use(),this.relShader.setUniform("u_glAdjust",se),this.relShader.setUniform("u_projection",ie),this.projection=ie}},{key:"setupViewportRendering",value:function(){var E,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(E=Yl(M))[0]/255,E[1]/255,E[2]/255,E[3]])}},{key:"setupNodeRendering",value:function(E){var M=this.gl,R=new ArrayBuffer(8),F=new Uint32Array(R),G=new Uint8Array(R);this.nodeBuffer===void 0&&(this.nodeBuffer=M.createBuffer()),this.numNodes=E.length;var z=new ArrayBuffer(3*E.length*8),Y=new Uint32Array(z),$={};this.activeNodes={};for(var Z=0;Z<E.length;Z++){var ie=E[Z],se=ie.selected,he=ie.hovered,ue=ie.color,ve=ie.activated,Te=ie.size,Ie=ie.id,Fe=ie.disabled,De=th((0,r.isNil)(ue)?this.defaultNodeColor:ue);Y[3*Z+0]=Fe?th(this.disableNodeColor):De,G[0]=se?255:0,G[1]=Z%Jt,G[2]=Math.floor(Z/Jt),G[3]=ve?255:0,G[4]=!Fe&&he?255:0,ve&&(this.activeNodes[Ie]=!0),Y[3*Z+1]=F[0],Y[3*Z+2]=Te??Qn,Y[3*Z+3]=F[1],$[Ie]=Z}M.bindBuffer(M.ARRAY_BUFFER,this.nodeBuffer),M.bufferData(M.ARRAY_BUFFER,Y,M.DYNAMIC_DRAW),this.numNodes=E.length,this.nodeDataByte=new Uint8Array(z),this.idToIndex=$}},{key:"setupRelationshipRendering",value:function(E){var M=this,R=this.gl,F=new ArrayBuffer(4),G=new Uint32Array(F),z=new Uint8Array(F),Y={};this.relBuffer===void 0&&(this.relBuffer=R.createBuffer());for(var $=new ArrayBuffer(E.length*C*4),Z=new Uint32Array($),ie=new Float32Array($),se=function(ue){var ve=E[ue],Te=ve.from,Ie=ve.to,Fe=ve.color,De=ve.width,Xe=De===void 0?1:De,Ge=ve.key,Qe=ve.disabled,Ke=M.idToIndex[Te],We=M.idToIndex[Ie],at=Ke%Jt,mt=Math.floor(Ke/Jt),Rt=We%Jt,bt=Math.floor(We/Jt),Lt=[at,mt,Rt,bt],St=[Rt,bt,at,mt],we=(0,r.isNil)(Fe)?M.defaultRelColor:Fe,_e=th(Qe?M.disableRelColor:we);Y[Ge]=ue;var Ee=0,lt=function(Je,vt,kt,Ut){Z[ue*C+Ee]=Je,Ee+=1;for(var zt=0;zt<vt.length;zt++)z[zt]=vt[zt];Z[ue*C+Ee]=G[0],Ee+=1,z[0]=kt,Z[ue*C+Ee]=G[0],ie[ue*C+(Ee+=1)]=Ut,Ee+=1};lt(_e,Lt,255,Xe),lt(_e,St,0,Xe),lt(_e,Lt,0,Xe),lt(_e,St,0,Xe),lt(_e,Lt,0,Xe),lt(_e,St,255,Xe)},he=0;he<E.length;he++)se(he);R.bindBuffer(R.ARRAY_BUFFER,this.relBuffer),R.bufferData(R.ARRAY_BUFFER,$,R.DYNAMIC_DRAW),this.numRels=E.length,this.relDataBuffer=$,this.relData={positionsAndColors:Z,widths:ie},this.relIdToIndex=Y}},{key:"renderAnimations",value:function(E){var M=this.gl,R=this.nodeBuffer,F=this.numNodes,G=Date.now()%1e3/1e3,z=G<.7?G/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",E),this.nodeAnimShader.setUniform("u_animPos",z),M.bindBuffer(M.ARRAY_BUFFER,R),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),M.drawArrays(M.POINTS,0,F)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],O&&ty(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),q=function(p,m,O){var E=st();p.width=m*E,p.height=O*E,p.style.width="".concat(m,"px"),p.style.height="".concat(O,"px")},Q=function(p){Nr.warn("Error: WebGL context lost - visualization will stop working!",p),Av!==void 0&&Av(p)},ae=function(p){var m=p.parentElement.getBoundingClientRect(),O=m.width,E=m.height;q(p,O,E)},be=function(p,m){var O=document.createElement("canvas");return document.body.appendChild(O),q(O,p,m),O},qe=function(p,m){var O=document.createElement("canvas");return Object.assign(O.style,pt),p!==void 0&&(p.appendChild(O),ae(O)),function(E,M){Av=M,E.addEventListener("webglcontextlost",Q)}(O,m),O},Ye=function(p){p.width=0,p.height=0,p.remove()},ct=function(p){return p.getContext("2d")},wt=function(p){var m={antialias:!0},O=p.getContext("webgl",m);return O===null&&(O=p.getContext("experimental-webgl",m)),function(E){return E instanceof WebGLRenderingContext}(O)?O:null},_t=function(p){p.canvas.removeEventListener("webglcontextlost",Q);var m=p.getExtension("WEBGL_lose_context");m==null||m.loseContext()};function It(p){return function(m){if(Array.isArray(m))return ir(m)}(p)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(p)||Kt(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xt(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=Kt(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Kt(p,m){if(p){if(typeof p=="string")return ir(p,m);var O=Object.prototype.toString.call(p).slice(8,-1);return O==="Object"&&p.constructor&&(O=p.constructor.name),O==="Map"||O==="Set"?Array.from(p):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?ir(p,m):void 0}}function ir(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var Ot=Qn*st();function Mt(p){return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Mt(p)}function cr(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function Nt(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?cr(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],R=function(G){var z=function(Y,$){if(Mt(Y)!="object"||!Y)return Y;var Z=Y[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Y,"string");if(Mt(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(G);return Mt(z)=="symbol"?z:String(z)}(R),R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):cr(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}var gr=function(){for(var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,O={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},E=0;E<p.length;E++)O.minX>p[E].x&&(O.minX=p[E].x),O.minY>p[E].y&&(O.minY=p[E].y),O.maxX<p[E].x&&(O.maxX=p[E].x),O.maxY<p[E].y&&(O.maxY=p[E].y);var M=(O.minX+O.maxX)/2,R=(O.minY+O.maxY)/2,F=2*m,G=st()*F;return{centerX:M,centerY:R,nodesWidth:O.maxX-O.minX+F+G,nodesHeight:O.maxY-O.minY+F+G}},pr=function(p,m,O,E){var M=1/0,R=1/0;return p>1&&(M=O/p),m>1&&(R=E/m),{zoomX:M,zoomY:R}},Zr=function(p,m){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,M=Math.min(p,m);return Math.min(E,Math.max(O,M))},rr=function(p,m,O){var E=gr(p,arguments.length>3&&arguments[3]!==void 0?arguments[3]:50),M=E.nodesWidth,R=E.nodesHeight,F=m*st(),G=O*st(),z=pr(M,R,F,G),Y=z.zoomX,$=z.zoomY;return Zr(Y,$)},lr=function(p,m,O,E){return Math.max(Math.min(m,O),Math.min(p,E))},Si=function(p,m,O,E,M,R){var F=m;return function(G,z,Y){return G<z&&G<Y}(M,R,m)&&p.length>1?(F=function(G,z,Y){var $=function(ue){var ve=new Array(4).fill(ue[0]);return ue.forEach(function(Te){ve[0]=Te.x<ve[0].x?ve[0]:Nt({},Te),ve[1]=Te.y<ve[1].y?ve[1]:Nt({},Te),ve[2]=Te.x<ve[2].x?Nt({},Te):ve[2],ve[3]=Te.y<ve[3].y?Nt({},Te):ve[3]}),ve}(G),Z=function(){for(var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ve=0,Te=0,Ie=0;Ie<ue.length;Ie++)for(var Fe=Ie+1;Fe<ue.length;Fe++)ve=Math.hypot(Math.abs(ue[Ie].x-ue[Fe].x),Math.abs(ue[Ie].y-ue[Fe].y)),Te=Math.max(Te,ve);return Te}($),ie=2*Y,se=st()*ie,he=z.height<=z.width?z.height-ie-se:z.width-ie-se;return Z>he?.9*he/Z:.9*Z/he}(p,E,25),lr(M,R,Math.min(m,F),O)):lr(M,R,m,O)};function Xn(p){return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Xn(p)}function Ro(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Ln(E.key),E)}}function Ln(p){var m=function(O,E){if(Xn(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Xn(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Xn(m)=="symbol"?m:String(m)}var _o=function(){function p(){var E,M,R;(function(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")})(this,p),E=this,R=void 0,(M=Ln(M="callbacks"))in E?Object.defineProperty(E,M,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[M]=R,this.callbacks={}}var m,O;return m=p,O=[{key:"register",value:function(E,M){this.isCallbackRegistered(E)||(this.callbacks[E]=[]),this.callbacks[E].push(M)}},{key:"isCallbackRegistered",value:function(E){return this.callbacks[E]!==void 0}},{key:"callIfRegistered",value:function(){var E,M=arguments,R=Array.prototype.slice.call(arguments)[0];E=R,i.includes(E)&&this.isCallbackRegistered(R)&&this.callbacks[R].slice(0).forEach(function(F){return F.apply(null,Array.prototype.slice.call(M,1))})}}],O&&Ro(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}(),Ls=Di(481),Ns=Di.n(Ls);function ys(p){return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},ys(p)}function ms(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Iv(E.key),E)}}function js(p,m,O){return(m=Iv(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function Iv(p){var m=function(O,E){if(ys(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(ys(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return ys(m)=="symbol"?m:String(m)}var oh=5e-5,Rv=function(){function p(E){var M,R=this,F=E.state,G=E.getNodePositions,z=E.canvas;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),js(this,"xCtrl",void 0),js(this,"yCtrl",void 0),js(this,"zoomCtrl",void 0),js(this,"getNodePositions",void 0),js(this,"firstUpdate",void 0),js(this,"state",void 0),js(this,"canvas",void 0),js(this,"stateDisposers",void 0),this.state=F,this.getNodePositions=G,this.canvas=z,this.xCtrl=new(Ns())(.35,oh,.05,1),this.yCtrl=new(Ns())(.35,oh,.05,1),this.zoomCtrl=new(Ns())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(F.autorun(function(){F.fitNodeIds===null&&(R.xCtrl.reset(),R.yCtrl.reset(),R.zoomCtrl.reset())})),this.stateDisposers.push(F.autorun(function(){M!==F.fitNodeIds&&(M=F.fitNodeIds,R.firstUpdate=!0)})),this.stateDisposers.push(F.autorun(function(){F.resetZoom&&(R.firstUpdate=!0)}))}var m,O;return m=p,O=[{key:"needsToRun",value:function(){var E=this.state,M=E.fitNodeIds,R=E.resetZoom;return M.length>0||R}},{key:"update",value:function(E,M){var R=this.state,F=R.fitNodeIds,G=R.resetZoom;F.length>0?this.fitNodes(F,E,M):G&&this.reset(E,M)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(E){return E()})}},{key:"recalculateTarget",value:function(E,M,R,F){for(var G=this.xCtrl,z=this.yCtrl,Y=this.zoomCtrl,$=this.state,Z=[],ie=0;ie<E.length;ie++)Z.push({id:E[ie]});var se=$.zoom,he=$.panX,ue=$.panY,ve=$.maxNodeRadius,Te=$.nodes,Ie=$.defaultZoomLevel,Fe=this.getNodePositions(Z);Te.updatePositions(Fe);var De=gr(Fe,ve),Xe=De.centerX,Ge=De.centerY,Qe=De.nodesWidth,Ke=De.nodesHeight;if(isNaN(Xe)||isNaN(Ge))return Nr.info("fit() function couldn't calculate center point, not updating viewport"),!1;var We=M.noPan,at=M.outOnly,mt=M.minZoom,Rt=M.maxZoom;G.setTarget(We?he:Xe),z.setTarget(We?ue:Ge);var bt=pr(Qe,Ke,R,F),Lt=bt.zoomX,St=bt.zoomY;if(Lt===1/0&&St===1/0)Y.setTarget(Ie);else{var we=Zr(Lt,St,mt,Rt);at&&se<we?Y.setTarget(se):Y.setTarget(we)}return!0}},{key:"allNodesAreVisible",value:function(E,M,R){var F=pr(M,R,this.canvas.width,this.canvas.height),G=F.zoomX,z=F.zoomY;return E<G&&E<z}},{key:"reset",value:function(E,M){var R=this.xCtrl,F=this.yCtrl,G=this.zoomCtrl,z=this.state,Y=this.firstUpdate,$=this.canvas,Z=z.zoom,ie=z.panX,se=z.panY,he=z.nodes,ue=z.maxNodeRadius,ve=z.defaultZoomLevel;if(Y||E){G.setTarget(ve);var Te=gr(Object.values(he.idToPosition),ue),Ie=Te.centerX,Fe=Te.centerY,De=Te.nodesWidth,Xe=Te.nodesHeight;this.allNodesAreVisible(Z,De,Xe)?(R.setTarget(Ie),F.setTarget(Fe)):(R.setTarget(ie),F.setTarget(se)),this.firstUpdate=!1}var Ge=Z+G.update(Z),Qe=ie+R.update(ie),Ke=se+F.update(se);z.updateZoomToFit(Ge,Qe,Ke,$),Math.abs(G.target-Ge)<.01&&(z.updateZoomToFit(ve,Qe,Ke,$),z.clearReset(),M!==void 0&&M())}},{key:"fitNodes",value:function(E,M,R){var F=this.state,G=this.firstUpdate,z=this.canvas,Y=this.xCtrl,$=this.yCtrl,Z=this.zoomCtrl,ie=F.zoomOptions,se=ie===void 0?{}:ie,he=F.zoom,ue=F.panX,ve=F.panY,Te=!0;if(G||M){var Ie=z.width,Fe=z.height;Te=this.recalculateTarget(E,se,Ie,Fe),this.firstUpdate=!1}if(Te){if(!se.animated)return F.setZoomPan(Z.target,Y.target,$.target,z),void F.clearFit();var De=ue+Y.update(ue),Xe=ve+$.update(ve),Ge=he+Z.update(he);F.updateZoomToFit(Ge,De,Xe,z);var Qe=Math.max(5,10/Z.target),Ke=Math.min(.01,.01*Z.target);!M&&Math.abs(Z.target-Ge)<Ke&&Math.abs(Y.target-De)<Qe&&Math.abs($.target-Xe)<Qe&&(F.setZoom(Z.target,z),F.clearFit(),R!==void 0&&R())}}}],O&&ms(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Fs(p){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Fs(p)}function Kc(){Kc=function(){return m};var p,m={},O=Object.prototype,E=O.hasOwnProperty,M=Object.defineProperty||function(we,_e,Ee){we[_e]=Ee.value},R=typeof Symbol=="function"?Symbol:{},F=R.iterator||"@@iterator",G=R.asyncIterator||"@@asyncIterator",z=R.toStringTag||"@@toStringTag";function Y(we,_e,Ee){return Object.defineProperty(we,_e,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),we[_e]}try{Y({},"")}catch{Y=function(_e,Ee,lt){return _e[Ee]=lt}}function $(we,_e,Ee,lt){var Je=_e&&_e.prototype instanceof Te?_e:Te,vt=Object.create(Je.prototype),kt=new Lt(lt||[]);return M(vt,"_invoke",{value:at(we,Ee,kt)}),vt}function Z(we,_e,Ee){try{return{type:"normal",arg:we.call(_e,Ee)}}catch(lt){return{type:"throw",arg:lt}}}m.wrap=$;var ie="suspendedStart",se="suspendedYield",he="executing",ue="completed",ve={};function Te(){}function Ie(){}function Fe(){}var De={};Y(De,F,function(){return this});var Xe=Object.getPrototypeOf,Ge=Xe&&Xe(Xe(St([])));Ge&&Ge!==O&&E.call(Ge,F)&&(De=Ge);var Qe=Fe.prototype=Te.prototype=Object.create(De);function Ke(we){["next","throw","return"].forEach(function(_e){Y(we,_e,function(Ee){return this._invoke(_e,Ee)})})}function We(we,_e){function Ee(Je,vt,kt,Ut){var zt=Z(we[Je],we,vt);if(zt.type!=="throw"){var mr=zt.arg,Or=mr.value;return Or&&Fs(Or)=="object"&&E.call(Or,"__await")?_e.resolve(Or.__await).then(function(Fr){Ee("next",Fr,kt,Ut)},function(Fr){Ee("throw",Fr,kt,Ut)}):_e.resolve(Or).then(function(Fr){mr.value=Fr,kt(mr)},function(Fr){return Ee("throw",Fr,kt,Ut)})}Ut(zt.arg)}var lt;M(this,"_invoke",{value:function(Je,vt){function kt(){return new _e(function(Ut,zt){Ee(Je,vt,Ut,zt)})}return lt=lt?lt.then(kt,kt):kt()}})}function at(we,_e,Ee){var lt=ie;return function(Je,vt){if(lt===he)throw new Error("Generator is already running");if(lt===ue){if(Je==="throw")throw vt;return{value:p,done:!0}}for(Ee.method=Je,Ee.arg=vt;;){var kt=Ee.delegate;if(kt){var Ut=mt(kt,Ee);if(Ut){if(Ut===ve)continue;return Ut}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(lt===ie)throw lt=ue,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);lt=he;var zt=Z(we,_e,Ee);if(zt.type==="normal"){if(lt=Ee.done?ue:se,zt.arg===ve)continue;return{value:zt.arg,done:Ee.done}}zt.type==="throw"&&(lt=ue,Ee.method="throw",Ee.arg=zt.arg)}}}function mt(we,_e){var Ee=_e.method,lt=we.iterator[Ee];if(lt===p)return _e.delegate=null,Ee==="throw"&&we.iterator.return&&(_e.method="return",_e.arg=p,mt(we,_e),_e.method==="throw")||Ee!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),ve;var Je=Z(lt,we.iterator,_e.arg);if(Je.type==="throw")return _e.method="throw",_e.arg=Je.arg,_e.delegate=null,ve;var vt=Je.arg;return vt?vt.done?(_e[we.resultName]=vt.value,_e.next=we.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=p),_e.delegate=null,ve):vt:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,ve)}function Rt(we){var _e={tryLoc:we[0]};1 in we&&(_e.catchLoc=we[1]),2 in we&&(_e.finallyLoc=we[2],_e.afterLoc=we[3]),this.tryEntries.push(_e)}function bt(we){var _e=we.completion||{};_e.type="normal",delete _e.arg,we.completion=_e}function Lt(we){this.tryEntries=[{tryLoc:"root"}],we.forEach(Rt,this),this.reset(!0)}function St(we){if(we||we===""){var _e=we[F];if(_e)return _e.call(we);if(typeof we.next=="function")return we;if(!isNaN(we.length)){var Ee=-1,lt=function Je(){for(;++Ee<we.length;)if(E.call(we,Ee))return Je.value=we[Ee],Je.done=!1,Je;return Je.value=p,Je.done=!0,Je};return lt.next=lt}}throw new TypeError(Fs(we)+" is not iterable")}return Ie.prototype=Fe,M(Qe,"constructor",{value:Fe,configurable:!0}),M(Fe,"constructor",{value:Ie,configurable:!0}),Ie.displayName=Y(Fe,z,"GeneratorFunction"),m.isGeneratorFunction=function(we){var _e=typeof we=="function"&&we.constructor;return!!_e&&(_e===Ie||(_e.displayName||_e.name)==="GeneratorFunction")},m.mark=function(we){return Object.setPrototypeOf?Object.setPrototypeOf(we,Fe):(we.__proto__=Fe,Y(we,z,"GeneratorFunction")),we.prototype=Object.create(Qe),we},m.awrap=function(we){return{__await:we}},Ke(We.prototype),Y(We.prototype,G,function(){return this}),m.AsyncIterator=We,m.async=function(we,_e,Ee,lt,Je){Je===void 0&&(Je=Promise);var vt=new We($(we,_e,Ee,lt),Je);return m.isGeneratorFunction(_e)?vt:vt.next().then(function(kt){return kt.done?kt.value:vt.next()})},Ke(Qe),Y(Qe,z,"Generator"),Y(Qe,F,function(){return this}),Y(Qe,"toString",function(){return"[object Generator]"}),m.keys=function(we){var _e=Object(we),Ee=[];for(var lt in _e)Ee.push(lt);return Ee.reverse(),function Je(){for(;Ee.length;){var vt=Ee.pop();if(vt in _e)return Je.value=vt,Je.done=!1,Je}return Je.done=!0,Je}},m.values=St,Lt.prototype={constructor:Lt,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(bt),!we)for(var _e in this)_e.charAt(0)==="t"&&E.call(this,_e)&&!isNaN(+_e.slice(1))&&(this[_e]=p)},stop:function(){this.done=!0;var we=this.tryEntries[0].completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var _e=this;function Ee(zt,mr){return vt.type="throw",vt.arg=we,_e.next=zt,mr&&(_e.method="next",_e.arg=p),!!mr}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var Je=this.tryEntries[lt],vt=Je.completion;if(Je.tryLoc==="root")return Ee("end");if(Je.tryLoc<=this.prev){var kt=E.call(Je,"catchLoc"),Ut=E.call(Je,"finallyLoc");if(kt&&Ut){if(this.prev<Je.catchLoc)return Ee(Je.catchLoc,!0);if(this.prev<Je.finallyLoc)return Ee(Je.finallyLoc)}else if(kt){if(this.prev<Je.catchLoc)return Ee(Je.catchLoc,!0)}else{if(!Ut)throw new Error("try statement without catch or finally");if(this.prev<Je.finallyLoc)return Ee(Je.finallyLoc)}}}},abrupt:function(we,_e){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var lt=this.tryEntries[Ee];if(lt.tryLoc<=this.prev&&E.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var Je=lt;break}}Je&&(we==="break"||we==="continue")&&Je.tryLoc<=_e&&_e<=Je.finallyLoc&&(Je=null);var vt=Je?Je.completion:{};return vt.type=we,vt.arg=_e,Je?(this.method="next",this.next=Je.finallyLoc,ve):this.complete(vt)},complete:function(we,_e){if(we.type==="throw")throw we.arg;return we.type==="break"||we.type==="continue"?this.next=we.arg:we.type==="return"?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):we.type==="normal"&&_e&&(this.next=_e),ve},finish:function(we){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Ee=this.tryEntries[_e];if(Ee.finallyLoc===we)return this.complete(Ee.completion,Ee.afterLoc),bt(Ee),ve}},catch:function(we){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Ee=this.tryEntries[_e];if(Ee.tryLoc===we){var lt=Ee.completion;if(lt.type==="throw"){var Je=lt.arg;bt(Ee)}return Je}}throw new Error("illegal catch attempt")},delegateYield:function(we,_e,Ee){return this.delegate={iterator:St(we),resultName:_e,nextLoc:Ee},this.method==="next"&&(this.arg=p),ve}},m}function kv(p,m,O,E,M,R,F){try{var G=p[R](F),z=G.value}catch(Y){return void O(Y)}G.done?m(z):Promise.resolve(z).then(E,M)}function ah(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function sh(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function wa(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?sh(Object(O),!0).forEach(function(E){Cr(p,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):sh(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Ib(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,mm(E.key),E)}}function Cr(p,m,O){return(m=mm(m))in p?Object.defineProperty(p,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):p[m]=O,p}function mm(p){var m=function(O,E){if(Fs(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Fs(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Fs(m)=="symbol"?m:String(m)}var Xp="NvlController",ry={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},yd="onError",bm="onLayoutDone",_m="onLayoutStep",Kp={},Mv=function(){var p;return(p=Kp[arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default"])!==null&&p!==void 0?p:Object.values(Kp).pop()},Rb=function(){function p(R,F){var G,z,Y,$=this;(function(_e,Ee){if(!(_e instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,p),Cr(this,"destroyed",void 0),Cr(this,"state",void 0),Cr(this,"callbacks",void 0),Cr(this,"instanceId",void 0),Cr(this,"glController",void 0),Cr(this,"webGLContext",void 0),Cr(this,"webGLMinimapContext",void 0),Cr(this,"htmlOverlay",void 0),Cr(this,"hasResized",void 0),Cr(this,"hierarchicalLayout",void 0),Cr(this,"gridLayout",void 0),Cr(this,"freeLayout",void 0),Cr(this,"d3ForceLayout",void 0),Cr(this,"forceLayout",void 0),Cr(this,"canvasRenderer",void 0),Cr(this,"glCanvas",void 0),Cr(this,"canvasRect",void 0),Cr(this,"glMinimapCanvas",void 0),Cr(this,"c2dCanvas",void 0),Cr(this,"isInRenderSwitchAnimation",void 0),Cr(this,"justSwitchedRenderer",void 0),Cr(this,"justSwitchedLayout",void 0),Cr(this,"layoutUpdating",void 0),Cr(this,"layoutComputing",void 0),Cr(this,"isRenderingDisabled",void 0),Cr(this,"setRenderSwitchAnimation",void 0),Cr(this,"stateDisposers",void 0),Cr(this,"zoomTransitionHandler",void 0),Cr(this,"currentLayout",void 0),Cr(this,"layoutTimeLimit",void 0),Cr(this,"pixelRatio",void 0),Cr(this,"removeResizeListener",void 0),Cr(this,"removeMinimapResizeListener",void 0),Cr(this,"pendingZoomOperation",void 0),Cr(this,"layoutRunner",void 0),Cr(this,"animationRequestId",void 0),Cr(this,"layoutDoneCallback",void 0),Cr(this,"layoutComputingCallback",void 0),Cr(this,"currentLayoutType",void 0),Cr(this,"descriptionElement",void 0),this.destroyed=!1;var Z=F.frame,ie=F.minimapContainer,se=ie===void 0?document.createElement("span"):ie,he=F.layoutOptions,ue=F.layout,ve=F.instanceId,Te=ve===void 0?"default":ve,Ie=F.disableAria,Fe=Ie!==void 0&&Ie,De=R.nodes,Xe=R.rels,Ge=R.webGLVisible,Qe=R.disableWebGL;this.state=R,this.callbacks=new _o,this.instanceId=Te;var Ke=Z;Ke.setAttribute("instanceId",Te),Ke.setAttribute("data-testid","nvl-parent"),(G=Ke.style.height)!==null&&G!==void 0&&G.length||Object.assign(Ke.style,{height:"100%"}),(z=Ke.style.outline)!==null&&z!==void 0&&z.length||Object.assign(Ke.style,{outline:"none"}),this.descriptionElement=Fe?document.createElement("div"):function(_e,Ee){var lt;_e.setAttribute("role","img"),_e.setAttribute("aria-label","Graph visualization");var Je="nvl-".concat(Ee,"-description"),vt=(lt=document.getElementById(Je))!==null&&lt!==void 0?lt:document.createElement("div");return vt.innerHTML="",vt.id="nvl-".concat(Ee,"-description"),vt.setAttribute("role","status"),vt.setAttribute("aria-live","polite"),vt.setAttribute("aria-atomic","false"),vt.style.display="none",_e.appendChild(vt),_e.setAttribute("aria-describedby",vt.id),vt}(Ke,Te);var We=qe(Ke,this.onWebGLContextLost.bind(this)),at=qe(se,this.onWebGLContextLost.bind(this));if(We.setAttribute("data-testid","nvl-gl-canvas"),Qe)this.glController=new Tv;else{var mt=wt(We),Rt=wt(at);this.glController=new gd({mainSceneRenderer:new L(mt,De,Xe,this.state),minimapRenderer:new L(Rt,De,Xe,this.state),state:R}),this.webGLContext=mt,this.webGLMinimapContext=Rt}var bt=qe(Ke,this.onWebGLContextLost.bind(this));bt.setAttribute("data-testid","nvl-c2d-canvas");var Lt=bt.getContext("2d"),St=document.createElement("div");Object.assign(St.style,wa(wa({},pt),{},{overflow:"hidden"})),Ke.appendChild(St),this.htmlOverlay=St,this.hasResized=!0,this.hierarchicalLayout=new Jg(wa(wa({},he),{},{state:this.state})),this.gridLayout=new jc({state:this.state}),this.freeLayout=new Ml({state:this.state}),this.d3ForceLayout=new Kd({state:this.state}),this.forceLayout=Qe?this.d3ForceLayout:new Ip(wa(wa({},he),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(ue),this.state.setLayoutOptions(he);var we=new Ov(bt,Lt,R,F);this.canvasRenderer=we,this.glCanvas=We,this.canvasRect=We.getBoundingClientRect(),this.glMinimapCanvas=at,this.c2dCanvas=bt,this.glCanvas.style.opacity=Ge?"1":"0",this.c2dCanvas.style.opacity=Ge?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,De.addChannel(Xp),Xe.addChannel(Xp),this.setRenderSwitchAnimation=function(){$.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(R.autorun(function(){$.callIfRegistered("zoom",R.zoom)})),this.stateDisposers.push(R.autorun(function(){$.callIfRegistered("pan",{panX:R.panX,panY:R.panY})})),this.stateDisposers.push(R.autorun(function(){$.setLayout(R.layout)})),this.stateDisposers.push(R.autorun(function(){$.setLayoutOptions(R.layoutOptions)})),Fe||this.stateDisposers.push(R.autorun(function(){(function(_e,Ee){var lt=_e.nodes,Je=_e.rels,vt=_e.layout,kt=lt.items.length,Ut=Je.items.length;if(kt!==0||Ut!==0){var zt="".concat(kt," node").concat(kt!==1?"s":""),mr="".concat(Ut," relationship").concat(Ut!==1?"s":""),Or="displayed using a ".concat(vt??"forceDirected"," layout");Ee.innerHTML="A graph visualization with ".concat(zt," and ").concat(mr,", ").concat(Or,".")}else Ee.innerHTML="An empty graph visualization."})(R,$.descriptionElement)})),this.stateDisposers.push(R.autorun(function(){var _e=R.webGLVisible?"1":"0";_e!==$.glCanvas.style.opacity&&($.justSwitchedRenderer=!0,$.glCanvas.style.opacity=_e,$.c2dCanvas.style.opacity=R.webGLVisible?"0":"1")})),this.startMainLoop(),this.zoomTransitionHandler=new Rv({state:R,getNodePositions:function(_e){return $.currentLayout.getNodePositions(_e)},canvas:We}),this.layoutTimeLimit=(Y=F.layoutTimeLimit)!==null&&Y!==void 0?Y:16,this.pixelRatio=st(),this.removeResizeListener=vn()(Ke,function(){ae(We),ae(bt),$.canvasRect=We.getBoundingClientRect(),$.hasResized=!0}),this.removeMinimapResizeListener=vn()(se,function(){ae(at)}),Kp[Te]=this,window.__Nvl_dumpNodes=function(_e){var Ee;return(Ee=Mv(_e))===null||Ee===void 0?void 0:Ee.dumpNodes()},window.__Nvl_dumpRelationships=function(_e){var Ee;return(Ee=Mv(_e))===null||Ee===void 0?void 0:Ee.dumpRelationships()},window.__Nvl_registerDoneCallback=function(_e,Ee){var lt;return(lt=Mv(Ee))===null||lt===void 0?void 0:lt.on(bm,_e)},window.__Nvl_getNodesOnScreen=function(_e){var Ee;return(Ee=Mv(_e))===null||Ee===void 0?void 0:Ee.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(_e){var Ee;return(Ee=Mv(_e))===null||Ee===void 0?void 0:Ee.getScale()},this.pendingZoomOperation=null}var m,O,E,M;return m=p,O=[{key:"onWebGLContextLost",value:function(R){this.callIfRegistered("onWebGLContextLost",R)}},{key:"updateMinimapZoom",value:function(){var R=this.state,F=R.nodes,G=R.maxNodeRadius,z=R.maxMinimapZoom,Y=R.minMinimapZoom,$=gr(Object.values(F.idToPosition),G),Z=$.centerX,ie=$.centerY,se=$.nodesWidth,he=$.nodesHeight,ue=pr(se,he,this.glMinimapCanvas.width,this.glMinimapCanvas.height),ve=ue.zoomX,Te=ue.zoomY,Ie=Zr(ve,Te,Y,z);this.state.updateMinimapZoomToFit(Ie,Z,ie)}},{key:"startMainLoop",value:function(){var R=this,F=this.state,G=F.nodes,z=F.rels;this.currentLayout.update();var Y=this.currentLayout.getNodePositions(G.items);G.updatePositions(Y),this.isRenderingDisabled||(this.glController.renderMainScene(Y),this.glController.renderMinimap(Y),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(Y)),this.layoutRunner=setInterval(function(){try{(function(){var $=R.currentLayout.getShouldUpdate(),Z=$||R.justSwitchedLayout,ie=Z&&!R.layoutUpdating&&!R.justSwitchedLayout;if(Z)for(var se=window.performance.now(),he=ie?0:50,ue=0;ue<he;ue++){R.currentLayout.update(R.justSwitchedLayout),R.justSwitchedLayout=!1;var ve=window.performance.now();if(!$||ve-se>R.layoutTimeLimit)break}})()}catch($){if(!R.callbacks.isCallbackRegistered(yd))throw $;R.callIfRegistered(yd,$)}},13),this.animationRequestId=window.requestAnimationFrame(function $(){try{(function(Z){if(R.destroyed)Nr.info("STEP IN A DESTROYED STRIP");else{var ie=st();if(ie!==R.pixelRatio)return R.pixelRatio=ie,void R.callIfRegistered("restart");var se=R.currentLayout.getShouldUpdate(),he=se||R.justSwitchedLayout,ue=R.currentLayout.getComputing(),ve=R.zoomTransitionHandler.needsToRun(),Te=he&&!R.layoutUpdating&&!R.justSwitchedLayout,Ie=R.layoutComputing&&!ue,Fe=R.state.webGLVisible&&R.glController.needsToRun(),De=!R.state.webGLVisible&&R.canvasRenderer.needsToRun(),Xe=R.isInRenderSwitchAnimation||R.justSwitchedRenderer,Ge=R.hasResized,Qe=R.pendingZoomOperation!==null,Ke=R.glController.minimapMouseDown;if(G.clearChannel(Xp),z.clearChannel(Xp),ve||he||Ie||Xe||Fe||De||Ke||Ge||Qe){!Qe||Te||R.currentLayout.getComputing()||(R.pendingZoomOperation(),R.pendingZoomOperation=null);var We=se||ue||Ie;R.zoomTransitionHandler.update(We,function(){return R.callIfRegistered("onZoomTransitionDone")}),Ge&&R.glController.onResize();var at=R.currentLayout.getNodePositions(G.items);if(G.updatePositions(at),R.callbacks.isCallbackRegistered(_m)&&R.callIfRegistered(_m,R.dumpNodes()),R.updateMinimapZoom(),R.glController.renderMinimap(at),!R.isRenderingDisabled){if((R.state.webGLVisible||Xe)&&R.glController.renderMainScene(at),!R.state.webGLVisible||Xe){R.canvasRenderer.processUpdates(),R.canvasRenderer.render(at);for(var mt=0;mt<z.items.length;mt++){var Rt=z.items[mt].id,bt=R.canvasRenderer.arrowBundler.getBundle(z.items[mt]),Lt=z.idToHtmlOverlay[Rt],St=bt.labelInfo[Rt];if(Lt&&St){var we=St.rotation,_e=St.position,Ee=St.width,lt=St.height,Je=R.mapCanvasSpaceToRelativePosition(_e.x,_e.y),vt=Je.x,kt=Je.y,Ut=Ee>5&&!R.state.webGLVisible;Object.assign(Lt.style,{top:"".concat(kt,"px"),left:"".concat(vt,"px"),width:"".concat(Ee,"px"),height:"".concat(lt,"px"),display:Ut?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(R.state.zoom),") rotate(").concat(we,"rad")})}}}for(var zt=0;zt<G.items.length;zt++){var mr=G.items[zt],Or=mr.id,Fr=mr.size,En=G.idToHtmlOverlay[Or];if(En){var jn=R.state.nodes.idToPosition[Or],pn=R.mapCanvasSpaceToRelativePosition(jn.x,jn.y),Wr=pn.x,Br=pn.y,on="".concat(2*(Fr??Qn),"px");Object.assign(En.style,{top:"".concat(Br,"px"),left:"".concat(Wr,"px"),width:on,height:on,transform:"translate(-50%, -50%) scale(".concat(Number(R.state.zoom),")")})}}}}var gn=!he&&R.layoutUpdating,ri=ue!==R.layoutComputing;R.layoutComputing=ue,R.layoutUpdating=he,gn&&R.callIfRegistered(bm),ri&&R.callIfRegistered("onLayoutComputing",ue),R.justSwitchedRenderer=!1,R.hasResized=!1,Z!==void 0&&Z()}})(function(){R.animationRequestId=window.requestAnimationFrame($)})}catch(Z){if(!R.callbacks.isCallbackRegistered(yd))throw Z;R.callIfRegistered(yd,Z)}})}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var R,F=this.state.nodes.items,G=this.state.nodes.idToPosition,z=[],Y=function(se,he){var ue=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(!ue){if(Array.isArray(se)||(ue=function(Xe,Ge){if(Xe){if(typeof Xe=="string")return ah(Xe,Ge);var Qe=Object.prototype.toString.call(Xe).slice(8,-1);return Qe==="Object"&&Xe.constructor&&(Qe=Xe.constructor.name),Qe==="Map"||Qe==="Set"?Array.from(Xe):Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe)?ah(Xe,Ge):void 0}}(se))||he&&se&&typeof se.length=="number"){ue&&(se=ue);var ve=0,Te=function(){};return{s:Te,n:function(){return ve>=se.length?{done:!0}:{done:!1,value:se[ve++]}},e:function(Xe){throw Xe},f:Te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ie,Fe=!0,De=!1;return{s:function(){ue=ue.call(se)},n:function(){var Xe=ue.next();return Fe=Xe.done,Xe},e:function(Xe){De=!0,Ie=Xe},f:function(){try{Fe||ue.return==null||ue.return()}finally{if(De)throw Ie}}}}(F);try{for(Y.s();!(R=Y.n()).done;){var $=R.value,Z=G[$.id],ie=this.mapCanvasSpaceToRelativePosition(Z.x,Z.y);z.push(wa(wa({},$),{},{x:ie.x,y:ie.y}))}}catch(se){Y.e(se)}finally{Y.f()}return z}},{key:"dumpRelationships",value:function(){return gt(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(R,F){var G=this.canvasRect,z=window.devicePixelRatio||1,Y=(R-this.state.panX)*this.state.zoom/z,$=(F-this.state.panY)*this.state.zoom/z;return{x:Y+.5*G.width,y:$+.5*G.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(R,F){var G=this.glCanvas.getBoundingClientRect(),z=window.devicePixelRatio||1,Y=z*(R-.5*G.width),$=z*(F-.5*G.height);return{x:this.state.panX+Y/this.state.zoom,y:this.state.panY+$/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(gt(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(R){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.state.nodes.updatePositions(R),this.currentLayout.updateNodes(R),F||this.currentLayout.terminateUpdate(),this.hasResized=!0,this.getNodesOnScreen().nodes.length===0&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var R=this.glCanvas.getBoundingClientRect(),F=this.mapRelativePositionToCanvasSpace(0,0),G=F.x,z=F.y,Y=this.mapRelativePositionToCanvasSpace(R.width,R.height);return function($,Z,ie,se,he){var ue=arguments.length>5&&arguments[5]!==void 0?arguments[5]:["node"],ve=he.nodes,Te=he.rels,Ie=Math.min($,ie),Fe=Math.max($,ie),De=Math.min(Z,se),Xe=Math.max(Z,se),Ge=[],Qe=[];if(ue.includes("node"))for(var Ke=0,We=Object.values(ve.idToPosition);Ke<We.length;Ke++){var at=We[Ke],mt=at.x,Rt=at.y;mt!==void 0&&Rt!==void 0&&mt>Ie&&mt<Fe&&Rt>De&&Rt<Xe&&Ge.push(at)}if(ue.includes("relationship")){var bt,Lt=Xt(Te.items);try{for(Lt.s();!(bt=Lt.n()).done;){var St=bt.value,we=St.from,_e=St.to,Ee=ve.idToPosition[we],lt=ve.idToPosition[_e];if(Ee.x!==void 0&&Ee.y!==void 0&&lt.x!==void 0&&lt.y!==void 0){var Je=Ee.x>Ie&&Ee.x<Fe&&Ee.y>De&&Ee.y<Xe,vt=lt.x>Ie&&lt.x<Fe&&lt.y>De&&lt.y<Xe;Je&&vt&&Qe.push(St)}}}catch(kt){Lt.e(kt)}finally{Lt.f()}}return{nodes:Ge,rels:Qe}}(G,z,Y.x,Y.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(R){this.layoutDoneCallback=R}},{key:"registerComputingCallback",value:function(R){this.layoutComputingCallback=R}},{key:"getPosition",value:function(R){return this.currentLayout.getNodePositions([{id:R}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(R){var F=this;this.pendingZoomOperation=function(){return F.state.setZoom(R,F.glCanvas)}}},{key:"setPanCoordinates",value:function(R,F){this.state.setPan(R,F)}},{key:"setZoomAndPan",value:function(R,F,G){var z=this;this.pendingZoomOperation=function(){return z.state.setZoomPan(R,F,G,z.glCanvas)}}},{key:"fit",value:function(R,F){var G=this;this.pendingZoomOperation=function(){return G.state.fitNodes(R,F)}}},{key:"resetZoom",value:function(){var R=this;this.pendingZoomOperation=function(){return R.state.setZoomReset()}}},{key:"setRenderer",value:function(R){this.state.setRenderer(R)}},{key:"on",value:function(R,F){this.callbacks.register(R,F)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var R;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.layoutRunner!==void 0&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),this.webGLContext!==void 0&&_t(this.webGLContext),this.webGLMinimapContext!==void 0&&_t(this.webGLMinimapContext),Ye(this.glCanvas),Ye(this.glMinimapCanvas),this.canvasRenderer.destroy(),Ye(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(F){F()}),R=this.instanceId,delete Kp[R],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var R=arguments.length,F=new Array(R),G=0;G<R;G++)F[G]=arguments[G];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(R){return this.canvasRenderer.getRelsAt(R)}},{key:"getCanvasNodesAt",value:function(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.canvasRenderer.getNodesAt(R,F)}},{key:"getLayout",value:function(R){return R===Dl?this.hierarchicalLayout:R===Hh?this.forceLayout:R===qf?this.gridLayout:R===ev?this.freeLayout:R===ls?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(R){Nr.info("Switching to layout: ".concat(R));var F=this.currentLayoutType,G=this.getLayout(R);R==="free"&&G.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=G,this.currentLayoutType=R,F&&F!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(R){this.getLayout(this.state.layout).setOptions(R)}},{key:"createDownloadLink",value:function(R,F){var G=document.createElement("a");G.style.display="none",G.setAttribute("download",R);var z=F.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");return G.setAttribute("href",z),G}},{key:"saveToFile",value:function(R){var F=wa(wa({},ry),R),G=F.filename,z=F.backgroundColor,Y=this.state.nodes.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var $=this.currentLayout.getNodePositions(Y);this.state.nodes.updatePositions($);var Z=be(this.c2dCanvas.width,this.c2dCanvas.height),ie=ct(Z);this.canvasRenderer.processUpdates(),this.canvasRenderer.render($,{canvas:Z,context:ie,backgroundColor:z,ignoreAnimations:!0}),this.createDownloadLink(G,Z).click(),Ye(Z),Z=null,ie=null}},{key:"prepareLargeFileForDownload",value:function(R){var F=this,G=wa(wa({},ry),R),z=this.state.nodes.items,Y=G.filename,$=G.backgroundColor,Z=this.currentLayout.getNodePositions(z),ie=gr(Z,100),se=ie.nodesWidth,he=ie.nodesHeight,ue=ie.centerX,ve=ie.centerY,Te=Math.max(Math.min(se+100,15e3),5e3),Ie=Math.max(Math.min(he+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(Fe,De){try{F.setPanCoordinates(ue,ve);var Xe=Math.max(Te/se-.02,F.state.minZoom),Ge=Math.max(Ie/he-.02,F.state.minZoom);F.setZoomLevel(Math.min(Xe,Ge))}catch(Qe){return Nr.error("An error occurred while downloading the file"),void De(Qe)}setTimeout(function(){try{F.currentLayout.update(F.justSwitchedLayout),F.justSwitchedLayout=!1,F.state.nodes.updatePositions(Z);var Qe=be(Te,Ie),Ke=ct(Qe);F.canvasRenderer.processUpdates(),F.canvasRenderer.render(Z,{canvas:Qe,context:Ke,backgroundColor:$,ignoreAnimations:!0,showCaptions:!0}),F.createDownloadLink(Y,Qe).click(),Ye(Qe),Qe=null,Ke=null,Fe(!0)}catch(We){De(We)}},500)})}},{key:"saveFullGraphToLargeFile",value:(E=Kc().mark(function R(F){var G,z,Y,$;return Kc().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return G=wa(wa({},ry),F),z=this.state.zoom,Y=this.state.panX,$=this.state.panY,Z.prev=4,Z.next=7,this.prepareLargeFileForDownload(G);case 7:Z.next=17;break;case 9:if(Z.prev=9,Z.t0=Z.catch(4),Nr.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(yd)){Z.next=16;break}this.callIfRegistered(yd,Z.t0),Z.next=17;break;case 16:throw Z.t0;case 17:return Z.prev=17,this.isRenderingDisabled=!1,this.setZoomLevel(z),this.setPanCoordinates(Y,$),Z.finish(17);case 22:case"end":return Z.stop()}},R,this,[[4,9,17,22]])}),M=function(){var R=this,F=arguments;return new Promise(function(G,z){var Y=E.apply(R,F);function $(ie){kv(Y,G,z,$,Z,"next",ie)}function Z(ie){kv(Y,G,z,$,Z,"throw",ie)}$(void 0)})},function(R){return M.apply(this,arguments)})}],O&&Ib(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function Dv(p){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Dv(p)}function Zp(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function wm(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,kb(E.key),E)}}function Qp(p,m,O){return m&&wm(p.prototype,m),O&&wm(p,O),Object.defineProperty(p,"prototype",{writable:!1}),p}function kb(p){var m=function(O,E){if(Dv(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Dv(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Dv(m)=="symbol"?m:String(m)}var ny=function(){function p(m,O){if(Zp(this,p),!m)throw new Error("Tried to create a node with no data");this.data=m,this.parent=O,this.children=[]}return Qp(p,[{key:"addChild",value:function(m){this.children.push(m)}},{key:"isRoot",value:function(){return this.parent===null}},{key:"print",value:function(){var m=this.data.name;this.isRoot()||(m="".concat(m,"		").concat(function(M){for(var R=(Math.round(1e3*M)/1e3).toFixed(3);R.length<6;)R=" ".concat(R);return R}(this.data._timeSpent())," ms"),this.parent.isRoot()||(m="".concat(m,"	").concat(this._percentageOfParentSpent(),"%")));var O=this.noOfChildren()>0;for(var E in O&&(m="".concat(m,"	 Children: ").concat(this.noOfChildren()),console.groupCollapsed(m)),this.children)this.children[E].print();O&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}]),p}(),Em=function(){function p(m){Zp(this,p),this.name=m,this.startTime=performance.now(),this.endTime=null}return Qp(p,[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(this.startTime===null||this.endTime===null)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}]),p}(),Om=function(){function p(){Zp(this,p),this.root=new ny(new Em("Performance Tree"),null),this.current=this.root}return Qp(p,[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(m){if(this.current){var O=new ny(m,this.current);this.current.addChild(O),this.current=O}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new ny(m,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}]),p}(),xm=function(){function p(){Zp(this,p),window.performance?(this.disabled=!1,this.tree=new Om):(this.disabled=!0,this.tree=null)}return Qp(p,[{key:"startTest",value:function(m){if(!this.disabled){var O,E=m||(O=(O=new Error().stack.split(`
`)[3].trim()).split(" ")[0]==="at"?O.split(" ")[1]:O.split("@")[0]),M=new Em(E);this.tree.add(M)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}]),p}();function Jp(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=function(z,Y){if(z){if(typeof z=="string")return Sm(z,Y);var $=Object.prototype.toString.call(z).slice(8,-1);return $==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set"?Array.from(z):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Sm(z,Y):void 0}}(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Sm(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Mb(p){this.channels[p]={adds:{},updates:{},removes:{}}}function Db(p){delete this.channels[p]}function eg(p){this.channels[p].adds={},this.channels[p].updates={},this.channels[p].removes={}}var Tm=function(p){return"html"in p?p.html:"captionHtml"in p?p.captionHtml:void 0};function Lb(p,m){var O,E=!1,M=Jp(p);try{for(M.s();!(O=M.n()).done;){var R=O.value,F=R.id;if(this.idToItem[F]===void 0){if(R=(0,r.cloneDeep)(R),this.items.push(R),this.idToItem[F]=R,this.idToPosition[F]={id:F,x:0,y:0},"x"in R&&"y"in R){var G=R,z=G.x,Y=G.y;isNaN(z)||isNaN(Y)||(this.idToPosition[F].x=z,this.idToPosition[F].y=Y)}var $=Tm(R);if($ instanceof HTMLElement){var Z=document.createElement("div");Object.assign(Z.style,{position:"absolute"}),Z.appendChild($),this.idToHtmlOverlay[F]=Z}for(var ie=Object.values(this.channels),se=0,he=ie;se<he.length;se++){var ue=he[se];ue.removes[F]===void 0?ue.adds[F]=R:(delete ue.removes[F],ue.updates[F]=R)}E=!0}}}catch(ve){M.e(ve)}finally{M.f()}E&&(this.version+=1,m!==void 0&&(m.added=!0))}function Nb(p,m){var O,E=!1,M=Jp(p);try{for(M.s();!(O=M.n()).done;){var R=O.value,F=R.id,G=this.idToItem[F];if(G!==void 0){Object.assign(G,R);var z=Tm(R);if(z instanceof HTMLElement){var Y;(Y=this.idToHtmlOverlay[F])===null||Y===void 0||Y.remove(),delete this.idToHtmlOverlay[F];var $=document.createElement("div");Object.assign($.style,{position:"absolute"}),$.appendChild(z),this.idToHtmlOverlay[F]=$}for(var Z=Object.values(this.channels),ie=0,se=Z;ie<se.length;ie++){var he=se[ie];if(he.adds[F]===void 0){var ue=he.updates[F];ue===void 0&&(ue={id:F},he.updates[F]=ue),Object.assign(ue,R)}}m!==void 0&&(m.updated=!0)}E=!0}}catch(ve){M.e(ve)}finally{M.f()}E&&(this.version+=1)}function jb(p,m){var O,E=!1,M=Jp(p);try{for(M.s();!(O=M.n()).done;){var R=O.value,F=this.idToItem[R];if(F!==void 0){var G;E=!0,delete this.idToItem[F.id],delete this.idToPosition[F.id],(G=this.idToHtmlOverlay[F.id])===null||G===void 0||G.remove(),delete this.idToHtmlOverlay[F.id],this.items.splice(this.items.indexOf(F),1);for(var z=Object.values(this.channels),Y=0,$=z;Y<$.length;Y++){var Z=$[Y];Z.adds[R]!==void 0?delete Z.adds[R]:(delete Z.updates[R],Z.removes[R]=F)}}}}catch(ie){M.e(ie)}finally{M.f()}E&&(m!==void 0&&(m.removed=!0),this.version+=1)}function Fb(p){var m,O=Jp(p);try{for(O.s();!(m=O.n()).done;){var E=m.value;if(this.idToPosition[E.id]!==void 0){var M=this.idToPosition[E.id];Object.assign(M,E)}else this.idToPosition[E.id]={id:E.id,x:E.x,y:E.y,pinned:E.pinned}}}catch(R){O.e(R)}finally{O.f()}}function Bb(p){for(var m in this.idToHtmlOverlay){var O=this.idToHtmlOverlay[m];p.appendChild(O)}}var Cm=function(){return{idToItem:jr.shallow({}),items:jr.shallow([]),channels:jr.shallow({}),idToPosition:jr.shallow({}),idToHtmlOverlay:jr.shallow({}),version:0,addChannel:K(Mb),removeChannel:K(Db),clearChannel:K(eg),add:K(Lb),update:K(Nb),remove:K(jb),updatePositions:K(Fb),updateHtmlOverlay:K(Bb)}},Pm={selected:{rings:[{widthFactor:.05,color:wl},{widthFactor:.1,color:El}],shadow:{width:10,opacity:1,color:Pf}},default:{rings:[]}},Am={selected:{rings:[{color:wl,width:2},{color:El,width:4}],shadow:{width:18,opacity:1,color:Pf}},default:{rings:[]}},iy=.75,oy={noPan:!1,outOnly:!1,animated:!0};function Zc(p){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Zc(p)}function ay(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function sy(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function tg(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?sy(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],R=function(G){var z=function(Y,$){if(Zc(Y)!="object"||!Y)return Y;var Z=Y[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Y,"string");if(Zc(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(G);return Zc(z)=="symbol"?z:String(z)}(R),R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):sy(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}var rl=function(p,m,O){(0,r.isNil)(p)||(function(E){return typeof E=="string"&&Yl(E)!==null}(p)?m(p):qu().warn("Invalid color string for ".concat(O,":"),p))};function md(p){return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},md(p)}function uy(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function ly(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?uy(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],R=function(G){var z=function(Y,$){if(md(Y)!="object"||!Y)return Y;var Z=Y[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Y,"string");if(md(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(G);return md(z)=="symbol"?z:String(z)}(R),R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):uy(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}var Im=function(p){var m=p.minZoom,O=p.maxZoom,E=p.allowDynamicMinZoom,M=E===void 0||E,R=p.layout,F=p.layoutOptions,G=p.styling,z=G===void 0?{}:G,Y=p.panX,$=Y===void 0?0:Y,Z=p.panY,ie=Z===void 0?0:Z,se=p.initialZoom,he=p.renderer,ue=he===void 0?p.useWebGL===!0?ki:Fc:he,ve=p.disableWebGL,Te=ve!==void 0&&ve,Ie=p.disableWebWorkers,Fe=Ie!==void 0&&Ie,De=p.disableTelemetry,Xe=De!==void 0&&De;Oe(!0),yt.isolateGlobalState();var Ge=(0,r.isNil)(m)?.075:m,Qe=(0,r.isNil)(O)?10:O,Ke=function(we,_e){var Ee=_e.legacyNodeDefaultBorderColor,lt=_e.legacySelectedBorderColor,Je=_e.legacyDisabledItemColor,vt=_e.legacyDisabledItemFontColor,kt=we.nodeDefaultBorderColor,Ut=kt===void 0?Ee:kt,zt=we.selectedBorderColor,mr=zt===void 0?lt:zt,Or=we.disabledItemColor,Fr=Or===void 0?Je:Or,En=we.disabledItemFontColor,jn=En===void 0?vt:En,pn=we.selectedInnerBorderColor,Wr=we.dropShadowColor,Br=we.defaultNodeColor,on=we.defaultRelationshipColor,gn=we.minimapViewportBoxColor,ri=tg({},Pm.default),en=tg({},Pm.selected),Pn=tg({},Am.selected),ni={color:Pc,fontColor:"#DDDDDD"},ii=Cc,hi=_l;return rl(pn,function(tn){en.rings[0].color=tn,Pn.rings[0].color=tn},"selectedInnerBorderColor"),rl(mr,function(tn){en.rings[1].color=tn,Pn.rings[1].color=tn},"selectedBorderColor"),rl(Ut,function(tn){var mi;ri.rings=[{color:tn,widthFactor:.05}],en.rings=[{color:tn,widthFactor:.05}].concat(function(yn){if(Array.isArray(yn))return ay(yn)}(mi=en.rings)||function(yn){if(typeof Symbol<"u"&&yn[Symbol.iterator]!=null||yn["@@iterator"]!=null)return Array.from(yn)}(mi)||function(yn,Mo){if(yn){if(typeof yn=="string")return ay(yn,Mo);var ta=Object.prototype.toString.call(yn).slice(8,-1);return ta==="Object"&&yn.constructor&&(ta=yn.constructor.name),ta==="Map"||ta==="Set"?Array.from(yn):ta==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ta)?ay(yn,Mo):void 0}}(mi)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())},"nodeDefaultBorderColor"),rl(Wr,function(tn){en.shadow.color=tn,Pn.shadow.color=tn},"dropShadowColor"),rl(Fr,function(tn){ni.color=tn},"disabledItemColor"),rl(jn,function(tn){ni.fontColor=tn},"disabledItemFontColor"),rl(Br,function(tn){hi=tn},"defaultNodeColor"),rl(on,function(tn){ii=tn},"defaultRelationshipColor"),{nodeBorderStyles:{default:ri,selected:en},relationshipBorderStyles:{default:Am.default,selected:Pn},disabledItemStyles:ni,defaultNodeColor:hi,defaultRelationshipColor:ii,minimapViewportBoxColor:gn||tt}}(z,{legacyNodeDefaultBorderColor:p.nodeDefaultBorderColor,legacySelectedBorderColor:p.selectedBorderColor,legacyDisabledItemColor:p.disabledItemColor,legacyDisabledItemFontColor:p.disabledItemFontColor}),We=Ke.nodeBorderStyles,at=Ke.relationshipBorderStyles,mt=Ke.disabledItemStyles,Rt=Ke.defaultNodeColor,bt=Ke.defaultRelationshipColor,Lt=Ke.minimapViewportBoxColor,St=jr({zoom:se||iy,minimapZoom:iy,defaultZoomLevel:iy,panX:$,panY:ie,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:oy,forceWebGL:!1,renderer:ue,disableWebGL:Te,disableWebWorkers:Fe,disableTelemetry:Xe,fitMovement:0,layout:R,layoutOptions:F,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:We,relationshipBorderStyles:at,disabledItemStyles:mt,defaultNodeColor:Rt,defaultRelationshipColor:bt,minimapViewportBoxColor:Lt,get minZoom(){return Ge},get maxZoom(){return Qe},get minMinimapZoom(){return 0},get maxMinimapZoom(){return .2},get webGLVisible(){var we=this.fitMovement>50;return this.renderer===ki||we},nodes:Cm(),rels:Cm(),graphUpdates:0,waypoints:{data:jr.shallow({}),counter:0},setGraphUpdated:K(function(){this.graphUpdates+=1}),setRenderer:K(function(we){K(function(){this.graphUpdates+=1}),this.renderer=we}),setWaypoints:K(function(we){this.waypoints.data=we,this.waypoints.counter+=1}),setZoomPan:K(function(we,_e,Ee,lt){if(M){var Je=Object.values(this.nodes.idToPosition),vt=Si(Je,Ge,Qe,lt,we,this.zoom);vt!==this.zoom&&(this.zoom=vt,we===vt&&(this.panX=_e,this.panY=Ee))}else{var kt=lr(we,this.zoom,Ge,Qe);kt!==this.zoom&&(this.zoom=kt,this.panX=_e,this.panY=Ee)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:K(function(we,_e){if(M){var Ee=Object.values(this.nodes.idToPosition);this.zoom=Si(Ee,Ge,Qe,_e,we,this.zoom)}else this.zoom=lr(we,this.zoom,Ge,Qe);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:K(function(we,_e){this.panX=we,this.panY=_e,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:K(function(we){this.layout=we}),setLayoutOptions:K(function(we){this.layoutOptions=we}),fitNodes:K(function(we){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.fitNodeIds=(0,r.intersection)(we,(0,r.map)(this.nodes.items,"id")),this.zoomOptions=ly(ly({},oy),_e)}),setZoomReset:K(function(){this.resetZoom=!0}),clearFit:K(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=oy}),clearReset:K(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:K(function(we,_e,Ee,lt){var Je;if(this.fitMovement=Math.abs(we-this.zoom)+Math.abs(_e-this.panX)+Math.abs(Ee-this.panY),M){var vt=Object.values(this.nodes.idToPosition);Je=Si(vt,Ge,Qe,lt,we,this.zoom)}else Je=lr(we,this.zoom,Ge,Qe);this.zoom=Je,this.panX=_e,this.panY=Ee}),updateMinimapZoomToFit:K(function(we,_e,Ee){this.minimapZoom=we,this.minimapPanX=_e,this.minimapPanY=Ee}),autorun:Pt,reaction:dt});return St},Ub=function(p){return!!p&&typeof p.id=="string"&&p.id.length>0},rg=Di(1187);function Lv(p){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Lv(p)}function Nv(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function jv(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Nv(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],R=function(G){var z=function(Y,$){if(Lv(Y)!="object"||!Y)return Y;var Z=Y[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Y,"string");if(Lv(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(G);return Lv(z)=="symbol"?z:String(z)}(R),R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Nv(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Rm(p){return function(m){if(Array.isArray(m))return cy(m)}(p)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(p)||function(m,O){if(m){if(typeof m=="string")return cy(m,O);var E=Object.prototype.toString.call(m).slice(8,-1);return E==="Object"&&m.constructor&&(E=m.constructor.name),E==="Map"||E==="Set"?Array.from(m):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?cy(m,O):void 0}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cy(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}var Fv=function(p){return{id:p.elementId}},fy=function(p){return{id:p.elementId,from:p.startNodeElementId,to:p.endNodeElementId}},zb=rg.resultTransformers.mappedResultTransformer({map:function(p){return Object.values(p.toObject())},collect:function(p){var m={nodes:[],relationships:[]},O=new Map;return function(E){for(var M=Rm(E),R=[];M.length;){var F=M.pop();Array.isArray(F)?M.push.apply(M,Rm(F)):R.push(F)}return R}(p).forEach(function(E){(0,rg.isNode)(E)?(m.nodes.push(Fv(E)),O.set(E.elementId,E)):(0,rg.isPath)(E)?E.segments.forEach(function(M){m.nodes.push(Fv(M.start)),m.nodes.push(Fv(M.end)),m.relationships.push(fy(M.relationship)),O.set(M.start.elementId,M.start),O.set(M.end.elementId,M.end),O.set(M.relationship.elementId,M.relationship)}):(0,rg.isRelationship)(E)&&(m.relationships.push(fy(E)),O.set(E.elementId,E))}),jv(jv({},m),{},{recordObjectMap:O})}});const qb=(p=>{var m={};return Di.d(m,p),m})({AnalyticsBrowser:()=>IV});var hy,Gb=new Uint8Array(16);function Vb(){if(!hy&&!(hy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hy(Gb)}const Wb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ko=[],dy=0;dy<256;++dy)ko.push((dy+256).toString(16).substr(1));const Hb=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=(ko[p[m+0]]+ko[p[m+1]]+ko[p[m+2]]+ko[p[m+3]]+"-"+ko[p[m+4]]+ko[p[m+5]]+"-"+ko[p[m+6]]+ko[p[m+7]]+"-"+ko[p[m+8]]+ko[p[m+9]]+"-"+ko[p[m+10]]+ko[p[m+11]]+ko[p[m+12]]+ko[p[m+13]]+ko[p[m+14]]+ko[p[m+15]]).toLowerCase();if(!function(E){return typeof E=="string"&&Wb.test(E)}(O))throw TypeError("Stringified UUID is invalid");return O};var km,vy,py=0,bs=0;const Yb=function(p,m,O){var E=m&&O||0,M=m||new Array(16),R=(p=p||{}).node||km,F=p.clockseq!==void 0?p.clockseq:vy;if(R==null||F==null){var G=p.random||(p.rng||Vb)();R==null&&(R=km=[1|G[0],G[1],G[2],G[3],G[4],G[5]]),F==null&&(F=vy=16383&(G[6]<<8|G[7]))}var z=p.msecs!==void 0?p.msecs:Date.now(),Y=p.nsecs!==void 0?p.nsecs:bs+1,$=z-py+(Y-bs)/1e4;if($<0&&p.clockseq===void 0&&(F=F+1&16383),($<0||z>py)&&p.nsecs===void 0&&(Y=0),Y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");py=z,bs=Y,vy=F;var Z=(1e4*(268435455&(z+=122192928e5))+Y)%4294967296;M[E++]=Z>>>24&255,M[E++]=Z>>>16&255,M[E++]=Z>>>8&255,M[E++]=255&Z;var ie=z/4294967296*1e4&268435455;M[E++]=ie>>>8&255,M[E++]=255&ie,M[E++]=ie>>>24&15|16,M[E++]=ie>>>16&255,M[E++]=F>>>8|128,M[E++]=255&F;for(var se=0;se<6;++se)M[E+se]=R[se];return m||Hb(M)};function uh(p){return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},uh(p)}function Xl(){Xl=function(){return m};var p,m={},O=Object.prototype,E=O.hasOwnProperty,M=Object.defineProperty||function(we,_e,Ee){we[_e]=Ee.value},R=typeof Symbol=="function"?Symbol:{},F=R.iterator||"@@iterator",G=R.asyncIterator||"@@asyncIterator",z=R.toStringTag||"@@toStringTag";function Y(we,_e,Ee){return Object.defineProperty(we,_e,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),we[_e]}try{Y({},"")}catch{Y=function(_e,Ee,lt){return _e[Ee]=lt}}function $(we,_e,Ee,lt){var Je=_e&&_e.prototype instanceof Te?_e:Te,vt=Object.create(Je.prototype),kt=new Lt(lt||[]);return M(vt,"_invoke",{value:at(we,Ee,kt)}),vt}function Z(we,_e,Ee){try{return{type:"normal",arg:we.call(_e,Ee)}}catch(lt){return{type:"throw",arg:lt}}}m.wrap=$;var ie="suspendedStart",se="suspendedYield",he="executing",ue="completed",ve={};function Te(){}function Ie(){}function Fe(){}var De={};Y(De,F,function(){return this});var Xe=Object.getPrototypeOf,Ge=Xe&&Xe(Xe(St([])));Ge&&Ge!==O&&E.call(Ge,F)&&(De=Ge);var Qe=Fe.prototype=Te.prototype=Object.create(De);function Ke(we){["next","throw","return"].forEach(function(_e){Y(we,_e,function(Ee){return this._invoke(_e,Ee)})})}function We(we,_e){function Ee(Je,vt,kt,Ut){var zt=Z(we[Je],we,vt);if(zt.type!=="throw"){var mr=zt.arg,Or=mr.value;return Or&&uh(Or)=="object"&&E.call(Or,"__await")?_e.resolve(Or.__await).then(function(Fr){Ee("next",Fr,kt,Ut)},function(Fr){Ee("throw",Fr,kt,Ut)}):_e.resolve(Or).then(function(Fr){mr.value=Fr,kt(mr)},function(Fr){return Ee("throw",Fr,kt,Ut)})}Ut(zt.arg)}var lt;M(this,"_invoke",{value:function(Je,vt){function kt(){return new _e(function(Ut,zt){Ee(Je,vt,Ut,zt)})}return lt=lt?lt.then(kt,kt):kt()}})}function at(we,_e,Ee){var lt=ie;return function(Je,vt){if(lt===he)throw new Error("Generator is already running");if(lt===ue){if(Je==="throw")throw vt;return{value:p,done:!0}}for(Ee.method=Je,Ee.arg=vt;;){var kt=Ee.delegate;if(kt){var Ut=mt(kt,Ee);if(Ut){if(Ut===ve)continue;return Ut}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(lt===ie)throw lt=ue,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);lt=he;var zt=Z(we,_e,Ee);if(zt.type==="normal"){if(lt=Ee.done?ue:se,zt.arg===ve)continue;return{value:zt.arg,done:Ee.done}}zt.type==="throw"&&(lt=ue,Ee.method="throw",Ee.arg=zt.arg)}}}function mt(we,_e){var Ee=_e.method,lt=we.iterator[Ee];if(lt===p)return _e.delegate=null,Ee==="throw"&&we.iterator.return&&(_e.method="return",_e.arg=p,mt(we,_e),_e.method==="throw")||Ee!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),ve;var Je=Z(lt,we.iterator,_e.arg);if(Je.type==="throw")return _e.method="throw",_e.arg=Je.arg,_e.delegate=null,ve;var vt=Je.arg;return vt?vt.done?(_e[we.resultName]=vt.value,_e.next=we.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=p),_e.delegate=null,ve):vt:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,ve)}function Rt(we){var _e={tryLoc:we[0]};1 in we&&(_e.catchLoc=we[1]),2 in we&&(_e.finallyLoc=we[2],_e.afterLoc=we[3]),this.tryEntries.push(_e)}function bt(we){var _e=we.completion||{};_e.type="normal",delete _e.arg,we.completion=_e}function Lt(we){this.tryEntries=[{tryLoc:"root"}],we.forEach(Rt,this),this.reset(!0)}function St(we){if(we||we===""){var _e=we[F];if(_e)return _e.call(we);if(typeof we.next=="function")return we;if(!isNaN(we.length)){var Ee=-1,lt=function Je(){for(;++Ee<we.length;)if(E.call(we,Ee))return Je.value=we[Ee],Je.done=!1,Je;return Je.value=p,Je.done=!0,Je};return lt.next=lt}}throw new TypeError(uh(we)+" is not iterable")}return Ie.prototype=Fe,M(Qe,"constructor",{value:Fe,configurable:!0}),M(Fe,"constructor",{value:Ie,configurable:!0}),Ie.displayName=Y(Fe,z,"GeneratorFunction"),m.isGeneratorFunction=function(we){var _e=typeof we=="function"&&we.constructor;return!!_e&&(_e===Ie||(_e.displayName||_e.name)==="GeneratorFunction")},m.mark=function(we){return Object.setPrototypeOf?Object.setPrototypeOf(we,Fe):(we.__proto__=Fe,Y(we,z,"GeneratorFunction")),we.prototype=Object.create(Qe),we},m.awrap=function(we){return{__await:we}},Ke(We.prototype),Y(We.prototype,G,function(){return this}),m.AsyncIterator=We,m.async=function(we,_e,Ee,lt,Je){Je===void 0&&(Je=Promise);var vt=new We($(we,_e,Ee,lt),Je);return m.isGeneratorFunction(_e)?vt:vt.next().then(function(kt){return kt.done?kt.value:vt.next()})},Ke(Qe),Y(Qe,z,"Generator"),Y(Qe,F,function(){return this}),Y(Qe,"toString",function(){return"[object Generator]"}),m.keys=function(we){var _e=Object(we),Ee=[];for(var lt in _e)Ee.push(lt);return Ee.reverse(),function Je(){for(;Ee.length;){var vt=Ee.pop();if(vt in _e)return Je.value=vt,Je.done=!1,Je}return Je.done=!0,Je}},m.values=St,Lt.prototype={constructor:Lt,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(bt),!we)for(var _e in this)_e.charAt(0)==="t"&&E.call(this,_e)&&!isNaN(+_e.slice(1))&&(this[_e]=p)},stop:function(){this.done=!0;var we=this.tryEntries[0].completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var _e=this;function Ee(zt,mr){return vt.type="throw",vt.arg=we,_e.next=zt,mr&&(_e.method="next",_e.arg=p),!!mr}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var Je=this.tryEntries[lt],vt=Je.completion;if(Je.tryLoc==="root")return Ee("end");if(Je.tryLoc<=this.prev){var kt=E.call(Je,"catchLoc"),Ut=E.call(Je,"finallyLoc");if(kt&&Ut){if(this.prev<Je.catchLoc)return Ee(Je.catchLoc,!0);if(this.prev<Je.finallyLoc)return Ee(Je.finallyLoc)}else if(kt){if(this.prev<Je.catchLoc)return Ee(Je.catchLoc,!0)}else{if(!Ut)throw new Error("try statement without catch or finally");if(this.prev<Je.finallyLoc)return Ee(Je.finallyLoc)}}}},abrupt:function(we,_e){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var lt=this.tryEntries[Ee];if(lt.tryLoc<=this.prev&&E.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var Je=lt;break}}Je&&(we==="break"||we==="continue")&&Je.tryLoc<=_e&&_e<=Je.finallyLoc&&(Je=null);var vt=Je?Je.completion:{};return vt.type=we,vt.arg=_e,Je?(this.method="next",this.next=Je.finallyLoc,ve):this.complete(vt)},complete:function(we,_e){if(we.type==="throw")throw we.arg;return we.type==="break"||we.type==="continue"?this.next=we.arg:we.type==="return"?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):we.type==="normal"&&_e&&(this.next=_e),ve},finish:function(we){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Ee=this.tryEntries[_e];if(Ee.finallyLoc===we)return this.complete(Ee.completion,Ee.afterLoc),bt(Ee),ve}},catch:function(we){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Ee=this.tryEntries[_e];if(Ee.tryLoc===we){var lt=Ee.completion;if(lt.type==="throw"){var Je=lt.arg;bt(Ee)}return Je}}throw new Error("illegal catch attempt")},delegateYield:function(we,_e,Ee){return this.delegate={iterator:St(we),resultName:_e,nextLoc:Ee},this.method==="next"&&(this.arg=p),ve}},m}function Pr(p,m,O,E,M,R,F){try{var G=p[R](F),z=G.value}catch(Y){return void O(Y)}G.done?m(z):Promise.resolve(z).then(E,M)}function $b(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Ea(E.key),E)}}function Ea(p){var m=function(O,E){if(uh(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(uh(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return uh(m)=="symbol"?m:String(m)}var Mi=window.localStorage,Mm="neo4j.nvl.sTid",Kl=!1,Xb=function(){function p(){var R,F,G;(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),R=this,G=void 0,(F=Ea(F="analytics"))in R?Object.defineProperty(R,F,{value:G,enumerable:!0,configurable:!0,writable:!0}):R[F]=G;var z=new qb.AnalyticsBrowser;this.analytics=z}var m,O,E,M;return E=p,M=[{key:"init",value:function(R){this.analytics.load({writeKey:R}),this.analytics.addSourceMiddleware(function(F){var G=F.payload,z=F.next,Y=G.obj.context.page;Y!==void 0&&(Y.url="",Y.title="",Y.search="",Y.referrer="",Y.path=""),z(G)})}},{key:"trackEvent",value:(m=Xl().mark(function R(F){var G;return Xl().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.ready();case 2:G="".concat(F.eventPrefix?F.eventPrefix:"NVL_core","-").concat(F.event),this.analytics.track(G,F.properties).catch(function(Y){Nr.warn("TRACKING: Event tracking is failed. err: ".concat(Y))});case 4:case"end":return z.stop()}},R,this)}),O=function(){var R=this,F=arguments;return new Promise(function(G,z){var Y=m.apply(R,F);function $(ie){Pr(Y,G,z,$,Z,"next",ie)}function Z(ie){Pr(Y,G,z,$,Z,"throw",ie)}$(void 0)})},function(R){return O.apply(this,arguments)})},{key:"identify",value:function(){if(!Kl){var R=this.getSegmentTrackingId();this.analytics.identify(R).catch(function(F){Nr.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(F))}),Kl=!0}}},{key:"loadSavedSegmentId",value:function(){try{var R=Mi.getItem(Mm);return typeof R=="string"?R:null}catch(F){return Nr.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(F)),null}}},{key:"getSegmentTrackingId",value:function(){var R=this.loadSavedSegmentId(),F=R??Yb();return this.saveTrackingId(F),F}},{key:"saveTrackingId",value:function(R){Mi.setItem(Mm,R)}},{key:"ready",value:function(){return this.analytics.ready().catch(function(R){Nr.debug("TRACKING: segment track instance not ready. err: ".concat(R))})}}],M&&$b(E.prototype,M),Object.defineProperty(E,"prototype",{writable:!1}),p}();function Bv(p){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Bv(p)}function Kb(p,m){return function(O){if(Array.isArray(O))return O}(p)||function(O,E){var M=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(M!=null){var R,F,G,z,Y=[],$=!0,Z=!1;try{if(G=(M=M.call(O)).next,E===0){if(Object(M)!==M)return;$=!1}else for(;!($=(R=G.call(M)).done)&&(Y.push(R.value),Y.length!==E);$=!0);}catch(ie){Z=!0,F=ie}finally{try{if(!$&&M.return!=null&&(z=M.return(),Object(z)!==z))return}finally{if(Z)throw F}}return Y}}(p,m)||Dm(p,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(p,m){var O=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!O){if(Array.isArray(p)||(O=Dm(p))||m&&p&&typeof p.length=="number"){O&&(p=O);var E=0,M=function(){};return{s:M,n:function(){return E>=p.length?{done:!0}:{done:!1,value:p[E++]}},e:function(z){throw z},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,G=!1;return{s:function(){O=O.call(p)},n:function(){var z=O.next();return F=z.done,z},e:function(z){G=!0,R=z},f:function(){try{F||O.return==null||O.return()}finally{if(G)throw R}}}}function Dm(p,m){if(p){if(typeof p=="string")return ng(p,m);var O=Object.prototype.toString.call(p).slice(8,-1);return O==="Object"&&p.constructor&&(O=p.constructor.name),O==="Map"||O==="Set"?Array.from(p):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?ng(p,m):void 0}}function ng(p,m){(m==null||m>p.length)&&(m=p.length);for(var O=0,E=new Array(m);O<m;O++)E[O]=p[O];return E}function Lm(p,m){var O=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),O.push.apply(O,E)}return O}function ti(p){for(var m=1;m<arguments.length;m++){var O=arguments[m]!=null?arguments[m]:{};m%2?Lm(Object(O),!0).forEach(function(E){var M,R,F;M=p,R=E,F=O[E],(R=Uv(R))in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(O)):Lm(Object(O)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(O,E))})}return p}function Nm(p,m){for(var O=0;O<m.length;O++){var E=m[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,Uv(E.key),E)}}function Uv(p){var m=function(O,E){if(Bv(O)!="object"||!O)return O;var M=O[Symbol.toPrimitive];if(M!==void 0){var R=M.call(O,"string");if(Bv(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(p);return Bv(m)=="symbol"?m:String(m)}function Nn(p,m,O){Ti(p,m),m.set(p,O)}function Ti(p,m){if(m.has(p))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jt(p,m){return p.get(Ga(p,m))}function bd(p,m,O){return p.set(Ga(p,m),O),O}function Ga(p,m,O){if(typeof p=="function"?p===m:p.has(m))return arguments.length<3?m:O;throw new TypeError("Private element is not present on this object")}var zv=new WeakMap,jm=new WeakMap,nn=new WeakMap,wn=new WeakMap,ea=new WeakMap,Zl=new WeakMap,Oa=new WeakSet,Fm=function(){function p(E){var M,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")})(this,p),Ti(this,M=Oa),M.add(this),Nn(this,zv,void 0),Nn(this,jm,void 0),Nn(this,nn,void 0),Nn(this,wn,void 0),Nn(this,ea,void 0),Nn(this,Zl,void 0),G.disableTelemetry!==!0&&(bd(Zl,this,new Xb),jt(Zl,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),jt(Zl,this).identify()),Ga(Oa,this,ig).call(this,G),bd(zv,this,new a(z)),bd(jm,this,new xm),bd(ea,this,G),jt(ea,this).frame=E,this.checkWebGLCompatibility(),Ga(Oa,this,yy).call(this,R,F,G)}var m,O;return m=p,O=[{key:"restart",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1&&arguments[1]!==void 0&&arguments[1],R=this.getNodePositions(),F=jt(nn,this),G=F.zoom,z=F.layout,Y=F.layoutOptions,$=F.nodes,Z=F.rels;jt(wn,this).destroy(),Object.assign(jt(ea,this),E),Ga(Oa,this,yy).call(this,$.items,Z.items,jt(ea,this)),this.setZoom(G),this.setLayout(z),this.setLayoutOptions(Y),this.addAndUpdateElementsInGraph($.items,Z.items),M&&this.setNodePositions(R)}},{key:"addAndUpdateElementsInGraph",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Ga(Oa,this,my).call(this,E),Ga(Oa,this,by).call(this,M,E);var R={added:!1,updated:!1};jt(nn,this).nodes.update(E,ti({},R)),jt(nn,this).rels.update(M,ti({},R)),jt(nn,this).nodes.add(E,ti({},R)),jt(nn,this).rels.add(M,ti({},R)),jt(nn,this).setGraphUpdated(),jt(wn,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var E=this;return jt(nn,this).nodes.items.filter(function(M){return M.selected}).map(function(M){return ti(ti({},M),jt(nn,E).nodes.idToPosition[M.id])})}},{key:"getSelectedRelationships",value:function(){return jt(nn,this).rels.items.filter(function(E){return E.selected})}},{key:"updateElementsInGraph",value:function(E,M){var R={added:!1,updated:!1};Ga(Oa,this,my).call(this,E),Ga(Oa,this,by).call(this,M,E),jt(nn,this).nodes.update(E,ti({},R)),jt(nn,this).rels.update(M,ti({},R)),jt(wn,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(E,M){Ga(Oa,this,my).call(this,E),Ga(Oa,this,by).call(this,M,E);var R={added:!1,updated:!1};jt(nn,this).nodes.add(E,ti({},R)),jt(nn,this).rels.add(M,ti({},R)),jt(wn,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(E){if(Array.isArray(E)&&!(0,r.isEmpty)(E)){var M,R={},F=gy(E);try{for(F.s();!(M=F.n()).done;)R[M.value]=!0}catch(Z){F.e(Z)}finally{F.f()}var G,z=[],Y=gy(jt(nn,this).rels.items);try{for(Y.s();!(G=Y.n()).done;){var $=G.value;R[$.from]!==!0&&R[$.to]!==!0||z.push($.id)}}catch(Z){Y.e(Z)}finally{Y.f()}z.length>0&&Ga(Oa,this,lh).call(this,z),Ga(Oa,this,_s).call(this,E),jt(nn,this).setGraphUpdated(),jt(wn,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(E){Array.isArray(E)&&!(0,r.isEmpty)(E)&&(Ga(Oa,this,lh).call(this,E),jt(nn,this).setGraphUpdated(),jt(wn,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return jt(wn,this).dumpNodes()}},{key:"getRelationships",value:function(){return jt(wn,this).dumpRelationships()}},{key:"getNodeById",value:function(E){return jt(nn,this).nodes.idToItem[E]}},{key:"getRelationshipById",value:function(E){return jt(nn,this).rels.idToItem[E]}},{key:"getPositionById",value:function(E){return jt(nn,this).nodes.idToPosition[E]}},{key:"getCurrentOptions",value:function(){return jt(ea,this)}},{key:"destroy",value:function(){jt(wn,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(jt(nn,this).nodes.items.map(function(E){return ti(ti({},E),{},{selected:!1})}),jt(nn,this).rels.items.map(function(E){return ti(ti({},E),{},{selected:!1})}))}},{key:"fit",value:function(E,M){jt(wn,this).fit(E,M)}},{key:"resetZoom",value:function(){jt(wn,this).resetZoom()}},{key:"setUseWebGLRenderer",value:function(E){jt(wn,this).setRenderer(E?ki:Fc)}},{key:"setRenderer",value:function(E){jt(wn,this).setRenderer(E)}},{key:"setDisableWebGL",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0];jt(ea,this).disableWebGL!==E&&(jt(ea,this).disableWebGL=E,this.restart())}},{key:"pinNode",value:function(E){jt(nn,this).nodes.update([{id:E,pinned:!0}],{})}},{key:"unPinNode",value:function(E){jt(nn,this).nodes.update(E.map(function(M){return{id:M,pinned:!1}}),{})}},{key:"setLayout",value:function(E){jt(nn,this).setLayout(E)}},{key:"setLayoutOptions",value:function(E){jt(nn,this).setLayoutOptions(E)}},{key:"getNodesOnScreen",value:function(){return jt(wn,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return jt(wn,this).getNodePositions()}},{key:"setNodePositions",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0&&arguments[1];jt(wn,this).setNodePositions(E,M)}},{key:"isLayoutMoving",value:function(){return jt(wn,this).isLayoutMoving()}},{key:"saveToFile",value:function(E){jt(wn,this).saveToFile(E)}},{key:"saveFullGraphToLargeFile",value:function(E){jt(wn,this).saveFullGraphToLargeFile(E)}},{key:"setZoom",value:function(E){jt(wn,this).setZoomLevel(E)}},{key:"setPan",value:function(E,M){jt(wn,this).setPanCoordinates(E,M)}},{key:"setZoomAndPan",value:function(E,M,R){jt(wn,this).setZoomAndPan(E,M,R)}},{key:"getScale",value:function(){return jt(wn,this).getScale()}},{key:"getPan",value:function(){return jt(wn,this).getPan()}},{key:"getHits",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node","relationship"],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{hitNodeMarginWidth:0},F=jt(nn,this),G=F.zoom,z=F.panX,Y=F.panY,$=F.webGLVisible,Z=pd(E,jt(ea,this).frame,G,z,Y),ie=Z.x,se=Z.y,he=$?function(ue,ve,Te){var Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},De=[],Xe=[],Ge=Te.nodes,Qe=Te.rels;return Ie.includes("node")&&De.push.apply(De,It(function(Ke,We){var at,mt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,bt=[],Lt=Xt(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var St=function(){var we,_e=at.value,Ee=mt[_e.id];if((Ee==null?void 0:Ee.x)===void 0||Ee.y===void 0)return 1;var lt=((we=_e.size)!==null&&we!==void 0?we:Qn)*st(),Je={x:Ee.x-Ke,y:Ee.y-We},vt=Math.pow(lt,2),kt=Math.pow(lt+Rt,2),Ut=Math.pow(Je.x,2)+Math.pow(Je.y,2),zt=Math.sqrt(Ut);if(Ut<kt){var mr=bt.findIndex(function(Or){return Or.distance>zt});bt.splice(mr!==-1?mr:bt.length,0,{data:_e,targetCoordinates:{x:Ee.x,y:Ee.y},pointerCoordinates:{x:Ke,y:We},distanceVector:Je,distance:zt,insideNode:Ut<vt})}};for(Lt.s();!(at=Lt.n()).done;)St()}catch(we){Lt.e(we)}finally{Lt.f()}return bt}(ue,ve,Ge.items,Ge.idToPosition,Fe.hitNodeMarginWidth))),Ie.includes("relationship")&&Xe.push.apply(Xe,It(function(Ke,We){var at,mt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Rt=[],bt={},Lt=Xt(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var St=function(){var we=at.value,_e=we.from,Ee=we.to;if(bt["".concat(_e,".").concat(Ee)]===void 0){var lt=mt[_e],Je=mt[Ee];if((lt==null?void 0:lt.x)===void 0||lt.y===void 0||(Je==null?void 0:Je.x)===void 0||Je.y===void 0)return 0;var vt=hs({x:lt.x,y:lt.y},{x:Je.x,y:Je.y},{x:Ke,y:We});if(vt<=Ot){var kt=Rt.findIndex(function(Ut){return Ut.distance>vt});Rt.splice(kt!==-1?kt:Rt.length,0,{data:we,fromTargetCoordinates:{x:lt.x,y:lt.y},toTargetCoordinates:{x:Je.x,y:Je.y},pointerCoordinates:{x:Ke,y:We},distance:vt})}bt["".concat(_e,".").concat(Ee)]=1,bt["".concat(Ee,".").concat(_e)]=1}};for(Lt.s();!(at=Lt.n()).done;)St()}catch(we){Lt.e(we)}finally{Lt.f()}return Rt}(ue,ve,Qe.items,Ge.idToPosition))),{nodes:De,relationships:Xe}}(ie,se,jt(nn,this),M,R):function(ue,ve,Te){var Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},De=[],Xe=[];return Ie.includes("node")&&De.push.apply(De,It(Te.getCanvasNodesAt({x:ue,y:ve},Fe.hitNodeMarginWidth))),Ie.includes("relationship")&&Xe.push.apply(Xe,It(Te.getCanvasRelsAt({x:ue,y:ve}))),{nodes:De,relationships:Xe}}(ie,se,jt(wn,this),M,R);return ti(ti({},E),{},{nvlTargets:he})}},{key:"getContainer",value:function(){return jt(ea,this).frame}},{key:"checkWebGLCompatibility",value:function(){var E=jt(ea,this).disableWebGL;if(E===void 0||!E){var M=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("canvas");try{return window.WebGLRenderingContext!==void 0&&(R.getContext("webgl")!==null||R.getContext("experimental-webgl")!==null)}catch{return!1}}();if(!M){if(E!==void 0)throw new Al("Could not initialize WebGL");jt(ea,this).renderer=Fc,console.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}E===void 0&&(jt(ea,this).disableWebGL=!M)}}}],O&&Nm(m.prototype,O),Object.defineProperty(m,"prototype",{writable:!1}),p}();function yy(){var p,m=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bd(nn,this,Im(M)),M.minimapContainer instanceof HTMLElement||delete M.minimapContainer,bd(wn,this,new Rb(jt(nn,this),M)),this.addAndUpdateElementsInGraph(O,E),jt(wn,this).on("restart",this.restart.bind(this));var R,F,G=gy((R=jt(zv,this).callbacks,Object.entries(R)));try{for(G.s();!(F=G.n()).done;){var z=Kb(F.value,2),Y=z[0];z[1]!==void 0&&jt(wn,this).on(Y,jt(zv,this)[Y].bind(jt(zv,this)))}}catch(Z){G.e(Z)}finally{G.f()}var $=(p=jt(ea,this).frame)===null||p===void 0?void 0:p.getAttribute("id");jt(ea,this).disableTelemetry!==!0&&setTimeout(function(){jt(wn,m).isDestroyed()||jt(Zl,m).trackEvent({eventPrefix:$t.includes($)?$:null,event:"instantiated",properties:{}})},200)}function ig(p){var m,O=p.logging;(O==null?void 0:O.level)!==void 0&&(m=O.level,Nr.setLevel(m),function(E,M){var R=E.methodFactory;E.methodFactory=function(F,G,z){var Y=R(F,G,z);return function(){for(var $=arguments.length,Z=new Array($),ie=0;ie<$;ie++)Z[ie]=arguments[ie];typeof M.logger=="function"?M.logger.apply(M,[F].concat(Z)):Y.apply(void 0,Z)}},E.setLevel(E.getLevel())}(Nr,O))}function _s(p){var m=Array.isArray(p)?p:[p],O=jt(nn,this),E=O.nodes,M=O.fitNodeIds;E.remove(m,{removed:!1}),M.length&&m.find(function(R){return M.includes(R)})!==void 0&&jt(nn,this).fitNodes(M.filter(function(R){return!m.includes(R)}))}function lh(p){var m=Array.isArray(p)?p:[p];jt(nn,this).rels.remove(m,{removed:!1})}function my(p){var m=p.find(function(E){return!function(M){return!!M&&typeof M.id=="string"&&M.id.length>0}(E)});if(m){var O="";throw/^\d+$/.test(m.id)||(O=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(m),".").concat(O))}}function by(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O="",E=null,M=jt(nn,this),R=M.nodes,F=M.rels,G={},z=0;z<m.length;z++){var Y=m[z];G[Y.id]=Y}for(var $=ti(ti({},R.idToItem),G),Z=F.idToItem,ie=0;ie<p.length;ie++){var se=p[ie];if(!Ub(se)){E=se,/^\d+$/.test(se.id)&&(O=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(Z[se.id]===void 0){var he=$[se.from],ue=$[se.to];if(he===void 0){O=' Node with id "'.concat(se.from,'" does not exist.'),E=se;break}if(ue===void 0){O=' Node with id "'.concat(se.to,'" does not exist.'),E=se;break}}}if(E!==null)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(E),".").concat(O))}var Zb={textColorForBackground:Vp};const Qb=Fm})();Ru.RL;Ru.wK;Ru.x_;Ru.lv;Ru.YQ;var BW=Ru.BP;Ru.GZ;Ru.Vw;Ru.Ay;Ru._G;Ru.Wy;Ru.h4;const kV=10,aO=10;class Pb{constructor(e,t){An(this,"nvl");An(this,"options");An(this,"container");An(this,"callbackMap");An(this,"addEventListener",(e,t,n)=>{var i;(i=this.container)==null||i.addEventListener(e,t,n)});An(this,"removeEventListener",(e,t,n)=>{var i;(i=this.container)==null||i.removeEventListener(e,t,n)});An(this,"callCallbackIfRegistered",(e,...t)=>{const n=this.callbackMap.get(e);typeof n=="function"&&n(...t)});An(this,"updateCallback",(e,t)=>{this.callbackMap.set(e,t)});An(this,"removeCallback",e=>{this.callbackMap.delete(e)});this.nvl=e,this.options=t,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}}const MV=(r,e)=>{const t=Math.abs(r.clientX-e.x),n=Math.abs(r.clientY-e.y);return t>aO||n>aO?!0:Math.pow(t,2)+Math.pow(n,2)>aO},DV=(r,e)=>{const t=r.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-t.left-t.width*.5)*n,y:(e.clientY-t.top-t.height*.5)*n}};class UW extends Pb{constructor(t,n={selectOnClick:!1}){super(t,n);An(this,"moved");An(this,"mousePosition");An(this,"handleMouseDown",t=>{this.mousePosition={x:t.clientX,y:t.clientY}});An(this,"handleRightClick",t=>{var o,s;t.preventDefault();const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasRightClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeRightClick",(o=i[0])==null?void 0:o.data,n,t):a.length>0&&this.callCallbackIfRegistered("onRelationshipRightClick",(s=a[0])==null?void 0:s.data,n,t)});An(this,"handleDoubleClick",t=>{var o,s;const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasDoubleClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeDoubleClick",(o=i[0])==null?void 0:o.data,n,t):a.length>0&&this.callCallbackIfRegistered("onRelationshipDoubleClick",(s=a[0])==null?void 0:s.data,n,t)});An(this,"handleClick",t=>{var o,s;if(MV(t,this.mousePosition)||t.button!==0)return;const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.currentOptions.selectOnClick===!0&&this.nvlInstance.deselectAll(),this.callCallbackIfRegistered("onCanvasClick",t);return}if(i.length>0){const u=i.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),h=[...u[0]?[{id:u[0].id,selected:!0}]:[],...l.map(v=>({id:v.id,selected:!1}))],d=c.map(v=>({...v,selected:!1}));this.nvlInstance.updateElementsInGraph(h,d)}this.callCallbackIfRegistered("onNodeClick",(o=i[0])==null?void 0:o.data,n,t)}else if(a.length>0){const u=a.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),f=l.map(v=>({id:v.id,selected:!1})),d=[...u[0]?[{id:u[0].id,selected:!0}]:[],...c.map(v=>({...v,selected:!1}))];this.nvlInstance.updateElementsInGraph(f,d)}this.callCallbackIfRegistered("onRelationshipClick",(s=a[0])==null?void 0:s.data,n,t)}});An(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)});this.mousePosition={x:0,y:0},this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}}class zW extends Pb{constructor(t,n={drawShadowOnHover:!1}){super(t,n);An(this,"currentHoveredElement");An(this,"currentHoveredElementIsNode");An(this,"updates");An(this,"handleHover",t=>{const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n,o=i[0]??a[0],s=o==null?void 0:o.data;if(this.currentElementNeedsUnHover(s==null?void 0:s.id)&&this.unHoverCurrentElement(),s!==void 0&&i[0]!==void 0)this.updates.nodes.push({id:s.id,hovered:!0}),this.currentHoveredElement=s,this.currentHoveredElementIsNode=!0;else if(o!==void 0){const{id:l,from:c,to:f}=s;this.updates.relationships.push({id:l,from:c,to:f,hovered:!0}),this.currentHoveredElement=s,this.currentHoveredElementIsNode=!1}else this.currentHoveredElement=void 0,this.currentHoveredElementIsNode=void 0;this.callCallbackIfRegistered("onHover",this.currentHoveredElement,n,t),this.currentOptions.drawShadowOnHover===!0&&this.nvlInstance.getNodes().length>0&&this.nvlInstance.updateElementsInGraph(this.updates.nodes,this.updates.relationships),this.clearUpdates()});this.updates={nodes:[],relationships:[]},this.addEventListener("mousemove",this.handleHover,!0)}clearUpdates(){this.updates.nodes=[],this.updates.relationships=[]}currentElementNeedsUnHover(t){return this.currentHoveredElement!==void 0&&this.currentHoveredElement.id!==t}unHoverCurrentElement(){if(this.currentHoveredElement===void 0)return;const t={id:this.currentHoveredElement.id,hovered:!1};if(this.currentHoveredElementIsNode===!0)this.updates.nodes.push(t);else{const{from:n,to:i}=this.currentHoveredElement;this.updates.relationships.push({...t,from:n,to:i})}}destroy(){this.removeEventListener("mousemove",this.handleHover,!0)}}var xM={exports:{}},SM={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(cn,function(){function t(g,_,x,P,I){(function T(A,D,N,j,B){for(;j>N;){if(j-N>600){var W=j-N+1,V=D-N+1,J=Math.log(W),ee=.5*Math.exp(2*J/3),te=.5*Math.sqrt(J*ee*(W-ee)/W)*(V-W/2<0?-1:1),re=Math.max(N,Math.floor(D-V*ee/W+te)),de=Math.min(j,Math.floor(D+(W-V)*ee/W+te));T(A,D,re,de,B)}var pe=A[D],fe=N,ye=j;for(n(A,N,D),B(A[j],pe)>0&&n(A,N,j);fe<ye;){for(n(A,fe,ye),fe++,ye--;B(A[fe],pe)<0;)fe++;for(;B(A[ye],pe)>0;)ye--}B(A[N],pe)===0?n(A,N,ye):n(A,++ye,j),ye<=D&&(N=ye+1),D<=ye&&(j=ye-1)}})(g,_,x||0,P||g.length-1,I||i)}function n(g,_,x){var P=g[_];g[_]=g[x],g[x]=P}function i(g,_){return g<_?-1:g>_?1:0}var a=function(g){g===void 0&&(g=9),this._maxEntries=Math.max(4,g),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(g,_,x){if(!x)return _.indexOf(g);for(var P=0;P<_.length;P++)if(x(g,_[P]))return P;return-1}function s(g,_){u(g,0,g.children.length,_,g)}function u(g,_,x,P,I){I||(I=w(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var T=_;T<x;T++){var A=g.children[T];l(I,g.leaf?P(A):A)}return I}function l(g,_){return g.minX=Math.min(g.minX,_.minX),g.minY=Math.min(g.minY,_.minY),g.maxX=Math.max(g.maxX,_.maxX),g.maxY=Math.max(g.maxY,_.maxY),g}function c(g,_){return g.minX-_.minX}function f(g,_){return g.minY-_.minY}function h(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function d(g){return g.maxX-g.minX+(g.maxY-g.minY)}function v(g,_){return g.minX<=_.minX&&g.minY<=_.minY&&_.maxX<=g.maxX&&_.maxY<=g.maxY}function y(g,_){return _.minX<=g.maxX&&_.minY<=g.maxY&&_.maxX>=g.minX&&_.maxY>=g.minY}function w(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(g,_,x,P,I){for(var T=[_,x];T.length;)if(!((x=T.pop())-(_=T.pop())<=P)){var A=_+Math.ceil((x-_)/P/2)*P;t(g,A,_,x,I),T.push(_,A,A,x)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(g){var _=this.data,x=[];if(!y(g,_))return x;for(var P=this.toBBox,I=[];_;){for(var T=0;T<_.children.length;T++){var A=_.children[T],D=_.leaf?P(A):A;y(g,D)&&(_.leaf?x.push(A):v(g,D)?this._all(A,x):I.push(A))}_=I.pop()}return x},a.prototype.collides=function(g){var _=this.data;if(!y(g,_))return!1;for(var x=[];_;){for(var P=0;P<_.children.length;P++){var I=_.children[P],T=_.leaf?this.toBBox(I):I;if(y(g,T)){if(_.leaf||v(g,T))return!0;x.push(I)}}_=x.pop()}return!1},a.prototype.load=function(g){if(!g||!g.length)return this;if(g.length<this._minEntries){for(var _=0;_<g.length;_++)this.insert(g[_]);return this}var x=this._build(g.slice(),0,g.length-1,0);if(this.data.children.length)if(this.data.height===x.height)this._splitRoot(this.data,x);else{if(this.data.height<x.height){var P=this.data;this.data=x,x=P}this._insert(x,this.data.height-x.height-1,!0)}else this.data=x;return this},a.prototype.insert=function(g){return g&&this._insert(g,this.data.height-1),this},a.prototype.clear=function(){return this.data=w([]),this},a.prototype.remove=function(g,_){if(!g)return this;for(var x,P,I,T=this.data,A=this.toBBox(g),D=[],N=[];T||D.length;){if(T||(T=D.pop(),P=D[D.length-1],x=N.pop(),I=!0),T.leaf){var j=o(g,T.children,_);if(j!==-1)return T.children.splice(j,1),D.push(T),this._condense(D),this}I||T.leaf||!v(T,A)?P?(x++,T=P.children[x],I=!1):T=null:(D.push(T),N.push(x),x=0,P=T,T=T.children[0])}return this},a.prototype.toBBox=function(g){return g},a.prototype.compareMinX=function(g,_){return g.minX-_.minX},a.prototype.compareMinY=function(g,_){return g.minY-_.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(g){return this.data=g,this},a.prototype._all=function(g,_){for(var x=[];g;)g.leaf?_.push.apply(_,g.children):x.push.apply(x,g.children),g=x.pop();return _},a.prototype._build=function(g,_,x,P){var I,T=x-_+1,A=this._maxEntries;if(T<=A)return s(I=w(g.slice(_,x+1)),this.toBBox),I;P||(P=Math.ceil(Math.log(T)/Math.log(A)),A=Math.ceil(T/Math.pow(A,P-1))),(I=w([])).leaf=!1,I.height=P;var D=Math.ceil(T/A),N=D*Math.ceil(Math.sqrt(A));b(g,_,x,N,this.compareMinX);for(var j=_;j<=x;j+=N){var B=Math.min(j+N-1,x);b(g,j,B,D,this.compareMinY);for(var W=j;W<=B;W+=D){var V=Math.min(W+D-1,B);I.children.push(this._build(g,W,V,P-1))}}return s(I,this.toBBox),I},a.prototype._chooseSubtree=function(g,_,x,P){for(;P.push(_),!_.leaf&&P.length-1!==x;){for(var I=1/0,T=1/0,A=void 0,D=0;D<_.children.length;D++){var N=_.children[D],j=h(N),B=(W=g,V=N,(Math.max(V.maxX,W.maxX)-Math.min(V.minX,W.minX))*(Math.max(V.maxY,W.maxY)-Math.min(V.minY,W.minY))-j);B<T?(T=B,I=j<I?j:I,A=N):B===T&&j<I&&(I=j,A=N)}_=A||_.children[0]}var W,V;return _},a.prototype._insert=function(g,_,x){var P=x?g:this.toBBox(g),I=[],T=this._chooseSubtree(P,this.data,_,I);for(T.children.push(g),l(T,P);_>=0&&I[_].children.length>this._maxEntries;)this._split(I,_),_--;this._adjustParentBBoxes(P,I,_)},a.prototype._split=function(g,_){var x=g[_],P=x.children.length,I=this._minEntries;this._chooseSplitAxis(x,I,P);var T=this._chooseSplitIndex(x,I,P),A=w(x.children.splice(T,x.children.length-T));A.height=x.height,A.leaf=x.leaf,s(x,this.toBBox),s(A,this.toBBox),_?g[_-1].children.push(A):this._splitRoot(x,A)},a.prototype._splitRoot=function(g,_){this.data=w([g,_]),this.data.height=g.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(g,_,x){for(var P,I,T,A,D,N,j,B=1/0,W=1/0,V=_;V<=x-_;V++){var J=u(g,0,V,this.toBBox),ee=u(g,V,x,this.toBBox),te=(I=J,T=ee,A=void 0,D=void 0,N=void 0,j=void 0,A=Math.max(I.minX,T.minX),D=Math.max(I.minY,T.minY),N=Math.min(I.maxX,T.maxX),j=Math.min(I.maxY,T.maxY),Math.max(0,N-A)*Math.max(0,j-D)),re=h(J)+h(ee);te<B?(B=te,P=V,W=re<W?re:W):te===B&&re<W&&(W=re,P=V)}return P||x-_},a.prototype._chooseSplitAxis=function(g,_,x){var P=g.leaf?this.compareMinX:c,I=g.leaf?this.compareMinY:f;this._allDistMargin(g,_,x,P)<this._allDistMargin(g,_,x,I)&&g.children.sort(P)},a.prototype._allDistMargin=function(g,_,x,P){g.children.sort(P);for(var I=this.toBBox,T=u(g,0,_,I),A=u(g,x-_,x,I),D=d(T)+d(A),N=_;N<x-_;N++){var j=g.children[N];l(T,g.leaf?I(j):j),D+=d(T)}for(var B=x-_-1;B>=_;B--){var W=g.children[B];l(A,g.leaf?I(W):W),D+=d(A)}return D},a.prototype._adjustParentBBoxes=function(g,_,x){for(var P=x;P>=0;P--)l(_[P],g)},a.prototype._condense=function(g){for(var _=g.length-1,x=void 0;_>=0;_--)g[_].children.length===0?_>0?(x=g[_-1].children).splice(x.indexOf(g[_]),1):this.clear():s(g[_],this.toBBox)},a})})(SM);var LV=SM.exports;class NV{constructor(e=[],t=jV){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const a=e-1>>1,o=t[a];if(n(i,o)>=0)break;t[e]=o,e=a}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,a=t[e];for(;e<i;){let o=(e<<1)+1,s=t[o];const u=o+1;if(u<this.length&&n(t[u],s)<0&&(o=u,s=t[u]),n(s,a)>=0)break;t[e]=s,e=o}t[e]=a}}function jV(r,e){return r<e?-1:r>e?1:0}const FV=Object.freeze(Object.defineProperty({__proto__:null,default:NV},Symbol.toStringTag,{value:"Module"})),BV=aD(FV);var Ab={exports:{}},UV=function(e,t,n,i){var a=e[0],o=e[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var u=(i-n)/2,l=0,c=u-1;l<u;c=l++){var f=t[n+l*2+0],h=t[n+l*2+1],d=t[n+c*2+0],v=t[n+c*2+1],y=h>o!=v>o&&a<(d-f)*(o-h)/(v-h)+f;y&&(s=!s)}return s},zV=function(e,t,n,i){var a=e[0],o=e[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var u=i-n,l=0,c=u-1;l<u;c=l++){var f=t[l+n][0],h=t[l+n][1],d=t[c+n][0],v=t[c+n][1],y=h>o!=v>o&&a<(d-f)*(o-h)/(v-h)+f;y&&(s=!s)}return s},TM=UV,CM=zV;Ab.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?CM(e,t,n,i):TM(e,t,n,i)};Ab.exports.nested=CM;Ab.exports.flat=TM;var qV=Ab.exports,UO={exports:{}};(function(r,e){(function(t,n){n(e)})(cn,function(t){const i=33306690738754706e-32;function a(y,w,b,g,_){let x,P,I,T,A=w[0],D=g[0],N=0,j=0;D>A==D>-A?(x=A,A=w[++N]):(x=D,D=g[++j]);let B=0;if(N<y&&j<b)for(D>A==D>-A?(I=x-((P=A+x)-A),A=w[++N]):(I=x-((P=D+x)-D),D=g[++j]),x=P,I!==0&&(_[B++]=I);N<y&&j<b;)D>A==D>-A?(I=x-((P=x+A)-(T=P-x))+(A-T),A=w[++N]):(I=x-((P=x+D)-(T=P-x))+(D-T),D=g[++j]),x=P,I!==0&&(_[B++]=I);for(;N<y;)I=x-((P=x+A)-(T=P-x))+(A-T),A=w[++N],x=P,I!==0&&(_[B++]=I);for(;j<b;)I=x-((P=x+D)-(T=P-x))+(D-T),D=g[++j],x=P,I!==0&&(_[B++]=I);return x===0&&B!==0||(_[B++]=x),B}function o(y){return new Float64Array(y)}const s=33306690738754716e-32,u=22204460492503146e-32,l=11093356479670487e-47,c=o(4),f=o(8),h=o(12),d=o(16),v=o(4);t.orient2d=function(y,w,b,g,_,x){const P=(w-x)*(b-_),I=(y-_)*(g-x),T=P-I;if(P===0||I===0||P>0!=I>0)return T;const A=Math.abs(P+I);return Math.abs(T)>=s*A?T:-function(D,N,j,B,W,V,J){let ee,te,re,de,pe,fe,ye,Me,Ne,ke,je,xe,Se,Re,Oe,Pe,Ue,ot;const $e=D-W,rt=j-W,ht=N-V,Ze=B-V;pe=(Oe=(Me=$e-(ye=(fe=134217729*$e)-(fe-$e)))*(ke=Ze-(Ne=(fe=134217729*Ze)-(fe-Ze)))-((Re=$e*Ze)-ye*Ne-Me*Ne-ye*ke))-(je=Oe-(Ue=(Me=ht-(ye=(fe=134217729*ht)-(fe-ht)))*(ke=rt-(Ne=(fe=134217729*rt)-(fe-rt)))-((Pe=ht*rt)-ye*Ne-Me*Ne-ye*ke))),c[0]=Oe-(je+pe)+(pe-Ue),pe=(Se=Re-((xe=Re+je)-(pe=xe-Re))+(je-pe))-(je=Se-Pe),c[1]=Se-(je+pe)+(pe-Pe),pe=(ot=xe+je)-xe,c[2]=xe-(ot-pe)+(je-pe),c[3]=ot;let H=function(ze,Le){let le=Le[0];for(let Ve=1;Ve<ze;Ve++)le+=Le[Ve];return le}(4,c),K=u*J;if(H>=K||-H>=K||(ee=D-($e+(pe=D-$e))+(pe-W),re=j-(rt+(pe=j-rt))+(pe-W),te=N-(ht+(pe=N-ht))+(pe-V),de=B-(Ze+(pe=B-Ze))+(pe-V),ee===0&&te===0&&re===0&&de===0)||(K=l*J+i*Math.abs(H),(H+=$e*de+Ze*ee-(ht*re+rt*te))>=K||-H>=K))return H;pe=(Oe=(Me=ee-(ye=(fe=134217729*ee)-(fe-ee)))*(ke=Ze-(Ne=(fe=134217729*Ze)-(fe-Ze)))-((Re=ee*Ze)-ye*Ne-Me*Ne-ye*ke))-(je=Oe-(Ue=(Me=te-(ye=(fe=134217729*te)-(fe-te)))*(ke=rt-(Ne=(fe=134217729*rt)-(fe-rt)))-((Pe=te*rt)-ye*Ne-Me*Ne-ye*ke))),v[0]=Oe-(je+pe)+(pe-Ue),pe=(Se=Re-((xe=Re+je)-(pe=xe-Re))+(je-pe))-(je=Se-Pe),v[1]=Se-(je+pe)+(pe-Pe),pe=(ot=xe+je)-xe,v[2]=xe-(ot-pe)+(je-pe),v[3]=ot;const ne=a(4,c,4,v,f);pe=(Oe=(Me=$e-(ye=(fe=134217729*$e)-(fe-$e)))*(ke=de-(Ne=(fe=134217729*de)-(fe-de)))-((Re=$e*de)-ye*Ne-Me*Ne-ye*ke))-(je=Oe-(Ue=(Me=ht-(ye=(fe=134217729*ht)-(fe-ht)))*(ke=re-(Ne=(fe=134217729*re)-(fe-re)))-((Pe=ht*re)-ye*Ne-Me*Ne-ye*ke))),v[0]=Oe-(je+pe)+(pe-Ue),pe=(Se=Re-((xe=Re+je)-(pe=xe-Re))+(je-pe))-(je=Se-Pe),v[1]=Se-(je+pe)+(pe-Pe),pe=(ot=xe+je)-xe,v[2]=xe-(ot-pe)+(je-pe),v[3]=ot;const Ce=a(ne,f,4,v,h);pe=(Oe=(Me=ee-(ye=(fe=134217729*ee)-(fe-ee)))*(ke=de-(Ne=(fe=134217729*de)-(fe-de)))-((Re=ee*de)-ye*Ne-Me*Ne-ye*ke))-(je=Oe-(Ue=(Me=te-(ye=(fe=134217729*te)-(fe-te)))*(ke=re-(Ne=(fe=134217729*re)-(fe-re)))-((Pe=te*re)-ye*Ne-Me*Ne-ye*ke))),v[0]=Oe-(je+pe)+(pe-Ue),pe=(Se=Re-((xe=Re+je)-(pe=xe-Re))+(je-pe))-(je=Se-Pe),v[1]=Se-(je+pe)+(pe-Pe),pe=(ot=xe+je)-xe,v[2]=xe-(ot-pe)+(je-pe),v[3]=ot;const Ae=a(Ce,h,4,v,d);return d[Ae-1]}(y,w,b,g,_,x,A)},t.orient2dfast=function(y,w,b,g,_,x){return(w-x)*(b-_)-(y-_)*(g-x)},Object.defineProperty(t,"__esModule",{value:!0})})})(UO,UO.exports);var GV=UO.exports,UA=LV,y0=BV,VV=qV,WV=GV.orient2d;y0.default&&(y0=y0.default);xM.exports=PM;xM.exports.default=PM;function PM(r,e,t){e=Math.max(0,e===void 0?2:e),t=t||0;var n=KV(r),i=new UA(16);i.toBBox=function(g){return{minX:g[0],minY:g[1],maxX:g[0],maxY:g[1]}},i.compareMinX=function(g,_){return g[0]-_[0]},i.compareMinY=function(g,_){return g[1]-_[1]},i.load(r);for(var a=[],o=0,s;o<n.length;o++){var u=n[o];i.remove(u),s=GA(u,s),a.push(s)}var l=new UA(16);for(o=0;o<a.length;o++)l.insert(sO(a[o]));for(var c=e*e,f=t*t;a.length;){var h=a.shift(),d=h.p,v=h.next.p,y=uO(d,v);if(!(y<f)){var w=y/c;u=HV(i,h.prev.p,d,v,h.next.next.p,w,l),u&&Math.min(uO(u,d),uO(u,v))<=w&&(a.push(h),a.push(GA(u,h)),i.remove(u),l.remove(h),l.insert(sO(h)),l.insert(sO(h.next)))}}h=s;var b=[];do b.push(h.p),h=h.next;while(h!==s);return b.push(h.p),b}function HV(r,e,t,n,i,a,o){for(var s=new y0([],YV),u=r.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],f=u.leaf?lO(c,t,n):$V(t,n,c);f>a||s.push({node:c,dist:f})}for(;s.length&&!s.peek().node.children;){var h=s.pop(),d=h.node,v=lO(d,e,t),y=lO(d,n,i);if(h.dist<v&&h.dist<y&&qA(t,d,o)&&qA(n,d,o))return d}u=s.pop(),u&&(u=u.node)}return null}function YV(r,e){return r.dist-e.dist}function $V(r,e,t){if(zA(r,t)||zA(e,t))return 0;var n=i0(r[0],r[1],e[0],e[1],t.minX,t.minY,t.maxX,t.minY);if(n===0)return 0;var i=i0(r[0],r[1],e[0],e[1],t.minX,t.minY,t.minX,t.maxY);if(i===0)return 0;var a=i0(r[0],r[1],e[0],e[1],t.maxX,t.minY,t.maxX,t.maxY);if(a===0)return 0;var o=i0(r[0],r[1],e[0],e[1],t.minX,t.maxY,t.maxX,t.maxY);return o===0?0:Math.min(n,i,a,o)}function zA(r,e){return r[0]>=e.minX&&r[0]<=e.maxX&&r[1]>=e.minY&&r[1]<=e.maxY}function qA(r,e,t){for(var n=Math.min(r[0],e[0]),i=Math.min(r[1],e[1]),a=Math.max(r[0],e[0]),o=Math.max(r[1],e[1]),s=t.search({minX:n,minY:i,maxX:a,maxY:o}),u=0;u<s.length;u++)if(XV(s[u].p,s[u].next.p,r,e))return!1;return!0}function bg(r,e,t){return WV(r[0],r[1],e[0],e[1],t[0],t[1])}function XV(r,e,t,n){return r!==n&&e!==t&&bg(r,e,t)>0!=bg(r,e,n)>0&&bg(t,n,r)>0!=bg(t,n,e)>0}function sO(r){var e=r.p,t=r.next.p;return r.minX=Math.min(e[0],t[0]),r.minY=Math.min(e[1],t[1]),r.maxX=Math.max(e[0],t[0]),r.maxY=Math.max(e[1],t[1]),r}function KV(r){for(var e=r[0],t=r[0],n=r[0],i=r[0],a=0;a<r.length;a++){var o=r[a];o[0]<e[0]&&(e=o),o[0]>n[0]&&(n=o),o[1]<t[1]&&(t=o),o[1]>i[1]&&(i=o)}var s=[e,t,n,i],u=s.slice();for(a=0;a<r.length;a++)VV(r[a],s)||u.push(r[a]);return QV(u)}function GA(r,e){var t={p:r,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function uO(r,e){var t=r[0]-e[0],n=r[1]-e[1];return t*t+n*n}function lO(r,e,t){var n=e[0],i=e[1],a=t[0]-n,o=t[1]-i;if(a!==0||o!==0){var s=((r[0]-n)*a+(r[1]-i)*o)/(a*a+o*o);s>1?(n=t[0],i=t[1]):s>0&&(n+=a*s,i+=o*s)}return a=r[0]-n,o=r[1]-i,a*a+o*o}function i0(r,e,t,n,i,a,o,s){var u=t-r,l=n-e,c=o-i,f=s-a,h=r-i,d=e-a,v=u*u+l*l,y=u*c+l*f,w=c*c+f*f,b=u*h+l*d,g=c*h+f*d,_=v*w-y*y,x,P,I,T,A=_,D=_;_===0?(P=0,A=1,T=g,D=w):(P=y*g-w*b,T=v*g-y*b,P<0?(P=0,T=g,D=w):P>A&&(P=A,T=g+y,D=w)),T<0?(T=0,-b<0?P=0:-b>v?P=A:(P=-b,A=v)):T>D&&(T=D,-b+y<0?P=0:-b+y>v?P=A:(P=-b+y,A=v)),x=P===0?0:P/A,I=T===0?0:T/D;var N=(1-x)*r+x*t,j=(1-x)*e+x*n,B=(1-I)*i+I*o,W=(1-I)*a+I*s,V=B-N,J=W-j;return V*V+J*J}function ZV(r,e){return r[0]===e[0]?r[1]-e[1]:r[0]-e[0]}function QV(r){r.sort(ZV);for(var e=[],t=0;t<r.length;t++){for(;e.length>=2&&bg(e[e.length-2],e[e.length-1],r[t])<=0;)e.pop();e.push(r[t])}for(var n=[],i=r.length-1;i>=0;i--){for(;n.length>=2&&bg(n[n.length-2],n[n.length-1],r[i])<=0;)n.pop();n.push(r[i])}return n.pop(),e.pop(),e.concat(n)}class qW extends Pb{constructor(t,n={excludeNodeMargin:!1}){super(t,n);An(this,"mousePosition");An(this,"targets");An(this,"shouldPan");An(this,"updateTargets",(t,n)=>{this.targets=t,this.currentOptions.excludeNodeMargin=n});An(this,"handleMouseDown",t=>{const n=this.nvlInstance.getHits(t,Ei.difference(["node","relationship"],this.targets),{hitNodeMarginWidth:this.currentOptions.excludeNodeMargin===!0?kV:0});n.nvlTargets.nodes.length>0||n.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.mousePosition={x:t.clientX,y:t.clientY},this.shouldPan=!0)});An(this,"handleMouseMove",t=>{if(!this.shouldPan||t.buttons!==1)return;const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=(t.clientX-this.mousePosition.x)/n*window.devicePixelRatio,s=(t.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.nvlInstance.setPan(i-o,a-s),this.callCallbackIfRegistered("onPan",{x:i-o,y:a-s},t),this.mousePosition={x:t.clientX,y:t.clientY}});An(this,"handleMouseUp",()=>{this.shouldPan=!1});this.mousePosition={x:0,y:0},this.targets=[],this.shouldPan=!1,this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}}class GW extends Pb{constructor(t,n={}){super(t,n);An(this,"throttledZoom",Ei.throttle(t=>{const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=t.deltaY/500,s=n-o*Math.min(1,n),u=DV(this.containerInstance,t),l=i+(u.x/n-u.x/s),c=a+(u.y/n-u.y/s);this.nvlInstance.setZoomAndPan(s,l,c),this.callCallbackIfRegistered("onZoom",s,t)},25,{leading:!0}));An(this,"handleWheel",t=>{t.preventDefault(),this.throttledZoom(t)});An(this,"destroy",()=>{this.removeEventListener("wheel",this.handleWheel)});this.addEventListener("wheel",this.handleWheel)}}const JV={name:"NodeCommon",props:{title:{type:String,default:""}},data(){return{isShowMenu:!1,menus:[{label:"10%",value:.1},{label:"50%",value:.5},{label:"100%",value:1},{label:"200%",value:2},{label:"300%",value:3},{label:"400%",value:4},{label:"500%",value:5}]}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(r){this.$emit("change",r)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(r){this.isShowMenu&&!this.$el.querySelector(".zoom-select-options").contains(r.target)&&r.target!==this.$el.querySelector(".zoom-select-label")&&(this.isShowMenu=!1)}}},eW=r=>(fD("data-v-223f6542"),r=r(),hD(),r),tW={class:"zoom-select"},rW={class:"zoom-select-options"},nW=["onClick"],iW=eW(()=>kd("div",{class:"option-line"},null,-1));function oW(r,e,t,n,i,a){return By(),Uy("div",tW,[kd("div",{class:"zoom-select-label",onClick:e[0]||(e[0]=(...o)=>a.showMenu&&a.showMenu(...o))},cS(t.title),1),sD(kd("div",rW,[(By(!0),Uy(lD,null,cD(i.menus,o=>(By(),Uy("div",{class:"zoom-select-option",key:o.value,onClick:s=>a.handleMenu(o)},cS(o.label),9,nW))),128)),iW,kd("div",{class:"zoom-select-option",onClick:e[1]||(e[1]=o=>a.handleMenu({label:"5%",value:5}))},"全览")],512),[[uD,i.isShowMenu]])])}const aW=zO(JV,[["render",oW],["__scopeId","data-v-223f6542"]]),sW={class:"custom-control-warpper"},uW={class:"custom-control"},lW={__name:"index",props:{value:{type:Number,default:1}},emits:["change"],setup(r,{emit:e}){const t=e,n=r,i=dD(()=>`${(n.value*100).toFixed(0)}%`),a=({value:l})=>{u(l)},o=()=>{let l=n.value-.1;l<.1&&(l=.1),u(l)},s=()=>{let l=n.value+.1;l>5&&(l=5),u(l)},u=l=>{l=Number(l.toFixed(1)),t("change",l)};return(l,c)=>{const f=_D;return By(),Uy("div",sW,[kd("div",uW,[kd("div",{class:"action-btn zoom-btn",onClick:o},[t_(f,{name:"minus",size:"16"})]),t_(aW,{onChange:a,title:i.value},null,8,["title"]),kd("div",{class:"action-btn zoom-btn",onClick:s},[t_(f,{name:"plus",size:"16"})])])])}}},VW=zO(lW,[["__scopeId","data-v-f2e37dca"]]);/*!
 * better-scroll / nested-scroll
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function VA(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function cW(r){console.error("[BScroll warn]: "+r)}var ym=typeof window<"u",j0=ym&&navigator.userAgent.toLowerCase();j0&&j0.indexOf("android")>0;(function(){if(typeof j0=="string"){var r=/os (\d\d?_\d(_\d)?)/,e=r.exec(j0);if(!e)return!1;var t=e[1].split("_").map(function(n){return parseInt(n,10)});return t[0]===13&&t[1]>=4}return!1})();var fW=!1;if(ym){var hW="test-passive";try{var WA={};Object.defineProperty(WA,"passive",{get:function(){fW=!0}}),window.addEventListener(hW,function(){},WA)}catch{}}var dW=function(r,e){for(var t in e)r[t]=e[t];return r};function _g(r,e){if(r.findIndex)return r.findIndex(e);var t=-1;return r.some(function(n,i,a){var o=e(n,i,a);if(o)return t=i,o}),t}var AM=ym&&document.createElement("div").style,Cg=function(){if(!ym)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,t=r;e<t.length;e++){var n=t[e];if(AM[n.value]!==void 0)return n.key}return!1}();function mh(r){return Cg===!1?r:Cg==="standard"?r==="transitionEnd"?"transitionend":r:Cg+r.charAt(0).toUpperCase()+r.substr(1)}Cg&&Cg!=="standard"&&""+Cg.toLowerCase();var vW=mh("transform"),pW=mh("transition");ym&&mh("perspective")in AM;mh("transitionTimingFunction"),mh("transitionDuration"),mh("transitionDelay"),mh("transformOrigin"),mh("transitionEnd"),mh("transitionProperty");var gW=function(){function r(e){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=e}return r.create=function(e){return new r(e)},r.prototype.hasAncestors=function(e){var t=_g(this.ancestors,function(n){var i=n[0];return i===e});return t>-1},r.prototype.hasDescendants=function(e){var t=_g(this.descendants,function(n){var i=n[0];return i===e});return t>-1},r.prototype.addAncestor=function(e,t){var n=this.ancestors;n.push([e,t]),n.sort(function(i,a){return i[1]-a[1]})},r.prototype.addDescendant=function(e,t){var n=this.descendants;n.push([e,t]),n.sort(function(i,a){return i[1]-a[1]})},r.prototype.removeAncestor=function(e){var t=this.ancestors;if(t.length){var n=_g(this.ancestors,function(i){var a=i[0];return a===e});if(n>-1)return t.splice(n,1)}},r.prototype.removeDescendant=function(e){var t=this.descendants;if(t.length){var n=_g(this.descendants,function(i){var a=i[0];return a===e});if(n>-1)return t.splice(n,1)}},r.prototype.registerHooks=function(e,t,n){e.on(t,n),this.hooksManager.push([e,t,n])},r.prototype.setAnalyzed=function(e){e===void 0&&(e=!1),this.analyzed=e},r.prototype.purge=function(){var e=this;this.ancestors.forEach(function(t){var n=t[0];n.removeDescendant(e)}),this.descendants.forEach(function(t){var n=t[0];n.removeAncestor(e)}),this.hooksManager.forEach(function(t){var n=t[0],i=t[1],a=t[2];n.off(i,a)}),this.hooksManager=[]},r}(),yW="plugins.nestedScroll",mW=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}],bW=mW.map(function(r){return{key:r.key,sourceKey:yW+"."+r.name}}),_W="INTERNAL_NESTED_SCROLL",wW=function(r){r.forEach(function(e){e.pending&&(e.stop(),e.resetPosition())})},HA=function(r){r.forEach(function(e){e.enable()})},o0=function(r,e){r.forEach(function(t){(t.hasHorizontalScroll===e.hasHorizontalScroll||t.hasVerticalScroll===e.hasVerticalScroll)&&t.disable()})},EW=function(r){r.forEach(function(e){var t=e.scroller,n=t.actions,i=t.scrollBehaviorX,a=t.scrollBehaviorY;n.fingerMoved=!0,n.contentMoved=!1,n.directionLockAction.reset(),i.start(),a.start(),i.resetStartPos(),a.resetStartPos(),n.startTime=+new Date})},OW=function(r){var e=r.hasHorizontalScroll,t=r.hasVerticalScroll,n=r.x,i=r.y,a=r.minScrollX,o=r.maxScrollX,s=r.minScrollY,u=r.maxScrollY,l=r.movingDirectionX,c=r.movingDirectionY,f=!1,h=n>=a&&l===-1,d=n<=o&&l===1,v=i>=s&&c===-1,y=i<=u&&c===1;return t?f=v||y:e&&(f=h||d),f},xW=function(r){var e=r.hasHorizontalScroll,t=r.hasVerticalScroll,n=r.x,i=r.y,a=r.minScrollX,o=r.maxScrollX,s=r.minScrollY,u=r.maxScrollY,l=!1,c=n>a,f=n<o,h=i>s,d=i<u;return t?l=h||d:e&&(l=c||f),l},SW=function(r){r.scroller.reflow(),r.resetPosition(0)},TW=function(r,e){for(var t=0,n=r.parentNode;n&&n!==e;)t++,n=n.parentNode;return t},CW=function(){function r(e){var t=this.handleOptions(e),n=r.instancesMap[t];return n||(n=r.instancesMap[t]=this,n.store=[],n.hooksFn=[]),n.init(e),n}return r.getAllNestedScrolls=function(){var e=r.instancesMap;return Object.keys(e).map(function(t){return e[t]})},r.purgeAllNestedScrolls=function(){var e=r.getAllNestedScrolls();e.forEach(function(t){return t.purgeNestedScroll()})},r.prototype.handleOptions=function(e){var t=e.options.nestedScroll===!0?{}:e.options.nestedScroll,n={groupId:_W};this.options=dW(n,t);var i=typeof this.options.groupId;return i!=="string"&&i!=="number"&&cW("groupId must be string or number for NestedScroll plugin"),this.options.groupId},r.prototype.init=function(e){e.proxy(bW),this.addBScroll(e),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(e)},r.prototype.handleHooks=function(e){var t=this;this.registerHooks(e.hooks,e.hooks.eventTypes.destroy,function(){t.deleteScroll(e)})},r.prototype.deleteScroll=function(e){var t=e.wrapper;t.isBScrollContainer=void 0;var n=this.store,i=this.hooksFn,a=_g(n,function(h){return h.selfScroll===e});if(a>-1){var o=n[a];o.purge(),n.splice(a,1)}var s=_g(i,function(h){var d=h[0];return d===e.hooks});if(s>-1){var u=i[s],l=u[0],c=u[1],f=u[2];l.off(c,f),i.splice(s,1)}},r.prototype.addBScroll=function(e){this.store.push(gW.create(e))},r.prototype.buildBScrollGraph=function(){for(var e=this.store,t,n,i,a,o=this.store.length,s=0;s<o;s++){t=e[s],i=t.selfScroll.wrapper;for(var u=0;u<o;u++)if(n=e[u],a=n.selfScroll.wrapper,t!==n&&i.contains(a)){var l=TW(a,i);t.hasDescendants(n)||t.addDescendant(n,l),n.hasAncestors(t)||n.addAncestor(t,l)}}},r.prototype.analyzeBScrollGraph=function(){this.store.forEach(function(e){if(!e.analyzed){var t=e.ancestors,n=e.descendants,i=e.selfScroll,a=function(){var u=t.map(function(c){var f=c[0];return f.selfScroll}),l=n.map(function(c){var f=c[0];return f.selfScroll});wW(VA(u,l)),xW(i)&&SW(i),EW(u),o0(u,i)},o=function(){var u=t.map(function(c){var f=c[0];return f.selfScroll}),l=n.map(function(c){var f=c[0];return f.selfScroll});HA(VA(u,l))};e.registerHooks(i,i.eventTypes.beforeScrollStart,a),e.registerHooks(i,i.eventTypes.touchEnd,o);var s=i.scroller.actions.hooks;e.registerHooks(s,s.eventTypes.detectMovingDirection,function(){var u=t.map(function(d){var v=d[0];return v.selfScroll}),l=u[0],c=u.slice(1),f=i.scroller.actions.contentMoved,h=u.length===0;if(f)o0(u,i);else if(!h&&OW(i))return o0([i],i),l&&HA([l]),o0(c,i),!0}),e.setAnalyzed(!0)}})},r.prototype.ensureEventInvokeSequence=function(){var e=this.store.slice(),t=e.sort(function(n,i){return n.descendants.length-i.descendants.length});t.forEach(function(n){var i=n.selfScroll;i.scroller.actionsHandler.rebindDOMEvents()})},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.purgeNestedScroll=function(){var e=this.options.groupId;this.store.forEach(function(t){t.purge()}),this.store=[],this.hooksFn.forEach(function(t){var n=t[0],i=t[1],a=t[2];n.off(i,a)}),this.hooksFn=[],delete r.instancesMap[e]},r.pluginName="nestedScroll",r.instancesMap={},r}();const PW={class:"scroll-content"},AW={__name:"cu-scroll",props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},scrollbar:{type:[Boolean,Object],default:null},pullUpLoad:{type:[Boolean,Object],default:!0},groupId:{type:String,default:""}},emits:["onScrollEnd","scroll"],setup(r,{expose:e,emit:t}){og.use(wD),og.use(ED),og.use(xD),og.use(OD),og.use(CW);const n=t,i=r,a=vD(null);let o=null;const s=()=>{o.refresh()},u=f=>{let{el:h,time:d,offsetX:v,offsetY:y,easing:w}=f;o.scrollToElement(h,d,v,y,w)},l=()=>{o.enable()},c=()=>{o.disable()};return pD(()=>{let f={scrollX:i.scrollX,scrollY:i.scrollY,scrollbar:i.scrollbar||{},observeDOM:!0,pullUpLoad:i.pullUpLoad,probeType:0,mouseWheel:{speed:20,invert:!1,easeTime:300},preventDefault:!1,bounce:!1,click:!0};i.groupId&&(f.nestedScroll={groupId:i.groupId}),o=new og(a.value,f),o.on("pullingUp",()=>{n("onScrollEnd"),gD(()=>{o.finishPullUp()})}),o.on("scroll",h=>{n("scroll",h)})}),yD(()=>{o&&o.destroy()}),e({refresh:s,scrollToElement:u,enable:l,disable:c}),(f,h)=>(By(),Uy("div",{class:"scroll-wrapper",ref_key:"scroller",ref:a},[kd("div",PW,[mD(f.$slots,"default",{},void 0,!0)])],512))}},WW=zO(AW,[["__scopeId","data-v-feb19931"]]);export{UW as C,zW as H,qW as P,VW as Z,or as _,GW as a,WW as b,ar as c,jo as d,Dt as e,BW as f,jW as g,kg as h,tm as i,OM as j,Cd as k,iO as l,NW as m,tV as n,cc as o,VG as p,Vk as q,n0 as r,Bx as s,Gx as t,FW as u,Gy as v,v7 as w,Eh as x,Zq as y,rV as z};
