import{b as O,e as I,M,E as U,k as d,a9 as A,aa as B,d as R,B as V}from"../../index-CfxQ5aRu.js";import{S as N}from"./index-BLP-Fxny.js";import{S as T}from"./SettingOutlined-fTdHQK4u.js";import"./index-DcUUFn-g.js";import{I as Y}from"./Input-C5WaaE9Z.js";import{e as v,B as z,x as E,M as F,N as Z,W as o,k as i,S as h,u as D,Y as k,a1 as G,a2 as q}from"./vue-chunks-BjMuQ6KD.js";import{_ as H}from"./index-BCGkuM1J.js";import"./axios-Cm0UX6qg.js";import"./qs-DjdPq-RR.js";import"./crypto-js-BemCeW_6.js";import"./dayjs-DK4rpucX.js";import"./FormItemContext-DQ1b1ToO.js";import"./index-D6-G2N0k.js";import"./Search-DozVr2pE.js";import"./SearchOutlined-B7dGgS_P.js";import"./isPlainObject-xAKL-sfk.js";import"./inputProps-D7qr__m5.js";import"./TextArea-CN_AI7y7.js";import"./index-CXSrVsd0.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./Password-BCnVcrNJ.js";const a=_=>(G("data-v-d55226ed"),_=_(),q(),_),J={class:"aliocr-main"},L=a(()=>o("div",{class:"aliocr-title"},"阿里云OCR",-1)),P={class:"aliocr-switch-box"},W={class:"aliocr-switch-nav-box"},$=a(()=>o("div",{class:"aliocr-switch-nav-title"},"阿里云OCR",-1)),j=a(()=>o("div",{class:"aliocr-info"},"开启后，Pdf文档解析支持阿里云OCR解析，结果更精准，高效",-1)),K={class:"aliocr-switch-btn-box"},Q={class:"aliocr-config-box"},X={class:"aliocr-config-nav"},oo=a(()=>o("div",{class:"aliocr-config-nav-title"},"接入配置",-1)),eo=a(()=>o("div",{class:"aliocr-config-nav-line"},null,-1)),co={class:"aliocr-config-form"},so={class:"aliocr-config-form-item"},io=a(()=>o("div",{class:"aliocr-config-form-label"},"Accesskey ID",-1)),to={class:"aliocr-config-form-item"},ao=a(()=>o("div",{class:"aliocr-config-form-label"},"Accesskey Secret",-1)),no={class:"aliocr-config-form-item"},lo={__name:"index",setup(_){const n=v(!1),c=z({ali_ocr_key:"",ali_ocr_secret:""}),r=v(!1),t=I(),m=async()=>{await t.getCompanyInfo()};function p(){if(!c.ali_ocr_key)return"请输入Accesskey ID";if(!c.ali_ocr_secret)return"请输入Accesskey Secret"}const g=s=>{s&&p()?(n.value=!n.value,M.confirm({title:"接入阿里云OCR配置",icon:i(U),content:"开启前请先接入阿里云OCR",okText:"知道了",cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):u()},y=()=>{const s=p();if(s)return d.error(s);r.value=!0,B({...c}).then(e=>{d.success("测试通过")}).finally(()=>{r.value=!1})},u=()=>{const s=p();if(s)return d.error(s);r.value=!0,A({ali_ocr_switch:n.value?1:2,...c}).then(e=>{d.success("保存成功"),m()}).finally(()=>{r.value=!1})},w=s=>{window.open(s)};return E(async()=>{await m(),t.ali_ocr_key&&(c.ali_ocr_key=t.ali_ocr_key),t.ali_ocr_secret&&(c.ali_ocr_secret=t.ali_ocr_secret),t.ali_ocr_switch&&(n.value=t.ali_ocr_switch==1)}),(s,e)=>{const C=R,x=H,f=Y,S=V,b=N;return F(),Z("div",J,[L,o("div",P,[o("div",W,[i(C,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),$]),j,o("div",K,[i(x,{onChange:g,checked:n.value,"onUpdate:checked":e[0]||(e[0]=l=>n.value=l),"checked-children":"开","un-checked-children":"关",checkedValue:!0,unCheckedValue:!1},null,8,["checked"])])]),i(b,{tip:"加载中...",spinning:r.value},{default:h(()=>[o("div",Q,[o("div",X,[i(D(T),{style:{"font-size":"16px"}}),oo,eo,o("div",{class:"alicor-config-nav-url",onClick:e[1]||(e[1]=l=>w("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},"如何接入?")]),o("div",co,[o("div",so,[io,i(f,{value:c.ali_ocr_key,"onUpdate:value":e[2]||(e[2]=l=>c.ali_ocr_key=l),placeholder:"请输入"},null,8,["value"])]),o("div",to,[ao,i(f,{value:c.ali_ocr_secret,"onUpdate:value":e[3]||(e[3]=l=>c.ali_ocr_secret=l),placeholder:"请输入"},null,8,["value"])]),o("div",no,[o("div",{class:"aliocr-config-form-label"},[k("配置完成后，点击 "),o("div",{class:"alicor-config-nav-url",onClick:y},"调用测试")]),i(S,{type:"primary",onClick:u},{default:h(()=>[k("保存")]),_:1})])])])]),_:1},8,["spinning"])])}}},Bo=O(lo,[["__scopeId","data-v-d55226ed"]]);export{Bo as default};
