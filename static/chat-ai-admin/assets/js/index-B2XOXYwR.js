import{P as me,C as Rt,t as k,cP as zt,q as X,N as ue,y as Vt,x as ht,K as $e,I as _e,W as kn,bf as Sn,z as wn,A as Cn,bo as On,cJ as En,cm as St,G as qt,v as dt,Q as He,V as de,T as Dn,bl as Ne,U as ct,F as $n}from"../../index-D5kWFI_D.js";import{s as F,h as Ce,e as Ee,p as Ut,b,a as Wt,j as m,z as Gt,f as Nn,q as Xt,v as Yt,w as ve,o as Pn,A as Tn,H as In,I as _n,x as gt,d as fe,F as An,D as Ln,G as wt,l as Mn}from"./vue-chunks-BRsu9_To.js";import{g as Re,e as ze,f as Jt,h as Qt,u as Fn,b as pe,i as jn,j as Ct,d as ke,p as Bn,a as at,k as ut,c as Zt,l as ft,m as Hn,n as Ot,o as lt}from"./useMaxLevel-BWnZSZWL.js";import{L as Rn}from"./index-DKL6lsbQ.js";import{f as zn,g as Vn}from"./collapseMotion-Brd6xpAT.js";import{C as qn}from"./CaretDownFilled-D71A1QnS.js";import{g as Un}from"./index-Yb0PVvN4.js";import{d as Wn}from"./responsiveObserve-CkCS37Fy.js";function ce(e){const t=F();return Ce(()=>{t.value=e()},{flush:"sync"}),t}const en=Symbol("TreeContextKey"),Gn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Ut(en,b(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),pt=()=>Wt(en,b(()=>({}))),tn=Symbol("KeysStateKey"),Xn=e=>{Ut(tn,e)},nn=()=>Wt(tn,{expandedKeys:F([]),selectedKeys:F([]),loadedKeys:F([]),loadingKeys:F([]),checkedKeys:F([]),halfCheckedKeys:F([]),expandedKeysSet:b(()=>new Set),selectedKeysSet:b(()=>new Set),loadedKeysSet:b(()=>new Set),loadingKeysSet:b(()=>new Set),checkedKeysSet:b(()=>new Set),halfCheckedKeysSet:b(()=>new Set),flattenNodes:F([])}),Yn=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const v=`${t}-indent-unit`,s=[];for(let p=0;p<n;p+=1)s.push(m("span",{key:p,class:{[v]:!0,[`${v}-start`]:o[p],[`${v}-end`]:a[p]}},null));return m("span",{"aria-hidden":"true",class:`${t}-indent`},[s])},on={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},Jn={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},an=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var Qn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Et="open",Dt="close",Zn="---",vt=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:on,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Rt(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(l=>"`v-slot:"+l+"` ")}instead`);const v=F(!1),s=pt(),{expandedKeysSet:p,selectedKeysSet:C,loadedKeysSet:S,loadingKeysSet:D,checkedKeysSet:K,halfCheckedKeysSet:V}=nn(),{dragOverNodeKey:L,dropPosition:G,keyEntities:h}=s.value,f=b(()=>Re(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:C.value,loadedKeysSet:S.value,loadingKeysSet:D.value,checkedKeysSet:K.value,halfCheckedKeysSet:V.value,dragOverNodeKey:L,dropPosition:G,keyEntities:h})),w=ce(()=>f.value.expanded),z=ce(()=>f.value.selected),j=ce(()=>f.value.checked),W=ce(()=>f.value.loaded),B=ce(()=>f.value.loading),Y=ce(()=>f.value.halfChecked),J=ce(()=>f.value.dragOver),R=ce(()=>f.value.dragOverGapTop),u=ce(()=>f.value.dragOverGapBottom),O=ce(()=>f.value.pos),_=F(),Q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{children:I}=d[l]||{};return!!(I||[]).length}),H=b(()=>{const{isLeaf:l}=e,{loadData:d}=s.value,I=Q.value;return l===!1?!1:l||!d&&!I||d&&W.value&&!I}),oe=b(()=>H.value?null:w.value?Et:Dt),te=b(()=>{const{disabled:l}=e,{disabled:d}=s.value;return!!(d||l)}),Ke=b(()=>{const{checkable:l}=e,{checkable:d}=s.value;return!d||l===!1?!1:d}),re=b(()=>{const{selectable:l}=e,{selectable:d}=s.value;return typeof l=="boolean"?l:d}),T=b(()=>{const{data:l,active:d,checkable:I,disableCheckbox:U,disabled:Z,selectable:ee}=e;return k(k({active:d,checkable:I,disableCheckbox:U,disabled:Z,selectable:ee},l),{dataRef:l,data:l,isLeaf:H.value,checked:j.value,expanded:w.value,loading:B.value,selected:z.value,halfChecked:Y.value})}),ye=Nn(),q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{parent:I}=d[l]||{};return k(k({},ze(k({},e,f.value))),{parent:I})}),ne=Gt({eventData:q,eventKey:b(()=>e.eventKey),selectHandle:_,pos:O,key:ye.vnode.key});a(ne);const ie=l=>{const{onNodeDoubleClick:d}=s.value;d(l,q.value)},he=l=>{if(te.value)return;const{onNodeSelect:d}=s.value;l.preventDefault(),d(l,q.value)},Se=l=>{if(te.value)return;const{disableCheckbox:d}=e,{onNodeCheck:I}=s.value;if(!Ke.value||d)return;l.preventDefault();const U=!j.value;I(l,q.value,U)},De=l=>{const{onNodeClick:d}=s.value;d(l,q.value),re.value?he(l):Se(l)},Pe=l=>{const{onNodeMouseEnter:d}=s.value;d(l,q.value)},Ue=l=>{const{onNodeMouseLeave:d}=s.value;d(l,q.value)},We=l=>{const{onNodeContextMenu:d}=s.value;d(l,q.value)},Ge=l=>{const{onNodeDragStart:d}=s.value;l.stopPropagation(),v.value=!0,d(l,ne);try{l.dataTransfer.setData("text/plain","")}catch{}},Xe=l=>{const{onNodeDragEnter:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Ye=l=>{const{onNodeDragOver:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Ae=l=>{const{onNodeDragLeave:d}=s.value;l.stopPropagation(),d(l,ne)},Je=l=>{const{onNodeDragEnd:d}=s.value;l.stopPropagation(),v.value=!1,d(l,ne)},Qe=l=>{const{onNodeDrop:d}=s.value;l.preventDefault(),l.stopPropagation(),v.value=!1,d(l,ne)},Le=l=>{const{onNodeExpand:d}=s.value;B.value||d(l,q.value)},Me=()=>{const{data:l}=e,{draggable:d}=s.value;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(l)))},Fe=()=>{const{draggable:l,prefixCls:d}=s.value;return l&&(l!=null&&l.icon)?m("span",{class:`${d}-draggable-icon`},[l.icon]):null},Ze=()=>{var l,d,I;const{switcherIcon:U=o.switcherIcon||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.switcherIcon])}=e,{switcherIcon:Z}=s.value,ee=U||Z;return typeof ee=="function"?ee(T.value):ee},je=()=>{const{loadData:l,onNodeLoad:d}=s.value;B.value||l&&w.value&&!H.value&&!Q.value&&!W.value&&d(q.value)};Xt(()=>{je()}),Yt(()=>{je()});const et=()=>{const{prefixCls:l}=s.value,d=Ze();if(H.value)return d!==!1?m("span",{class:ue(`${l}-switcher`,`${l}-switcher-noop`)},[d]):null;const I=ue(`${l}-switcher`,`${l}-switcher_${w.value?Et:Dt}`);return d!==!1?m("span",{onClick:Le,class:I},[d]):null},tt=()=>{var l,d;const{disableCheckbox:I}=e,{prefixCls:U}=s.value,Z=te.value;return Ke.value?m("span",{class:ue(`${U}-checkbox`,j.value&&`${U}-checkbox-checked`,!j.value&&Y.value&&`${U}-checkbox-indeterminate`,(Z||I)&&`${U}-checkbox-disabled`),onClick:Se},[(d=(l=s.value).customCheckable)===null||d===void 0?void 0:d.call(l)]):null},Be=()=>{const{prefixCls:l}=s.value;return m("span",{class:ue(`${l}-iconEle`,`${l}-icon__${oe.value||"docu"}`,B.value&&`${l}-icon_loading`)},null)},we=()=>{const{disabled:l,eventKey:d}=e,{draggable:I,dropLevelOffset:U,dropPosition:Z,prefixCls:ee,indent:r,dropIndicatorRender:i,dragOverNodeKey:c,direction:g}=s.value;return!l&&I!==!1&&c===d?i({dropPosition:Z,dropLevelOffset:U,indent:r,prefixCls:ee,direction:g}):null},nt=()=>{var l,d,I,U,Z,ee;const{icon:r=o.icon,data:i}=e,c=o.title||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.title])||((U=s.value.slots)===null||U===void 0?void 0:U.title)||e.title,{prefixCls:g,showIcon:E,icon:x,loadData:y}=s.value,N=te.value,M=`${g}-node-content-wrapper`;let $;if(E){const ae=r||((Z=s.value.slots)===null||Z===void 0?void 0:Z[(ee=i==null?void 0:i.slots)===null||ee===void 0?void 0:ee.icon])||x;$=ae?m("span",{class:ue(`${g}-iconEle`,`${g}-icon__customize`)},[typeof ae=="function"?ae(T.value):ae]):Be()}else y&&B.value&&($=Be());let P;typeof c=="function"?P=c(T.value):P=c,P=P===void 0?Zn:P;const A=m("span",{class:`${g}-title`},[P]);return m("span",{ref:_,title:typeof c=="string"?c:"",class:ue(`${M}`,`${M}-${oe.value||"normal"}`,!N&&(z.value||v.value)&&`${g}-node-selected`),onMouseenter:Pe,onMouseleave:Ue,onContextmenu:We,onClick:De,onDblclick:ie},[$,A,we()])};return()=>{const l=k(k({},e),n),{eventKey:d,isLeaf:I,isStart:U,isEnd:Z,domRef:ee,active:r,data:i,onMousemove:c,selectable:g}=l,E=Qn(l,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:x,filterTreeNode:y,keyEntities:N,dropContainerKey:M,dropTargetKey:$,draggingNodeKey:P}=s.value,A=te.value,ae=zt(E,{aria:!0,data:!0}),{level:ge}=N[d]||{},se=Z[Z.length-1],le=Me(),xe=!A&&le,Te=P===d,ot=g!==void 0?{"aria-selected":!!g}:void 0;return m("div",X(X({ref:ee,class:ue(n.class,`${x}-treenode`,{[`${x}-treenode-disabled`]:A,[`${x}-treenode-switcher-${w.value?"open":"close"}`]:!I,[`${x}-treenode-checkbox-checked`]:j.value,[`${x}-treenode-checkbox-indeterminate`]:Y.value,[`${x}-treenode-selected`]:z.value,[`${x}-treenode-loading`]:B.value,[`${x}-treenode-active`]:r,[`${x}-treenode-leaf-last`]:se,[`${x}-treenode-draggable`]:xe,dragging:Te,"drop-target":$===d,"drop-container":M===d,"drag-over":!A&&J.value,"drag-over-gap-top":!A&&R.value,"drag-over-gap-bottom":!A&&u.value,"filter-node":y&&y(q.value)}),style:n.style,draggable:xe,"aria-grabbed":Te,onDragstart:xe?Ge:void 0,onDragenter:le?Xe:void 0,onDragover:le?Ye:void 0,onDragleave:le?Ae:void 0,onDrop:le?Qe:void 0,onDragend:le?Je:void 0,onMousemove:c},ot),ae),[m(Yn,{prefixCls:x,level:ge,isStart:U,isEnd:Z},null),Fe(),et(),tt(),nt()])}}});var $t=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const eo=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:k(k({},on),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=F(!0),v=pt(),s=F(!1),p=b(()=>e.motion?e.motion:zn()),C=(S,D)=>{var K,V,L,G;D==="appear"?(V=(K=p.value)===null||K===void 0?void 0:K.onAfterEnter)===null||V===void 0||V.call(K,S):D==="leave"&&((G=(L=p.value)===null||L===void 0?void 0:L.onAfterLeave)===null||G===void 0||G.call(L,S)),s.value||e.onMotionEnd(),s.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&gt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Xt(()=>{e.motionNodes&&e.onMotionStart()}),Pn(()=>{e.motionNodes&&C()}),()=>{const{motion:S,motionNodes:D,motionType:K,active:V,eventKey:L}=e,G=$t(e,["motion","motionNodes","motionType","active","eventKey"]);return D?m(Tn,X(X({},p.value),{},{appear:K==="show",onAfterAppear:h=>C(h,"appear"),onAfterLeave:h=>C(h,"leave")}),{default:()=>[In(m("div",{class:`${v.value.prefixCls}-treenode-motion`},[D.map(h=>{const f=$t(h.data,[]),{title:w,key:z,isStart:j,isEnd:W}=h;return delete f.children,m(vt,X(X({},f),{},{title:w,active:V,data:h.data,key:z,eventKey:z,isStart:j,isEnd:W}),o)})]),[[_n,a.value]])]}):m(vt,X(X({class:n.class,style:n.style},G),{},{active:V,eventKey:L}),o)}}});function to(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(v,s){const p=new Map;v.forEach(S=>{p.set(S,!0)});const C=s.filter(S=>!p.has(S));return C.length===1?C[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function Nt(e,t,n){const o=e.findIndex(s=>s.key===n),a=e[o+1],v=t.findIndex(s=>s.key===n);if(a){const s=t.findIndex(p=>p.key===a.key);return t.slice(v+1,s)}return t.slice(v+1)}var Pt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Tt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},no=()=>{},Oe=`RC_TREE_MOTION_${Math.random()}`,yt={key:Oe},ln={key:Oe,level:0,index:0,pos:"0",node:yt,nodes:[yt]},It={parent:null,children:[],pos:ln.pos,data:yt,title:null,key:Oe,isStart:[],isEnd:[]};function _t(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function At(e){const{key:t,pos:n}=e;return Jt(t,n)}function oo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const ao=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Jn,setup(e,t){let{expose:n,attrs:o}=t;const a=fe(),v=fe(),{expandedKeys:s,flattenNodes:p}=nn();n({scrollTo:h=>{a.value.scrollTo(h)},getIndentWidth:()=>v.value.offsetWidth});const C=F(p.value),S=F([]),D=fe(null);function K(){C.value=p.value,S.value=[],D.value=null,e.onListChangeEnd()}const V=pt();ve([()=>s.value.slice(),p],(h,f)=>{let[w,z]=h,[j,W]=f;const B=to(j,w);if(B.key!==null){const{virtual:Y,height:J,itemHeight:R}=e;if(B.add){const u=W.findIndex(Q=>{let{key:H}=Q;return H===B.key}),O=_t(Nt(W,z,B.key),Y,J,R),_=W.slice();_.splice(u+1,0,It),C.value=_,S.value=O,D.value="show"}else{const u=z.findIndex(Q=>{let{key:H}=Q;return H===B.key}),O=_t(Nt(z,W,B.key),Y,J,R),_=z.slice();_.splice(u+1,0,It),C.value=_,S.value=O,D.value="hide"}}else W!==z&&(C.value=z)}),ve(()=>V.value.dragging,h=>{h||K()});const L=b(()=>e.motion===void 0?C.value:p.value),G=()=>{e.onActiveChange(null)};return()=>{const h=k(k({},e),o),{prefixCls:f,selectable:w,checkable:z,disabled:j,motion:W,height:B,itemHeight:Y,virtual:J,focusable:R,activeItem:u,focused:O,tabindex:_,onKeydown:Q,onFocus:H,onBlur:oe,onListChangeStart:te,onListChangeEnd:Ke}=h,re=Pt(h,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return m(An,null,[O&&u&&m("span",{style:Tt,"aria-live":"assertive"},[oo(u)]),m("div",null,[m("input",{style:Tt,disabled:R===!1||j,tabindex:R!==!1?_:null,onKeydown:Q,onFocus:H,onBlur:oe,value:"",onChange:no,"aria-label":"for screen reader"},null)]),m("div",{class:`${f}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[m("div",{class:`${f}-indent`},[m("div",{ref:v,class:`${f}-indent-unit`},null)])]),m(Rn,X(X({},Vt(re,["onActiveChange"])),{},{data:L.value,itemKey:At,height:B,fullHeight:!1,virtual:J,itemHeight:Y,prefixCls:`${f}-list`,ref:a,onVisibleChange:(T,ye)=>{const q=new Set(T);ye.filter(ie=>!q.has(ie)).some(ie=>At(ie)===Oe)&&K()}}),{default:T=>{const{pos:ye}=T,q=Pt(T.data,[]),{title:ne,key:ie,isStart:he,isEnd:Se}=T,De=Jt(ie,ye);return delete q.key,delete q.children,m(eo,X(X({},q),{},{eventKey:De,title:ne,active:!!u&&ie===u.key,data:T.data,isStart:he,isEnd:Se,motion:W,motionNodes:ie===Oe?S.value:null,motionType:D.value,onMotionStart:te,onMotionEnd:K,onMousemove:G}),null)}})])}}});function lo(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return m("div",{style:a},null)}const ro=10,io=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:ht(an(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:lo,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const v=F(!1);let s={};const p=F(),C=F([]),S=F([]),D=F([]),K=F([]),V=F([]),L=F([]),G={},h=Gt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),f=F([]);ve([()=>e.treeData,()=>e.children],()=>{f.value=e.treeData!==void 0?e.treeData.slice():ut(wt(e.children))},{immediate:!0,deep:!0});const w=F({}),z=F(!1),j=F(null),W=F(!1),B=b(()=>Qt(e.fieldNames)),Y=F();let J=null,R=null,u=null;const O=b(()=>({expandedKeysSet:_.value,selectedKeysSet:Q.value,loadedKeysSet:H.value,loadingKeysSet:oe.value,checkedKeysSet:te.value,halfCheckedKeysSet:Ke.value,dragOverNodeKey:h.dragOverNodeKey,dropPosition:h.dropPosition,keyEntities:w.value})),_=b(()=>new Set(L.value)),Q=b(()=>new Set(C.value)),H=b(()=>new Set(K.value)),oe=b(()=>new Set(V.value)),te=b(()=>new Set(S.value)),Ke=b(()=>new Set(D.value));Ce(()=>{if(f.value){const r=Zt(f.value,{fieldNames:B.value});w.value=k({[Oe]:ln},r.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,w],(r,i)=>{let[c,g]=r,[E,x]=i,y=L.value;if(e.expandedKeys!==void 0||re&&g!==x)y=e.autoExpandParent||!re&&e.defaultExpandParent?ft(e.expandedKeys,w.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const N=k({},w.value);delete N[Oe],y=Object.keys(N).map(M=>N[M].key)}else!re&&e.defaultExpandedKeys&&(y=e.autoExpandParent||e.defaultExpandParent?ft(e.defaultExpandedKeys,w.value):e.defaultExpandedKeys);y&&(L.value=y),re=!0},{immediate:!0});const T=F([]);Ce(()=>{T.value=Hn(f.value,L.value,B.value)}),Ce(()=>{e.selectable&&(e.selectedKeys!==void 0?C.value=Ot(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(C.value=Ot(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:q}=Fn(w);Ce(()=>{if(e.checkable){let r;if(e.checkedKeys!==void 0?r=lt(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?r=lt(e.defaultCheckedKeys)||{}:f.value&&(r=lt(e.checkedKeys)||{checkedKeys:S.value,halfCheckedKeys:D.value}),r){let{checkedKeys:i=[],halfCheckedKeys:c=[]}=r;e.checkStrictly||({checkedKeys:i,halfCheckedKeys:c}=at(i,!0,w.value,ye.value,q.value)),S.value=i,D.value=c}}}),Ce(()=>{e.loadedKeys&&(K.value=e.loadedKeys)});const ne=()=>{k(h,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=r=>{Y.value.scrollTo(r)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(j.value=e.activeKey)},{immediate:!0}),ve(j,r=>{gt(()=>{r!==null&&ie({key:r})})},{immediate:!0,flush:"post"});const he=r=>{e.expandedKeys===void 0&&(L.value=r)},Se=()=>{h.draggingNodeKey!==null&&k(h,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),J=null,u=null},De=(r,i)=>{const{onDragend:c}=e;h.dragOverNodeKey=null,Se(),c==null||c({event:r,node:i.eventData}),R=null},Pe=r=>{De(r,null),window.removeEventListener("dragend",Pe)},Ue=(r,i)=>{const{onDragstart:c}=e,{eventKey:g,eventData:E}=i;R=i,J={x:r.clientX,y:r.clientY};const x=pe(L.value,g);h.draggingNodeKey=g,h.dragChildrenKeys=jn(g,w.value),p.value=Y.value.getIndentWidth(),he(x),window.addEventListener("dragend",Pe),c&&c({event:r,node:E})},We=(r,i)=>{const{onDragenter:c,onExpand:g,allowDrop:E,direction:x}=e,{pos:y,eventKey:N}=i;if(u!==N&&(u=N),!R){ne();return}const{dropPosition:M,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge,dragOverNodeKey:se}=Ct(r,R,i,p.value,J,E,T.value,w.value,_.value,x);if(h.dragChildrenKeys.indexOf(P)!==-1||!ge){ne();return}if(s||(s={}),Object.keys(s).forEach(le=>{clearTimeout(s[le])}),R.eventKey!==i.eventKey&&(s[y]=window.setTimeout(()=>{if(h.draggingNodeKey===null)return;let le=L.value.slice();const xe=w.value[i.eventKey];xe&&(xe.children||[]).length&&(le=ke(L.value,i.eventKey)),he(le),g&&g(le,{node:i.eventData,expanded:!0,nativeEvent:r})},800)),R.eventKey===P&&$===0){ne();return}k(h,{dragOverNodeKey:se,dropPosition:M,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge}),c&&c({event:r,node:i.eventData,expandedKeys:L.value})},Ge=(r,i)=>{const{onDragover:c,allowDrop:g,direction:E}=e;if(!R)return;const{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:M,dropAllowed:$,dropTargetPos:P,dragOverNodeKey:A}=Ct(r,R,i,p.value,J,g,T.value,w.value,_.value,E);h.dragChildrenKeys.indexOf(N)!==-1||!$||(R.eventKey===N&&y===0?h.dropPosition===null&&h.dropLevelOffset===null&&h.dropTargetKey===null&&h.dropContainerKey===null&&h.dropTargetPos===null&&h.dropAllowed===!1&&h.dragOverNodeKey===null||ne():x===h.dropPosition&&y===h.dropLevelOffset&&N===h.dropTargetKey&&M===h.dropContainerKey&&P===h.dropTargetPos&&$===h.dropAllowed&&A===h.dragOverNodeKey||k(h,{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:M,dropTargetPos:P,dropAllowed:$,dragOverNodeKey:A}),c&&c({event:r,node:i.eventData}))},Xe=(r,i)=>{u===i.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(ne(),u=null);const{onDragleave:c}=e;c&&c({event:r,node:i.eventData})},Ye=function(r,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var g;const{dragChildrenKeys:E,dropPosition:x,dropTargetKey:y,dropTargetPos:N,dropAllowed:M}=h;if(!M)return;const{onDrop:$}=e;if(h.dragOverNodeKey=null,Se(),y===null)return;const P=k(k({},Re(y,wt(O.value))),{active:((g=I.value)===null||g===void 0?void 0:g.key)===y,data:w.value[y].node});E.indexOf(y);const A=Bn(N),ae={event:r,node:ze(P),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(E),dropToGap:x!==0,dropPosition:x+Number(A[A.length-1])};c||$==null||$(ae),R=null},Ae=(r,i)=>{const{expanded:c,key:g}=i,E=T.value.filter(y=>y.key===g)[0],x=ze(k(k({},Re(g,O.value)),{data:E.data}));he(c?pe(L.value,g):ke(L.value,g)),we(r,x)},Je=(r,i)=>{const{onClick:c,expandAction:g}=e;g==="click"&&Ae(r,i),c&&c(r,i)},Qe=(r,i)=>{const{onDblclick:c,expandAction:g}=e;(g==="doubleclick"||g==="dblclick")&&Ae(r,i),c&&c(r,i)},Le=(r,i)=>{let c=C.value;const{onSelect:g,multiple:E}=e,{selected:x}=i,y=i[B.value.key],N=!x;N?E?c=ke(c,y):c=[y]:c=pe(c,y);const M=w.value,$=c.map(P=>{const A=M[P];return A?A.node:null}).filter(P=>P);e.selectedKeys===void 0&&(C.value=c),g&&g(c,{event:"select",selected:N,node:i,selectedNodes:$,nativeEvent:r})},Me=(r,i,c)=>{const{checkStrictly:g,onCheck:E}=e,x=i[B.value.key];let y;const N={event:"check",node:i,checked:c,nativeEvent:r},M=w.value;if(g){const $=c?ke(S.value,x):pe(S.value,x),P=pe(D.value,x);y={checked:$,halfChecked:P},N.checkedNodes=$.map(A=>M[A]).filter(A=>A).map(A=>A.node),e.checkedKeys===void 0&&(S.value=$)}else{let{checkedKeys:$,halfCheckedKeys:P}=at([...S.value,x],!0,M,ye.value,q.value);if(!c){const A=new Set($);A.delete(x),{checkedKeys:$,halfCheckedKeys:P}=at(Array.from(A),{halfCheckedKeys:P},M,ye.value,q.value)}y=$,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=P,$.forEach(A=>{const ae=M[A];if(!ae)return;const{node:ge,pos:se}=ae;N.checkedNodes.push(ge),N.checkedNodesPositions.push({node:ge,pos:se})}),e.checkedKeys===void 0&&(S.value=$,D.value=P)}E&&E(y,N)},Fe=r=>{const i=r[B.value.key],c=new Promise((g,E)=>{const{loadData:x,onLoad:y}=e;if(!x||H.value.has(i)||oe.value.has(i))return null;x(r).then(()=>{const M=ke(K.value,i),$=pe(V.value,i);y&&y(M,{event:"load",node:r}),e.loadedKeys===void 0&&(K.value=M),V.value=$,g()}).catch(M=>{const $=pe(V.value,i);if(V.value=$,G[i]=(G[i]||0)+1,G[i]>=ro){const P=ke(K.value,i);e.loadedKeys===void 0&&(K.value=P),g()}E(M)}),V.value=ke(V.value,i)});return c.catch(()=>{}),c},Ze=(r,i)=>{const{onMouseenter:c}=e;c&&c({event:r,node:i})},je=(r,i)=>{const{onMouseleave:c}=e;c&&c({event:r,node:i})},et=(r,i)=>{const{onRightClick:c}=e;c&&(r.preventDefault(),c({event:r,node:i}))},tt=r=>{const{onFocus:i}=e;z.value=!0,i&&i(r)},Be=r=>{const{onBlur:i}=e;z.value=!1,d(null),i&&i(r)},we=(r,i)=>{let c=L.value;const{onExpand:g,loadData:E}=e,{expanded:x}=i,y=i[B.value.key];if(W.value)return;c.indexOf(y);const N=!x;if(N?c=ke(c,y):c=pe(c,y),he(c),g&&g(c,{node:i,expanded:N,nativeEvent:r}),N&&E){const M=Fe(i);M&&M.then(()=>{}).catch($=>{const P=pe(L.value,y);he(P),Promise.reject($)})}},nt=()=>{W.value=!0},l=()=>{setTimeout(()=>{W.value=!1})},d=r=>{const{onActiveChange:i}=e;j.value!==r&&(e.activeKey!==void 0&&(j.value=r),r!==null&&ie({key:r}),i&&i(r))},I=b(()=>j.value===null?null:T.value.find(r=>{let{key:i}=r;return i===j.value})||null),U=r=>{let i=T.value.findIndex(g=>{let{key:E}=g;return E===j.value});i===-1&&r<0&&(i=T.value.length),i=(i+r+T.value.length)%T.value.length;const c=T.value[i];if(c){const{key:g}=c;d(g)}else d(null)},Z=b(()=>ze(k(k({},Re(j.value,O.value)),{data:I.value.data,active:!0}))),ee=r=>{const{onKeydown:i,checkable:c,selectable:g}=e;switch(r.which){case $e.UP:{U(-1),r.preventDefault();break}case $e.DOWN:{U(1),r.preventDefault();break}}const E=I.value;if(E&&E.data){const x=E.data.isLeaf===!1||!!(E.data.children||[]).length,y=Z.value;switch(r.which){case $e.LEFT:{x&&_.value.has(j.value)?we({},y):E.parent&&d(E.parent.key),r.preventDefault();break}case $e.RIGHT:{x&&!_.value.has(j.value)?we({},y):E.children&&E.children.length&&d(E.children[0].key),r.preventDefault();break}case $e.ENTER:case $e.SPACE:{c&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?Me({},y,!te.value.has(j.value)):!c&&g&&!y.disabled&&y.selectable!==!1&&Le({},y);break}}}i&&i(r)};return a({onNodeExpand:we,scrollTo:ie,onKeydown:ee,selectedKeys:b(()=>C.value),checkedKeys:b(()=>S.value),halfCheckedKeys:b(()=>D.value),loadedKeys:b(()=>K.value),loadingKeys:b(()=>V.value),expandedKeys:b(()=>L.value)}),Ln(()=>{window.removeEventListener("dragend",Pe),v.value=!0}),Xn({expandedKeys:L,selectedKeys:C,loadedKeys:K,loadingKeys:V,checkedKeys:S,halfCheckedKeys:D,expandedKeysSet:_,selectedKeysSet:Q,loadedKeysSet:H,loadingKeysSet:oe,checkedKeysSet:te,halfCheckedKeysSet:Ke,flattenNodes:T}),()=>{const{draggingNodeKey:r,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x}=h,{prefixCls:y,showLine:N,focusable:M,tabindex:$=0,selectable:P,showIcon:A,icon:ae=o.icon,switcherIcon:ge,draggable:se,checkable:le,checkStrictly:xe,disabled:Te,motion:ot,loadData:sn,filterTreeNode:dn,height:cn,itemHeight:un,virtual:fn,dropIndicatorRender:vn,onContextmenu:yn,onScroll:hn,direction:gn,rootClassName:pn,rootStyle:bn}=e,{class:mn,style:Kn}=n,xn=zt(k(k({},e),n),{aria:!0,data:!0});let Ie;return se?typeof se=="object"?Ie=se:typeof se=="function"?Ie={nodeDraggable:se}:Ie={}:Ie=!1,m(Gn,{value:{prefixCls:y,selectable:P,showIcon:A,icon:ae,switcherIcon:ge,draggable:Ie,draggingNodeKey:r,checkable:le,customCheckable:o.checkable,checkStrictly:xe,disabled:Te,keyEntities:w.value,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x,dragging:r!==null,indent:p.value,direction:gn,dropIndicatorRender:vn,loadData:sn,filterTreeNode:dn,onNodeClick:Je,onNodeDoubleClick:Qe,onNodeExpand:we,onNodeSelect:Le,onNodeCheck:Me,onNodeLoad:Fe,onNodeMouseEnter:Ze,onNodeMouseLeave:je,onNodeContextMenu:et,onNodeDragStart:Ue,onNodeDragEnter:We,onNodeDragOver:Ge,onNodeDragLeave:Xe,onNodeDragEnd:De,onNodeDrop:Ye,slots:o}},{default:()=>[m("div",{role:"tree",class:ue(y,mn,pn,{[`${y}-show-line`]:N,[`${y}-focused`]:z.value,[`${y}-active-focused`]:j.value!==null}),style:bn},[m(ao,X({ref:Y,prefixCls:y,style:Kn,disabled:Te,selectable:P,checkable:!!le,motion:ot,height:cn,itemHeight:un,virtual:fn,focusable:M,focused:z.value,tabindex:$,activeItem:I.value,onFocus:tt,onBlur:Be,onKeydown:ee,onActiveChange:d,onListChangeStart:nt,onListChangeEnd:l,onContextmenu:yn,onScroll:hn},xn),null)])]})}}});var so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){co(e,a,n[a])})}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(t,n){var o=Lt({},t,n.attrs);return m(_e,Lt({},o,{icon:so}),null)};qe.displayName="FileOutlined";qe.inheritAttrs=!1;var uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){fo(e,a,n[a])})}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(t,n){var o=Mt({},t,n.attrs);return m(_e,Mt({},o,{icon:uo}),null)};bt.displayName="MinusSquareOutlined";bt.inheritAttrs=!1;var vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){yo(e,a,n[a])})}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(t,n){var o=Ft({},t,n.attrs);return m(_e,Ft({},o,{icon:vo}),null)};mt.displayName="PlusSquareOutlined";mt.inheritAttrs=!1;function ho(e,t,n,o,a){const{isLeaf:v,expanded:s,loading:p}=n;let C=t;if(p)return m(kn,{class:`${e}-switcher-loading-icon`},null);let S;a&&typeof a=="object"&&(S=a.showLeafIcon);let D=null;const K=`${e}-switcher-icon`;return v?a?S&&o?o(n):(typeof a=="object"&&!S?D=m("span",{class:`${e}-switcher-leaf-line`},null):D=m(qe,{class:`${e}-switcher-line-icon`},null),D):null:(D=m(qn,{class:K},null),a&&(D=s?m(bt,{class:`${e}-switcher-line-icon`},null):m(mt,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?C=t(k(k({},n),{defaultIcon:D,switcherCls:K})):Sn(C)&&(C=Mn(C,{class:K})),C||D)}const jt=4;function go(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:a,direction:v="ltr"}=e,s=v==="ltr"?"left":"right",p=v==="ltr"?"right":"left",C={[s]:`${-n*a+jt}px`,[p]:0};switch(t){case-1:C.top="-3px";break;case 1:C.bottom="-3px";break;default:C.bottom="-3px",C[s]=`${a+jt}px`;break}return m("div",{style:C,class:`${o}-drop-indicator`},null)}const po=new En("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),bo=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),mo=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Ko=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:v}=t,s=(v-t.fontSizeLG)/2,p=t.paddingXS;return{[n]:k(k({},On(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:k({},St(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:po,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:k({},St(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:v,lineHeight:`${v}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:k(k({},bo(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:v,margin:0,lineHeight:`${v}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:v/2*.8,height:v/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:p,marginBlockStart:s},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:v,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${v}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:v,height:v,lineHeight:`${v}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:k({lineHeight:`${v}px`,userSelect:"none"},mo(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${v/2}px !important`}}}}})}},xo=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},ko=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,v=t.controlHeightSM,s=Cn(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:v});return[Ko(e,s),xo(s)]},So=wn("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Un(`${n}-checkbox`,e)},ko(n,e),Vn(e)]}),rn=()=>{const e=an();return k(k({},e),{showLine:ct([Boolean,Object]),multiple:de(),autoExpandParent:de(),checkStrictly:de(),checkable:de(),disabled:de(),defaultExpandAll:de(),defaultExpandParent:de(),defaultExpandedKeys:Ne(),expandedKeys:Ne(),checkedKeys:ct([Array,Object]),defaultCheckedKeys:Ne(),selectedKeys:Ne(),defaultSelectedKeys:Ne(),selectable:de(),loadedKeys:Ne(),draggable:de(),showIcon:de(),icon:He(),switcherIcon:me.any,prefixCls:String,replaceFields:Dn(),blockNode:de(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":He(),"onUpdate:checkedKeys":He(),"onUpdate:expandedKeys":He()})},Ve=Ee({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:ht(rn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:o,emit:a,slots:v}=t;Rt(!(e.treeData===void 0&&v.default));const{prefixCls:s,direction:p,virtual:C}=qt("tree",e),[S,D]=So(s),K=fe();o({treeRef:K,onNodeExpand:function(){var f;(f=K.value)===null||f===void 0||f.onNodeExpand(...arguments)},scrollTo:f=>{var w;(w=K.value)===null||w===void 0||w.scrollTo(f)},selectedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.selectedKeys}),checkedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.checkedKeys}),halfCheckedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.halfCheckedKeys}),loadedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadedKeys}),loadingKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadingKeys}),expandedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.expandedKeys})}),Ce(()=>{$n(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const L=(f,w)=>{a("update:checkedKeys",f),a("check",f,w)},G=(f,w)=>{a("update:expandedKeys",f),a("expand",f,w)},h=(f,w)=>{a("update:selectedKeys",f),a("select",f,w)};return()=>{const{showIcon:f,showLine:w,switcherIcon:z=v.switcherIcon,icon:j=v.icon,blockNode:W,checkable:B,selectable:Y,fieldNames:J=e.replaceFields,motion:R=e.openAnimation,itemHeight:u=28,onDoubleclick:O,onDblclick:_}=e,Q=k(k(k({},n),Vt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!w,dropIndicatorRender:go,fieldNames:J,icon:j,itemHeight:u}),H=v.default?dt(v.default()):void 0;return S(m(io,X(X({},Q),{},{virtual:C.value,motion:R,ref:K,prefixCls:s.value,class:ue({[`${s.value}-icon-hide`]:!f,[`${s.value}-block-node`]:W,[`${s.value}-unselectable`]:!Y,[`${s.value}-rtl`]:p.value==="rtl"},n.class,D.value),direction:p.value,checkable:B,selectable:Y,switcherIcon:oe=>ho(s.value,z,oe,v.leafIcon,w),onCheck:L,onExpand:G,onSelect:h,onDblclick:_||O,children:H}),k(k({},v),{checkable:()=>m("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Co(e,a,n[a])})}return e}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(t,n){var o=Bt({},t,n.attrs);return m(_e,Bt({},o,{icon:wo}),null)};Kt.displayName="FolderOpenOutlined";Kt.inheritAttrs=!1;var Oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Eo(e,a,n[a])})}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var o=Ht({},t,n.attrs);return m(_e,Ht({},o,{icon:Oo}),null)};xt.displayName="FolderOutlined";xt.inheritAttrs=!1;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function kt(e,t,n){function o(a){const v=a[t.key],s=a[t.children];n(v,a)!==!1&&kt(s||[],t,n)}e.forEach(o)}function Do(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:a,fieldNames:v={title:"title",key:"key",children:"children"}}=e;const s=[];let p=be.None;if(o&&o===a)return[o];if(!o||!a)return[];function C(S){return S===o||S===a}return kt(t,v,S=>{if(p===be.End)return!1;if(C(S)){if(s.push(S),p===be.None)p=be.Start;else if(p===be.Start)return p=be.End,!1}else p===be.Start&&s.push(S);return n.includes(S)}),s}function rt(e,t,n){const o=[...t],a=[];return kt(e,n,(v,s)=>{const p=o.indexOf(v);return p!==-1&&(a.push(s),o.splice(p,1)),!!o.length}),a}var $o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const No=()=>k(k({},rn()),{expandAction:ct([Boolean,String])});function Po(e){const{isLeaf:t,expanded:n}=e;return t?m(qe,null,null):n?m(Kt,null,null):m(xt,null,null)}const it=Ee({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:ht(No(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:o,emit:a,expose:v}=t;var s;const p=fe(e.treeData||ut(dt((s=o.default)===null||s===void 0?void 0:s.call(o))));ve(()=>e.treeData,()=>{p.value=e.treeData}),Yt(()=>{gt(()=>{var u;e.treeData===void 0&&o.default&&(p.value=ut(dt((u=o.default)===null||u===void 0?void 0:u.call(o))))})});const C=fe(),S=fe(),D=b(()=>Qt(e.fieldNames)),K=fe();v({scrollTo:u=>{var O;(O=K.value)===null||O===void 0||O.scrollTo(u)},selectedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.expandedKeys})});const L=()=>{const{keyEntities:u}=Zt(p.value,{fieldNames:D.value});let O;return e.defaultExpandAll?O=Object.keys(u):e.defaultExpandParent?O=ft(e.expandedKeys||e.defaultExpandedKeys||[],u):O=e.expandedKeys||e.defaultExpandedKeys,O},G=fe(e.selectedKeys||e.defaultSelectedKeys||[]),h=fe(L());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(G.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(h.value=e.expandedKeys)},{immediate:!0});const w=Wn((u,O)=>{const{isLeaf:_}=O;_||u.shiftKey||u.metaKey||u.ctrlKey||K.value.onNodeExpand(u,O)},200,{leading:!0}),z=(u,O)=>{e.expandedKeys===void 0&&(h.value=u),a("update:expandedKeys",u),a("expand",u,O)},j=(u,O)=>{const{expandAction:_}=e;_==="click"&&w(u,O),a("click",u,O)},W=(u,O)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&w(u,O),a("doubleclick",u,O),a("dblclick",u,O)},B=(u,O)=>{const{multiple:_}=e,{node:Q,nativeEvent:H}=O,oe=Q[D.value.key],te=k(k({},O),{selected:!0}),Ke=(H==null?void 0:H.ctrlKey)||(H==null?void 0:H.metaKey),re=H==null?void 0:H.shiftKey;let T;_&&Ke?(T=u,C.value=oe,S.value=T,te.selectedNodes=rt(p.value,T,D.value)):_&&re?(T=Array.from(new Set([...S.value||[],...Do({treeData:p.value,expandedKeys:h.value,startKey:oe,endKey:C.value,fieldNames:D.value})])),te.selectedNodes=rt(p.value,T,D.value)):(T=[oe],C.value=oe,S.value=T,te.selectedNodes=rt(p.value,T,D.value)),a("update:selectedKeys",T),a("select",T,te),e.selectedKeys===void 0&&(G.value=T)},Y=(u,O)=>{a("update:checkedKeys",u),a("check",u,O)},{prefixCls:J,direction:R}=qt("tree",e);return()=>{const u=ue(`${J.value}-directory`,{[`${J.value}-directory-rtl`]:R.value==="rtl"},n.class),{icon:O=o.icon,blockNode:_=!0}=e,Q=$o(e,["icon","blockNode"]);return m(Ve,X(X(X({},n),{},{icon:O||Po,ref:K,blockNode:_},Q),{},{prefixCls:J.value,class:u,expandedKeys:h.value,selectedKeys:G.value,onSelect:B,onClick:j,onDblclick:W,onExpand:z,onCheck:Y}),o)}}}),st=vt,Bo=k(Ve,{DirectoryTree:it,TreeNode:st,install:e=>(e.component(Ve.name,Ve),e.component(st.name,st),e.component(it.name,it),e)});export{io as T,Bo as _,ce as e,ko as g,ho as r};
