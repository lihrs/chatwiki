import{b as v,d as h,dC as E}from"../../index-CfxQ5aRu.js";import{a5 as k,b as I,e as S,l as i,a8 as u,M as d,N as b,k as m,S as f,F as $,$ as q,Q as g,u as w,Y as B,Z as D,f as A,W as a,a1 as L,a2 as N}from"./vue-chunks-BjMuQ6KD.js";import{_ as O,M as R}from"./index-Bx_z5H0C.js";import{U as K}from"./UserOutlined-kSSEuP4H.js";import{u as V}from"./database-Duyzijrk.js";import{A as F,_ as U}from"./add-data-sheet-Dx-1nOd9.js";import{E as P}from"./EditOutlined-COZMcG4o.js";import"./axios-Cm0UX6qg.js";import"./qs-DjdPq-RR.js";import"./crypto-js-BemCeW_6.js";import"./dayjs-DK4rpucX.js";import"./shallowequal-B6gQS78g.js";import"./Trigger-Dy6Dc2CN.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-BH6Vz7El.js";import"./slide-BYYxYcj9.js";import"./index-CXSrVsd0.js";import"./index-D1MiuDW_.js";import"./colors-C9XVGyX_.js";import"./index-BERrfq5W.js";import"./index-xqeVJHPz.js";import"./isPlainObject-xAKL-sfk.js";import"./responsiveObserve-X1b6Czsg.js";import"./QuestionCircleOutlined-Deh272L3.js";import"./FormItemContext-DQ1b1ToO.js";import"./index-DcUUFn-g.js";import"./Input-C5WaaE9Z.js";import"./index-D6-G2N0k.js";import"./inputProps-D7qr__m5.js";import"./Search-DozVr2pE.js";import"./SearchOutlined-B7dGgS_P.js";import"./TextArea-CN_AI7y7.js";import"./Password-BCnVcrNJ.js";const Q={class:"left-menu-box"},T={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:l}){const o=l,t=k(),r=t.query,s=I(()=>[t.path.split("/")[3]]),p=S([{key:"field-manage",id:"field-manage",icon:()=>i("span",{},[i(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>i("span",{},[i(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"},{key:"role-permission",id:"role-permission",icon:()=>i("span",{},[i(K)]),label:"权限管理",title:"权限管理",path:"/database/details/role-permission"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,y)=>{const M=O,x=u("router-link"),C=R;return d(),b("div",Q,[m(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(d(!0),b($,null,q(p.value,n=>(d(),g(x,{class:"default-color",to:{path:n.path,query:w(r)},key:n.key},{default:f(()=>[(d(),g(M,{icon:n.icon,path:n.path,key:n.key},{default:f(()=>[B(D(n.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},W=v(T,[["__scopeId","data-v-a8199336"]]),Y=A({components:{LeftMenus:W,AddDataSheet:F,EditOutlined:P},async beforeRouteEnter(e,l,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=V(),o=k().query,t=I(()=>e.databaseInfo),r=()=>{e.getDatabaseInfo({id:o.form_id})};r();const s=S(null);return{dataBaseInfo:t,getInfo:r,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),Z=e=>(L("data-v-91ef85c9"),e=e(),N(),e),j={class:"details-library-page"},z={class:"between-content-box"},G={class:"layout-left"},H={class:"library-name-box"},J=Z(()=>a("img",{class:"avatar",src:U,alt:""},null,-1)),X={class:"name"},ee={class:"left-menu-box"},te={class:"right-content-box"};function oe(e,l,o,t,r,s){const p=h,_=u("LeftMenus"),c=u("router-view"),y=u("AddDataSheet");return d(),b("div",j,[a("div",z,[a("div",G,[a("div",H,[J,a("div",X,D(e.dataBaseInfo.name),1),m(p,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",ee,[m(_)])]),a("div",te,[m(c)])]),m(y,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const Oe=v(Y,[["render",oe],["__scopeId","data-v-91ef85c9"]]);export{Oe as default};
