import{_ as ce}from"./cu-scroll-CGL6fhO0.js";import{b as Y,e as we,bK as Ie,bD as ze,d as Be,di as $e,k as V,b_ as Le,M as J,a1 as Me,h as qe,bI as Ae,B as De,E as le}from"../../index-DGlN_gTP.js";import{b as pe,a3 as Z,a2 as fe,z as W,d as k,S as g,O as _,U as l,X as i,j as o,H as ie,N as m,a6 as r,W as G,u as h,F as B,a5 as Q,_ as _e,I as se,Z as f,x as Ne,k as he}from"./vue-chunks-BRsu9_To.js";import{A as Se}from"./avatar-input-D34sIEGF.js";import{M as re}from"./model-select-7nrl0gxH.js";import{O as Ue}from"./open-grapg-modal-CxpWe9UJ.js";import{C as Oe}from"./index-BA8w32s8.js";import{F as de,_ as Te}from"./index-vDDFetvc.js";import"./index-JAP4Oum8.js";import{I as je}from"./Input-BpI49rDY.js";import{S as Ee}from"./index-BlDgRIYn.js";import{Q as ue}from"./QuestionCircleOutlined-Bvo9_S3-.js";import{_ as Ve}from"./TextArea-BNOG6RQ7.js";import{_ as Pe}from"./index-C1MdRggi.js";import{_ as Re}from"./index-DasxHN4l.js";import{_ as Ke}from"./index-DSI4uitL.js";import{_ as Fe}from"./index-BQDPftJ3.js";import{i as Ge,e as Qe,f as Xe}from"./index-Bimk7Frz.js";import{A as He}from"./add-collaborator-Zjc0N9q5.js";import{P as Je}from"./PlusOutlined-D8SGrPLQ.js";import{A as We}from"./index-BPqZqeM9.js";import{U as me}from"./UserOutlined-s-McxcUX.js";import{D as Ye}from"./DownOutlined-BUKGfKlO.js";import{C as X}from"./CheckOutlined-B_Hs0-OP.js";import{E as Ze}from"./EditOutlined-BD_pNgHD.js";import{E as et}from"./Password-B9FCv-aw.js";import{a as tt}from"./index-DIzQ-2kQ.js";import{_ as at}from"./index-DpIV4w7P.js";import{T as ot,_ as nt}from"./index-C0UMgAJu.js";import"./pull-up.esm-D94Swpvl.js";import"./observe-dom.esm-CyCedSm-.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./index-3U3efXj8.js";import"./Trigger-oBKhEx1B.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./DownloadOutlined-3aTO680L.js";import"./collapseMotion-Brd6xpAT.js";import"./FormItemContext-DAoPsdM7.js";import"./index-D9KRCCIf.js";import"./isPlainObject-51jSOJKV.js";import"./responsiveObserve-BLoLQTqt.js";import"./index-C0cXlrXm.js";import"./Search-CH76L-gx.js";import"./SearchOutlined-DSY7YbKD.js";import"./inputProps-Bu_dzA3C.js";import"./slide-Ccxw2gRU.js";import"./index-k9nX7Zez.js";import"./move-BSoEcIoa.js";import"./UpOutlined-CR2jjLrd.js";import"./colors-DKWwHq2l.js";import"./index-SBg8gFw7.js";import"./RadioButton-Bnx6tN7r.js";import"./Checkbox-B8J-JVwM.js";import"./index-CVsoyaFF.js";import"./index-Cf43OwEB.js";import"./index-Bar3uf0o.js";import"./useMaxLevel-CkEcKQq6.js";import"./CaretDownFilled-7wQJySwA.js";import"./fromPairs-Dx9PT-t0.js";import"./index-DBSnNVJY.js";import"./LeftOutlined-D6kSS-Pc.js";import"./RightOutlined-TchQhXHc.js";import"./index-Jd-vOpFR.js";import"./dropdown-0QsfqJqV.js";import"./index-D35sYO_B.js";import"./shallowequal-C0xnIuy8.js";import"./CaretDownOutlined-Cx15LuFR.js";import"./pick-DJeTcTfK.js";const lt={class:"add-library-page"},it={class:"form-box"};const _t={class:"select-card-box"},st={class:"card-title"},rt={class:"card-title"},dt={class:"card-title"},H="你是一位文章分段助手，根据文章内容的语义进行合理分段，确保每个分段表述一个完整的语义，每个分段字数控制在500字左右，最大不超过1000字。请严格按照文章内容进行分段，不要对文章内容进行加工，分段完成后输出分段后的内容。",ut={__name:"knowledge-config",setup(ee){const z=we(),$=pe(()=>{var a;return((a=z.companyInfo)==null?void 0:a.neo4j_status)=="true"}),b=Z(),v=fe(),x=b.query,y=Ie,e=W({library_name:"",library_intro:"",use_model:"",use_model_icon:"",use_model_name:"",is_offline:"",model_config_id:"",avatar:y,avatar_file:"",graph_switch:!1,graph_model_config_id:void 0,graph_use_model:"",chunk_type:1,normal_chunk_default_separators_no:[10,12],normal_chunk_default_chunk_size:512,normal_chunk_default_chunk_overlap:50,semantic_chunk_default_chunk_size:512,semantic_chunk_default_chunk_overlap:50,semantic_chunk_default_threshold:90,ai_chunk_size:5e3,ai_chunk_model:"",ai_chunk_model_config_id:"",ai_chunk_prumpt:H}),C=k(""),A=k(0),w=k({}),P=a=>{e.use_model=s.includes(a.rawData.model_define)&&a.rawData.deployment_name?a.rawData.deployment_name:a.rawData.name,e.use_model_icon=a.icon,e.use_model_name=a.use_model_name,e.model_config_id=a.rawData.id,C.value=a.rawData.model_define,c()},O=k([]);ze().then(a=>{O.value=a.data.map(t=>({label:t.name,value:t.no}))});const p=k(!0);(()=>{$e({id:x.id}).then(a=>{w.value=a.data,A.value=w.value.is_offline?2:1,e.library_name=a.data.library_name,e.library_intro=a.data.library_intro,e.use_model=a.data.use_model,e.is_offline=a.data.is_offline,e.model_config_id=a.data.model_config_id,e.avatar=a.data.avatar?a.data.avatar:y,e.avatar_file=a.data.avatar_file?a.data.avatar_file:"",e.graph_switch=a.data.graph_switch!="0",e.graph_model_config_id=a.data.graph_model_config_id>0?a.data.graph_model_config_id:void 0,e.graph_use_model=a.data.graph_use_model,e.chunk_type=+a.data.chunk_type,e.normal_chunk_default_separators_no=a.data.normal_chunk_default_separators_no?a.data.normal_chunk_default_separators_no.split(",").map(t=>+t):[],e.normal_chunk_default_chunk_size=a.data.normal_chunk_default_chunk_size,e.normal_chunk_default_chunk_overlap=a.data.normal_chunk_default_chunk_overlap,e.semantic_chunk_default_chunk_size=a.data.semantic_chunk_default_chunk_size,e.semantic_chunk_default_chunk_overlap=a.data.semantic_chunk_default_chunk_overlap,e.semantic_chunk_default_threshold=a.data.semantic_chunk_default_threshold,e.ai_chunk_size=a.data.ai_chunk_size||5e3,e.ai_chunk_model=a.data.ai_chunk_model,e.ai_chunk_model_config_id=a.data.ai_chunk_model_config_id,e.ai_chunk_prumpt=a.data.ai_chunk_prumpt||H,p.value=a.data.type==2})})();const T=k([{iconName:"high-active",title:"高质量",value:1,is_offline:!1,desc:"使用在线的嵌入模型，在召回时具有更高的准确度，但需要花费token"}]),D=de.useForm,j=W({library_name:[{required:!0,message:"请输入库名称",trigger:"blur"}],use_model:[{required:!0,message:"请选择嵌入模型",trigger:"change"}]}),{validateInfos:N}=D(e,j),R=a=>{e.avatar=a.imageUrl,e.avatar_file=a.file,c()},E=()=>!1,s=["azure","ollama","xinference","openaiAgent"],S=["azure"],te=()=>{c()},L=k([]),K=a=>{L.value=a,Ne(()=>{(!e.ai_chunk_model||!Number(e.ai_chunk_model_config_id))&&ke()})},ke=()=>{if(L.value.length>0){let a=null,t=null;for(let I of L.value)if(I.model_define==="tongyi"){a=I;for(let u of a.children)if(u.name==="qwen-max"){t=u;break}break}a||(a=L.value[0],t=a.children[0]),a&&t&&(e.ai_chunk_model=t.name,e.ai_chunk_model_config_id=t.model_config_id)}},ae=k(null),ve=a=>{if(a){e.graph_switch=!1;let t={graph_model_config_id:e.graph_model_config_id,graph_use_model:e.graph_use_model};if((!e.graph_model_config_id||!e.graph_use_model)&&L.value.length>0){let I=L.value[0];if(I){let u=I.children[0];t.graph_use_model=u.name,t.graph_model_config_id=u.model_config_id}}ae.value.show(t)}else e.graph_switch=!1,c()},F=a=>{e.chunk_type=a,c()},ge=a=>{a.graph_model_config_id&&(e.graph_switch=!0,e.graph_model_config_id=a.graph_model_config_id,e.graph_use_model=a.graph_use_model,c(()=>{J.confirm({title:"已开启知识图谱",content:"您可以在文档列表中点击知识图谱学习，系統将在您手动操作后开始抽取知识图谱",cancelText:"知道了",okText:"去学习",icon:he(Me,{style:{color:"#52c41a"}}),onOk:()=>v.push({path:"/library/details/knowledge-document",query:{id:x.id}})})}))},c=(a=null)=>{if(!e.library_name)return V.error("请输入知识库名称");let t={library_name:e.library_name,library_intro:e.library_intro,use_model:e.use_model,model_config_id:e.model_config_id,is_offline:e.is_offline,graph_switch:e.graph_switch?1:0,graph_model_config_id:e.graph_model_config_id,graph_use_model:e.graph_use_model,chunk_type:e.chunk_type,normal_chunk_default_separators_no:e.normal_chunk_default_separators_no.join(","),normal_chunk_default_chunk_size:e.normal_chunk_default_chunk_size,normal_chunk_default_chunk_overlap:e.normal_chunk_default_chunk_overlap,semantic_chunk_default_chunk_size:e.semantic_chunk_default_chunk_size,semantic_chunk_default_chunk_overlap:e.semantic_chunk_default_chunk_overlap,semantic_chunk_default_threshold:e.semantic_chunk_default_threshold,ai_chunk_size:e.ai_chunk_size,ai_chunk_model:e.ai_chunk_model,ai_chunk_model_config_id:e.ai_chunk_model_config_id,ai_chunk_prumpt:e.ai_chunk_prumpt,id:b.query.id};S.indexOf(C.value)>-1&&(t.use_model="默认"),e.avatar_file&&(t.avatar=e.avatar_file),Le(t).then(I=>{typeof a=="function"?a():V.success("修改成功")})};return(a,t)=>{const I=je,u=Te,oe=Ve,M=Be,ye=Pe,be=Ee,q=Ke,U=Re,ne=Fe,xe=de,Ce=ce;return _(),g(Ce,null,{default:l(()=>[i("div",lt,[i("div",it,[o(xe,{"label-col":{span:5}},{default:l(()=>[o(u,G({ref:"name",label:"知识库名称"},h(N).library_name),{default:l(()=>[o(I,{onBlur:c,value:e.library_name,"onUpdate:value":t[0]||(t[0]=n=>e.library_name=n),placeholder:"请输入知识库名称，最多20个字"},null,8,["value"])]),_:1},16),o(u,{label:"知识库简介"},{default:l(()=>[o(oe,{onBlur:c,value:e.library_intro,"onUpdate:value":t[1]||(t[1]=n=>e.library_intro=n),placeholder:"请输入知识库介绍"},null,8,["value"])]),_:1}),o(u,G({ref:"name",label:"知识库封面"},h(N).avatar),{default:l(()=>[o(Se,{value:e.avatar,"onUpdate:value":t[2]||(t[2]=n=>e.avatar=n),onChange:R},null,8,["value"]),t[19]||(t[19]=i("div",{class:"form-item-tip"},"请上传知识库封面，建议尺寸为100*100px.大小不超过100kb",-1))]),_:1,__:[19]},16),o(u,G({label:"嵌入模型"},h(N).use_model),{default:l(()=>[r("",!0),o(Oe,{modelValue:e.use_model,"onUpdate:modelValue":t[3]||(t[3]=n=>e.use_model=n),"label-key":"use_model_name","value-key":"value",modelType:"TEXT EMBEDDING","model-config-id":e.model_config_id,onChange:P,onLoaded:K},null,8,["modelValue","model-config-id"])]),_:1},16),ie(o(u,{label:"生成知识图谱"},{default:l(()=>[o(ye,{onChange:ve,checked:e.graph_switch,"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),t[20]||(t[20]=i("div",{class:"form-item-tip"},"开启后，可以文档列表手动点击知识图谱学习生成知识图谱",-1))]),_:1,__:[20]},512),[[se,$.value]]),ie(o(u,{label:"知识图谱模型"},{default:l(()=>[o(re,{modelType:"LLM",modeName:e.graph_use_model,"onUpdate:modeName":t[4]||(t[4]=n=>e.graph_use_model=n),modeId:e.graph_model_config_id,"onUpdate:modeId":t[5]||(t[5]=n=>e.graph_model_config_id=n),style:{width:"300px"},onChange:te,onLoaded:K},null,8,["modeName","modeId"])]),_:1},512),[[se,e.graph_switch&&$.value]]),p.value?r("",!0):(_(),m(B,{key:0},[o(u,{label:"分段方式",required:""},{default:l(()=>[t[27]||(t[27]=i("div",{class:"form-alert-tip"},"提示：语义分段更适合没有排版过的文章，即没有明显换行符号的文本，否则更推荐使用普通分段",-1)),i("div",_t,[i("div",{class:Q(["select-card-item",{active:e.chunk_type==1}]),onClick:t[6]||(t[6]=n=>F(1))},[o(M,{class:"check-arrow",name:"check-arrow-filled"}),i("div",st,[o(M,{name:"ordinary-segmentation",class:"title-icon"}),t[21]||(t[21]=f(" 普通分段 "))]),t[22]||(t[22]=i("div",{class:"card-desc"}," 基于文章中句号、空行，或者自定义符号进行分段，不会消耗模型token ",-1))],2),i("div",{class:Q(["select-card-item",{active:e.chunk_type==2}]),onClick:t[7]||(t[7]=n=>F(2))},[o(M,{class:"check-arrow",name:"check-arrow-filled"}),i("div",rt,[o(M,{name:"semantic-segmentation",class:"title-icon"}),t[23]||(t[23]=f(" 语义分段 "))]),t[24]||(t[24]=i("div",{class:"card-desc"}," 将文章拆分成句子后，通过语句向量相似度进行分段，会消耗模型token ",-1))],2),i("div",{class:Q(["select-card-item",{active:e.chunk_type==3}]),onClick:t[8]||(t[8]=n=>F(3))},[o(M,{class:"check-arrow",name:"check-arrow-filled"}),i("div",dt,[o(M,{name:"semantic-segmentation",class:"title-icon"}),t[25]||(t[25]=f(" AI分段 "))]),t[26]||(t[26]=i("div",{class:"card-desc"}," 将文章提交给大模型，大模型基于设定的提示词进行分段，会消耗大量模型token ",-1))],2)])]),_:1,__:[27]}),e.chunk_type==1?(_(),m(B,{key:0},[o(u,{label:"分段标识符",required:""},{default:l(()=>[o(be,{onChange:c,value:e.normal_chunk_default_separators_no,"onUpdate:value":t[9]||(t[9]=n=>e.normal_chunk_default_separators_no=n),mode:"multiple",style:{width:"100%"},placeholder:"请选择分段标识符",options:O.value},null,8,["value","options"])]),_:1}),o(u,{label:"分段最大长度",required:""},{default:l(()=>[o(U,{gap:8,align:"center"},{default:l(()=>[o(q,{onBlur:c,value:e.normal_chunk_default_chunk_size,"onUpdate:value":t[10]||(t[10]=n=>e.normal_chunk_default_chunk_size=n),style:{width:"220px"},precision:0,min:1,max:1e5},null,8,["value"]),t[28]||(t[28]=f(" 字符 "))]),_:1,__:[28]})]),_:1}),o(u,{label:"分段重叠长度"},{default:l(()=>[o(U,{gap:8,align:"center"},{default:l(()=>[o(q,{onBlur:c,value:e.normal_chunk_default_chunk_overlap,"onUpdate:value":t[11]||(t[11]=n=>e.normal_chunk_default_chunk_overlap=n),style:{width:"220px"},precision:0,min:1,max:1e5},null,8,["value"]),t[29]||(t[29]=f(" 字符 "))]),_:1,__:[29]})]),_:1})],64)):r("",!0),e.chunk_type==2?(_(),m(B,{key:1},[e.chunk_type==2?(_(),g(u,{key:0,required:""},{label:l(()=>[t[31]||(t[31]=f(" 分段阈值 ")),o(ne,null,{title:l(()=>t[30]||(t[30]=[f("用于控制分段拆分的标准，数值0~100,数值越大，分段越少，数值越小，分段越多。")])),default:l(()=>[o(h(ue),{style:{cursor:"pointer","margin-left":"2px"}})]),_:1})]),default:l(()=>[o(q,{onBlur:c,value:e.semantic_chunk_default_threshold,"onUpdate:value":t[12]||(t[12]=n=>e.semantic_chunk_default_threshold=n),style:{width:"100%"},placeholder:"请输入分段阈值",precision:0,min:0,max:100},null,8,["value"])]),_:1})):r("",!0),o(u,{label:"分段最大长度",required:""},{default:l(()=>[o(U,{gap:8,align:"center"},{default:l(()=>[o(q,{onBlur:c,value:e.semantic_chunk_default_chunk_size,"onUpdate:value":t[13]||(t[13]=n=>e.semantic_chunk_default_chunk_size=n),style:{width:"220px"},precision:0,min:1,max:1e5},null,8,["value"]),t[32]||(t[32]=f(" 字符 "))]),_:1,__:[32]})]),_:1}),o(u,{label:"分段重叠长度"},{default:l(()=>[o(U,{gap:8,align:"center"},{default:l(()=>[o(q,{onBlur:c,value:e.semantic_chunk_default_chunk_overlap,"onUpdate:value":t[14]||(t[14]=n=>e.semantic_chunk_default_chunk_overlap=n),style:{width:"220px"},precision:0,min:1,max:1e5},null,8,["value"]),t[33]||(t[33]=f(" 字符 "))]),_:1,__:[33]})]),_:1})],64)):r("",!0),e.chunk_type==3?(_(),m(B,{key:2},[e.chunk_type==3?(_(),g(u,{key:0,required:""},{label:l(()=>t[34]||(t[34]=[f(" AI大模型 ")])),default:l(()=>[o(re,{modelType:"LLM",placeholder:"请选择AI大模型",modeName:e.ai_chunk_model,"onUpdate:modeName":t[15]||(t[15]=n=>e.ai_chunk_model=n),modeId:e.ai_chunk_model_config_id,"onUpdate:modeId":t[16]||(t[16]=n=>e.ai_chunk_model_config_id=n),style:{width:"300px"},onChange:te,onLoaded:K},null,8,["modeName","modeId"])]),_:1})):r("",!0),o(u,{label:"提示词设置",required:""},{default:l(()=>[o(U,{gap:8,align:"center"},{default:l(()=>[o(oe,{onBlur:c,maxLength:500,style:{height:"80px"},value:e.ai_chunk_prumpt,"onUpdate:value":t[17]||(t[17]=n=>e.ai_chunk_prumpt=n),placeholder:H},null,8,["value"])]),_:1})]),_:1}),o(u,null,{label:l(()=>[t[36]||(t[36]=f(" 单次最大字符数 ")),o(ne,null,{title:l(()=>t[35]||(t[35]=[f("由于大模型支持的上下文数量有限制，如果上传的文档较大，会按照最大字符数先拆分成多个分段，再提交给大模型进行分段。")])),default:l(()=>[o(h(ue),{style:{cursor:"pointer","margin-left":"2px"}})]),_:1})]),default:l(()=>[o(q,{onBlur:c,class:"form-item-inptu-numbner",value:e.ai_chunk_size,"onUpdate:value":t[18]||(t[18]=n=>e.ai_chunk_size=n),placeholder:"请输入单次最大字符数",precision:0,min:0,formatter:n=>parseInt(n),parser:n=>parseInt(n)},null,8,["value","formatter","parser"]),t[37]||(t[37]=f(" 字符 "))]),_:1,__:[37]})],64)):r("",!0)],64))]),_:1})]),o(Ue,{onOk:ge,ref_key:"openGrapgModalRef",ref:ae},null,512)])]),_:1})}}},mt=Y(ut,[["__scopeId","data-v-5b58023b"]]),ct={class:"content-box"},pt={key:0,class:"add-btn-block"},ft={class:"list-content"},ht={key:0,class:"user-block"},kt={class:"name-box"},vt={class:"name"},gt={class:"remark-text"},yt={key:0,class:"hover-btn-box"},bt={key:0},xt={key:1},Ct={key:2},wt={key:1,class:"hover-btn-box"},It={class:"role-menu-box"},zt=["onClick"],Bt={class:"menu-header"},$t={key:0,class:"check-box"},Lt=["onClick"],Mt={class:"menu-header"},qt={key:0,class:"check-box"},At=["onClick"],Dt={class:"menu-header"},Nt={key:0,class:"check-box"},St={class:"hover-btn-box"},Ut={key:0},Ot={key:1},Tt={key:2},jt=["onClick"],Et={__name:"role-permission",setup(ee){const z=Z().query,$=qe(),b=pe(()=>$.user_name),v=k(Ae(z.id)),x=k([]),y=W({object_id:z.id,object_type:2}),e=()=>{Ge({...y}).then(p=>{let d=p.data||[];x.value=d})};e();const C=k(null),A=()=>{C.value.show(x.value,[{object_id:+z.id,object_type:2,operate_rights:4}])},w=(p,d)=>{let T=d==4?"管理":d==2?"编辑":"查看";J.confirm({title:"提示?",icon:o(le),content:"确认修改该协作者权限为【"+T+"】",okText:"确认",cancelText:"取消",onOk:()=>{let D=[{object_id:+p.object_id,object_type:+p.object_type,operate_rights:+d}];Qe({identity_ids:p.identity_id,identity_type:p.identity_type,object_array:JSON.stringify(D)}).then(j=>{V.success("修改成功"),e()})},onCancel(){}})},P=p=>{J.confirm({title:"提示?",icon:o(le),content:"确认删除该条数据",okText:"确认",okType:"danger",cancelText:"取消",onOk:()=>{Xe({identity_id:p.identity_id,identity_type:p.identity_type,object_id:p.object_id,object_type:p.object_type}).then(d=>{V.success("删除成功"),e()})},onCancel(){}})},O=k([{title:"姓名",dataIndex:"name",key:"name"},{title:"权限",dataIndex:"operate_rights",key:"operate_rights"},{title:"操作",dataIndex:"action",key:"action",width:80}]);return(p,d)=>{const T=De,D=We,j=at,N=tt,R=ce;return _(),g(R,null,{default:l(()=>[i("div",ct,[v.value==4?(_(),m("div",pt,[o(T,{type:"primary",onClick:A,icon:he(h(Je))},{default:l(()=>d[0]||(d[0]=[f("添加协助者")])),_:1,__:[0]},8,["icon"])])):r("",!0),i("div",ft,[o(N,{columns:O.value,"data-source":x.value,pagination:!1},{bodyCell:l(({column:E,record:s})=>[E.key==="name"?(_(),m("div",ht,[o(D,{shape:"square",src:s.avatar,size:40},{icon:l(()=>[s.avatar?r("",!0):(_(),g(h(me),{key:0}))]),_:2},1032,["src"]),i("div",kt,[i("div",vt,_e(s.user_name),1),i("div",gt,_e(s.name),1)])])):r("",!0),E.key==="operate_rights"?(_(),m(B,{key:1},[v.value==2||s.user_name==b.value?(_(),m("div",yt,[s.operate_rights==4?(_(),m("span",bt,"管理")):r("",!0),s.operate_rights==2?(_(),m("span",xt,"编辑")):r("",!0),s.operate_rights==1?(_(),m("span",Ct,"查看")):r("",!0)])):s.role_type==1||s.is_creator==1?(_(),m("div",wt,"管理")):(_(),g(j,{key:2,placement:"bottomRight",title:null,overlayInnerStyle:{padding:"2px"}},{content:l(()=>[i("div",It,[i("div",{class:"role-menu",onClick:S=>w(s,4)},[i("div",Bt,[o(h(me)),d[1]||(d[1]=i("span",{class:"title"},"管理",-1))]),d[2]||(d[2]=i("div",{class:"desc"},"可编辑，可删除，可查看",-1)),s.operate_rights==4?(_(),m("div",$t,[o(h(X))])):r("",!0)],8,zt),i("div",{class:"role-menu",onClick:S=>w(s,2)},[i("div",Mt,[o(h(Ze)),d[3]||(d[3]=i("span",{class:"title"},"编辑",-1))]),d[4]||(d[4]=i("div",{class:"desc"},"可编辑，可查看",-1)),s.operate_rights==2?(_(),m("div",qt,[o(h(X))])):r("",!0)],8,Lt),i("div",{class:"role-menu",onClick:S=>w(s,1)},[i("div",Dt,[o(h(et)),d[5]||(d[5]=i("span",{class:"title"},"查看",-1))]),d[6]||(d[6]=i("div",{class:"desc"},"仅查看",-1)),s.operate_rights==1?(_(),m("div",Nt,[o(h(X))])):r("",!0)],8,At)])]),default:l(()=>[i("div",St,[s.operate_rights==4?(_(),m("span",Ut,"管理")):r("",!0),s.operate_rights==2?(_(),m("span",Ot,"编辑")):r("",!0),s.operate_rights==1?(_(),m("span",Tt,"查看")):r("",!0),o(h(Ye))])]),_:2},1024))],64)):r("",!0),E.key==="action"?(_(),m(B,{key:2},[v.value==4&&s.user_name!=b.value?(_(),m(B,{key:0},[s.role_type!=1&&s.is_creator!=1?(_(),m("a",{key:0,onClick:S=>P(s)},"移除",8,jt)):r("",!0)],64)):r("",!0)],64)):r("",!0)]),_:1},8,["columns","data-source"])])]),o(He,{onOk:e,ref_key:"addCollaboratorRef",ref:C},null,512)]),_:1})}}},Vt=Y(Et,[["__scopeId","data-v-d7771fae"]]),Pt={class:"page-container-box"},Rt={class:"content-box"},Kt={__name:"index",setup(ee){const z=Z(),$=fe(),b=z.query,v=k(+b.activeKey||1),x=()=>{let y={...b};v.value>1?y.activeKey=v.value:delete y.activeKey,$.push({query:{...y}})};return(y,e)=>{const C=nt,A=ot;return _(),m("div",Pt,[o(A,{activeKey:v.value,"onUpdate:activeKey":e[0]||(e[0]=w=>v.value=w),onChange:x},{default:l(()=>[(_(),g(C,{key:1,tab:"知识库配置"})),(_(),g(C,{key:2,tab:"角色权限"}))]),_:1},8,["activeKey"]),i("div",Rt,[v.value==1?(_(),g(mt,{key:0})):r("",!0),v.value==2?(_(),g(Vt,{key:1})):r("",!0)])])}}},uo=Y(Kt,[["__scopeId","data-v-a9c6fd7c"]]);export{uo as default};
