import{b as k,M as S,dY as x,k as w}from"../../index-cxyImiCC.js";import{F as U,_ as F}from"./index-CCDGpMly.js";import"./index-CAqTjfbp.js";import{I}from"./Input-QJtsuZ9z.js";import{d as p,N as O,O as f,j as t,U as s,X as B,G as D,S as K,V as L,x as N}from"./vue-chunks-BRsu9_To.js";import{_ as R}from"./index-DRynd4K-.js";import{_ as $}from"./TextArea-BJCvjKgG.js";import{S as C}from"./share-form-C27SYTfB.js";import{_ as V}from"./index-DUw-mQ04.js";const E={class:"seo-setting"},M={__name:"seo-setting",emits:["ok"],setup(_,{expose:u,emit:r}){const i=r,a=p(!1),e=p({library_key:"",seo_title:"",seo_desc:"",seo_keywords:""}),l=p(!1),v=()=>{a.value=!0,x({...D(e.value)}).then(()=>{a.value=!1,l.value=!1,w.success("保存成功"),i("ok")}).catch(()=>{a.value=!1})};return u({open:d=>{let o={library_key:"",seo_title:"",seo_desc:"",seo_keywords:""};e.value={...o,...d},l.value=!0}}),(d,o)=>{const y=R,m=I,c=F,g=$,b=U,h=S;return f(),O("div",null,[t(h,{open:l.value,"onUpdate:open":o[3]||(o[3]=n=>l.value=n),title:"SEO设置",onOk:v,width:"746px",confirmLoading:a.value},{default:s(()=>[B("div",E,[t(y,{message:"修改后，也需要发布才会生效。",type:"info","show-icon":"",style:{"margin-bottom":"16px"}}),t(b,{model:e.value,layout:"vertical"},{default:s(()=>[t(c,{label:"Title"},{default:s(()=>[t(m,{value:e.value.seo_title,"onUpdate:value":o[0]||(o[0]=n=>e.value.seo_title=n),placeholder:"请输入页面标题"},null,8,["value"])]),_:1}),t(c,{label:"Description"},{default:s(()=>[t(g,{value:e.value.seo_desc,"onUpdate:value":o[1]||(o[1]=n=>e.value.seo_desc=n),placeholder:"请输入页面描述"},null,8,["value"])]),_:1}),t(c,{label:"Keyword"},{default:s(()=>[t(m,{value:e.value.seo_keywords,"onUpdate:value":o[2]||(o[2]=n=>e.value.seo_keywords=n),placeholder:"请输入关键词,多个关键词用英文逗号分隔"},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])])}}},P=k(M,[["__scopeId","data-v-1b717cda"]]),Q={__name:"share-popup",props:{docKey:{type:String},libraryId:{type:[Number,String],default:""},libraryKey:{type:String,default:""},baseUrl:{type:String,default:"/open/doc"}},setup(_){const u=_,r=p(null),i=async a=>{a&&N(()=>{r.value.init({doc_key:u.docKey})})};return(a,e)=>{const l=V;return f(),K(l,{color:"#fff",trigger:"hover",placement:"bottomRight",overlayStyle:{"max-width":"400px",width:"400px"},overlayInnerStyle:{padding:"0"},class:"share-popup",onOpenChange:i},{content:s(()=>[t(C,{ref_key:"shareFormRef",ref:r,layout:"vertical","hide-copy":!0,baseUrl:_.baseUrl},null,8,["baseUrl"])]),default:s(()=>[L(a.$slots,"default")]),_:3})}}};export{P as S,Q as _};
