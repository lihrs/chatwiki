import{M as g,z as s,d as c}from"./vue-chunks-BRsu9_To.js";import{v as w}from"./index-8-RdvZT5.js";const d={accessRestrictionsType:1,logo:"",pageTitle:"",navbarShow:2,lang:"zh-CN",pageStyle:{navbarBackgroundColor:"#2475FC"}},q={headTitle:"",headSubTitle:"Based on LLM, free and open-source.",headImage:"",lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"},floatBtn:{displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}},S=g("robot",()=>{const o=s({id:void 0,robot_key:"",fast_command_switch:"",yunpc_fast_command_switch:"",app_id:-1,app_id_embed:-2,robot_name:"",robot_intro:"",robot_avatar:void 0,robot_avatar_url:"",use_model:void 0,model_config_id:"",optimize_question_dialogue_background:"",optimize_question_model_config_id:"",optimize_question_use_model:"",rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,temperature:0,max_token:0,context_pair:0,top_k:1,similarity:0,search_type:1,prompt:"",prompt_struct:{},prompt_struct_default:{},prompt_type:1,library_ids:"",form_ids:"",work_flow_ids:"",welcomes:{content:"",question:[]},h5_domain:"",h5_website:"",pc_domain:"",chat_type:"",library_qa_direct_reply_score:"",library_qa_direct_reply_switch:"",mixture_qa_direct_reply_score:"",mixture_qa_direct_reply_switch:"",unknown_question_prompt:{content:"",question:[]},show_type:1,enable_question_optimize:"false",enable_question_guide:"false",enable_common_question:"false",common_question_list:[],answer_source_switch:"false",feedback_switch:1,application_type:0,sensitive_words_switch:0,question_guide_num:"",start_node_key:""}),i=s(JSON.parse(JSON.stringify(d))),r=s(JSON.parse(JSON.stringify(q))),b=e=>{let _=JSON.parse(e.welcomes);_.question=_.question.map(n=>({content:n}));let t={content:"",question:[]};e.unknown_question_prompt&&(t=JSON.parse(e.unknown_question_prompt)),t.question=t.question.map(n=>({content:n}));let l={};e.prompt_struct&&(l=JSON.parse(e.prompt_struct));let a={};e.prompt_struct_default&&(a=JSON.parse(e.prompt_struct_default)),o.id=e.id,o.robot_key=e.robot_key,o.fast_command_switch=e.fast_command_switch,o.yunpc_fast_command_switch=e.yunpc_fast_command_switch,o.robot_name=e.robot_name,o.robot_intro=e.robot_intro,o.robot_avatar_url=e.robot_avatar,o.use_model=e.use_model,o.model_config_id=e.model_config_id,o.optimize_question_dialogue_background=e.optimize_question_dialogue_background,o.optimize_question_model_config_id=e.optimize_question_model_config_id,o.optimize_question_use_model=e.optimize_question_use_model,o.rerank_status=Number(e.rerank_status),o.rerank_use_model=e.rerank_use_model,o.rerank_model_config_id=e.rerank_model_config_id,o.prompt=e.prompt,o.prompt_struct=l,o.prompt_struct_default=a,o.prompt_type=+e.prompt_type,o.library_ids=e.library_ids||"",o.form_ids=e.form_ids||"",o.work_flow_ids=e.work_flow_ids||"",o.welcomes=_,o.unknown_question_prompt=t,o.show_type=Number(e.show_type),o.temperature=Number(e.temperature),o.max_token=Number(e.max_token),o.context_pair=Number(e.context_pair),o.top_k=Number(e.top_k),o.similarity=Number(e.similarity),o.search_type=Number(e.search_type),o.think_switch=Number(e.think_switch),o.pc_domain=e.pc_domain,o.chat_type=e.chat_type,o.library_qa_direct_reply_score=e.library_qa_direct_reply_score,o.library_qa_direct_reply_switch=e.library_qa_direct_reply_switch,o.mixture_qa_direct_reply_score=e.mixture_qa_direct_reply_score,o.mixture_qa_direct_reply_switch=e.mixture_qa_direct_reply_switch,o.h5_domain=e.h5_domain,o.h5_website=e.h5_domain+"/#/chat?robot_key="+e.robot_key,o.enable_question_optimize=e.enable_question_optimize,o.enable_question_guide=e.enable_question_guide,o.enable_common_question=e.enable_common_question,o.common_question_list=e.common_question_list,o.answer_source_switch=e.answer_source_switch,o.feedback_switch=+e.feedback_switch,o.application_type=e.application_type,o.sensitive_words_switch=+e.sensitive_words_switch,o.question_guide_num=+e.question_guide_num,o.start_node_key=e.start_node_key,e.external_config_h5!==""?Object.assign(i,JSON.parse(e.external_config_h5)):(Object.assign(i,JSON.parse(JSON.stringify(d))),i.pageTitle=o.robot_name,i.logo=o.robot_avatar_url),e.external_config_pc!==""?Object.assign(r,JSON.parse(e.external_config_pc)):(r.headTitle=o.robot_name,r.headImage=o.robot_avatar_url)},f=async e=>{const _=await w({id:e});if(_.code!==0)return!1;_.data.library_ids&&(_.data.library_ids=_.data.library_ids.split(",").filter(Boolean).join(","));let t=_.data;return b(t),_},m=c([]),y=async e=>{m.value=e||[]},u=c({}),h=e=>{u.value=e},p=c([]);return{robotInfo:o,getRobot:f,external_config_h5:i,external_config_pc:r,quickCommandLists:m,setQuickCommand:y,draftSaveTime:u,setDrafSaveTime:h,modelList:p,setModelList:e=>{p.value=e}}});export{S as u};
